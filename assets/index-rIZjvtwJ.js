(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function cg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Hm={exports:{}},tc={};var M0;function dx(){if(M0)return tc;M0=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:i,type:r,key:f,ref:l!==void 0?l:null,props:u}}return tc.Fragment=t,tc.jsx=n,tc.jsxs=n,tc}var L0;function mx(){return L0||(L0=1,Hm.exports=dx()),Hm.exports}var et=mx(),Fm={exports:{}},qt={};var D0;function px(){if(D0)return qt;D0=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),C=Symbol.iterator;function D(H){return H===null||typeof H!="object"?null:(H=C&&H[C]||H["@@iterator"],typeof H=="function"?H:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,G={};function Q(H,ot,yt){this.props=H,this.context=ot,this.refs=G,this.updater=yt||U}Q.prototype.isReactComponent={},Q.prototype.setState=function(H,ot){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ot,"setState")},Q.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function st(){}st.prototype=Q.prototype;function it(H,ot,yt){this.props=H,this.context=ot,this.refs=G,this.updater=yt||U}var vt=it.prototype=new st;vt.constructor=it,B(vt,Q.prototype),vt.isPureReactComponent=!0;var _t=Array.isArray;function Et(){}var V={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function O(H,ot,yt){var Tt=yt.ref;return{$$typeof:i,type:H,key:ot,ref:Tt!==void 0?Tt:null,props:yt}}function F(H,ot){return O(H.type,ot,H.props)}function k(H){return typeof H=="object"&&H!==null&&H.$$typeof===i}function Z(H){var ot={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(yt){return ot[yt]})}var z=/\/+/g;function Qt(H,ot){return typeof H=="object"&&H!==null&&H.key!=null?Z(""+H.key):ot.toString(36)}function xe(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(Et,Et):(H.status="pending",H.then(function(ot){H.status==="pending"&&(H.status="fulfilled",H.value=ot)},function(ot){H.status==="pending"&&(H.status="rejected",H.reason=ot)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function rt(H,ot,yt,Tt,xt){var At=typeof H;(At==="undefined"||At==="boolean")&&(H=null);var Ft=!1;if(H===null)Ft=!0;else switch(At){case"bigint":case"string":case"number":Ft=!0;break;case"object":switch(H.$$typeof){case i:case t:Ft=!0;break;case E:return Ft=H._init,rt(Ft(H._payload),ot,yt,Tt,xt)}}if(Ft)return xt=xt(H),Ft=Tt===""?"."+Qt(H,0):Tt,_t(xt)?(yt="",Ft!=null&&(yt=Ft.replace(z,"$&/")+"/"),rt(xt,ot,yt,"",function(ds){return ds})):xt!=null&&(k(xt)&&(xt=F(xt,yt+(xt.key==null||H&&H.key===xt.key?"":(""+xt.key).replace(z,"$&/")+"/")+Ft)),ot.push(xt)),1;Ft=0;var Se=Tt===""?".":Tt+":";if(_t(H))for(var Ce=0;Ce<H.length;Ce++)Tt=H[Ce],At=Se+Qt(Tt,Ce),Ft+=rt(Tt,ot,yt,At,xt);else if(Ce=D(H),typeof Ce=="function")for(H=Ce.call(H),Ce=0;!(Tt=H.next()).done;)Tt=Tt.value,At=Se+Qt(Tt,Ce++),Ft+=rt(Tt,ot,yt,At,xt);else if(At==="object"){if(typeof H.then=="function")return rt(xe(H),ot,yt,Tt,xt);throw ot=String(H),Error("Objects are not valid as a React child (found: "+(ot==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ot)+"). If you meant to render a collection of children, use an array instead.")}return Ft}function gt(H,ot,yt){if(H==null)return H;var Tt=[],xt=0;return rt(H,Tt,"","",function(At){return ot.call(yt,At,xt++)}),Tt}function pt(H){if(H._status===-1){var ot=H._result;ot=ot(),ot.then(function(yt){(H._status===0||H._status===-1)&&(H._status=1,H._result=yt)},function(yt){(H._status===0||H._status===-1)&&(H._status=2,H._result=yt)}),H._status===-1&&(H._status=0,H._result=ot)}if(H._status===1)return H._result.default;throw H._result}var Ht=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ot=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ot))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},bt={map:gt,forEach:function(H,ot,yt){gt(H,function(){ot.apply(this,arguments)},yt)},count:function(H){var ot=0;return gt(H,function(){ot++}),ot},toArray:function(H){return gt(H,function(ot){return ot})||[]},only:function(H){if(!k(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return qt.Activity=b,qt.Children=bt,qt.Component=Q,qt.Fragment=n,qt.Profiler=l,qt.PureComponent=it,qt.StrictMode=r,qt.Suspense=_,qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,qt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return V.H.useMemoCache(H)}},qt.cache=function(H){return function(){return H.apply(null,arguments)}},qt.cacheSignal=function(){return null},qt.cloneElement=function(H,ot,yt){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var Tt=B({},H.props),xt=H.key;if(ot!=null)for(At in ot.key!==void 0&&(xt=""+ot.key),ot)!P.call(ot,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&ot.ref===void 0||(Tt[At]=ot[At]);var At=arguments.length-2;if(At===1)Tt.children=yt;else if(1<At){for(var Ft=Array(At),Se=0;Se<At;Se++)Ft[Se]=arguments[Se+2];Tt.children=Ft}return O(H.type,xt,Tt)},qt.createContext=function(H){return H={$$typeof:f,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:u,_context:H},H},qt.createElement=function(H,ot,yt){var Tt,xt={},At=null;if(ot!=null)for(Tt in ot.key!==void 0&&(At=""+ot.key),ot)P.call(ot,Tt)&&Tt!=="key"&&Tt!=="__self"&&Tt!=="__source"&&(xt[Tt]=ot[Tt]);var Ft=arguments.length-2;if(Ft===1)xt.children=yt;else if(1<Ft){for(var Se=Array(Ft),Ce=0;Ce<Ft;Ce++)Se[Ce]=arguments[Ce+2];xt.children=Se}if(H&&H.defaultProps)for(Tt in Ft=H.defaultProps,Ft)xt[Tt]===void 0&&(xt[Tt]=Ft[Tt]);return O(H,At,xt)},qt.createRef=function(){return{current:null}},qt.forwardRef=function(H){return{$$typeof:p,render:H}},qt.isValidElement=k,qt.lazy=function(H){return{$$typeof:E,_payload:{_status:-1,_result:H},_init:pt}},qt.memo=function(H,ot){return{$$typeof:v,type:H,compare:ot===void 0?null:ot}},qt.startTransition=function(H){var ot=V.T,yt={};V.T=yt;try{var Tt=H(),xt=V.S;xt!==null&&xt(yt,Tt),typeof Tt=="object"&&Tt!==null&&typeof Tt.then=="function"&&Tt.then(Et,Ht)}catch(At){Ht(At)}finally{ot!==null&&yt.types!==null&&(ot.types=yt.types),V.T=ot}},qt.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},qt.use=function(H){return V.H.use(H)},qt.useActionState=function(H,ot,yt){return V.H.useActionState(H,ot,yt)},qt.useCallback=function(H,ot){return V.H.useCallback(H,ot)},qt.useContext=function(H){return V.H.useContext(H)},qt.useDebugValue=function(){},qt.useDeferredValue=function(H,ot){return V.H.useDeferredValue(H,ot)},qt.useEffect=function(H,ot){return V.H.useEffect(H,ot)},qt.useEffectEvent=function(H){return V.H.useEffectEvent(H)},qt.useId=function(){return V.H.useId()},qt.useImperativeHandle=function(H,ot,yt){return V.H.useImperativeHandle(H,ot,yt)},qt.useInsertionEffect=function(H,ot){return V.H.useInsertionEffect(H,ot)},qt.useLayoutEffect=function(H,ot){return V.H.useLayoutEffect(H,ot)},qt.useMemo=function(H,ot){return V.H.useMemo(H,ot)},qt.useOptimistic=function(H,ot){return V.H.useOptimistic(H,ot)},qt.useReducer=function(H,ot,yt){return V.H.useReducer(H,ot,yt)},qt.useRef=function(H){return V.H.useRef(H)},qt.useState=function(H){return V.H.useState(H)},qt.useSyncExternalStore=function(H,ot,yt){return V.H.useSyncExternalStore(H,ot,yt)},qt.useTransition=function(){return V.H.useTransition()},qt.version="19.2.3",qt}var P0;function hg(){return P0||(P0=1,Fm.exports=px()),Fm.exports}var dt=hg();const qo=cg(dt);var qm={exports:{}},ec={},Gm={exports:{}},Zm={};var I0;function gx(){return I0||(I0=1,(function(i){function t(rt,gt){var pt=rt.length;rt.push(gt);t:for(;0<pt;){var Ht=pt-1>>>1,bt=rt[Ht];if(0<l(bt,gt))rt[Ht]=gt,rt[pt]=bt,pt=Ht;else break t}}function n(rt){return rt.length===0?null:rt[0]}function r(rt){if(rt.length===0)return null;var gt=rt[0],pt=rt.pop();if(pt!==gt){rt[0]=pt;t:for(var Ht=0,bt=rt.length,H=bt>>>1;Ht<H;){var ot=2*(Ht+1)-1,yt=rt[ot],Tt=ot+1,xt=rt[Tt];if(0>l(yt,pt))Tt<bt&&0>l(xt,yt)?(rt[Ht]=xt,rt[Tt]=pt,Ht=Tt):(rt[Ht]=yt,rt[ot]=pt,Ht=ot);else if(Tt<bt&&0>l(xt,pt))rt[Ht]=xt,rt[Tt]=pt,Ht=Tt;else break t}}return gt}function l(rt,gt){var pt=rt.sortIndex-gt.sortIndex;return pt!==0?pt:rt.id-gt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var _=[],v=[],E=1,b=null,C=3,D=!1,U=!1,B=!1,G=!1,Q=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function vt(rt){for(var gt=n(v);gt!==null;){if(gt.callback===null)r(v);else if(gt.startTime<=rt)r(v),gt.sortIndex=gt.expirationTime,t(_,gt);else break;gt=n(v)}}function _t(rt){if(B=!1,vt(rt),!U)if(n(_)!==null)U=!0,Et||(Et=!0,Z());else{var gt=n(v);gt!==null&&xe(_t,gt.startTime-rt)}}var Et=!1,V=-1,P=5,O=-1;function F(){return G?!0:!(i.unstable_now()-O<P)}function k(){if(G=!1,Et){var rt=i.unstable_now();O=rt;var gt=!0;try{t:{U=!1,B&&(B=!1,st(V),V=-1),D=!0;var pt=C;try{e:{for(vt(rt),b=n(_);b!==null&&!(b.expirationTime>rt&&F());){var Ht=b.callback;if(typeof Ht=="function"){b.callback=null,C=b.priorityLevel;var bt=Ht(b.expirationTime<=rt);if(rt=i.unstable_now(),typeof bt=="function"){b.callback=bt,vt(rt),gt=!0;break e}b===n(_)&&r(_),vt(rt)}else r(_);b=n(_)}if(b!==null)gt=!0;else{var H=n(v);H!==null&&xe(_t,H.startTime-rt),gt=!1}}break t}finally{b=null,C=pt,D=!1}gt=void 0}}finally{gt?Z():Et=!1}}}var Z;if(typeof it=="function")Z=function(){it(k)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Qt=z.port2;z.port1.onmessage=k,Z=function(){Qt.postMessage(null)}}else Z=function(){Q(k,0)};function xe(rt,gt){V=Q(function(){rt(i.unstable_now())},gt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(rt){rt.callback=null},i.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<rt?Math.floor(1e3/rt):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_next=function(rt){switch(C){case 1:case 2:case 3:var gt=3;break;default:gt=C}var pt=C;C=gt;try{return rt()}finally{C=pt}},i.unstable_requestPaint=function(){G=!0},i.unstable_runWithPriority=function(rt,gt){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var pt=C;C=rt;try{return gt()}finally{C=pt}},i.unstable_scheduleCallback=function(rt,gt,pt){var Ht=i.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Ht+pt:Ht):pt=Ht,rt){case 1:var bt=-1;break;case 2:bt=250;break;case 5:bt=1073741823;break;case 4:bt=1e4;break;default:bt=5e3}return bt=pt+bt,rt={id:E++,callback:gt,priorityLevel:rt,startTime:pt,expirationTime:bt,sortIndex:-1},pt>Ht?(rt.sortIndex=pt,t(v,rt),n(_)===null&&rt===n(v)&&(B?(st(V),V=-1):B=!0,xe(_t,pt-Ht))):(rt.sortIndex=bt,t(_,rt),U||D||(U=!0,Et||(Et=!0,Z()))),rt},i.unstable_shouldYield=F,i.unstable_wrapCallback=function(rt){var gt=C;return function(){var pt=C;C=gt;try{return rt.apply(this,arguments)}finally{C=pt}}}})(Zm)),Zm}var O0;function _x(){return O0||(O0=1,Gm.exports=gx()),Gm.exports}var Km={exports:{}},Hn={};var V0;function yx(){if(V0)return Hn;V0=1;var i=hg();function t(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)v+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(_,v,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:_,containerInfo:v,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Hn.createPortal=function(_,v){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return u(_,v,null,E)},Hn.flushSync=function(_){var v=f.T,E=r.p;try{if(f.T=null,r.p=2,_)return _()}finally{f.T=v,r.p=E,r.d.f()}},Hn.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(_,v))},Hn.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Hn.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var E=v.as,b=p(E,v.crossOrigin),C=typeof v.integrity=="string"?v.integrity:void 0,D=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;E==="style"?r.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:C,fetchPriority:D}):E==="script"&&r.d.X(_,{crossOrigin:b,integrity:C,fetchPriority:D,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Hn.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var E=p(v.as,v.crossOrigin);r.d.M(_,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(_)},Hn.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var E=v.as,b=p(E,v.crossOrigin);r.d.L(_,E,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Hn.preloadModule=function(_,v){if(typeof _=="string")if(v){var E=p(v.as,v.crossOrigin);r.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(_)},Hn.requestFormReset=function(_){r.d.r(_)},Hn.unstable_batchedUpdates=function(_,v){return _(v)},Hn.useFormState=function(_,v,E){return f.H.useFormState(_,v,E)},Hn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Hn.version="19.2.3",Hn}var N0;function d1(){if(N0)return Km.exports;N0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Km.exports=yx(),Km.exports}var z0;function vx(){if(z0)return ec;z0=1;var i=_x(),t=hg(),n=d1();function r(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var s=e,o=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(o=s.return),e=s.return;while(e)}return s.tag===3?o:null}function f(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function p(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function _(e){if(u(e)!==e)throw Error(r(188))}function v(e){var s=e.alternate;if(!s){if(s=u(e),s===null)throw Error(r(188));return s!==e?null:e}for(var o=e,h=s;;){var g=o.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){o=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===o)return _(g),e;if(y===h)return _(g),s;y=y.sibling}throw Error(r(188))}if(o.return!==h.return)o=g,h=y;else{for(var A=!1,M=g.child;M;){if(M===o){A=!0,o=g,h=y;break}if(M===h){A=!0,h=g,o=y;break}M=M.sibling}if(!A){for(M=y.child;M;){if(M===o){A=!0,o=y,h=g;break}if(M===h){A=!0,h=y,o=g;break}M=M.sibling}if(!A)throw Error(r(189))}}if(o.alternate!==h)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?e:s}function E(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=E(e),s!==null)return s;e=e.sibling}return null}var b=Object.assign,C=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),st=Symbol.for("react.consumer"),it=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=k&&e[k]||e["@@iterator"],typeof e=="function"?e:null)}var z=Symbol.for("react.client.reference");function Qt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===z?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case Q:return"Profiler";case G:return"StrictMode";case _t:return"Suspense";case Et:return"SuspenseList";case O:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case it:return e.displayName||"Context";case st:return(e._context.displayName||"Context")+".Consumer";case vt:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return s=e.displayName||null,s!==null?s:Qt(e.type)||"Memo";case P:s=e._payload,e=e._init;try{return Qt(e(s))}catch{}}return null}var xe=Array.isArray,rt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Ht=[],bt=-1;function H(e){return{current:e}}function ot(e){0>bt||(e.current=Ht[bt],Ht[bt]=null,bt--)}function yt(e,s){bt++,Ht[bt]=e.current,e.current=s}var Tt=H(null),xt=H(null),At=H(null),Ft=H(null);function Se(e,s){switch(yt(At,s),yt(xt,e),yt(Tt,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?Jv(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=Jv(s),e=$v(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ot(Tt),yt(Tt,e)}function Ce(){ot(Tt),ot(xt),ot(At)}function ds(e){e.memoizedState!==null&&yt(Ft,e);var s=Tt.current,o=$v(s,e.type);s!==o&&(yt(xt,e),yt(Tt,o))}function Os(e){xt.current===e&&(ot(Tt),ot(xt)),Ft.current===e&&(ot(Ft),Xu._currentValue=pt)}var ji,Vs;function Hi(e){if(ji===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);ji=s&&s[1]||"",Vs=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ji+e+Vs}var Gr=!1;function Ns(e,s){if(!e||Gr)return"";Gr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var ht=function(){throw Error()};if(Object.defineProperty(ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ht,[])}catch(at){var tt=at}Reflect.construct(e,[],ht)}else{try{ht.call()}catch(at){tt=at}e.call(ht.prototype)}}else{try{throw Error()}catch(at){tt=at}(ht=e())&&typeof ht.catch=="function"&&ht.catch(function(){})}}catch(at){if(at&&tt&&typeof at.stack=="string")return[at.stack,tt.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),A=y[0],M=y[1];if(A&&M){var j=A.split(`
`),J=M.split(`
`);for(g=h=0;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;for(;g<J.length&&!J[g].includes("DetermineComponentFrameRoot");)g++;if(h===j.length||g===J.length)for(h=j.length-1,g=J.length-1;1<=h&&0<=g&&j[h]!==J[g];)g--;for(;1<=h&&0<=g;h--,g--)if(j[h]!==J[g]){if(h!==1||g!==1)do if(h--,g--,0>g||j[h]!==J[g]){var lt=`
`+j[h].replace(" at new "," at ");return e.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",e.displayName)),lt}while(1<=h&&0<=g);break}}}finally{Gr=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Hi(o):""}function dr(e,s){switch(e.tag){case 26:case 27:case 5:return Hi(e.type);case 16:return Hi("Lazy");case 13:return e.child!==s&&s!==null?Hi("Suspense Fallback"):Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 15:return Ns(e.type,!1);case 11:return Ns(e.type.render,!1);case 1:return Ns(e.type,!0);case 31:return Hi("Activity");default:return""}}function zs(e){try{var s="",o=null;do s+=dr(e,o),o=e,e=e.return;while(e);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Ge=Object.prototype.hasOwnProperty,Ze=i.unstable_scheduleCallback,Fi=i.unstable_cancelCallback,Xo=i.unstable_shouldYield,Ya=i.unstable_requestPaint,Rn=i.unstable_now,mr=i.unstable_getCurrentPriorityLevel,pr=i.unstable_ImmediatePriority,Zr=i.unstable_UserBlockingPriority,ms=i.unstable_NormalPriority,pu=i.unstable_LowPriority,Qa=i.unstable_IdlePriority,Xa=i.log,Wo=i.unstable_setDisableYieldValue,ei=null,$e=null;function Kn(e){if(typeof Xa=="function"&&Wo(e),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(ei,e)}catch{}}var Be=Math.clz32?Math.clz32:Jo,ks=Math.log,Kr=Math.LN2;function Jo(e){return e>>>=0,e===0?32:31-(ks(e)/Kr|0)|0}var Si=256,Bs=262144,Ue=4194304;function qi(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gi(e,s,o){var h=e.pendingLanes;if(h===0)return 0;var g=0,y=e.suspendedLanes,A=e.pingedLanes;e=e.warmLanes;var M=h&134217727;return M!==0?(h=M&~y,h!==0?g=qi(h):(A&=M,A!==0?g=qi(A):o||(o=M&~e,o!==0&&(g=qi(o))))):(M=h&~y,M!==0?g=qi(M):A!==0?g=qi(A):o||(o=h&~e,o!==0&&(g=qi(o)))),g===0?0:s!==0&&s!==g&&(s&y)===0&&(y=g&-g,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:g}function bi(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function gu(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $o(){var e=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),e}function Zi(e){for(var s=[],o=0;31>o;o++)s.push(e);return s}function ps(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _u(e,s,o,h,g,y){var A=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var M=e.entanglements,j=e.expirationTimes,J=e.hiddenUpdates;for(o=A&~o;0<o;){var lt=31-Be(o),ht=1<<lt;M[lt]=0,j[lt]=-1;var tt=J[lt];if(tt!==null)for(J[lt]=null,lt=0;lt<tt.length;lt++){var at=tt[lt];at!==null&&(at.lane&=-536870913)}o&=~ht}h!==0&&gr(e,h,0),y!==0&&g===0&&e.tag!==0&&(e.suspendedLanes|=y&~(A&~s))}function gr(e,s,o){e.pendingLanes|=s,e.suspendedLanes&=~s;var h=31-Be(s);e.entangledLanes|=s,e.entanglements[h]=e.entanglements[h]|1073741824|o&261930}function Wa(e,s){var o=e.entangledLanes|=s;for(e=e.entanglements;o;){var h=31-Be(o),g=1<<h;g&s|e[h]&s&&(e[h]|=s),o&=~g}}function Ja(e,s){var o=s&-s;return o=(o&42)!==0?1:vn(o),(o&(e.suspendedLanes|s))!==0?0:o}function vn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Lt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $a(){var e=gt.p;return e!==0?e:(e=window.event,e===void 0?32:S0(e.type))}function ni(e,s){var o=gt.p;try{return gt.p=e,s()}finally{gt.p=o}}var ii=Math.random().toString(36).slice(2),je="__reactFiber$"+ii,Ke="__reactProps$"+ii,wi="__reactContainer$"+ii,Ai="__reactEvents$"+ii,tl="__reactListeners$"+ii,el="__reactHandles$"+ii,nl="__reactResources$"+ii,Ki="__reactMarker$"+ii;function Yr(e){delete e[je],delete e[Ke],delete e[Ai],delete e[tl],delete e[el]}function xi(e){var s=e[je];if(s)return s;for(var o=e.parentNode;o;){if(s=o[wi]||o[je]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(e=a0(e);e!==null;){if(o=e[je])return o;e=a0(e)}return s}e=o,o=e.parentNode}return null}function si(e){if(e=e[je]||e[wi]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function Tn(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(r(33))}function Yi(e){var s=e[nl];return s||(s=e[nl]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ye(e){e[Ki]=!0}var to=new Set,eo={};function Qi(e,s){ri(e,s),ri(e+"Capture",s)}function ri(e,s){for(eo[e]=s,e=0;e<s.length;e++)to.add(s[e])}var gs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qr={},Xr={};function Us(e){return Ge.call(Xr,e)?!0:Ge.call(Qr,e)?!1:gs.test(e)?Xr[e]=!0:(Qr[e]=!0,!1)}function Wt(e,s,o){if(Us(s))if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+o)}}function Jt(e,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+o)}}function Pe(e,s,o,h){if(h===null)e.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(s,o,""+h)}}function Ie(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yn(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function _r(e,s,o){var h=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,y=h.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return g.call(this)},set:function(A){o=""+A,y.call(this,A)}}),Object.defineProperty(e,s,{enumerable:h.enumerable}),{getValue:function(){return o},setValue:function(A){o=""+A},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Ct(e){if(!e._valueTracker){var s=Yn(e)?"checked":"value";e._valueTracker=_r(e,s,""+e[s])}}function ye(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var o=s.getValue(),h="";return e&&(h=Yn(e)?e.checked?"true":"false":e.value),e=h,e!==o?(s.setValue(e),!0):!1}function ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Xi=/[\n"\\]/g;function Re(e){return e.replace(Xi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Wr(e,s,o,h,g,y,A,M){e.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.type=A:e.removeAttribute("type"),s!=null?A==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+Ie(s)):e.value!==""+Ie(s)&&(e.value=""+Ie(s)):A!=="submit"&&A!=="reset"||e.removeAttribute("value"),s!=null?Ci(e,A,Ie(s)):o!=null?Ci(e,A,Ie(o)):h!=null&&e.removeAttribute("value"),g==null&&y!=null&&(e.defaultChecked=!!y),g!=null&&(e.checked=g&&typeof g!="function"&&typeof g!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?e.name=""+Ie(M):e.removeAttribute("name")}function yr(e,s,o,h,g,y,A,M){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){Ct(e);return}o=o!=null?""+Ie(o):"",s=s!=null?""+Ie(s):o,M||s===e.value||(e.value=s),e.defaultValue=s}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,e.checked=M?e.checked:!!h,e.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(e.name=A),Ct(e)}function Ci(e,s,o){s==="number"&&ai(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function ve(e,s,o,h){if(e=e.options,s){s={};for(var g=0;g<o.length;g++)s["$"+o[g]]=!0;for(o=0;o<e.length;o++)g=s.hasOwnProperty("$"+e[o].value),e[o].selected!==g&&(e[o].selected=g),g&&h&&(e[o].defaultSelected=!0)}else{for(o=""+Ie(o),s=null,g=0;g<e.length;g++){if(e[g].value===o){e[g].selected=!0,h&&(e[g].defaultSelected=!0);return}s!==null||e[g].disabled||(s=e[g])}s!==null&&(s.selected=!0)}}function Wi(e,s,o){if(s!=null&&(s=""+Ie(s),s!==e.value&&(e.value=s),o==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=o!=null?""+Ie(o):""}function oi(e,s,o,h){if(s==null){if(h!=null){if(o!=null)throw Error(r(92));if(xe(h)){if(1<h.length)throw Error(r(93));h=h[0]}o=h}o==null&&(o=""),s=o}o=Ie(s),e.defaultValue=o,h=e.textContent,h===o&&h!==""&&h!==null&&(e.value=h),Ct(e)}function sn(e,s){if(s){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=s;return}}e.textContent=s}var Jr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _s(e,s,o){var h=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?h?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":h?e.setProperty(s,o):typeof o!="number"||o===0||Jr.has(s)?s==="float"?e.cssFloat=o:e[s]=(""+o).trim():e[s]=o+"px"}function vr(e,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(e=e.style,o!=null){for(var h in o)!o.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?e.setProperty(h,""):h==="float"?e.cssFloat="":e[h]="");for(var g in s)h=s[g],s.hasOwnProperty(g)&&o[g]!==h&&_s(e,g,h)}else for(var y in s)s.hasOwnProperty(y)&&_s(e,y,s[y])}function js(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ji=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hs(e){return Ji.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Nn(){}var $r=null;function zn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fs=null,Nt=null;function En(e){var s=si(e);if(s&&(e=s.stateNode)){var o=e[Ke]||null;t:switch(e=s.stateNode,s.type){case"input":if(Wr(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Re(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var h=o[s];if(h!==e&&h.form===e.form){var g=h[Ke]||null;if(!g)throw Error(r(90));Wr(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<o.length;s++)h=o[s],h.form===e.form&&ye(h)}break t;case"textarea":Wi(e,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&ve(e,!!o.multiple,s,!1)}}}var he=!1;function ys(e,s,o){if(he)return e(s,o);he=!0;try{var h=e(s);return h}finally{if(he=!1,(Fs!==null||Nt!==null)&&(Rh(),Fs&&(s=Fs,e=Nt,Nt=Fs=null,En(s),e)))for(s=0;s<e.length;s++)En(e[s])}}function Qn(e,s){var o=e.stateNode;if(o===null)return null;var h=o[Ke]||null;if(h===null)return null;o=h[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(e=e.type,h=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!h;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vs=!1;if(kn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){vs=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{vs=!1}var li=null,Ts=null,Oe=null;function Ri(){if(Oe)return Oe;var e,s=Ts,o=s.length,h,g="value"in li?li.value:li.textContent,y=g.length;for(e=0;e<o&&s[e]===g[e];e++);var A=o-e;for(h=1;h<=A&&s[o-h]===g[y-h];h++);return Oe=g.slice(e,1<h?1-h:void 0)}function qs(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function $i(){return!0}function Mi(){return!1}function rn(e){function s(o,h,g,y,A){this._reactName=o,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var M in e)e.hasOwnProperty(M)&&(o=e[M],this[M]=o?o(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?$i:Mi,this.isPropagationStopped=Mi,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),s}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=rn(Li),Es=b({},Li,{view:0,detail:0}),Xt=rn(Es),Gs,Sn,Bn,Er=b({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bn&&(Bn&&e.type==="mousemove"?(Gs=e.screenX-Bn.screenX,Sn=e.screenY-Bn.screenY):Sn=Gs=0,Bn=e),Gs)},movementY:function(e){return"movementY"in e?e.movementY:Sn}}),no=rn(Er),Ss=b({},Er,{dataTransfer:0}),il=rn(Ss),io=b({},Es,{relatedTarget:0}),Sr=rn(io),so=b({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),ta=rn(so),ea=b({},Li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xn=rn(ea),sl=b({},Li,{data:0}),Di=rn(sl),Pi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ro={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ao={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function na(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=ao[e])?!!s[e]:!1}function Zs(){return na}var bn=b({},Es,{key:function(e){if(e.key){var s=Pi[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=qs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ro[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zs,charCode:function(e){return e.type==="keypress"?qs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oo=rn(bn),rl=b({},Er,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bs=rn(rl),d=b({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zs}),S=rn(d),x=b({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=rn(x),X=b({},Er,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=rn(X),St=b({},Li,{newState:0,oldState:0}),Bt=rn(St),oe=[9,13,27,32],le=kn&&"CompositionEvent"in window,Me=null;kn&&"documentMode"in document&&(Me=document.documentMode);var ui=kn&&"TextEvent"in window&&!Me,ci=kn&&(!le||Me&&8<Me&&11>=Me),Wn=" ",Ii=!1;function br(e,s){switch(e){case"keyup":return oe.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ia=!1;function Oi(e,s){switch(e){case"compositionend":return wr(s);case"keypress":return s.which!==32?null:(Ii=!0,Wn);case"textInput":return e=s.data,e===Wn&&Ii?null:e;default:return null}}function sa(e,s){if(ia)return e==="compositionend"||!le&&br(e,s)?(e=Ri(),Oe=Ts=li=null,ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ci&&s.locale!=="ko"?null:s.data;default:return null}}var ad={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function es(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!ad[e.type]:s==="textarea"}function Gc(e,s,o,h){Fs?Nt?Nt.push(h):Nt=[h]:Fs=h,s=Vh(s,"onChange"),0<s.length&&(o=new ts("onChange","change",null,o,h),e.push({event:o,listeners:s}))}var ns=null,lo=null;function uo(e){Zv(e,0)}function co(e){var s=Tn(e);if(ye(s))return e}function ho(e,s){if(e==="change")return s}var Zc=!1;if(kn){var is;if(kn){var ra="oninput"in document;if(!ra){var Kc=document.createElement("div");Kc.setAttribute("oninput","return;"),ra=typeof Kc.oninput=="function"}is=ra}else is=!1;Zc=is&&(!document.documentMode||9<document.documentMode)}function al(){ns&&(ns.detachEvent("onpropertychange",Yc),lo=ns=null)}function Yc(e){if(e.propertyName==="value"&&co(lo)){var s=[];Gc(s,lo,e,zn(e)),ys(uo,s)}}function ws(e,s,o){e==="focusin"?(al(),ns=s,lo=o,ns.attachEvent("onpropertychange",Yc)):e==="focusout"&&al()}function od(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return co(lo)}function aa(e,s){if(e==="click")return co(s)}function ld(e,s){if(e==="input"||e==="change")return co(s)}function As(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var wn=typeof Object.is=="function"?Object.is:As;function oa(e,s){if(wn(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var o=Object.keys(e),h=Object.keys(s);if(o.length!==h.length)return!1;for(h=0;h<o.length;h++){var g=o[h];if(!Ge.call(s,g)||!wn(e[g],s[g]))return!1}return!0}function ol(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fo(e,s){var o=ol(e);e=0;for(var h;o;){if(o.nodeType===3){if(h=e+o.textContent.length,e<=s&&h>=s)return{node:o,offset:s-e};e=h}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=ol(o)}}function ll(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?ll(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function mo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=ai(e.document);s instanceof e.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)e=s.contentWindow;else break;s=ai(e.document)}return s}function Ks(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var ul=kn&&"documentMode"in document&&11>=document.documentMode,Ys=null,cl=null,po=null,la=!1;function Qc(e,s,o){var h=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;la||Ys==null||Ys!==ai(h)||(h=Ys,"selectionStart"in h&&Ks(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),po&&oa(po,h)||(po=h,h=Vh(cl,"onSelect"),0<h.length&&(s=new ts("onSelect","select",null,s,o),e.push({event:s,listeners:h}),s.target=Ys)))}function Qs(e,s){var o={};return o[e.toLowerCase()]=s.toLowerCase(),o["Webkit"+e]="webkit"+s,o["Moz"+e]="moz"+s,o}var ua={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},hl={},Xc={};kn&&(Xc=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function An(e){if(hl[e])return hl[e];if(!ua[e])return e;var s=ua[e],o;for(o in s)if(s.hasOwnProperty(o)&&o in Xc)return hl[e]=s[o];return e}var go=An("animationend"),Wc=An("animationiteration"),_o=An("animationstart"),ud=An("transitionrun"),Jc=An("transitionstart"),cd=An("transitioncancel"),ca=An("transitionend"),$c=new Map,Xs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xs.push("scrollEnd");function hi(e,s){$c.set(e,s),Qi(s,[e])}var yo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},fi=[],Un=0,fl=0;function vo(){for(var e=Un,s=fl=Un=0;s<e;){var o=fi[s];fi[s++]=null;var h=fi[s];fi[s++]=null;var g=fi[s];fi[s++]=null;var y=fi[s];if(fi[s++]=null,h!==null&&g!==null){var A=h.pending;A===null?g.next=g:(g.next=A.next,A.next=g),h.pending=g}y!==0&&ha(o,g,y)}}function Ws(e,s,o,h){fi[Un++]=e,fi[Un++]=s,fi[Un++]=o,fi[Un++]=h,fl|=h,e.lanes|=h,e=e.alternate,e!==null&&(e.lanes|=h)}function yu(e,s,o,h){return Ws(e,s,o,h),To(e)}function ss(e,s){return Ws(e,null,null,s),To(e)}function ha(e,s,o){e.lanes|=o;var h=e.alternate;h!==null&&(h.lanes|=o);for(var g=!1,y=e.return;y!==null;)y.childLanes|=o,h=y.alternate,h!==null&&(h.childLanes|=o),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(g=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,g&&s!==null&&(g=31-Be(o),e=y.hiddenUpdates,h=e[g],h===null?e[g]=[s]:h.push(s),s.lane=o|536870912),y):null}function To(e){if(50<Fu)throw Fu=0,fm=null,Error(r(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var Ar={};function hd(e,s,o,h){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(e,s,o,h){return new hd(e,s,o,h)}function dl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rs(e,s){var o=e.alternate;return o===null?(o=jn(e.tag,s,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=s,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function vu(e,s){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,s=o.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function Eo(e,s,o,h,g,y){var A=0;if(h=e,typeof e=="function")dl(e)&&(A=1);else if(typeof e=="string")A=ex(e,o,Tt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case O:return e=jn(31,o,s,g),e.elementType=O,e.lanes=y,e;case B:return xr(o.children,g,y,s);case G:A=8,g|=24;break;case Q:return e=jn(12,o,s,g|2),e.elementType=Q,e.lanes=y,e;case _t:return e=jn(13,o,s,g),e.elementType=_t,e.lanes=y,e;case Et:return e=jn(19,o,s,g),e.elementType=Et,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case it:A=10;break t;case st:A=9;break t;case vt:A=11;break t;case V:A=14;break t;case P:A=16,h=null;break t}A=29,o=Error(r(130,e===null?"null":typeof e,"")),h=null}return s=jn(A,o,s,g),s.elementType=e,s.type=h,s.lanes=y,s}function xr(e,s,o,h){return e=jn(7,e,h,s),e.lanes=o,e}function ml(e,s,o){return e=jn(6,e,null,s),e.lanes=o,e}function Tu(e){var s=jn(18,null,null,0);return s.stateNode=e,s}function Eu(e,s,o){return s=jn(4,e.children!==null?e.children:[],e.key,s),s.lanes=o,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var a=new WeakMap;function c(e,s){if(typeof e=="object"&&e!==null){var o=a.get(e);return o!==void 0?o:(s={value:e,source:s,stack:zs(s)},a.set(e,s),s)}return{value:e,source:s,stack:zs(s)}}var m=[],T=0,w=null,R=0,N=[],Y=0,$=null,ct=1,wt="";function It(e,s){m[T++]=R,m[T++]=w,w=e,R=s}function Kt(e,s,o){N[Y++]=ct,N[Y++]=wt,N[Y++]=$,$=e;var h=ct;e=wt;var g=32-Be(h)-1;h&=~(1<<g),o+=1;var y=32-Be(s)+g;if(30<y){var A=g-g%5;y=(h&(1<<A)-1).toString(32),h>>=A,g-=A,ct=1<<32-Be(s)+g|o<<g|h,wt=y+e}else ct=1<<y|o<<g|h,wt=e}function pn(e){e.return!==null&&(It(e,1),Kt(e,1,0))}function Qe(e){for(;e===w;)w=m[--T],m[T]=null,R=m[--T],m[T]=null;for(;e===$;)$=N[--Y],N[Y]=null,wt=N[--Y],N[Y]=null,ct=N[--Y],N[Y]=null}function Jn(e,s){N[Y++]=ct,N[Y++]=wt,N[Y++]=$,ct=s.id,wt=s.overflow,$=e}var fe=null,de=null,$t=!1,Js=null,di=!1,pl=Error(r(519));function $s(e){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw So(c(s,e)),pl}function Su(e){var s=e.stateNode,o=e.type,h=e.memoizedProps;switch(s[je]=e,s[Ke]=h,o){case"dialog":ee("cancel",s),ee("close",s);break;case"iframe":case"object":case"embed":ee("load",s);break;case"video":case"audio":for(o=0;o<Gu.length;o++)ee(Gu[o],s);break;case"source":ee("error",s);break;case"img":case"image":case"link":ee("error",s),ee("load",s);break;case"details":ee("toggle",s);break;case"input":ee("invalid",s),yr(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":ee("invalid",s);break;case"textarea":ee("invalid",s),oi(s,h.value,h.defaultValue,h.children)}o=h.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||h.suppressHydrationWarning===!0||Xv(s.textContent,o)?(h.popover!=null&&(ee("beforetoggle",s),ee("toggle",s)),h.onScroll!=null&&ee("scroll",s),h.onScrollEnd!=null&&ee("scrollend",s),h.onClick!=null&&(s.onclick=Nn),s=!0):s=!1,s||$s(e,!0)}function He(e){for(fe=e.return;fe;)switch(fe.tag){case 5:case 31:case 13:di=!1;return;case 27:case 3:di=!0;return;default:fe=fe.return}}function xs(e){if(e!==fe)return!1;if(!$t)return He(e),$t=!0,!1;var s=e.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Cm(e.type,e.memoizedProps)),o=!o),o&&de&&$s(e),He(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));de=r0(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));de=r0(e)}else s===27?(s=de,Aa(e.type)?(e=Pm,Pm=null,de=e):de=s):de=fe?os(e.stateNode.nextSibling):null;return!0}function Cr(){de=fe=null,$t=!1}function bu(){var e=Js;return e!==null&&(_i===null?_i=e:_i.push.apply(_i,e),Js=null),e}function So(e){Js===null?Js=[e]:Js.push(e)}var bo=H(null),tr=null,Cs=null;function fa(e,s,o){yt(bo,s._currentValue),s._currentValue=o}function Rr(e){e._currentValue=bo.current,ot(bo)}function fd(e,s,o){for(;e!==null;){var h=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),e===o)break;e=e.return}}function dd(e,s,o,h){var g=e.child;for(g!==null&&(g.return=e);g!==null;){var y=g.dependencies;if(y!==null){var A=g.child;y=y.firstContext;t:for(;y!==null;){var M=y;y=g;for(var j=0;j<s.length;j++)if(M.context===s[j]){y.lanes|=o,M=y.alternate,M!==null&&(M.lanes|=o),fd(y.return,o,e),h||(A=null);break t}y=M.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(r(341));A.lanes|=o,y=A.alternate,y!==null&&(y.lanes|=o),fd(A,o,e),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===e){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function gl(e,s,o,h){e=null;for(var g=s,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var M=g.type;wn(g.pendingProps.value,A.value)||(e!==null?e.push(M):e=[M])}}else if(g===Ft.current){if(A=g.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(e!==null?e.push(Xu):e=[Xu])}g=g.return}e!==null&&dd(s,e,o,h),s.flags|=262144}function th(e){for(e=e.firstContext;e!==null;){if(!wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wo(e){tr=e,Cs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Mn(e){return V_(tr,e)}function eh(e,s){return tr===null&&wo(e),V_(e,s)}function V_(e,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Cs===null){if(e===null)throw Error(r(308));Cs=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else Cs=Cs.next=s;return o}var Ww=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(o,h){e.push(h)}};this.abort=function(){s.aborted=!0,e.forEach(function(o){return o()})}},Jw=i.unstable_scheduleCallback,$w=i.unstable_NormalPriority,an={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function md(){return{controller:new Ww,data:new Map,refCount:0}}function wu(e){e.refCount--,e.refCount===0&&Jw($w,function(){e.controller.abort()})}var Au=null,pd=0,_l=0,yl=null;function tA(e,s){if(Au===null){var o=Au=[];pd=0,_l=ym(),yl={status:"pending",value:void 0,then:function(h){o.push(h)}}}return pd++,s.then(N_,N_),s}function N_(){if(--pd===0&&Au!==null){yl!==null&&(yl.status="fulfilled");var e=Au;Au=null,_l=0,yl=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function eA(e,s){var o=[],h={status:"pending",value:null,reason:null,then:function(g){o.push(g)}};return e.then(function(){h.status="fulfilled",h.value=s;for(var g=0;g<o.length;g++)(0,o[g])(s)},function(g){for(h.status="rejected",h.reason=g,g=0;g<o.length;g++)(0,o[g])(void 0)}),h}var z_=rt.S;rt.S=function(e,s){Tv=Rn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&tA(e,s),z_!==null&&z_(e,s)};var Ao=H(null);function gd(){var e=Ao.current;return e!==null?e:Le.pooledCache}function nh(e,s){s===null?yt(Ao,Ao.current):yt(Ao,s.pool)}function k_(){var e=gd();return e===null?null:{parent:an._currentValue,pool:e}}var vl=Error(r(460)),_d=Error(r(474)),ih=Error(r(542)),sh={then:function(){}};function B_(e){return e=e.status,e==="fulfilled"||e==="rejected"}function U_(e,s,o){switch(o=e[o],o===void 0?e.push(s):o!==s&&(s.then(Nn,Nn),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,H_(e),e;default:if(typeof s.status=="string")s.then(Nn,Nn);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=s,e.status="pending",e.then(function(h){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=h}},function(h){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,H_(e),e}throw Co=s,vl}}function xo(e){try{var s=e._init;return s(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Co=o,vl):o}}var Co=null;function j_(){if(Co===null)throw Error(r(459));var e=Co;return Co=null,e}function H_(e){if(e===vl||e===ih)throw Error(r(483))}var Tl=null,xu=0;function rh(e){var s=xu;return xu+=1,Tl===null&&(Tl=[]),U_(Tl,e,s)}function Cu(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function ah(e,s){throw s.$$typeof===C?Error(r(525)):(e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function F_(e){function s(K,q){if(e){var W=K.deletions;W===null?(K.deletions=[q],K.flags|=16):W.push(q)}}function o(K,q){if(!e)return null;for(;q!==null;)s(K,q),q=q.sibling;return null}function h(K){for(var q=new Map;K!==null;)K.key!==null?q.set(K.key,K):q.set(K.index,K),K=K.sibling;return q}function g(K,q){return K=rs(K,q),K.index=0,K.sibling=null,K}function y(K,q,W){return K.index=W,e?(W=K.alternate,W!==null?(W=W.index,W<q?(K.flags|=67108866,q):W):(K.flags|=67108866,q)):(K.flags|=1048576,q)}function A(K){return e&&K.alternate===null&&(K.flags|=67108866),K}function M(K,q,W,ut){return q===null||q.tag!==6?(q=ml(W,K.mode,ut),q.return=K,q):(q=g(q,W),q.return=K,q)}function j(K,q,W,ut){var Ot=W.type;return Ot===B?lt(K,q,W.props.children,ut,W.key):q!==null&&(q.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===P&&xo(Ot)===q.type)?(q=g(q,W.props),Cu(q,W),q.return=K,q):(q=Eo(W.type,W.key,W.props,null,K.mode,ut),Cu(q,W),q.return=K,q)}function J(K,q,W,ut){return q===null||q.tag!==4||q.stateNode.containerInfo!==W.containerInfo||q.stateNode.implementation!==W.implementation?(q=Eu(W,K.mode,ut),q.return=K,q):(q=g(q,W.children||[]),q.return=K,q)}function lt(K,q,W,ut,Ot){return q===null||q.tag!==7?(q=xr(W,K.mode,ut,Ot),q.return=K,q):(q=g(q,W),q.return=K,q)}function ht(K,q,W){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=ml(""+q,K.mode,W),q.return=K,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case D:return W=Eo(q.type,q.key,q.props,null,K.mode,W),Cu(W,q),W.return=K,W;case U:return q=Eu(q,K.mode,W),q.return=K,q;case P:return q=xo(q),ht(K,q,W)}if(xe(q)||Z(q))return q=xr(q,K.mode,W,null),q.return=K,q;if(typeof q.then=="function")return ht(K,rh(q),W);if(q.$$typeof===it)return ht(K,eh(K,q),W);ah(K,q)}return null}function tt(K,q,W,ut){var Ot=q!==null?q.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Ot!==null?null:M(K,q,""+W,ut);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case D:return W.key===Ot?j(K,q,W,ut):null;case U:return W.key===Ot?J(K,q,W,ut):null;case P:return W=xo(W),tt(K,q,W,ut)}if(xe(W)||Z(W))return Ot!==null?null:lt(K,q,W,ut,null);if(typeof W.then=="function")return tt(K,q,rh(W),ut);if(W.$$typeof===it)return tt(K,q,eh(K,W),ut);ah(K,W)}return null}function at(K,q,W,ut,Ot){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return K=K.get(W)||null,M(q,K,""+ut,Ot);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case D:return K=K.get(ut.key===null?W:ut.key)||null,j(q,K,ut,Ot);case U:return K=K.get(ut.key===null?W:ut.key)||null,J(q,K,ut,Ot);case P:return ut=xo(ut),at(K,q,W,ut,Ot)}if(xe(ut)||Z(ut))return K=K.get(W)||null,lt(q,K,ut,Ot,null);if(typeof ut.then=="function")return at(K,q,W,rh(ut),Ot);if(ut.$$typeof===it)return at(K,q,W,eh(q,ut),Ot);ah(q,ut)}return null}function Dt(K,q,W,ut){for(var Ot=null,me=null,Pt=q,Yt=q=0,se=null;Pt!==null&&Yt<W.length;Yt++){Pt.index>Yt?(se=Pt,Pt=null):se=Pt.sibling;var pe=tt(K,Pt,W[Yt],ut);if(pe===null){Pt===null&&(Pt=se);break}e&&Pt&&pe.alternate===null&&s(K,Pt),q=y(pe,q,Yt),me===null?Ot=pe:me.sibling=pe,me=pe,Pt=se}if(Yt===W.length)return o(K,Pt),$t&&It(K,Yt),Ot;if(Pt===null){for(;Yt<W.length;Yt++)Pt=ht(K,W[Yt],ut),Pt!==null&&(q=y(Pt,q,Yt),me===null?Ot=Pt:me.sibling=Pt,me=Pt);return $t&&It(K,Yt),Ot}for(Pt=h(Pt);Yt<W.length;Yt++)se=at(Pt,K,Yt,W[Yt],ut),se!==null&&(e&&se.alternate!==null&&Pt.delete(se.key===null?Yt:se.key),q=y(se,q,Yt),me===null?Ot=se:me.sibling=se,me=se);return e&&Pt.forEach(function(La){return s(K,La)}),$t&&It(K,Yt),Ot}function zt(K,q,W,ut){if(W==null)throw Error(r(151));for(var Ot=null,me=null,Pt=q,Yt=q=0,se=null,pe=W.next();Pt!==null&&!pe.done;Yt++,pe=W.next()){Pt.index>Yt?(se=Pt,Pt=null):se=Pt.sibling;var La=tt(K,Pt,pe.value,ut);if(La===null){Pt===null&&(Pt=se);break}e&&Pt&&La.alternate===null&&s(K,Pt),q=y(La,q,Yt),me===null?Ot=La:me.sibling=La,me=La,Pt=se}if(pe.done)return o(K,Pt),$t&&It(K,Yt),Ot;if(Pt===null){for(;!pe.done;Yt++,pe=W.next())pe=ht(K,pe.value,ut),pe!==null&&(q=y(pe,q,Yt),me===null?Ot=pe:me.sibling=pe,me=pe);return $t&&It(K,Yt),Ot}for(Pt=h(Pt);!pe.done;Yt++,pe=W.next())pe=at(Pt,K,Yt,pe.value,ut),pe!==null&&(e&&pe.alternate!==null&&Pt.delete(pe.key===null?Yt:pe.key),q=y(pe,q,Yt),me===null?Ot=pe:me.sibling=pe,me=pe);return e&&Pt.forEach(function(fx){return s(K,fx)}),$t&&It(K,Yt),Ot}function Ae(K,q,W,ut){if(typeof W=="object"&&W!==null&&W.type===B&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case D:t:{for(var Ot=W.key;q!==null;){if(q.key===Ot){if(Ot=W.type,Ot===B){if(q.tag===7){o(K,q.sibling),ut=g(q,W.props.children),ut.return=K,K=ut;break t}}else if(q.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===P&&xo(Ot)===q.type){o(K,q.sibling),ut=g(q,W.props),Cu(ut,W),ut.return=K,K=ut;break t}o(K,q);break}else s(K,q);q=q.sibling}W.type===B?(ut=xr(W.props.children,K.mode,ut,W.key),ut.return=K,K=ut):(ut=Eo(W.type,W.key,W.props,null,K.mode,ut),Cu(ut,W),ut.return=K,K=ut)}return A(K);case U:t:{for(Ot=W.key;q!==null;){if(q.key===Ot)if(q.tag===4&&q.stateNode.containerInfo===W.containerInfo&&q.stateNode.implementation===W.implementation){o(K,q.sibling),ut=g(q,W.children||[]),ut.return=K,K=ut;break t}else{o(K,q);break}else s(K,q);q=q.sibling}ut=Eu(W,K.mode,ut),ut.return=K,K=ut}return A(K);case P:return W=xo(W),Ae(K,q,W,ut)}if(xe(W))return Dt(K,q,W,ut);if(Z(W)){if(Ot=Z(W),typeof Ot!="function")throw Error(r(150));return W=Ot.call(W),zt(K,q,W,ut)}if(typeof W.then=="function")return Ae(K,q,rh(W),ut);if(W.$$typeof===it)return Ae(K,q,eh(K,W),ut);ah(K,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,q!==null&&q.tag===6?(o(K,q.sibling),ut=g(q,W),ut.return=K,K=ut):(o(K,q),ut=ml(W,K.mode,ut),ut.return=K,K=ut),A(K)):o(K,q)}return function(K,q,W,ut){try{xu=0;var Ot=Ae(K,q,W,ut);return Tl=null,Ot}catch(Pt){if(Pt===vl||Pt===ih)throw Pt;var me=jn(29,Pt,null,K.mode);return me.lanes=ut,me.return=K,me}}}var Ro=F_(!0),q_=F_(!1),da=!1;function yd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vd(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ma(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function pa(e,s,o){var h=e.updateQueue;if(h===null)return null;if(h=h.shared,(ge&2)!==0){var g=h.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),h.pending=s,s=To(e),ha(e,null,o),s}return Ws(e,h,s,o),To(e)}function Ru(e,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var h=s.lanes;h&=e.pendingLanes,o|=h,s.lanes=o,Wa(e,o)}}function Td(e,s){var o=e.updateQueue,h=e.alternate;if(h!==null&&(h=h.updateQueue,o===h)){var g=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var A={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?g=y=A:y=y.next=A,o=o.next}while(o!==null);y===null?g=y=s:y=y.next=s}else g=y=s;o={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=s:e.next=s,o.lastBaseUpdate=s}var Ed=!1;function Mu(){if(Ed){var e=yl;if(e!==null)throw e}}function Lu(e,s,o,h){Ed=!1;var g=e.updateQueue;da=!1;var y=g.firstBaseUpdate,A=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var j=M,J=j.next;j.next=null,A===null?y=J:A.next=J,A=j;var lt=e.alternate;lt!==null&&(lt=lt.updateQueue,M=lt.lastBaseUpdate,M!==A&&(M===null?lt.firstBaseUpdate=J:M.next=J,lt.lastBaseUpdate=j))}if(y!==null){var ht=g.baseState;A=0,lt=J=j=null,M=y;do{var tt=M.lane&-536870913,at=tt!==M.lane;if(at?(ie&tt)===tt:(h&tt)===tt){tt!==0&&tt===_l&&(Ed=!0),lt!==null&&(lt=lt.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});t:{var Dt=e,zt=M;tt=s;var Ae=o;switch(zt.tag){case 1:if(Dt=zt.payload,typeof Dt=="function"){ht=Dt.call(Ae,ht,tt);break t}ht=Dt;break t;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=zt.payload,tt=typeof Dt=="function"?Dt.call(Ae,ht,tt):Dt,tt==null)break t;ht=b({},ht,tt);break t;case 2:da=!0}}tt=M.callback,tt!==null&&(e.flags|=64,at&&(e.flags|=8192),at=g.callbacks,at===null?g.callbacks=[tt]:at.push(tt))}else at={lane:tt,tag:M.tag,payload:M.payload,callback:M.callback,next:null},lt===null?(J=lt=at,j=ht):lt=lt.next=at,A|=tt;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;at=M,M=at.next,at.next=null,g.lastBaseUpdate=at,g.shared.pending=null}}while(!0);lt===null&&(j=ht),g.baseState=j,g.firstBaseUpdate=J,g.lastBaseUpdate=lt,y===null&&(g.shared.lanes=0),Ta|=A,e.lanes=A,e.memoizedState=ht}}function G_(e,s){if(typeof e!="function")throw Error(r(191,e));e.call(s)}function Z_(e,s){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)G_(o[e],s)}var El=H(null),oh=H(0);function K_(e,s){e=zr,yt(oh,e),yt(El,s),zr=e|s.baseLanes}function Sd(){yt(oh,zr),yt(El,El.current)}function bd(){zr=oh.current,ot(El),ot(oh)}var Vi=H(null),as=null;function ga(e){var s=e.alternate;yt(tn,tn.current&1),yt(Vi,e),as===null&&(s===null||El.current!==null||s.memoizedState!==null)&&(as=e)}function wd(e){yt(tn,tn.current),yt(Vi,e),as===null&&(as=e)}function Y_(e){e.tag===22?(yt(tn,tn.current),yt(Vi,e),as===null&&(as=e)):_a()}function _a(){yt(tn,tn.current),yt(Vi,Vi.current)}function Ni(e){ot(Vi),as===e&&(as=null),ot(tn)}var tn=H(0);function lh(e){for(var s=e;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Lm(o)||Dm(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Mr=0,Zt=null,be=null,on=null,uh=!1,Sl=!1,Mo=!1,ch=0,Du=0,bl=null,nA=0;function Xe(){throw Error(r(321))}function Ad(e,s){if(s===null)return!1;for(var o=0;o<s.length&&o<e.length;o++)if(!wn(e[o],s[o]))return!1;return!0}function xd(e,s,o,h,g,y){return Mr=y,Zt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,rt.H=e===null||e.memoizedState===null?Dy:jd,Mo=!1,y=o(h,g),Mo=!1,Sl&&(y=X_(s,o,h,g)),Q_(e),y}function Q_(e){rt.H=Ou;var s=be!==null&&be.next!==null;if(Mr=0,on=be=Zt=null,uh=!1,Du=0,bl=null,s)throw Error(r(300));e===null||ln||(e=e.dependencies,e!==null&&th(e)&&(ln=!0))}function X_(e,s,o,h){Zt=e;var g=0;do{if(Sl&&(bl=null),Du=0,Sl=!1,25<=g)throw Error(r(301));if(g+=1,on=be=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}rt.H=Py,y=s(o,h)}while(Sl);return y}function iA(){var e=rt.H,s=e.useState()[0];return s=typeof s.then=="function"?Pu(s):s,e=e.useState()[0],(be!==null?be.memoizedState:null)!==e&&(Zt.flags|=1024),s}function Cd(){var e=ch!==0;return ch=0,e}function Rd(e,s,o){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~o}function Md(e){if(uh){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}uh=!1}Mr=0,on=be=Zt=null,Sl=!1,Du=ch=0,bl=null}function $n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Zt.memoizedState=on=e:on=on.next=e,on}function en(){if(be===null){var e=Zt.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var s=on===null?Zt.memoizedState:on.next;if(s!==null)on=s,be=e;else{if(e===null)throw Zt.alternate===null?Error(r(467)):Error(r(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},on===null?Zt.memoizedState=on=e:on=on.next=e}return on}function hh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pu(e){var s=Du;return Du+=1,bl===null&&(bl=[]),e=U_(bl,e,s),s=Zt,(on===null?s.memoizedState:on.next)===null&&(s=s.alternate,rt.H=s===null||s.memoizedState===null?Dy:jd),e}function fh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pu(e);if(e.$$typeof===it)return Mn(e)}throw Error(r(438,String(e)))}function Ld(e){var s=null,o=Zt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var h=Zt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=hh(),Zt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(e),h=0;h<e;h++)o[h]=F;return s.index++,o}function Lr(e,s){return typeof s=="function"?s(e):s}function dh(e){var s=en();return Dd(s,be,e)}function Dd(e,s,o){var h=e.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var g=e.baseQueue,y=h.pending;if(y!==null){if(g!==null){var A=g.next;g.next=y.next,y.next=A}s.baseQueue=g=y,h.pending=null}if(y=e.baseState,g===null)e.memoizedState=y;else{s=g.next;var M=A=null,j=null,J=s,lt=!1;do{var ht=J.lane&-536870913;if(ht!==J.lane?(ie&ht)===ht:(Mr&ht)===ht){var tt=J.revertLane;if(tt===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ht===_l&&(lt=!0);else if((Mr&tt)===tt){J=J.next,tt===_l&&(lt=!0);continue}else ht={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},j===null?(M=j=ht,A=y):j=j.next=ht,Zt.lanes|=tt,Ta|=tt;ht=J.action,Mo&&o(y,ht),y=J.hasEagerState?J.eagerState:o(y,ht)}else tt={lane:ht,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},j===null?(M=j=tt,A=y):j=j.next=tt,Zt.lanes|=ht,Ta|=ht;J=J.next}while(J!==null&&J!==s);if(j===null?A=y:j.next=M,!wn(y,e.memoizedState)&&(ln=!0,lt&&(o=yl,o!==null)))throw o;e.memoizedState=y,e.baseState=A,e.baseQueue=j,h.lastRenderedState=y}return g===null&&(h.lanes=0),[e.memoizedState,h.dispatch]}function Pd(e){var s=en(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=e;var h=o.dispatch,g=o.pending,y=s.memoizedState;if(g!==null){o.pending=null;var A=g=g.next;do y=e(y,A.action),A=A.next;while(A!==g);wn(y,s.memoizedState)||(ln=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,h]}function W_(e,s,o){var h=Zt,g=en(),y=$t;if(y){if(o===void 0)throw Error(r(407));o=o()}else o=s();var A=!wn((be||g).memoizedState,o);if(A&&(g.memoizedState=o,ln=!0),g=g.queue,Vd(ty.bind(null,h,g,e),[e]),g.getSnapshot!==s||A||on!==null&&on.memoizedState.tag&1){if(h.flags|=2048,wl(9,{destroy:void 0},$_.bind(null,h,g,o,s),null),Le===null)throw Error(r(349));y||(Mr&127)!==0||J_(h,s,o)}return o}function J_(e,s,o){e.flags|=16384,e={getSnapshot:s,value:o},s=Zt.updateQueue,s===null?(s=hh(),Zt.updateQueue=s,s.stores=[e]):(o=s.stores,o===null?s.stores=[e]:o.push(e))}function $_(e,s,o,h){s.value=o,s.getSnapshot=h,ey(s)&&ny(e)}function ty(e,s,o){return o(function(){ey(s)&&ny(e)})}function ey(e){var s=e.getSnapshot;e=e.value;try{var o=s();return!wn(e,o)}catch{return!0}}function ny(e){var s=ss(e,2);s!==null&&yi(s,e,2)}function Id(e){var s=$n();if(typeof e=="function"){var o=e;if(e=o(),Mo){Kn(!0);try{o()}finally{Kn(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:e},s}function iy(e,s,o,h){return e.baseState=o,Dd(e,be,typeof h=="function"?h:Lr)}function sA(e,s,o,h,g){if(gh(e))throw Error(r(485));if(e=s.action,e!==null){var y={payload:g,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};rt.T!==null?o(!0):y.isTransition=!1,h(y),o=s.pending,o===null?(y.next=s.pending=y,sy(s,y)):(y.next=o.next,s.pending=o.next=y)}}function sy(e,s){var o=s.action,h=s.payload,g=e.state;if(s.isTransition){var y=rt.T,A={};rt.T=A;try{var M=o(g,h),j=rt.S;j!==null&&j(A,M),ry(e,s,M)}catch(J){Od(e,s,J)}finally{y!==null&&A.types!==null&&(y.types=A.types),rt.T=y}}else try{y=o(g,h),ry(e,s,y)}catch(J){Od(e,s,J)}}function ry(e,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(h){ay(e,s,h)},function(h){return Od(e,s,h)}):ay(e,s,o)}function ay(e,s,o){s.status="fulfilled",s.value=o,oy(s),e.state=o,s=e.pending,s!==null&&(o=s.next,o===s?e.pending=null:(o=o.next,s.next=o,sy(e,o)))}function Od(e,s,o){var h=e.pending;if(e.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=o,oy(s),s=s.next;while(s!==h)}e.action=null}function oy(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function ly(e,s){return s}function uy(e,s){if($t){var o=Le.formState;if(o!==null){t:{var h=Zt;if($t){if(de){e:{for(var g=de,y=di;g.nodeType!==8;){if(!y){g=null;break e}if(g=os(g.nextSibling),g===null){g=null;break e}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){de=os(g.nextSibling),h=g.data==="F!";break t}}$s(h)}h=!1}h&&(s=o[0])}}return o=$n(),o.memoizedState=o.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ly,lastRenderedState:s},o.queue=h,o=Ry.bind(null,Zt,h),h.dispatch=o,h=Id(!1),y=Ud.bind(null,Zt,!1,h.queue),h=$n(),g={state:s,dispatch:null,action:e,pending:null},h.queue=g,o=sA.bind(null,Zt,g,y,o),g.dispatch=o,h.memoizedState=e,[s,o,!1]}function cy(e){var s=en();return hy(s,be,e)}function hy(e,s,o){if(s=Dd(e,s,ly)[0],e=dh(Lr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=Pu(s)}catch(A){throw A===vl?ih:A}else h=s;s=en();var g=s.queue,y=g.dispatch;return o!==s.memoizedState&&(Zt.flags|=2048,wl(9,{destroy:void 0},rA.bind(null,g,o),null)),[h,y,e]}function rA(e,s){e.action=s}function fy(e){var s=en(),o=be;if(o!==null)return hy(s,o,e);en(),s=s.memoizedState,o=en();var h=o.queue.dispatch;return o.memoizedState=e,[s,h,!1]}function wl(e,s,o,h){return e={tag:e,create:o,deps:h,inst:s,next:null},s=Zt.updateQueue,s===null&&(s=hh(),Zt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=e.next=e:(h=o.next,o.next=e,e.next=h,s.lastEffect=e),e}function dy(){return en().memoizedState}function mh(e,s,o,h){var g=$n();Zt.flags|=e,g.memoizedState=wl(1|s,{destroy:void 0},o,h===void 0?null:h)}function ph(e,s,o,h){var g=en();h=h===void 0?null:h;var y=g.memoizedState.inst;be!==null&&h!==null&&Ad(h,be.memoizedState.deps)?g.memoizedState=wl(s,y,o,h):(Zt.flags|=e,g.memoizedState=wl(1|s,y,o,h))}function my(e,s){mh(8390656,8,e,s)}function Vd(e,s){ph(2048,8,e,s)}function aA(e){Zt.flags|=4;var s=Zt.updateQueue;if(s===null)s=hh(),Zt.updateQueue=s,s.events=[e];else{var o=s.events;o===null?s.events=[e]:o.push(e)}}function py(e){var s=en().memoizedState;return aA({ref:s,nextImpl:e}),function(){if((ge&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function gy(e,s){return ph(4,2,e,s)}function _y(e,s){return ph(4,4,e,s)}function yy(e,s){if(typeof s=="function"){e=e();var o=s(e);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function vy(e,s,o){o=o!=null?o.concat([e]):null,ph(4,4,yy.bind(null,s,e),o)}function Nd(){}function Ty(e,s){var o=en();s=s===void 0?null:s;var h=o.memoizedState;return s!==null&&Ad(s,h[1])?h[0]:(o.memoizedState=[e,s],e)}function Ey(e,s){var o=en();s=s===void 0?null:s;var h=o.memoizedState;if(s!==null&&Ad(s,h[1]))return h[0];if(h=e(),Mo){Kn(!0);try{e()}finally{Kn(!1)}}return o.memoizedState=[h,s],h}function zd(e,s,o){return o===void 0||(Mr&1073741824)!==0&&(ie&261930)===0?e.memoizedState=s:(e.memoizedState=o,e=Sv(),Zt.lanes|=e,Ta|=e,o)}function Sy(e,s,o,h){return wn(o,s)?o:El.current!==null?(e=zd(e,o,h),wn(e,s)||(ln=!0),e):(Mr&42)===0||(Mr&1073741824)!==0&&(ie&261930)===0?(ln=!0,e.memoizedState=o):(e=Sv(),Zt.lanes|=e,Ta|=e,s)}function by(e,s,o,h,g){var y=gt.p;gt.p=y!==0&&8>y?y:8;var A=rt.T,M={};rt.T=M,Ud(e,!1,s,o);try{var j=g(),J=rt.S;if(J!==null&&J(M,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var lt=eA(j,h);Iu(e,s,lt,Bi(e))}else Iu(e,s,h,Bi(e))}catch(ht){Iu(e,s,{then:function(){},status:"rejected",reason:ht},Bi())}finally{gt.p=y,A!==null&&M.types!==null&&(A.types=M.types),rt.T=A}}function oA(){}function kd(e,s,o,h){if(e.tag!==5)throw Error(r(476));var g=wy(e).queue;by(e,g,s,pt,o===null?oA:function(){return Ay(e),o(h)})}function wy(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:pt},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:o},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function Ay(e){var s=wy(e);s.next===null&&(s=e.alternate.memoizedState),Iu(e,s.next.queue,{},Bi())}function Bd(){return Mn(Xu)}function xy(){return en().memoizedState}function Cy(){return en().memoizedState}function lA(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var o=Bi();e=ma(o);var h=pa(s,e,o);h!==null&&(yi(h,s,o),Ru(h,s,o)),s={cache:md()},e.payload=s;return}s=s.return}}function uA(e,s,o){var h=Bi();o={lane:h,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},gh(e)?My(s,o):(o=yu(e,s,o,h),o!==null&&(yi(o,e,h),Ly(o,s,h)))}function Ry(e,s,o){var h=Bi();Iu(e,s,o,h)}function Iu(e,s,o,h){var g={lane:h,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(gh(e))My(s,g);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var A=s.lastRenderedState,M=y(A,o);if(g.hasEagerState=!0,g.eagerState=M,wn(M,A))return Ws(e,s,g,0),Le===null&&vo(),!1}catch{}if(o=yu(e,s,g,h),o!==null)return yi(o,e,h),Ly(o,s,h),!0}return!1}function Ud(e,s,o,h){if(h={lane:2,revertLane:ym(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},gh(e)){if(s)throw Error(r(479))}else s=yu(e,o,h,2),s!==null&&yi(s,e,2)}function gh(e){var s=e.alternate;return e===Zt||s!==null&&s===Zt}function My(e,s){Sl=uh=!0;var o=e.pending;o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s}function Ly(e,s,o){if((o&4194048)!==0){var h=s.lanes;h&=e.pendingLanes,o|=h,s.lanes=o,Wa(e,o)}}var Ou={readContext:Mn,use:fh,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};Ou.useEffectEvent=Xe;var Dy={readContext:Mn,use:fh,useCallback:function(e,s){return $n().memoizedState=[e,s===void 0?null:s],e},useContext:Mn,useEffect:my,useImperativeHandle:function(e,s,o){o=o!=null?o.concat([e]):null,mh(4194308,4,yy.bind(null,s,e),o)},useLayoutEffect:function(e,s){return mh(4194308,4,e,s)},useInsertionEffect:function(e,s){mh(4,2,e,s)},useMemo:function(e,s){var o=$n();s=s===void 0?null:s;var h=e();if(Mo){Kn(!0);try{e()}finally{Kn(!1)}}return o.memoizedState=[h,s],h},useReducer:function(e,s,o){var h=$n();if(o!==void 0){var g=o(s);if(Mo){Kn(!0);try{o(s)}finally{Kn(!1)}}}else g=s;return h.memoizedState=h.baseState=g,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:g},h.queue=e,e=e.dispatch=uA.bind(null,Zt,e),[h.memoizedState,e]},useRef:function(e){var s=$n();return e={current:e},s.memoizedState=e},useState:function(e){e=Id(e);var s=e.queue,o=Ry.bind(null,Zt,s);return s.dispatch=o,[e.memoizedState,o]},useDebugValue:Nd,useDeferredValue:function(e,s){var o=$n();return zd(o,e,s)},useTransition:function(){var e=Id(!1);return e=by.bind(null,Zt,e.queue,!0,!1),$n().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,o){var h=Zt,g=$n();if($t){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),Le===null)throw Error(r(349));(ie&127)!==0||J_(h,s,o)}g.memoizedState=o;var y={value:o,getSnapshot:s};return g.queue=y,my(ty.bind(null,h,y,e),[e]),h.flags|=2048,wl(9,{destroy:void 0},$_.bind(null,h,y,o,s),null),o},useId:function(){var e=$n(),s=Le.identifierPrefix;if($t){var o=wt,h=ct;o=(h&~(1<<32-Be(h)-1)).toString(32)+o,s="_"+s+"R_"+o,o=ch++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=nA++,s="_"+s+"r_"+o.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:Bd,useFormState:uy,useActionState:uy,useOptimistic:function(e){var s=$n();s.memoizedState=s.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Ud.bind(null,Zt,!0,o),o.dispatch=s,[e,s]},useMemoCache:Ld,useCacheRefresh:function(){return $n().memoizedState=lA.bind(null,Zt)},useEffectEvent:function(e){var s=$n(),o={impl:e};return s.memoizedState=o,function(){if((ge&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},jd={readContext:Mn,use:fh,useCallback:Ty,useContext:Mn,useEffect:Vd,useImperativeHandle:vy,useInsertionEffect:gy,useLayoutEffect:_y,useMemo:Ey,useReducer:dh,useRef:dy,useState:function(){return dh(Lr)},useDebugValue:Nd,useDeferredValue:function(e,s){var o=en();return Sy(o,be.memoizedState,e,s)},useTransition:function(){var e=dh(Lr)[0],s=en().memoizedState;return[typeof e=="boolean"?e:Pu(e),s]},useSyncExternalStore:W_,useId:xy,useHostTransitionStatus:Bd,useFormState:cy,useActionState:cy,useOptimistic:function(e,s){var o=en();return iy(o,be,e,s)},useMemoCache:Ld,useCacheRefresh:Cy};jd.useEffectEvent=py;var Py={readContext:Mn,use:fh,useCallback:Ty,useContext:Mn,useEffect:Vd,useImperativeHandle:vy,useInsertionEffect:gy,useLayoutEffect:_y,useMemo:Ey,useReducer:Pd,useRef:dy,useState:function(){return Pd(Lr)},useDebugValue:Nd,useDeferredValue:function(e,s){var o=en();return be===null?zd(o,e,s):Sy(o,be.memoizedState,e,s)},useTransition:function(){var e=Pd(Lr)[0],s=en().memoizedState;return[typeof e=="boolean"?e:Pu(e),s]},useSyncExternalStore:W_,useId:xy,useHostTransitionStatus:Bd,useFormState:fy,useActionState:fy,useOptimistic:function(e,s){var o=en();return be!==null?iy(o,be,e,s):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Ld,useCacheRefresh:Cy};Py.useEffectEvent=py;function Hd(e,s,o,h){s=e.memoizedState,o=o(h,s),o=o==null?s:b({},s,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Fd={enqueueSetState:function(e,s,o){e=e._reactInternals;var h=Bi(),g=ma(h);g.payload=s,o!=null&&(g.callback=o),s=pa(e,g,h),s!==null&&(yi(s,e,h),Ru(s,e,h))},enqueueReplaceState:function(e,s,o){e=e._reactInternals;var h=Bi(),g=ma(h);g.tag=1,g.payload=s,o!=null&&(g.callback=o),s=pa(e,g,h),s!==null&&(yi(s,e,h),Ru(s,e,h))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var o=Bi(),h=ma(o);h.tag=2,s!=null&&(h.callback=s),s=pa(e,h,o),s!==null&&(yi(s,e,o),Ru(s,e,o))}};function Iy(e,s,o,h,g,y,A){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(h,y,A):s.prototype&&s.prototype.isPureReactComponent?!oa(o,h)||!oa(g,y):!0}function Oy(e,s,o,h){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,h),s.state!==e&&Fd.enqueueReplaceState(s,s.state,null)}function Lo(e,s){var o=s;if("ref"in s){o={};for(var h in s)h!=="ref"&&(o[h]=s[h])}if(e=e.defaultProps){o===s&&(o=b({},o));for(var g in e)o[g]===void 0&&(o[g]=e[g])}return o}function Vy(e){yo(e)}function Ny(e){console.error(e)}function zy(e){yo(e)}function _h(e,s){try{var o=e.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function ky(e,s,o){try{var h=e.onCaughtError;h(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function qd(e,s,o){return o=ma(o),o.tag=3,o.payload={element:null},o.callback=function(){_h(e,s)},o}function By(e){return e=ma(e),e.tag=3,e}function Uy(e,s,o,h){var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;e.payload=function(){return g(y)},e.callback=function(){ky(s,o,h)}}var A=o.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(e.callback=function(){ky(s,o,h),typeof g!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function cA(e,s,o,h,g){if(o.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=o.alternate,s!==null&&gl(s,o,g,!0),o=Vi.current,o!==null){switch(o.tag){case 31:case 13:return as===null?Mh():o.alternate===null&&We===0&&(We=3),o.flags&=-257,o.flags|=65536,o.lanes=g,h===sh?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([h]):s.add(h),pm(e,h,g)),!1;case 22:return o.flags|=65536,h===sh?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([h]):o.add(h)),pm(e,h,g)),!1}throw Error(r(435,o.tag))}return pm(e,h,g),Mh(),!1}if($t)return s=Vi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,h!==pl&&(e=Error(r(422),{cause:h}),So(c(e,o)))):(h!==pl&&(s=Error(r(423),{cause:h}),So(c(s,o))),e=e.current.alternate,e.flags|=65536,g&=-g,e.lanes|=g,h=c(h,o),g=qd(e.stateNode,h,g),Td(e,g),We!==4&&(We=2)),!1;var y=Error(r(520),{cause:h});if(y=c(y,o),Hu===null?Hu=[y]:Hu.push(y),We!==4&&(We=2),s===null)return!0;h=c(h,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,e=g&-g,o.lanes|=e,e=qd(o.stateNode,h,e),Td(o,e),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ea===null||!Ea.has(y))))return o.flags|=65536,g&=-g,o.lanes|=g,g=By(g),Uy(g,e,o,h),Td(o,g),!1}o=o.return}while(o!==null);return!1}var Gd=Error(r(461)),ln=!1;function Ln(e,s,o,h){s.child=e===null?q_(s,null,o,h):Ro(s,e.child,o,h)}function jy(e,s,o,h,g){o=o.render;var y=s.ref;if("ref"in h){var A={};for(var M in h)M!=="ref"&&(A[M]=h[M])}else A=h;return wo(s),h=xd(e,s,o,A,y,g),M=Cd(),e!==null&&!ln?(Rd(e,s,g),Dr(e,s,g)):($t&&M&&pn(s),s.flags|=1,Ln(e,s,h,g),s.child)}function Hy(e,s,o,h,g){if(e===null){var y=o.type;return typeof y=="function"&&!dl(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,Fy(e,s,y,h,g)):(e=Eo(o.type,null,h,s,s.mode,g),e.ref=s.ref,e.return=s,s.child=e)}if(y=e.child,!$d(e,g)){var A=y.memoizedProps;if(o=o.compare,o=o!==null?o:oa,o(A,h)&&e.ref===s.ref)return Dr(e,s,g)}return s.flags|=1,e=rs(y,h),e.ref=s.ref,e.return=s,s.child=e}function Fy(e,s,o,h,g){if(e!==null){var y=e.memoizedProps;if(oa(y,h)&&e.ref===s.ref)if(ln=!1,s.pendingProps=h=y,$d(e,g))(e.flags&131072)!==0&&(ln=!0);else return s.lanes=e.lanes,Dr(e,s,g)}return Zd(e,s,o,h,g)}function qy(e,s,o,h){var g=h.children,y=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,e!==null){for(h=s.child=e.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~y}else h=0,s.child=null;return Gy(e,s,y,o,h)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&nh(s,y!==null?y.cachePool:null),y!==null?K_(s,y):Sd(),Y_(s);else return h=s.lanes=536870912,Gy(e,s,y!==null?y.baseLanes|o:o,o,h)}else y!==null?(nh(s,y.cachePool),K_(s,y),_a(),s.memoizedState=null):(e!==null&&nh(s,null),Sd(),_a());return Ln(e,s,g,o),s.child}function Vu(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Gy(e,s,o,h,g){var y=gd();return y=y===null?null:{parent:an._currentValue,pool:y},s.memoizedState={baseLanes:o,cachePool:y},e!==null&&nh(s,null),Sd(),Y_(s),e!==null&&gl(e,s,h,!0),s.childLanes=g,null}function yh(e,s){return s=Th({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function Zy(e,s,o){return Ro(s,e.child,null,o),e=yh(s,s.pendingProps),e.flags|=2,Ni(s),s.memoizedState=null,e}function hA(e,s,o){var h=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,e===null){if($t){if(h.mode==="hidden")return e=yh(s,h),s.lanes=536870912,Vu(null,e);if(wd(s),(e=de)?(e=s0(e,di),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:$!==null?{id:ct,overflow:wt}:null,retryLane:536870912,hydrationErrors:null},o=Tu(e),o.return=s,s.child=o,fe=s,de=null)):e=null,e===null)throw $s(s);return s.lanes=536870912,null}return yh(s,h)}var y=e.memoizedState;if(y!==null){var A=y.dehydrated;if(wd(s),g)if(s.flags&256)s.flags&=-257,s=Zy(e,s,o);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(r(558));else if(ln||gl(e,s,o,!1),g=(o&e.childLanes)!==0,ln||g){if(h=Le,h!==null&&(A=Ja(h,o),A!==0&&A!==y.retryLane))throw y.retryLane=A,ss(e,A),yi(h,e,A),Gd;Mh(),s=Zy(e,s,o)}else e=y.treeContext,de=os(A.nextSibling),fe=s,$t=!0,Js=null,di=!1,e!==null&&Jn(s,e),s=yh(s,h),s.flags|=4096;return s}return e=rs(e.child,{mode:h.mode,children:h.children}),e.ref=s.ref,s.child=e,e.return=s,e}function vh(e,s){var o=s.ref;if(o===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(e===null||e.ref!==o)&&(s.flags|=4194816)}}function Zd(e,s,o,h,g){return wo(s),o=xd(e,s,o,h,void 0,g),h=Cd(),e!==null&&!ln?(Rd(e,s,g),Dr(e,s,g)):($t&&h&&pn(s),s.flags|=1,Ln(e,s,o,g),s.child)}function Ky(e,s,o,h,g,y){return wo(s),s.updateQueue=null,o=X_(s,h,o,g),Q_(e),h=Cd(),e!==null&&!ln?(Rd(e,s,y),Dr(e,s,y)):($t&&h&&pn(s),s.flags|=1,Ln(e,s,o,y),s.child)}function Yy(e,s,o,h,g){if(wo(s),s.stateNode===null){var y=Ar,A=o.contextType;typeof A=="object"&&A!==null&&(y=Mn(A)),y=new o(h,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Fd,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=h,y.state=s.memoizedState,y.refs={},yd(s),A=o.contextType,y.context=typeof A=="object"&&A!==null?Mn(A):Ar,y.state=s.memoizedState,A=o.getDerivedStateFromProps,typeof A=="function"&&(Hd(s,o,A,h),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&Fd.enqueueReplaceState(y,y.state,null),Lu(s,h,y,g),Mu(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(e===null){y=s.stateNode;var M=s.memoizedProps,j=Lo(o,M);y.props=j;var J=y.context,lt=o.contextType;A=Ar,typeof lt=="object"&&lt!==null&&(A=Mn(lt));var ht=o.getDerivedStateFromProps;lt=typeof ht=="function"||typeof y.getSnapshotBeforeUpdate=="function",M=s.pendingProps!==M,lt||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(M||J!==A)&&Oy(s,y,h,A),da=!1;var tt=s.memoizedState;y.state=tt,Lu(s,h,y,g),Mu(),J=s.memoizedState,M||tt!==J||da?(typeof ht=="function"&&(Hd(s,o,ht,h),J=s.memoizedState),(j=da||Iy(s,o,j,h,tt,J,A))?(lt||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=J),y.props=h,y.state=J,y.context=A,h=j):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{y=s.stateNode,vd(e,s),A=s.memoizedProps,lt=Lo(o,A),y.props=lt,ht=s.pendingProps,tt=y.context,J=o.contextType,j=Ar,typeof J=="object"&&J!==null&&(j=Mn(J)),M=o.getDerivedStateFromProps,(J=typeof M=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==ht||tt!==j)&&Oy(s,y,h,j),da=!1,tt=s.memoizedState,y.state=tt,Lu(s,h,y,g),Mu();var at=s.memoizedState;A!==ht||tt!==at||da||e!==null&&e.dependencies!==null&&th(e.dependencies)?(typeof M=="function"&&(Hd(s,o,M,h),at=s.memoizedState),(lt=da||Iy(s,o,lt,h,tt,at,j)||e!==null&&e.dependencies!==null&&th(e.dependencies))?(J||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,at,j),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,at,j)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===e.memoizedProps&&tt===e.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&tt===e.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=at),y.props=h,y.state=at,y.context=j,h=lt):(typeof y.componentDidUpdate!="function"||A===e.memoizedProps&&tt===e.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&tt===e.memoizedState||(s.flags|=1024),h=!1)}return y=h,vh(e,s),h=(s.flags&128)!==0,y||h?(y=s.stateNode,o=h&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,e!==null&&h?(s.child=Ro(s,e.child,null,g),s.child=Ro(s,null,o,g)):Ln(e,s,o,g),s.memoizedState=y.state,e=s.child):e=Dr(e,s,g),e}function Qy(e,s,o,h){return Cr(),s.flags|=256,Ln(e,s,o,h),s.child}var Kd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yd(e){return{baseLanes:e,cachePool:k_()}}function Qd(e,s,o){return e=e!==null?e.childLanes&~o:0,s&&(e|=ki),e}function Xy(e,s,o){var h=s.pendingProps,g=!1,y=(s.flags&128)!==0,A;if((A=y)||(A=e!==null&&e.memoizedState===null?!1:(tn.current&2)!==0),A&&(g=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,e===null){if($t){if(g?ga(s):_a(),(e=de)?(e=s0(e,di),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:$!==null?{id:ct,overflow:wt}:null,retryLane:536870912,hydrationErrors:null},o=Tu(e),o.return=s,s.child=o,fe=s,de=null)):e=null,e===null)throw $s(s);return Dm(e)?s.lanes=32:s.lanes=536870912,null}var M=h.children;return h=h.fallback,g?(_a(),g=s.mode,M=Th({mode:"hidden",children:M},g),h=xr(h,g,o,null),M.return=s,h.return=s,M.sibling=h,s.child=M,h=s.child,h.memoizedState=Yd(o),h.childLanes=Qd(e,A,o),s.memoizedState=Kd,Vu(null,h)):(ga(s),Xd(s,M))}var j=e.memoizedState;if(j!==null&&(M=j.dehydrated,M!==null)){if(y)s.flags&256?(ga(s),s.flags&=-257,s=Wd(e,s,o)):s.memoizedState!==null?(_a(),s.child=e.child,s.flags|=128,s=null):(_a(),M=h.fallback,g=s.mode,h=Th({mode:"visible",children:h.children},g),M=xr(M,g,o,null),M.flags|=2,h.return=s,M.return=s,h.sibling=M,s.child=h,Ro(s,e.child,null,o),h=s.child,h.memoizedState=Yd(o),h.childLanes=Qd(e,A,o),s.memoizedState=Kd,s=Vu(null,h));else if(ga(s),Dm(M)){if(A=M.nextSibling&&M.nextSibling.dataset,A)var J=A.dgst;A=J,h=Error(r(419)),h.stack="",h.digest=A,So({value:h,source:null,stack:null}),s=Wd(e,s,o)}else if(ln||gl(e,s,o,!1),A=(o&e.childLanes)!==0,ln||A){if(A=Le,A!==null&&(h=Ja(A,o),h!==0&&h!==j.retryLane))throw j.retryLane=h,ss(e,h),yi(A,e,h),Gd;Lm(M)||Mh(),s=Wd(e,s,o)}else Lm(M)?(s.flags|=192,s.child=e.child,s=null):(e=j.treeContext,de=os(M.nextSibling),fe=s,$t=!0,Js=null,di=!1,e!==null&&Jn(s,e),s=Xd(s,h.children),s.flags|=4096);return s}return g?(_a(),M=h.fallback,g=s.mode,j=e.child,J=j.sibling,h=rs(j,{mode:"hidden",children:h.children}),h.subtreeFlags=j.subtreeFlags&65011712,J!==null?M=rs(J,M):(M=xr(M,g,o,null),M.flags|=2),M.return=s,h.return=s,h.sibling=M,s.child=h,Vu(null,h),h=s.child,M=e.child.memoizedState,M===null?M=Yd(o):(g=M.cachePool,g!==null?(j=an._currentValue,g=g.parent!==j?{parent:j,pool:j}:g):g=k_(),M={baseLanes:M.baseLanes|o,cachePool:g}),h.memoizedState=M,h.childLanes=Qd(e,A,o),s.memoizedState=Kd,Vu(e.child,h)):(ga(s),o=e.child,e=o.sibling,o=rs(o,{mode:"visible",children:h.children}),o.return=s,o.sibling=null,e!==null&&(A=s.deletions,A===null?(s.deletions=[e],s.flags|=16):A.push(e)),s.child=o,s.memoizedState=null,o)}function Xd(e,s){return s=Th({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function Th(e,s){return e=jn(22,e,null,s),e.lanes=0,e}function Wd(e,s,o){return Ro(s,e.child,null,o),e=Xd(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function Wy(e,s,o){e.lanes|=s;var h=e.alternate;h!==null&&(h.lanes|=s),fd(e.return,s,o)}function Jd(e,s,o,h,g,y){var A=e.memoizedState;A===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:o,tailMode:g,treeForkCount:y}:(A.isBackwards=s,A.rendering=null,A.renderingStartTime=0,A.last=h,A.tail=o,A.tailMode=g,A.treeForkCount=y)}function Jy(e,s,o){var h=s.pendingProps,g=h.revealOrder,y=h.tail;h=h.children;var A=tn.current,M=(A&2)!==0;if(M?(A=A&1|2,s.flags|=128):A&=1,yt(tn,A),Ln(e,s,h,o),h=$t?R:0,!M&&e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wy(e,o,s);else if(e.tag===19)Wy(e,o,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(g){case"forwards":for(o=s.child,g=null;o!==null;)e=o.alternate,e!==null&&lh(e)===null&&(g=o),o=o.sibling;o=g,o===null?(g=s.child,s.child=null):(g=o.sibling,o.sibling=null),Jd(s,!1,g,o,y,h);break;case"backwards":case"unstable_legacy-backwards":for(o=null,g=s.child,s.child=null;g!==null;){if(e=g.alternate,e!==null&&lh(e)===null){s.child=g;break}e=g.sibling,g.sibling=o,o=g,g=e}Jd(s,!0,o,null,y,h);break;case"together":Jd(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function Dr(e,s,o){if(e!==null&&(s.dependencies=e.dependencies),Ta|=s.lanes,(o&s.childLanes)===0)if(e!==null){if(gl(e,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,o=rs(e,e.pendingProps),s.child=o,o.return=s;e.sibling!==null;)e=e.sibling,o=o.sibling=rs(e,e.pendingProps),o.return=s;o.sibling=null}return s.child}function $d(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&th(e)))}function fA(e,s,o){switch(s.tag){case 3:Se(s,s.stateNode.containerInfo),fa(s,an,e.memoizedState.cache),Cr();break;case 27:case 5:ds(s);break;case 4:Se(s,s.stateNode.containerInfo);break;case 10:fa(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,wd(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(ga(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Xy(e,s,o):(ga(s),e=Dr(e,s,o),e!==null?e.sibling:null);ga(s);break;case 19:var g=(e.flags&128)!==0;if(h=(o&s.childLanes)!==0,h||(gl(e,s,o,!1),h=(o&s.childLanes)!==0),g){if(h)return Jy(e,s,o);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),yt(tn,tn.current),h)break;return null;case 22:return s.lanes=0,qy(e,s,o,s.pendingProps);case 24:fa(s,an,e.memoizedState.cache)}return Dr(e,s,o)}function $y(e,s,o){if(e!==null)if(e.memoizedProps!==s.pendingProps)ln=!0;else{if(!$d(e,o)&&(s.flags&128)===0)return ln=!1,fA(e,s,o);ln=(e.flags&131072)!==0}else ln=!1,$t&&(s.flags&1048576)!==0&&Kt(s,R,s.index);switch(s.lanes=0,s.tag){case 16:t:{var h=s.pendingProps;if(e=xo(s.elementType),s.type=e,typeof e=="function")dl(e)?(h=Lo(e,h),s.tag=1,s=Yy(null,s,e,h,o)):(s.tag=0,s=Zd(null,s,e,h,o));else{if(e!=null){var g=e.$$typeof;if(g===vt){s.tag=11,s=jy(null,s,e,h,o);break t}else if(g===V){s.tag=14,s=Hy(null,s,e,h,o);break t}}throw s=Qt(e)||e,Error(r(306,s,""))}}return s;case 0:return Zd(e,s,s.type,s.pendingProps,o);case 1:return h=s.type,g=Lo(h,s.pendingProps),Yy(e,s,h,g,o);case 3:t:{if(Se(s,s.stateNode.containerInfo),e===null)throw Error(r(387));h=s.pendingProps;var y=s.memoizedState;g=y.element,vd(e,s),Lu(s,h,null,o);var A=s.memoizedState;if(h=A.cache,fa(s,an,h),h!==y.cache&&dd(s,[an],o,!0),Mu(),h=A.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=Qy(e,s,h,o);break t}else if(h!==g){g=c(Error(r(424)),s),So(g),s=Qy(e,s,h,o);break t}else for(e=s.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,de=os(e.firstChild),fe=s,$t=!0,Js=null,di=!0,o=q_(s,null,h,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Cr(),h===g){s=Dr(e,s,o);break t}Ln(e,s,h,o)}s=s.child}return s;case 26:return vh(e,s),e===null?(o=c0(s.type,null,s.pendingProps,null))?s.memoizedState=o:$t||(o=s.type,e=s.pendingProps,h=Nh(At.current).createElement(o),h[je]=s,h[Ke]=e,Dn(h,o,e),Ye(h),s.stateNode=h):s.memoizedState=c0(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return ds(s),e===null&&$t&&(h=s.stateNode=o0(s.type,s.pendingProps,At.current),fe=s,di=!0,g=de,Aa(s.type)?(Pm=g,de=os(h.firstChild)):de=g),Ln(e,s,s.pendingProps.children,o),vh(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&$t&&((g=h=de)&&(h=HA(h,s.type,s.pendingProps,di),h!==null?(s.stateNode=h,fe=s,de=os(h.firstChild),di=!1,g=!0):g=!1),g||$s(s)),ds(s),g=s.type,y=s.pendingProps,A=e!==null?e.memoizedProps:null,h=y.children,Cm(g,y)?h=null:A!==null&&Cm(g,A)&&(s.flags|=32),s.memoizedState!==null&&(g=xd(e,s,iA,null,null,o),Xu._currentValue=g),vh(e,s),Ln(e,s,h,o),s.child;case 6:return e===null&&$t&&((e=o=de)&&(o=FA(o,s.pendingProps,di),o!==null?(s.stateNode=o,fe=s,de=null,e=!0):e=!1),e||$s(s)),null;case 13:return Xy(e,s,o);case 4:return Se(s,s.stateNode.containerInfo),h=s.pendingProps,e===null?s.child=Ro(s,null,h,o):Ln(e,s,h,o),s.child;case 11:return jy(e,s,s.type,s.pendingProps,o);case 7:return Ln(e,s,s.pendingProps,o),s.child;case 8:return Ln(e,s,s.pendingProps.children,o),s.child;case 12:return Ln(e,s,s.pendingProps.children,o),s.child;case 10:return h=s.pendingProps,fa(s,s.type,h.value),Ln(e,s,h.children,o),s.child;case 9:return g=s.type._context,h=s.pendingProps.children,wo(s),g=Mn(g),h=h(g),s.flags|=1,Ln(e,s,h,o),s.child;case 14:return Hy(e,s,s.type,s.pendingProps,o);case 15:return Fy(e,s,s.type,s.pendingProps,o);case 19:return Jy(e,s,o);case 31:return hA(e,s,o);case 22:return qy(e,s,o,s.pendingProps);case 24:return wo(s),h=Mn(an),e===null?(g=gd(),g===null&&(g=Le,y=md(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=o),g=y),s.memoizedState={parent:h,cache:g},yd(s),fa(s,an,g)):((e.lanes&o)!==0&&(vd(e,s),Lu(s,null,null,o),Mu()),g=e.memoizedState,y=s.memoizedState,g.parent!==h?(g={parent:h,cache:h},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),fa(s,an,h)):(h=y.cache,fa(s,an,h),h!==g.cache&&dd(s,[an],o,!0))),Ln(e,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Pr(e){e.flags|=4}function tm(e,s,o,h,g){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(g&335544128)===g)if(e.stateNode.complete)e.flags|=8192;else if(xv())e.flags|=8192;else throw Co=sh,_d}else e.flags&=-16777217}function tv(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!p0(s))if(xv())e.flags|=8192;else throw Co=sh,_d}function Eh(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?$o():536870912,e.lanes|=s,Rl|=s)}function Nu(e,s){if(!$t)switch(e.tailMode){case"hidden":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:h.sibling=null}}function Ve(e){var s=e.alternate!==null&&e.alternate.child===e.child,o=0,h=0;if(s)for(var g=e.child;g!==null;)o|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=e,g=g.sibling;else for(g=e.child;g!==null;)o|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=e,g=g.sibling;return e.subtreeFlags|=h,e.childLanes=o,s}function dA(e,s,o){var h=s.pendingProps;switch(Qe(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(s),null;case 1:return Ve(s),null;case 3:return o=s.stateNode,h=null,e!==null&&(h=e.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),Rr(an),Ce(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(xs(s)?Pr(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,bu())),Ve(s),null;case 26:var g=s.type,y=s.memoizedState;return e===null?(Pr(s),y!==null?(Ve(s),tv(s,y)):(Ve(s),tm(s,g,null,h,o))):y?y!==e.memoizedState?(Pr(s),Ve(s),tv(s,y)):(Ve(s),s.flags&=-16777217):(e=e.memoizedProps,e!==h&&Pr(s),Ve(s),tm(s,g,e,h,o)),null;case 27:if(Os(s),o=At.current,g=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==h&&Pr(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Ve(s),null}e=Tt.current,xs(s)?Su(s):(e=o0(g,h,o),s.stateNode=e,Pr(s))}return Ve(s),null;case 5:if(Os(s),g=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==h&&Pr(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Ve(s),null}if(y=Tt.current,xs(s))Su(s);else{var A=Nh(At.current);switch(y){case 1:y=A.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=A.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=A.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?A.createElement("select",{is:h.is}):A.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?A.createElement(g,{is:h.is}):A.createElement(g)}}y[je]=s,y[Ke]=h;t:for(A=s.child;A!==null;){if(A.tag===5||A.tag===6)y.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===s)break t;for(;A.sibling===null;){if(A.return===null||A.return===s)break t;A=A.return}A.sibling.return=A.return,A=A.sibling}s.stateNode=y;t:switch(Dn(y,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&Pr(s)}}return Ve(s),tm(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,o),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==h&&Pr(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(e=At.current,xs(s)){if(e=s.stateNode,o=s.memoizedProps,h=null,g=fe,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}e[je]=s,e=!!(e.nodeValue===o||h!==null&&h.suppressHydrationWarning===!0||Xv(e.nodeValue,o)),e||$s(s,!0)}else e=Nh(e).createTextNode(h),e[je]=s,s.stateNode=e}return Ve(s),null;case 31:if(o=s.memoizedState,e===null||e.memoizedState!==null){if(h=xs(s),o!==null){if(e===null){if(!h)throw Error(r(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[je]=s}else Cr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ve(s),e=!1}else o=bu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return s.flags&256?(Ni(s),s):(Ni(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Ve(s),null;case 13:if(h=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(g=xs(s),h!==null&&h.dehydrated!==null){if(e===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[je]=s}else Cr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ve(s),g=!1}else g=bu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Ni(s),s):(Ni(s),null)}return Ni(s),(s.flags&128)!==0?(s.lanes=o,s):(o=h!==null,e=e!==null&&e.memoizedState!==null,o&&(h=s.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)),o!==e&&o&&(s.child.flags|=8192),Eh(s,s.updateQueue),Ve(s),null);case 4:return Ce(),e===null&&Sm(s.stateNode.containerInfo),Ve(s),null;case 10:return Rr(s.type),Ve(s),null;case 19:if(ot(tn),h=s.memoizedState,h===null)return Ve(s),null;if(g=(s.flags&128)!==0,y=h.rendering,y===null)if(g)Nu(h,!1);else{if(We!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(y=lh(e),y!==null){for(s.flags|=128,Nu(h,!1),e=y.updateQueue,s.updateQueue=e,Eh(s,e),s.subtreeFlags=0,e=o,o=s.child;o!==null;)vu(o,e),o=o.sibling;return yt(tn,tn.current&1|2),$t&&It(s,h.treeForkCount),s.child}e=e.sibling}h.tail!==null&&Rn()>xh&&(s.flags|=128,g=!0,Nu(h,!1),s.lanes=4194304)}else{if(!g)if(e=lh(y),e!==null){if(s.flags|=128,g=!0,e=e.updateQueue,s.updateQueue=e,Eh(s,e),Nu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!$t)return Ve(s),null}else 2*Rn()-h.renderingStartTime>xh&&o!==536870912&&(s.flags|=128,g=!0,Nu(h,!1),s.lanes=4194304);h.isBackwards?(y.sibling=s.child,s.child=y):(e=h.last,e!==null?e.sibling=y:s.child=y,h.last=y)}return h.tail!==null?(e=h.tail,h.rendering=e,h.tail=e.sibling,h.renderingStartTime=Rn(),e.sibling=null,o=tn.current,yt(tn,g?o&1|2:o&1),$t&&It(s,h.treeForkCount),e):(Ve(s),null);case 22:case 23:return Ni(s),bd(),h=s.memoizedState!==null,e!==null?e.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(o&536870912)!==0&&(s.flags&128)===0&&(Ve(s),s.subtreeFlags&6&&(s.flags|=8192)):Ve(s),o=s.updateQueue,o!==null&&Eh(s,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==o&&(s.flags|=2048),e!==null&&ot(Ao),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Rr(an),Ve(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function mA(e,s){switch(Qe(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return Rr(an),Ce(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return Os(s),null;case 31:if(s.memoizedState!==null){if(Ni(s),s.alternate===null)throw Error(r(340));Cr()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(Ni(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Cr()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return ot(tn),null;case 4:return Ce(),null;case 10:return Rr(s.type),null;case 22:case 23:return Ni(s),bd(),e!==null&&ot(Ao),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return Rr(an),null;case 25:return null;default:return null}}function ev(e,s){switch(Qe(s),s.tag){case 3:Rr(an),Ce();break;case 26:case 27:case 5:Os(s);break;case 4:Ce();break;case 31:s.memoizedState!==null&&Ni(s);break;case 13:Ni(s);break;case 19:ot(tn);break;case 10:Rr(s.type);break;case 22:case 23:Ni(s),bd(),e!==null&&ot(Ao);break;case 24:Rr(an)}}function zu(e,s){try{var o=s.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var g=h.next;o=g;do{if((o.tag&e)===e){h=void 0;var y=o.create,A=o.inst;h=y(),A.destroy=h}o=o.next}while(o!==g)}}catch(M){Ee(s,s.return,M)}}function ya(e,s,o){try{var h=s.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&e)===e){var A=h.inst,M=A.destroy;if(M!==void 0){A.destroy=void 0,g=s;var j=o,J=M;try{J()}catch(lt){Ee(g,j,lt)}}}h=h.next}while(h!==y)}}catch(lt){Ee(s,s.return,lt)}}function nv(e){var s=e.updateQueue;if(s!==null){var o=e.stateNode;try{Z_(s,o)}catch(h){Ee(e,e.return,h)}}}function iv(e,s,o){o.props=Lo(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(h){Ee(e,s,h)}}function ku(e,s){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var h=e.stateNode;break;case 30:h=e.stateNode;break;default:h=e.stateNode}typeof o=="function"?e.refCleanup=o(h):o.current=h}}catch(g){Ee(e,s,g)}}function er(e,s){var o=e.ref,h=e.refCleanup;if(o!==null)if(typeof h=="function")try{h()}catch(g){Ee(e,s,g)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(g){Ee(e,s,g)}else o.current=null}function sv(e){var s=e.type,o=e.memoizedProps,h=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&h.focus();break t;case"img":o.src?h.src=o.src:o.srcSet&&(h.srcset=o.srcSet)}}catch(g){Ee(e,e.return,g)}}function em(e,s,o){try{var h=e.stateNode;NA(h,e.type,o,s),h[Ke]=s}catch(g){Ee(e,e.return,g)}}function rv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Aa(e.type)||e.tag===4}function nm(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||rv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Aa(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function im(e,s,o){var h=e.tag;if(h===5||h===6)e=e.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(e),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Nn));else if(h!==4&&(h===27&&Aa(e.type)&&(o=e.stateNode,s=null),e=e.child,e!==null))for(im(e,s,o),e=e.sibling;e!==null;)im(e,s,o),e=e.sibling}function Sh(e,s,o){var h=e.tag;if(h===5||h===6)e=e.stateNode,s?o.insertBefore(e,s):o.appendChild(e);else if(h!==4&&(h===27&&Aa(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Sh(e,s,o),e=e.sibling;e!==null;)Sh(e,s,o),e=e.sibling}function av(e){var s=e.stateNode,o=e.memoizedProps;try{for(var h=e.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Dn(s,h,o),s[je]=e,s[Ke]=o}catch(y){Ee(e,e.return,y)}}var Ir=!1,un=!1,sm=!1,ov=typeof WeakSet=="function"?WeakSet:Set,xn=null;function pA(e,s){if(e=e.containerInfo,Am=Fh,e=mo(e),Ks(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var h=o.getSelection&&o.getSelection();if(h&&h.rangeCount!==0){o=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break t}var A=0,M=-1,j=-1,J=0,lt=0,ht=e,tt=null;e:for(;;){for(var at;ht!==o||g!==0&&ht.nodeType!==3||(M=A+g),ht!==y||h!==0&&ht.nodeType!==3||(j=A+h),ht.nodeType===3&&(A+=ht.nodeValue.length),(at=ht.firstChild)!==null;)tt=ht,ht=at;for(;;){if(ht===e)break e;if(tt===o&&++J===g&&(M=A),tt===y&&++lt===h&&(j=A),(at=ht.nextSibling)!==null)break;ht=tt,tt=ht.parentNode}ht=at}o=M===-1||j===-1?null:{start:M,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(xm={focusedElem:e,selectionRange:o},Fh=!1,xn=s;xn!==null;)if(s=xn,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,xn=e;else for(;xn!==null;){switch(s=xn,y=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)g=e[o],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,o=s,g=y.memoizedProps,y=y.memoizedState,h=o.stateNode;try{var Dt=Lo(o.type,g);e=h.getSnapshotBeforeUpdate(Dt,y),h.__reactInternalSnapshotBeforeUpdate=e}catch(zt){Ee(o,o.return,zt)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,o=e.nodeType,o===9)Mm(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Mm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=s.sibling,e!==null){e.return=s.return,xn=e;break}xn=s.return}}function lv(e,s,o){var h=o.flags;switch(o.tag){case 0:case 11:case 15:Vr(e,o),h&4&&zu(5,o);break;case 1:if(Vr(e,o),h&4)if(e=o.stateNode,s===null)try{e.componentDidMount()}catch(A){Ee(o,o.return,A)}else{var g=Lo(o.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(g,s,e.__reactInternalSnapshotBeforeUpdate)}catch(A){Ee(o,o.return,A)}}h&64&&nv(o),h&512&&ku(o,o.return);break;case 3:if(Vr(e,o),h&64&&(e=o.updateQueue,e!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Z_(e,s)}catch(A){Ee(o,o.return,A)}}break;case 27:s===null&&h&4&&av(o);case 26:case 5:Vr(e,o),s===null&&h&4&&sv(o),h&512&&ku(o,o.return);break;case 12:Vr(e,o);break;case 31:Vr(e,o),h&4&&hv(e,o);break;case 13:Vr(e,o),h&4&&fv(e,o),h&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=wA.bind(null,o),qA(e,o))));break;case 22:if(h=o.memoizedState!==null||Ir,!h){s=s!==null&&s.memoizedState!==null||un,g=Ir;var y=un;Ir=h,(un=s)&&!y?Nr(e,o,(o.subtreeFlags&8772)!==0):Vr(e,o),Ir=g,un=y}break;case 30:break;default:Vr(e,o)}}function uv(e){var s=e.alternate;s!==null&&(e.alternate=null,uv(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&Yr(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,mi=!1;function Or(e,s,o){for(o=o.child;o!==null;)cv(e,s,o),o=o.sibling}function cv(e,s,o){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(ei,o)}catch{}switch(o.tag){case 26:un||er(o,s),Or(e,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:un||er(o,s);var h=ze,g=mi;Aa(o.type)&&(ze=o.stateNode,mi=!1),Or(e,s,o),Ku(o.stateNode),ze=h,mi=g;break;case 5:un||er(o,s);case 6:if(h=ze,g=mi,ze=null,Or(e,s,o),ze=h,mi=g,ze!==null)if(mi)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(o.stateNode)}catch(y){Ee(o,s,y)}else try{ze.removeChild(o.stateNode)}catch(y){Ee(o,s,y)}break;case 18:ze!==null&&(mi?(e=ze,n0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Nl(e)):n0(ze,o.stateNode));break;case 4:h=ze,g=mi,ze=o.stateNode.containerInfo,mi=!0,Or(e,s,o),ze=h,mi=g;break;case 0:case 11:case 14:case 15:ya(2,o,s),un||ya(4,o,s),Or(e,s,o);break;case 1:un||(er(o,s),h=o.stateNode,typeof h.componentWillUnmount=="function"&&iv(o,s,h)),Or(e,s,o);break;case 21:Or(e,s,o);break;case 22:un=(h=un)||o.memoizedState!==null,Or(e,s,o),un=h;break;default:Or(e,s,o)}}function hv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Nl(e)}catch(o){Ee(s,s.return,o)}}}function fv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Nl(e)}catch(o){Ee(s,s.return,o)}}function gA(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new ov),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new ov),s;default:throw Error(r(435,e.tag))}}function bh(e,s){var o=gA(e);s.forEach(function(h){if(!o.has(h)){o.add(h);var g=AA.bind(null,e,h);h.then(g,g)}})}function pi(e,s){var o=s.deletions;if(o!==null)for(var h=0;h<o.length;h++){var g=o[h],y=e,A=s,M=A;t:for(;M!==null;){switch(M.tag){case 27:if(Aa(M.type)){ze=M.stateNode,mi=!1;break t}break;case 5:ze=M.stateNode,mi=!1;break t;case 3:case 4:ze=M.stateNode.containerInfo,mi=!0;break t}M=M.return}if(ze===null)throw Error(r(160));cv(y,A,g),ze=null,mi=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)dv(s,e),s=s.sibling}var Rs=null;function dv(e,s){var o=e.alternate,h=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pi(s,e),gi(e),h&4&&(ya(3,e,e.return),zu(3,e),ya(5,e,e.return));break;case 1:pi(s,e),gi(e),h&512&&(un||o===null||er(o,o.return)),h&64&&Ir&&(e=e.updateQueue,e!==null&&(h=e.callbacks,h!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?h:o.concat(h))));break;case 26:var g=Rs;if(pi(s,e),gi(e),h&512&&(un||o===null||er(o,o.return)),h&4){var y=o!==null?o.memoizedState:null;if(h=e.memoizedState,o===null)if(h===null)if(e.stateNode===null){t:{h=e.type,o=e.memoizedProps,g=g.ownerDocument||g;e:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Ki]||y[je]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),Dn(y,h,o),y[je]=e,Ye(y),h=y;break t;case"link":var A=d0("link","href",g).get(h+(o.href||""));if(A){for(var M=0;M<A.length;M++)if(y=A[M],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){A.splice(M,1);break e}}y=g.createElement(h),Dn(y,h,o),g.head.appendChild(y);break;case"meta":if(A=d0("meta","content",g).get(h+(o.content||""))){for(M=0;M<A.length;M++)if(y=A[M],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){A.splice(M,1);break e}}y=g.createElement(h),Dn(y,h,o),g.head.appendChild(y);break;default:throw Error(r(468,h))}y[je]=e,Ye(y),h=y}e.stateNode=h}else m0(g,e.type,e.stateNode);else e.stateNode=f0(g,h,e.memoizedProps);else y!==h?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,h===null?m0(g,e.type,e.stateNode):f0(g,h,e.memoizedProps)):h===null&&e.stateNode!==null&&em(e,e.memoizedProps,o.memoizedProps)}break;case 27:pi(s,e),gi(e),h&512&&(un||o===null||er(o,o.return)),o!==null&&h&4&&em(e,e.memoizedProps,o.memoizedProps);break;case 5:if(pi(s,e),gi(e),h&512&&(un||o===null||er(o,o.return)),e.flags&32){g=e.stateNode;try{sn(g,"")}catch(Dt){Ee(e,e.return,Dt)}}h&4&&e.stateNode!=null&&(g=e.memoizedProps,em(e,g,o!==null?o.memoizedProps:g)),h&1024&&(sm=!0);break;case 6:if(pi(s,e),gi(e),h&4){if(e.stateNode===null)throw Error(r(162));h=e.memoizedProps,o=e.stateNode;try{o.nodeValue=h}catch(Dt){Ee(e,e.return,Dt)}}break;case 3:if(Bh=null,g=Rs,Rs=zh(s.containerInfo),pi(s,e),Rs=g,gi(e),h&4&&o!==null&&o.memoizedState.isDehydrated)try{Nl(s.containerInfo)}catch(Dt){Ee(e,e.return,Dt)}sm&&(sm=!1,mv(e));break;case 4:h=Rs,Rs=zh(e.stateNode.containerInfo),pi(s,e),gi(e),Rs=h;break;case 12:pi(s,e),gi(e);break;case 31:pi(s,e),gi(e),h&4&&(h=e.updateQueue,h!==null&&(e.updateQueue=null,bh(e,h)));break;case 13:pi(s,e),gi(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ah=Rn()),h&4&&(h=e.updateQueue,h!==null&&(e.updateQueue=null,bh(e,h)));break;case 22:g=e.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,J=Ir,lt=un;if(Ir=J||g,un=lt||j,pi(s,e),un=lt,Ir=J,gi(e),h&8192)t:for(s=e.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(o===null||j||Ir||un||Do(e)),o=null,s=e;;){if(s.tag===5||s.tag===26){if(o===null){j=o=s;try{if(y=j.stateNode,g)A=y.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{M=j.stateNode;var ht=j.memoizedProps.style,tt=ht!=null&&ht.hasOwnProperty("display")?ht.display:null;M.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(Dt){Ee(j,j.return,Dt)}}}else if(s.tag===6){if(o===null){j=s;try{j.stateNode.nodeValue=g?"":j.memoizedProps}catch(Dt){Ee(j,j.return,Dt)}}}else if(s.tag===18){if(o===null){j=s;try{var at=j.stateNode;g?i0(at,!0):i0(j.stateNode,!1)}catch(Dt){Ee(j,j.return,Dt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=e.updateQueue,h!==null&&(o=h.retryQueue,o!==null&&(h.retryQueue=null,bh(e,o))));break;case 19:pi(s,e),gi(e),h&4&&(h=e.updateQueue,h!==null&&(e.updateQueue=null,bh(e,h)));break;case 30:break;case 21:break;default:pi(s,e),gi(e)}}function gi(e){var s=e.flags;if(s&2){try{for(var o,h=e.return;h!==null;){if(rv(h)){o=h;break}h=h.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var g=o.stateNode,y=nm(e);Sh(e,y,g);break;case 5:var A=o.stateNode;o.flags&32&&(sn(A,""),o.flags&=-33);var M=nm(e);Sh(e,M,A);break;case 3:case 4:var j=o.stateNode.containerInfo,J=nm(e);im(e,J,j);break;default:throw Error(r(161))}}catch(lt){Ee(e,e.return,lt)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function mv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;mv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function Vr(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)lv(e,s.alternate,s),s=s.sibling}function Do(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:ya(4,s,s.return),Do(s);break;case 1:er(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&iv(s,s.return,o),Do(s);break;case 27:Ku(s.stateNode);case 26:case 5:er(s,s.return),Do(s);break;case 22:s.memoizedState===null&&Do(s);break;case 30:Do(s);break;default:Do(s)}e=e.sibling}}function Nr(e,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,g=e,y=s,A=y.flags;switch(y.tag){case 0:case 11:case 15:Nr(g,y,o),zu(4,y);break;case 1:if(Nr(g,y,o),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(J){Ee(h,h.return,J)}if(h=y,g=h.updateQueue,g!==null){var M=h.stateNode;try{var j=g.shared.hiddenCallbacks;if(j!==null)for(g.shared.hiddenCallbacks=null,g=0;g<j.length;g++)G_(j[g],M)}catch(J){Ee(h,h.return,J)}}o&&A&64&&nv(y),ku(y,y.return);break;case 27:av(y);case 26:case 5:Nr(g,y,o),o&&h===null&&A&4&&sv(y),ku(y,y.return);break;case 12:Nr(g,y,o);break;case 31:Nr(g,y,o),o&&A&4&&hv(g,y);break;case 13:Nr(g,y,o),o&&A&4&&fv(g,y);break;case 22:y.memoizedState===null&&Nr(g,y,o),ku(y,y.return);break;case 30:break;default:Nr(g,y,o)}s=s.sibling}}function rm(e,s){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&wu(o))}function am(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&wu(e))}function Ms(e,s,o,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)pv(e,s,o,h),s=s.sibling}function pv(e,s,o,h){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Ms(e,s,o,h),g&2048&&zu(9,s);break;case 1:Ms(e,s,o,h);break;case 3:Ms(e,s,o,h),g&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&wu(e)));break;case 12:if(g&2048){Ms(e,s,o,h),e=s.stateNode;try{var y=s.memoizedProps,A=y.id,M=y.onPostCommit;typeof M=="function"&&M(A,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){Ee(s,s.return,j)}}else Ms(e,s,o,h);break;case 31:Ms(e,s,o,h);break;case 13:Ms(e,s,o,h);break;case 23:break;case 22:y=s.stateNode,A=s.alternate,s.memoizedState!==null?y._visibility&2?Ms(e,s,o,h):Bu(e,s):y._visibility&2?Ms(e,s,o,h):(y._visibility|=2,Al(e,s,o,h,(s.subtreeFlags&10256)!==0||!1)),g&2048&&rm(A,s);break;case 24:Ms(e,s,o,h),g&2048&&am(s.alternate,s);break;default:Ms(e,s,o,h)}}function Al(e,s,o,h,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=e,A=s,M=o,j=h,J=A.flags;switch(A.tag){case 0:case 11:case 15:Al(y,A,M,j,g),zu(8,A);break;case 23:break;case 22:var lt=A.stateNode;A.memoizedState!==null?lt._visibility&2?Al(y,A,M,j,g):Bu(y,A):(lt._visibility|=2,Al(y,A,M,j,g)),g&&J&2048&&rm(A.alternate,A);break;case 24:Al(y,A,M,j,g),g&&J&2048&&am(A.alternate,A);break;default:Al(y,A,M,j,g)}s=s.sibling}}function Bu(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=e,h=s,g=h.flags;switch(h.tag){case 22:Bu(o,h),g&2048&&rm(h.alternate,h);break;case 24:Bu(o,h),g&2048&&am(h.alternate,h);break;default:Bu(o,h)}s=s.sibling}}var Uu=8192;function xl(e,s,o){if(e.subtreeFlags&Uu)for(e=e.child;e!==null;)gv(e,s,o),e=e.sibling}function gv(e,s,o){switch(e.tag){case 26:xl(e,s,o),e.flags&Uu&&e.memoizedState!==null&&nx(o,Rs,e.memoizedState,e.memoizedProps);break;case 5:xl(e,s,o);break;case 3:case 4:var h=Rs;Rs=zh(e.stateNode.containerInfo),xl(e,s,o),Rs=h;break;case 22:e.memoizedState===null&&(h=e.alternate,h!==null&&h.memoizedState!==null?(h=Uu,Uu=16777216,xl(e,s,o),Uu=h):xl(e,s,o));break;default:xl(e,s,o)}}function _v(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function ju(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var h=s[o];xn=h,vv(h,e)}_v(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yv(e),e=e.sibling}function yv(e){switch(e.tag){case 0:case 11:case 15:ju(e),e.flags&2048&&ya(9,e,e.return);break;case 3:ju(e);break;case 12:ju(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,wh(e)):ju(e);break;default:ju(e)}}function wh(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var h=s[o];xn=h,vv(h,e)}_v(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:ya(8,s,s.return),wh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,wh(s));break;default:wh(s)}e=e.sibling}}function vv(e,s){for(;xn!==null;){var o=xn;switch(o.tag){case 0:case 11:case 15:ya(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var h=o.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:wu(o.memoizedState.cache)}if(h=o.child,h!==null)h.return=o,xn=h;else t:for(o=e;xn!==null;){h=xn;var g=h.sibling,y=h.return;if(uv(h),h===o){xn=null;break t}if(g!==null){g.return=y,xn=g;break t}xn=y}}}var _A={getCacheForType:function(e){var s=Mn(an),o=s.data.get(e);return o===void 0&&(o=e(),s.data.set(e,o)),o},cacheSignal:function(){return Mn(an).controller.signal}},yA=typeof WeakMap=="function"?WeakMap:Map,ge=0,Le=null,te=null,ie=0,Te=0,zi=null,va=!1,Cl=!1,om=!1,zr=0,We=0,Ta=0,Po=0,lm=0,ki=0,Rl=0,Hu=null,_i=null,um=!1,Ah=0,Tv=0,xh=1/0,Ch=null,Ea=null,gn=0,Sa=null,Ml=null,kr=0,cm=0,hm=null,Ev=null,Fu=0,fm=null;function Bi(){return(ge&2)!==0&&ie!==0?ie&-ie:rt.T!==null?ym():$a()}function Sv(){if(ki===0)if((ie&536870912)===0||$t){var e=Bs;Bs<<=1,(Bs&3932160)===0&&(Bs=262144),ki=e}else ki=536870912;return e=Vi.current,e!==null&&(e.flags|=32),ki}function yi(e,s,o){(e===Le&&(Te===2||Te===9)||e.cancelPendingCommit!==null)&&(Ll(e,0),ba(e,ie,ki,!1)),ps(e,o),((ge&2)===0||e!==Le)&&(e===Le&&((ge&2)===0&&(Po|=o),We===4&&ba(e,ie,ki,!1)),nr(e))}function bv(e,s,o){if((ge&6)!==0)throw Error(r(327));var h=!o&&(s&127)===0&&(s&e.expiredLanes)===0||bi(e,s),g=h?EA(e,s):mm(e,s,!0),y=h;do{if(g===0){Cl&&!h&&ba(e,s,0,!1);break}else{if(o=e.current.alternate,y&&!vA(o)){g=mm(e,s,!1),y=!1;continue}if(g===2){if(y=s,e.errorRecoveryDisabledLanes&y)var A=0;else A=e.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;t:{var M=e;g=Hu;var j=M.current.memoizedState.isDehydrated;if(j&&(Ll(M,A).flags|=256),A=mm(M,A,!1),A!==2){if(om&&!j){M.errorRecoveryDisabledLanes|=y,Po|=y,g=4;break t}y=_i,_i=g,y!==null&&(_i===null?_i=y:_i.push.apply(_i,y))}g=A}if(y=!1,g!==2)continue}}if(g===1){Ll(e,0),ba(e,s,0,!0);break}t:{switch(h=e,y=g,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ba(h,s,ki,!va);break t;case 2:_i=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=Ah+300-Rn(),10<g)){if(ba(h,s,ki,!va),Gi(h,0,!0)!==0)break t;kr=s,h.timeoutHandle=t0(wv.bind(null,h,o,_i,Ch,um,s,ki,Po,Rl,va,y,"Throttled",-0,0),g);break t}wv(h,o,_i,Ch,um,s,ki,Po,Rl,va,y,null,-0,0)}}break}while(!0);nr(e)}function wv(e,s,o,h,g,y,A,M,j,J,lt,ht,tt,at){if(e.timeoutHandle=-1,ht=s.subtreeFlags,ht&8192||(ht&16785408)===16785408){ht={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nn},gv(s,y,ht);var Dt=(y&62914560)===y?Ah-Rn():(y&4194048)===y?Tv-Rn():0;if(Dt=ix(ht,Dt),Dt!==null){kr=y,e.cancelPendingCommit=Dt(Pv.bind(null,e,s,y,o,h,g,A,M,j,lt,ht,null,tt,at)),ba(e,y,A,!J);return}}Pv(e,s,y,o,h,g,A,M,j)}function vA(e){for(var s=e;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var h=0;h<o.length;h++){var g=o[h],y=g.getSnapshot;g=g.value;try{if(!wn(y(),g))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ba(e,s,o,h){s&=~lm,s&=~Po,e.suspendedLanes|=s,e.pingedLanes&=~s,h&&(e.warmLanes|=s),h=e.expirationTimes;for(var g=s;0<g;){var y=31-Be(g),A=1<<y;h[y]=-1,g&=~A}o!==0&&gr(e,o,s)}function Rh(){return(ge&6)===0?(qu(0),!1):!0}function dm(){if(te!==null){if(Te===0)var e=te.return;else e=te,Cs=tr=null,Md(e),Tl=null,xu=0,e=te;for(;e!==null;)ev(e.alternate,e),e=e.return;te=null}}function Ll(e,s){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,BA(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),kr=0,dm(),Le=e,te=o=rs(e.current,null),ie=s,Te=0,zi=null,va=!1,Cl=bi(e,s),om=!1,Rl=ki=lm=Po=Ta=We=0,_i=Hu=null,um=!1,(s&8)!==0&&(s|=s&32);var h=e.entangledLanes;if(h!==0)for(e=e.entanglements,h&=s;0<h;){var g=31-Be(h),y=1<<g;s|=e[g],h&=~y}return zr=s,vo(),o}function Av(e,s){Zt=null,rt.H=Ou,s===vl||s===ih?(s=j_(),Te=3):s===_d?(s=j_(),Te=4):Te=s===Gd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,zi=s,te===null&&(We=1,_h(e,c(s,e.current)))}function xv(){var e=Vi.current;return e===null?!0:(ie&4194048)===ie?as===null:(ie&62914560)===ie||(ie&536870912)!==0?e===as:!1}function Cv(){var e=rt.H;return rt.H=Ou,e===null?Ou:e}function Rv(){var e=rt.A;return rt.A=_A,e}function Mh(){We=4,va||(ie&4194048)!==ie&&Vi.current!==null||(Cl=!0),(Ta&134217727)===0&&(Po&134217727)===0||Le===null||ba(Le,ie,ki,!1)}function mm(e,s,o){var h=ge;ge|=2;var g=Cv(),y=Rv();(Le!==e||ie!==s)&&(Ch=null,Ll(e,s)),s=!1;var A=We;t:do try{if(Te!==0&&te!==null){var M=te,j=zi;switch(Te){case 8:dm(),A=6;break t;case 3:case 2:case 9:case 6:Vi.current===null&&(s=!0);var J=Te;if(Te=0,zi=null,Dl(e,M,j,J),o&&Cl){A=0;break t}break;default:J=Te,Te=0,zi=null,Dl(e,M,j,J)}}TA(),A=We;break}catch(lt){Av(e,lt)}while(!0);return s&&e.shellSuspendCounter++,Cs=tr=null,ge=h,rt.H=g,rt.A=y,te===null&&(Le=null,ie=0,vo()),A}function TA(){for(;te!==null;)Mv(te)}function EA(e,s){var o=ge;ge|=2;var h=Cv(),g=Rv();Le!==e||ie!==s?(Ch=null,xh=Rn()+500,Ll(e,s)):Cl=bi(e,s);t:do try{if(Te!==0&&te!==null){s=te;var y=zi;e:switch(Te){case 1:Te=0,zi=null,Dl(e,s,y,1);break;case 2:case 9:if(B_(y)){Te=0,zi=null,Lv(s);break}s=function(){Te!==2&&Te!==9||Le!==e||(Te=7),nr(e)},y.then(s,s);break t;case 3:Te=7;break t;case 4:Te=5;break t;case 7:B_(y)?(Te=0,zi=null,Lv(s)):(Te=0,zi=null,Dl(e,s,y,7));break;case 5:var A=null;switch(te.tag){case 26:A=te.memoizedState;case 5:case 27:var M=te;if(A?p0(A):M.stateNode.complete){Te=0,zi=null;var j=M.sibling;if(j!==null)te=j;else{var J=M.return;J!==null?(te=J,Lh(J)):te=null}break e}}Te=0,zi=null,Dl(e,s,y,5);break;case 6:Te=0,zi=null,Dl(e,s,y,6);break;case 8:dm(),We=6;break t;default:throw Error(r(462))}}SA();break}catch(lt){Av(e,lt)}while(!0);return Cs=tr=null,rt.H=h,rt.A=g,ge=o,te!==null?0:(Le=null,ie=0,vo(),We)}function SA(){for(;te!==null&&!Xo();)Mv(te)}function Mv(e){var s=$y(e.alternate,e,zr);e.memoizedProps=e.pendingProps,s===null?Lh(e):te=s}function Lv(e){var s=e,o=s.alternate;switch(s.tag){case 15:case 0:s=Ky(o,s,s.pendingProps,s.type,void 0,ie);break;case 11:s=Ky(o,s,s.pendingProps,s.type.render,s.ref,ie);break;case 5:Md(s);default:ev(o,s),s=te=vu(s,zr),s=$y(o,s,zr)}e.memoizedProps=e.pendingProps,s===null?Lh(e):te=s}function Dl(e,s,o,h){Cs=tr=null,Md(s),Tl=null,xu=0;var g=s.return;try{if(cA(e,g,s,o,ie)){We=1,_h(e,c(o,e.current)),te=null;return}}catch(y){if(g!==null)throw te=g,y;We=1,_h(e,c(o,e.current)),te=null;return}s.flags&32768?($t||h===1?e=!0:Cl||(ie&536870912)!==0?e=!1:(va=e=!0,(h===2||h===9||h===3||h===6)&&(h=Vi.current,h!==null&&h.tag===13&&(h.flags|=16384))),Dv(s,e)):Lh(s)}function Lh(e){var s=e;do{if((s.flags&32768)!==0){Dv(s,va);return}e=s.return;var o=dA(s.alternate,s,zr);if(o!==null){te=o;return}if(s=s.sibling,s!==null){te=s;return}te=s=e}while(s!==null);We===0&&(We=5)}function Dv(e,s){do{var o=mA(e.alternate,e);if(o!==null){o.flags&=32767,te=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(e=e.sibling,e!==null)){te=e;return}te=e=o}while(e!==null);We=6,te=null}function Pv(e,s,o,h,g,y,A,M,j){e.cancelPendingCommit=null;do Dh();while(gn!==0);if((ge&6)!==0)throw Error(r(327));if(s!==null){if(s===e.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=fl,_u(e,o,y,A,M,j),e===Le&&(te=Le=null,ie=0),Ml=s,Sa=e,kr=o,cm=y,hm=g,Ev=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,xA(ms,function(){return zv(),null})):(e.callbackNode=null,e.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=rt.T,rt.T=null,g=gt.p,gt.p=2,A=ge,ge|=4;try{pA(e,s,o)}finally{ge=A,gt.p=g,rt.T=h}}gn=1,Iv(),Ov(),Vv()}}function Iv(){if(gn===1){gn=0;var e=Sa,s=Ml,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=rt.T,rt.T=null;var h=gt.p;gt.p=2;var g=ge;ge|=4;try{dv(s,e);var y=xm,A=mo(e.containerInfo),M=y.focusedElem,j=y.selectionRange;if(A!==M&&M&&M.ownerDocument&&ll(M.ownerDocument.documentElement,M)){if(j!==null&&Ks(M)){var J=j.start,lt=j.end;if(lt===void 0&&(lt=J),"selectionStart"in M)M.selectionStart=J,M.selectionEnd=Math.min(lt,M.value.length);else{var ht=M.ownerDocument||document,tt=ht&&ht.defaultView||window;if(tt.getSelection){var at=tt.getSelection(),Dt=M.textContent.length,zt=Math.min(j.start,Dt),Ae=j.end===void 0?zt:Math.min(j.end,Dt);!at.extend&&zt>Ae&&(A=Ae,Ae=zt,zt=A);var K=fo(M,zt),q=fo(M,Ae);if(K&&q&&(at.rangeCount!==1||at.anchorNode!==K.node||at.anchorOffset!==K.offset||at.focusNode!==q.node||at.focusOffset!==q.offset)){var W=ht.createRange();W.setStart(K.node,K.offset),at.removeAllRanges(),zt>Ae?(at.addRange(W),at.extend(q.node,q.offset)):(W.setEnd(q.node,q.offset),at.addRange(W))}}}}for(ht=[],at=M;at=at.parentNode;)at.nodeType===1&&ht.push({element:at,left:at.scrollLeft,top:at.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ht.length;M++){var ut=ht[M];ut.element.scrollLeft=ut.left,ut.element.scrollTop=ut.top}}Fh=!!Am,xm=Am=null}finally{ge=g,gt.p=h,rt.T=o}}e.current=s,gn=2}}function Ov(){if(gn===2){gn=0;var e=Sa,s=Ml,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=rt.T,rt.T=null;var h=gt.p;gt.p=2;var g=ge;ge|=4;try{lv(e,s.alternate,s)}finally{ge=g,gt.p=h,rt.T=o}}gn=3}}function Vv(){if(gn===4||gn===3){gn=0,Ya();var e=Sa,s=Ml,o=kr,h=Ev;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?gn=5:(gn=0,Ml=Sa=null,Nv(e,e.pendingLanes));var g=e.pendingLanes;if(g===0&&(Ea=null),Lt(o),s=s.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(ei,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=rt.T,g=gt.p,gt.p=2,rt.T=null;try{for(var y=e.onRecoverableError,A=0;A<h.length;A++){var M=h[A];y(M.value,{componentStack:M.stack})}}finally{rt.T=s,gt.p=g}}(kr&3)!==0&&Dh(),nr(e),g=e.pendingLanes,(o&261930)!==0&&(g&42)!==0?e===fm?Fu++:(Fu=0,fm=e):Fu=0,qu(0)}}function Nv(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,wu(s)))}function Dh(){return Iv(),Ov(),Vv(),zv()}function zv(){if(gn!==5)return!1;var e=Sa,s=cm;cm=0;var o=Lt(kr),h=rt.T,g=gt.p;try{gt.p=32>o?32:o,rt.T=null,o=hm,hm=null;var y=Sa,A=kr;if(gn=0,Ml=Sa=null,kr=0,(ge&6)!==0)throw Error(r(331));var M=ge;if(ge|=4,yv(y.current),pv(y,y.current,A,o),ge=M,qu(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(ei,y)}catch{}return!0}finally{gt.p=g,rt.T=h,Nv(e,s)}}function kv(e,s,o){s=c(o,s),s=qd(e.stateNode,s,2),e=pa(e,s,2),e!==null&&(ps(e,2),nr(e))}function Ee(e,s,o){if(e.tag===3)kv(e,e,o);else for(;s!==null;){if(s.tag===3){kv(s,e,o);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ea===null||!Ea.has(h))){e=c(o,e),o=By(2),h=pa(s,o,2),h!==null&&(Uy(o,h,s,e),ps(h,2),nr(h));break}}s=s.return}}function pm(e,s,o){var h=e.pingCache;if(h===null){h=e.pingCache=new yA;var g=new Set;h.set(s,g)}else g=h.get(s),g===void 0&&(g=new Set,h.set(s,g));g.has(o)||(om=!0,g.add(o),e=bA.bind(null,e,s,o),s.then(e,e))}function bA(e,s,o){var h=e.pingCache;h!==null&&h.delete(s),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Le===e&&(ie&o)===o&&(We===4||We===3&&(ie&62914560)===ie&&300>Rn()-Ah?(ge&2)===0&&Ll(e,0):lm|=o,Rl===ie&&(Rl=0)),nr(e)}function Bv(e,s){s===0&&(s=$o()),e=ss(e,s),e!==null&&(ps(e,s),nr(e))}function wA(e){var s=e.memoizedState,o=0;s!==null&&(o=s.retryLane),Bv(e,o)}function AA(e,s){var o=0;switch(e.tag){case 31:case 13:var h=e.stateNode,g=e.memoizedState;g!==null&&(o=g.retryLane);break;case 19:h=e.stateNode;break;case 22:h=e.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),Bv(e,o)}function xA(e,s){return Ze(e,s)}var Ph=null,Pl=null,gm=!1,Ih=!1,_m=!1,wa=0;function nr(e){e!==Pl&&e.next===null&&(Pl===null?Ph=Pl=e:Pl=Pl.next=e),Ih=!0,gm||(gm=!0,RA())}function qu(e,s){if(!_m&&Ih){_m=!0;do for(var o=!1,h=Ph;h!==null;){if(e!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var A=h.suspendedLanes,M=h.pingedLanes;y=(1<<31-Be(42|e)+1)-1,y&=g&~(A&~M),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Fv(h,y))}else y=ie,y=Gi(h,h===Le?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||bi(h,y)||(o=!0,Fv(h,y));h=h.next}while(o);_m=!1}}function CA(){Uv()}function Uv(){Ih=gm=!1;var e=0;wa!==0&&kA()&&(e=wa);for(var s=Rn(),o=null,h=Ph;h!==null;){var g=h.next,y=jv(h,s);y===0?(h.next=null,o===null?Ph=g:o.next=g,g===null&&(Pl=o)):(o=h,(e!==0||(y&3)!==0)&&(Ih=!0)),h=g}gn!==0&&gn!==5||qu(e),wa!==0&&(wa=0)}function jv(e,s){for(var o=e.suspendedLanes,h=e.pingedLanes,g=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var A=31-Be(y),M=1<<A,j=g[A];j===-1?((M&o)===0||(M&h)!==0)&&(g[A]=gu(M,s)):j<=s&&(e.expiredLanes|=M),y&=~M}if(s=Le,o=ie,o=Gi(e,e===s?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),h=e.callbackNode,o===0||e===s&&(Te===2||Te===9)||e.cancelPendingCommit!==null)return h!==null&&h!==null&&Fi(h),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||bi(e,o)){if(s=o&-o,s===e.callbackPriority)return s;switch(h!==null&&Fi(h),Lt(o)){case 2:case 8:o=Zr;break;case 32:o=ms;break;case 268435456:o=Qa;break;default:o=ms}return h=Hv.bind(null,e),o=Ze(o,h),e.callbackPriority=s,e.callbackNode=o,s}return h!==null&&h!==null&&Fi(h),e.callbackPriority=2,e.callbackNode=null,2}function Hv(e,s){if(gn!==0&&gn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Dh()&&e.callbackNode!==o)return null;var h=ie;return h=Gi(e,e===Le?h:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),h===0?null:(bv(e,h,s),jv(e,Rn()),e.callbackNode!=null&&e.callbackNode===o?Hv.bind(null,e):null)}function Fv(e,s){if(Dh())return null;bv(e,s,!0)}function RA(){UA(function(){(ge&6)!==0?Ze(pr,CA):Uv()})}function ym(){if(wa===0){var e=_l;e===0&&(e=Si,Si<<=1,(Si&261888)===0&&(Si=256)),wa=e}return wa}function qv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Hs(""+e)}function Gv(e,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,e.id&&o.setAttribute("form",e.id),s.parentNode.insertBefore(o,s),e=new FormData(e),o.parentNode.removeChild(o),e}function MA(e,s,o,h,g){if(s==="submit"&&o&&o.stateNode===g){var y=qv((g[Ke]||null).action),A=h.submitter;A&&(s=(s=A[Ke]||null)?qv(s.formAction):A.getAttribute("formAction"),s!==null&&(y=s,A=null));var M=new ts("action","action",null,h,g);e.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(wa!==0){var j=A?Gv(g,A):new FormData(g);kd(o,{pending:!0,data:j,method:g.method,action:y},null,j)}}else typeof y=="function"&&(M.preventDefault(),j=A?Gv(g,A):new FormData(g),kd(o,{pending:!0,data:j,method:g.method,action:y},y,j))},currentTarget:g}]})}}for(var vm=0;vm<Xs.length;vm++){var Tm=Xs[vm],LA=Tm.toLowerCase(),DA=Tm[0].toUpperCase()+Tm.slice(1);hi(LA,"on"+DA)}hi(go,"onAnimationEnd"),hi(Wc,"onAnimationIteration"),hi(_o,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(ud,"onTransitionRun"),hi(Jc,"onTransitionStart"),hi(cd,"onTransitionCancel"),hi(ca,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gu));function Zv(e,s){s=(s&4)!==0;for(var o=0;o<e.length;o++){var h=e[o],g=h.event;h=h.listeners;t:{var y=void 0;if(s)for(var A=h.length-1;0<=A;A--){var M=h[A],j=M.instance,J=M.currentTarget;if(M=M.listener,j!==y&&g.isPropagationStopped())break t;y=M,g.currentTarget=J;try{y(g)}catch(lt){yo(lt)}g.currentTarget=null,y=j}else for(A=0;A<h.length;A++){if(M=h[A],j=M.instance,J=M.currentTarget,M=M.listener,j!==y&&g.isPropagationStopped())break t;y=M,g.currentTarget=J;try{y(g)}catch(lt){yo(lt)}g.currentTarget=null,y=j}}}}function ee(e,s){var o=s[Ai];o===void 0&&(o=s[Ai]=new Set);var h=e+"__bubble";o.has(h)||(Kv(s,e,2,!1),o.add(h))}function Em(e,s,o){var h=0;s&&(h|=4),Kv(o,e,h,s)}var Oh="_reactListening"+Math.random().toString(36).slice(2);function Sm(e){if(!e[Oh]){e[Oh]=!0,to.forEach(function(o){o!=="selectionchange"&&(PA.has(o)||Em(o,!1,e),Em(o,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Oh]||(s[Oh]=!0,Em("selectionchange",!1,s))}}function Kv(e,s,o,h){switch(S0(s)){case 2:var g=ax;break;case 8:g=ox;break;default:g=zm}o=g.bind(null,s,o,e),g=void 0,!vs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),h?g!==void 0?e.addEventListener(s,o,{capture:!0,passive:g}):e.addEventListener(s,o,!0):g!==void 0?e.addEventListener(s,o,{passive:g}):e.addEventListener(s,o,!1)}function bm(e,s,o,h,g){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)t:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var M=h.stateNode.containerInfo;if(M===g)break;if(A===4)for(A=h.return;A!==null;){var j=A.tag;if((j===3||j===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;M!==null;){if(A=xi(M),A===null)return;if(j=A.tag,j===5||j===6||j===26||j===27){h=y=A;continue t}M=M.parentNode}}h=h.return}ys(function(){var J=y,lt=zn(o),ht=[];t:{var tt=$c.get(e);if(tt!==void 0){var at=ts,Dt=e;switch(e){case"keypress":if(qs(o)===0)break t;case"keydown":case"keyup":at=oo;break;case"focusin":Dt="focus",at=Sr;break;case"focusout":Dt="blur",at=Sr;break;case"beforeblur":case"afterblur":at=Sr;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=no;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=il;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=S;break;case go:case Wc:case _o:at=ta;break;case ca:at=I;break;case"scroll":case"scrollend":at=Xt;break;case"wheel":at=nt;break;case"copy":case"cut":case"paste":at=Xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=bs;break;case"toggle":case"beforetoggle":at=Bt}var zt=(s&4)!==0,Ae=!zt&&(e==="scroll"||e==="scrollend"),K=zt?tt!==null?tt+"Capture":null:tt;zt=[];for(var q=J,W;q!==null;){var ut=q;if(W=ut.stateNode,ut=ut.tag,ut!==5&&ut!==26&&ut!==27||W===null||K===null||(ut=Qn(q,K),ut!=null&&zt.push(Zu(q,ut,W))),Ae)break;q=q.return}0<zt.length&&(tt=new at(tt,Dt,null,o,lt),ht.push({event:tt,listeners:zt}))}}if((s&7)===0){t:{if(tt=e==="mouseover"||e==="pointerover",at=e==="mouseout"||e==="pointerout",tt&&o!==$r&&(Dt=o.relatedTarget||o.fromElement)&&(xi(Dt)||Dt[wi]))break t;if((at||tt)&&(tt=lt.window===lt?lt:(tt=lt.ownerDocument)?tt.defaultView||tt.parentWindow:window,at?(Dt=o.relatedTarget||o.toElement,at=J,Dt=Dt?xi(Dt):null,Dt!==null&&(Ae=u(Dt),zt=Dt.tag,Dt!==Ae||zt!==5&&zt!==27&&zt!==6)&&(Dt=null)):(at=null,Dt=J),at!==Dt)){if(zt=no,ut="onMouseLeave",K="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&(zt=bs,ut="onPointerLeave",K="onPointerEnter",q="pointer"),Ae=at==null?tt:Tn(at),W=Dt==null?tt:Tn(Dt),tt=new zt(ut,q+"leave",at,o,lt),tt.target=Ae,tt.relatedTarget=W,ut=null,xi(lt)===J&&(zt=new zt(K,q+"enter",Dt,o,lt),zt.target=W,zt.relatedTarget=Ae,ut=zt),Ae=ut,at&&Dt)e:{for(zt=IA,K=at,q=Dt,W=0,ut=K;ut;ut=zt(ut))W++;ut=0;for(var Ot=q;Ot;Ot=zt(Ot))ut++;for(;0<W-ut;)K=zt(K),W--;for(;0<ut-W;)q=zt(q),ut--;for(;W--;){if(K===q||q!==null&&K===q.alternate){zt=K;break e}K=zt(K),q=zt(q)}zt=null}else zt=null;at!==null&&Yv(ht,tt,at,zt,!1),Dt!==null&&Ae!==null&&Yv(ht,Ae,Dt,zt,!0)}}t:{if(tt=J?Tn(J):window,at=tt.nodeName&&tt.nodeName.toLowerCase(),at==="select"||at==="input"&&tt.type==="file")var me=ho;else if(es(tt))if(Zc)me=ld;else{me=od;var Pt=ws}else at=tt.nodeName,!at||at.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?J&&js(J.elementType)&&(me=ho):me=aa;if(me&&(me=me(e,J))){Gc(ht,me,o,lt);break t}Pt&&Pt(e,tt,J),e==="focusout"&&J&&tt.type==="number"&&J.memoizedProps.value!=null&&Ci(tt,"number",tt.value)}switch(Pt=J?Tn(J):window,e){case"focusin":(es(Pt)||Pt.contentEditable==="true")&&(Ys=Pt,cl=J,po=null);break;case"focusout":po=cl=Ys=null;break;case"mousedown":la=!0;break;case"contextmenu":case"mouseup":case"dragend":la=!1,Qc(ht,o,lt);break;case"selectionchange":if(ul)break;case"keydown":case"keyup":Qc(ht,o,lt)}var Yt;if(le)t:{switch(e){case"compositionstart":var se="onCompositionStart";break t;case"compositionend":se="onCompositionEnd";break t;case"compositionupdate":se="onCompositionUpdate";break t}se=void 0}else ia?br(e,o)&&(se="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(se="onCompositionStart");se&&(ci&&o.locale!=="ko"&&(ia||se!=="onCompositionStart"?se==="onCompositionEnd"&&ia&&(Yt=Ri()):(li=lt,Ts="value"in li?li.value:li.textContent,ia=!0)),Pt=Vh(J,se),0<Pt.length&&(se=new Di(se,e,null,o,lt),ht.push({event:se,listeners:Pt}),Yt?se.data=Yt:(Yt=wr(o),Yt!==null&&(se.data=Yt)))),(Yt=ui?Oi(e,o):sa(e,o))&&(se=Vh(J,"onBeforeInput"),0<se.length&&(Pt=new Di("onBeforeInput","beforeinput",null,o,lt),ht.push({event:Pt,listeners:se}),Pt.data=Yt)),MA(ht,e,J,o,lt)}Zv(ht,s)})}function Zu(e,s,o){return{instance:e,listener:s,currentTarget:o}}function Vh(e,s){for(var o=s+"Capture",h=[];e!==null;){var g=e,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Qn(e,o),g!=null&&h.unshift(Zu(e,g,y)),g=Qn(e,s),g!=null&&h.push(Zu(e,g,y))),e.tag===3)return h;e=e.return}return[]}function IA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yv(e,s,o,h,g){for(var y=s._reactName,A=[];o!==null&&o!==h;){var M=o,j=M.alternate,J=M.stateNode;if(M=M.tag,j!==null&&j===h)break;M!==5&&M!==26&&M!==27||J===null||(j=J,g?(J=Qn(o,y),J!=null&&A.unshift(Zu(o,J,j))):g||(J=Qn(o,y),J!=null&&A.push(Zu(o,J,j)))),o=o.return}A.length!==0&&e.push({event:s,listeners:A})}var OA=/\r\n?/g,VA=/\u0000|\uFFFD/g;function Qv(e){return(typeof e=="string"?e:""+e).replace(OA,`
`).replace(VA,"")}function Xv(e,s){return s=Qv(s),Qv(e)===s}function we(e,s,o,h,g,y){switch(o){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||sn(e,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&sn(e,""+h);break;case"className":Jt(e,"class",h);break;case"tabIndex":Jt(e,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Jt(e,o,h);break;case"style":vr(e,h,y);break;case"data":if(s!=="object"){Jt(e,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||o!=="href")){e.removeAttribute(o);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){e.removeAttribute(o);break}h=Hs(""+h),e.setAttribute(o,h);break;case"action":case"formAction":if(typeof h=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&we(e,s,"name",g.name,g,null),we(e,s,"formEncType",g.formEncType,g,null),we(e,s,"formMethod",g.formMethod,g,null),we(e,s,"formTarget",g.formTarget,g,null)):(we(e,s,"encType",g.encType,g,null),we(e,s,"method",g.method,g,null),we(e,s,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){e.removeAttribute(o);break}h=Hs(""+h),e.setAttribute(o,h);break;case"onClick":h!=null&&(e.onclick=Nn);break;case"onScroll":h!=null&&ee("scroll",e);break;case"onScrollEnd":h!=null&&ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(o=h.__html,o!=null){if(g.children!=null)throw Error(r(60));e.innerHTML=o}}break;case"multiple":e.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":e.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){e.removeAttribute("xlink:href");break}o=Hs(""+h),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?e.setAttribute(o,""+h):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":h===!0?e.setAttribute(o,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?e.setAttribute(o,h):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?e.setAttribute(o,h):e.removeAttribute(o);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?e.removeAttribute(o):e.setAttribute(o,h);break;case"popover":ee("beforetoggle",e),ee("toggle",e),Wt(e,"popover",h);break;case"xlinkActuate":Pe(e,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Pe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Pe(e,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Pe(e,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Pe(e,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Pe(e,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Wt(e,"is",h);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Tr.get(o)||o,Wt(e,o,h))}}function wm(e,s,o,h,g,y){switch(o){case"style":vr(e,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(o=h.__html,o!=null){if(g.children!=null)throw Error(r(60));e.innerHTML=o}}break;case"children":typeof h=="string"?sn(e,h):(typeof h=="number"||typeof h=="bigint")&&sn(e,""+h);break;case"onScroll":h!=null&&ee("scroll",e);break;case"onScrollEnd":h!=null&&ee("scrollend",e);break;case"onClick":h!=null&&(e.onclick=Nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!eo.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(g=o.endsWith("Capture"),s=o.slice(2,g?o.length-7:void 0),y=e[Ke]||null,y=y!=null?y[o]:null,typeof y=="function"&&e.removeEventListener(s,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(s,h,g);break t}o in e?e[o]=h:h===!0?e.setAttribute(o,""):Wt(e,o,h)}}}function Dn(e,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ee("error",e),ee("load",e);var h=!1,g=!1,y;for(y in o)if(o.hasOwnProperty(y)){var A=o[y];if(A!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:we(e,s,y,A,o,null)}}g&&we(e,s,"srcSet",o.srcSet,o,null),h&&we(e,s,"src",o.src,o,null);return;case"input":ee("invalid",e);var M=y=A=g=null,j=null,J=null;for(h in o)if(o.hasOwnProperty(h)){var lt=o[h];if(lt!=null)switch(h){case"name":g=lt;break;case"type":A=lt;break;case"checked":j=lt;break;case"defaultChecked":J=lt;break;case"value":y=lt;break;case"defaultValue":M=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(r(137,s));break;default:we(e,s,h,lt,o,null)}}yr(e,y,M,j,J,A,g,!1);return;case"select":ee("invalid",e),h=A=y=null;for(g in o)if(o.hasOwnProperty(g)&&(M=o[g],M!=null))switch(g){case"value":y=M;break;case"defaultValue":A=M;break;case"multiple":h=M;default:we(e,s,g,M,o,null)}s=y,o=A,e.multiple=!!h,s!=null?ve(e,!!h,s,!1):o!=null&&ve(e,!!h,o,!0);return;case"textarea":ee("invalid",e),y=g=h=null;for(A in o)if(o.hasOwnProperty(A)&&(M=o[A],M!=null))switch(A){case"value":h=M;break;case"defaultValue":g=M;break;case"children":y=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:we(e,s,A,M,o,null)}oi(e,h,g,y);return;case"option":for(j in o)o.hasOwnProperty(j)&&(h=o[j],h!=null)&&(j==="selected"?e.selected=h&&typeof h!="function"&&typeof h!="symbol":we(e,s,j,h,o,null));return;case"dialog":ee("beforetoggle",e),ee("toggle",e),ee("cancel",e),ee("close",e);break;case"iframe":case"object":ee("load",e);break;case"video":case"audio":for(h=0;h<Gu.length;h++)ee(Gu[h],e);break;case"image":ee("error",e),ee("load",e);break;case"details":ee("toggle",e);break;case"embed":case"source":case"link":ee("error",e),ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(h=o[J],h!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:we(e,s,J,h,o,null)}return;default:if(js(s)){for(lt in o)o.hasOwnProperty(lt)&&(h=o[lt],h!==void 0&&wm(e,s,lt,h,o,void 0));return}}for(M in o)o.hasOwnProperty(M)&&(h=o[M],h!=null&&we(e,s,M,h,o,null))}function NA(e,s,o,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,A=null,M=null,j=null,J=null,lt=null;for(at in o){var ht=o[at];if(o.hasOwnProperty(at)&&ht!=null)switch(at){case"checked":break;case"value":break;case"defaultValue":j=ht;default:h.hasOwnProperty(at)||we(e,s,at,null,h,ht)}}for(var tt in h){var at=h[tt];if(ht=o[tt],h.hasOwnProperty(tt)&&(at!=null||ht!=null))switch(tt){case"type":y=at;break;case"name":g=at;break;case"checked":J=at;break;case"defaultChecked":lt=at;break;case"value":A=at;break;case"defaultValue":M=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(r(137,s));break;default:at!==ht&&we(e,s,tt,at,h,ht)}}Wr(e,A,M,j,J,lt,y,g);return;case"select":at=A=M=tt=null;for(y in o)if(j=o[y],o.hasOwnProperty(y)&&j!=null)switch(y){case"value":break;case"multiple":at=j;default:h.hasOwnProperty(y)||we(e,s,y,null,h,j)}for(g in h)if(y=h[g],j=o[g],h.hasOwnProperty(g)&&(y!=null||j!=null))switch(g){case"value":tt=y;break;case"defaultValue":M=y;break;case"multiple":A=y;default:y!==j&&we(e,s,g,y,h,j)}s=M,o=A,h=at,tt!=null?ve(e,!!o,tt,!1):!!h!=!!o&&(s!=null?ve(e,!!o,s,!0):ve(e,!!o,o?[]:"",!1));return;case"textarea":at=tt=null;for(M in o)if(g=o[M],o.hasOwnProperty(M)&&g!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:we(e,s,M,null,h,g)}for(A in h)if(g=h[A],y=o[A],h.hasOwnProperty(A)&&(g!=null||y!=null))switch(A){case"value":tt=g;break;case"defaultValue":at=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==y&&we(e,s,A,g,h,y)}Wi(e,tt,at);return;case"option":for(var Dt in o)tt=o[Dt],o.hasOwnProperty(Dt)&&tt!=null&&!h.hasOwnProperty(Dt)&&(Dt==="selected"?e.selected=!1:we(e,s,Dt,null,h,tt));for(j in h)tt=h[j],at=o[j],h.hasOwnProperty(j)&&tt!==at&&(tt!=null||at!=null)&&(j==="selected"?e.selected=tt&&typeof tt!="function"&&typeof tt!="symbol":we(e,s,j,tt,h,at));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zt in o)tt=o[zt],o.hasOwnProperty(zt)&&tt!=null&&!h.hasOwnProperty(zt)&&we(e,s,zt,null,h,tt);for(J in h)if(tt=h[J],at=o[J],h.hasOwnProperty(J)&&tt!==at&&(tt!=null||at!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(r(137,s));break;default:we(e,s,J,tt,h,at)}return;default:if(js(s)){for(var Ae in o)tt=o[Ae],o.hasOwnProperty(Ae)&&tt!==void 0&&!h.hasOwnProperty(Ae)&&wm(e,s,Ae,void 0,h,tt);for(lt in h)tt=h[lt],at=o[lt],!h.hasOwnProperty(lt)||tt===at||tt===void 0&&at===void 0||wm(e,s,lt,tt,h,at);return}}for(var K in o)tt=o[K],o.hasOwnProperty(K)&&tt!=null&&!h.hasOwnProperty(K)&&we(e,s,K,null,h,tt);for(ht in h)tt=h[ht],at=o[ht],!h.hasOwnProperty(ht)||tt===at||tt==null&&at==null||we(e,s,ht,tt,h,at)}function Wv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,o=performance.getEntriesByType("resource"),h=0;h<o.length;h++){var g=o[h],y=g.transferSize,A=g.initiatorType,M=g.duration;if(y&&M&&Wv(A)){for(A=0,M=g.responseEnd,h+=1;h<o.length;h++){var j=o[h],J=j.startTime;if(J>M)break;var lt=j.transferSize,ht=j.initiatorType;lt&&Wv(ht)&&(j=j.responseEnd,A+=lt*(j<M?1:(M-J)/(j-J)))}if(--h,s+=8*(y+A)/(g.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Am=null,xm=null;function Nh(e){return e.nodeType===9?e:e.ownerDocument}function Jv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $v(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function Cm(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Rm=null;function kA(){var e=window.event;return e&&e.type==="popstate"?e===Rm?!1:(Rm=e,!0):(Rm=null,!1)}var t0=typeof setTimeout=="function"?setTimeout:void 0,BA=typeof clearTimeout=="function"?clearTimeout:void 0,e0=typeof Promise=="function"?Promise:void 0,UA=typeof queueMicrotask=="function"?queueMicrotask:typeof e0<"u"?function(e){return e0.resolve(null).then(e).catch(jA)}:t0;function jA(e){setTimeout(function(){throw e})}function Aa(e){return e==="head"}function n0(e,s){var o=s,h=0;do{var g=o.nextSibling;if(e.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"||o==="/&"){if(h===0){e.removeChild(g),Nl(s);return}h--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")h++;else if(o==="html")Ku(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Ku(o);for(var y=o.firstChild;y;){var A=y.nextSibling,M=y.nodeName;y[Ki]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=A}}else o==="body"&&Ku(e.ownerDocument.body);o=g}while(o);Nl(s)}function i0(e,s){var o=e;e=0;do{var h=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=h}while(o)}function Mm(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Mm(o),Yr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function HA(e,s,o,h){for(;e.nodeType===1;){var g=o;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(h){if(!e[Ki])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==g.rel||e.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||e.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||e.getAttribute("title")!==(g.title==null?null:g.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(g.src==null?null:g.src)||e.getAttribute("type")!==(g.type==null?null:g.type)||e.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=os(e.nextSibling),e===null)break}return null}function FA(e,s,o){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=os(e.nextSibling),e===null))return null;return e}function s0(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=os(e.nextSibling),e===null))return null;return e}function Lm(e){return e.data==="$?"||e.data==="$~"}function Dm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function qA(e,s){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||o.readyState!=="loading")s();else{var h=function(){s(),o.removeEventListener("DOMContentLoaded",h)};o.addEventListener("DOMContentLoaded",h),e._reactRetry=h}}function os(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var Pm=null;function r0(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(s===0)return os(e.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}e=e.nextSibling}return null}function a0(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return e;s--}else o!=="/$"&&o!=="/&"||s++}e=e.previousSibling}return null}function o0(e,s,o){switch(s=Nh(o),e){case"html":if(e=s.documentElement,!e)throw Error(r(452));return e;case"head":if(e=s.head,!e)throw Error(r(453));return e;case"body":if(e=s.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ku(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);Yr(e)}var ls=new Map,l0=new Set;function zh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Br=gt.d;gt.d={f:GA,r:ZA,D:KA,C:YA,L:QA,m:XA,X:JA,S:WA,M:$A};function GA(){var e=Br.f(),s=Rh();return e||s}function ZA(e){var s=si(e);s!==null&&s.tag===5&&s.type==="form"?Ay(s):Br.r(e)}var Il=typeof document>"u"?null:document;function u0(e,s,o){var h=Il;if(h&&typeof s=="string"&&s){var g=Re(s);g='link[rel="'+e+'"][href="'+g+'"]',typeof o=="string"&&(g+='[crossorigin="'+o+'"]'),l0.has(g)||(l0.add(g),e={rel:e,crossOrigin:o,href:s},h.querySelector(g)===null&&(s=h.createElement("link"),Dn(s,"link",e),Ye(s),h.head.appendChild(s)))}}function KA(e){Br.D(e),u0("dns-prefetch",e,null)}function YA(e,s){Br.C(e,s),u0("preconnect",e,s)}function QA(e,s,o){Br.L(e,s,o);var h=Il;if(h&&e&&s){var g='link[rel="preload"][as="'+Re(s)+'"]';s==="image"&&o&&o.imageSrcSet?(g+='[imagesrcset="'+Re(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(g+='[imagesizes="'+Re(o.imageSizes)+'"]')):g+='[href="'+Re(e)+'"]';var y=g;switch(s){case"style":y=Ol(e);break;case"script":y=Vl(e)}ls.has(y)||(e=b({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:e,as:s},o),ls.set(y,e),h.querySelector(g)!==null||s==="style"&&h.querySelector(Yu(y))||s==="script"&&h.querySelector(Qu(y))||(s=h.createElement("link"),Dn(s,"link",e),Ye(s),h.head.appendChild(s)))}}function XA(e,s){Br.m(e,s);var o=Il;if(o&&e){var h=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+Re(h)+'"][href="'+Re(e)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Vl(e)}if(!ls.has(y)&&(e=b({rel:"modulepreload",href:e},s),ls.set(y,e),o.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Qu(y)))return}h=o.createElement("link"),Dn(h,"link",e),Ye(h),o.head.appendChild(h)}}}function WA(e,s,o){Br.S(e,s,o);var h=Il;if(h&&e){var g=Yi(h).hoistableStyles,y=Ol(e);s=s||"default";var A=g.get(y);if(!A){var M={loading:0,preload:null};if(A=h.querySelector(Yu(y)))M.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":s},o),(o=ls.get(y))&&Im(e,o);var j=A=h.createElement("link");Ye(j),Dn(j,"link",e),j._p=new Promise(function(J,lt){j.onload=J,j.onerror=lt}),j.addEventListener("load",function(){M.loading|=1}),j.addEventListener("error",function(){M.loading|=2}),M.loading|=4,kh(A,s,h)}A={type:"stylesheet",instance:A,count:1,state:M},g.set(y,A)}}}function JA(e,s){Br.X(e,s);var o=Il;if(o&&e){var h=Yi(o).hoistableScripts,g=Vl(e),y=h.get(g);y||(y=o.querySelector(Qu(g)),y||(e=b({src:e,async:!0},s),(s=ls.get(g))&&Om(e,s),y=o.createElement("script"),Ye(y),Dn(y,"link",e),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function $A(e,s){Br.M(e,s);var o=Il;if(o&&e){var h=Yi(o).hoistableScripts,g=Vl(e),y=h.get(g);y||(y=o.querySelector(Qu(g)),y||(e=b({src:e,async:!0,type:"module"},s),(s=ls.get(g))&&Om(e,s),y=o.createElement("script"),Ye(y),Dn(y,"link",e),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function c0(e,s,o,h){var g=(g=At.current)?zh(g):null;if(!g)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Ol(o.href),o=Yi(g).hoistableStyles,h=o.get(s),h||(h={type:"style",instance:null,count:0,state:null},o.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Ol(o.href);var y=Yi(g).hoistableStyles,A=y.get(e);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,A),(y=g.querySelector(Yu(e)))&&!y._p&&(A.instance=y,A.state.loading=5),ls.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ls.set(e,o),y||tx(g,e,o,A.state))),s&&h===null)throw Error(r(528,""));return A}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Vl(o),o=Yi(g).hoistableScripts,h=o.get(s),h||(h={type:"script",instance:null,count:0,state:null},o.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ol(e){return'href="'+Re(e)+'"'}function Yu(e){return'link[rel="stylesheet"]['+e+"]"}function h0(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function tx(e,s,o,h){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=e.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Dn(s,"link",o),Ye(s),e.head.appendChild(s))}function Vl(e){return'[src="'+Re(e)+'"]'}function Qu(e){return"script[async]"+e}function f0(e,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var h=e.querySelector('style[data-href~="'+Re(o.href)+'"]');if(h)return s.instance=h,Ye(h),h;var g=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return h=(e.ownerDocument||e).createElement("style"),Ye(h),Dn(h,"style",g),kh(h,o.precedence,e),s.instance=h;case"stylesheet":g=Ol(o.href);var y=e.querySelector(Yu(g));if(y)return s.state.loading|=4,s.instance=y,Ye(y),y;h=h0(o),(g=ls.get(g))&&Im(h,g),y=(e.ownerDocument||e).createElement("link"),Ye(y);var A=y;return A._p=new Promise(function(M,j){A.onload=M,A.onerror=j}),Dn(y,"link",h),s.state.loading|=4,kh(y,o.precedence,e),s.instance=y;case"script":return y=Vl(o.src),(g=e.querySelector(Qu(y)))?(s.instance=g,Ye(g),g):(h=o,(g=ls.get(y))&&(h=b({},o),Om(h,g)),e=e.ownerDocument||e,g=e.createElement("script"),Ye(g),Dn(g,"link",h),e.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,kh(h,o.precedence,e));return s.instance}function kh(e,s,o){for(var h=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,A=0;A<h.length;A++){var M=h[A];if(M.dataset.precedence===s)y=M;else if(y!==g)break}y?y.parentNode.insertBefore(e,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(e,s.firstChild))}function Im(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Om(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var Bh=null;function d0(e,s,o){if(Bh===null){var h=new Map,g=Bh=new Map;g.set(o,h)}else g=Bh,h=g.get(o),h||(h=new Map,g.set(o,h));if(h.has(e))return h;for(h.set(e,null),o=o.getElementsByTagName(e),g=0;g<o.length;g++){var y=o[g];if(!(y[Ki]||y[je]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(s)||"";A=e+A;var M=h.get(A);M?M.push(y):h.set(A,[y])}}return h}function m0(e,s,o){e=e.ownerDocument||e,e.head.insertBefore(o,s==="title"?e.querySelector("head > title"):null)}function ex(e,s,o){if(o===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(e=s.disabled,typeof s.precedence=="string"&&e==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function p0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function nx(e,s,o,h){if(o.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=Ol(h.href),y=s.querySelector(Yu(g));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=Uh.bind(e),s.then(e,e)),o.state.loading|=4,o.instance=y,Ye(y);return}y=s.ownerDocument||s,h=h0(h),(g=ls.get(g))&&Im(h,g),y=y.createElement("link"),Ye(y);var A=y;A._p=new Promise(function(M,j){A.onload=M,A.onerror=j}),Dn(y,"link",h),o.instance=y}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Uh.bind(e),s.addEventListener("load",o),s.addEventListener("error",o))}}var Vm=0;function ix(e,s){return e.stylesheets&&e.count===0&&Hh(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var h=setTimeout(function(){if(e.stylesheets&&Hh(e,e.stylesheets),e.unsuspend){var y=e.unsuspend;e.unsuspend=null,y()}},6e4+s);0<e.imgBytes&&Vm===0&&(Vm=62500*zA());var g=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Hh(e,e.stylesheets),e.unsuspend)){var y=e.unsuspend;e.unsuspend=null,y()}},(e.imgBytes>Vm?50:800)+s);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function Uh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var jh=null;function Hh(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,jh=new Map,s.forEach(sx,e),jh=null,Uh.call(e))}function sx(e,s){if(!(s.state.loading&4)){var o=jh.get(e);if(o)var h=o.get(null);else{o=new Map,jh.set(e,o);for(var g=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var A=g[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(o.set(A.dataset.precedence,A),h=A)}h&&o.set(null,h)}g=s.instance,A=g.getAttribute("data-precedence"),y=o.get(A)||h,y===h&&o.set(null,g),o.set(A,g),this.count++,h=Uh.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(g,e.firstChild)),s.state.loading|=4}}var Xu={$$typeof:it,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function rx(e,s,o,h,g,y,A,M,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zi(0),this.hiddenUpdates=Zi(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function g0(e,s,o,h,g,y,A,M,j,J,lt,ht){return e=new rx(e,s,o,A,j,J,lt,ht,M),s=1,y===!0&&(s|=24),y=jn(3,null,null,s),e.current=y,y.stateNode=e,s=md(),s.refCount++,e.pooledCache=s,s.refCount++,y.memoizedState={element:h,isDehydrated:o,cache:s},yd(y),e}function _0(e){return e?(e=Ar,e):Ar}function y0(e,s,o,h,g,y){g=_0(g),h.context===null?h.context=g:h.pendingContext=g,h=ma(s),h.payload={element:o},y=y===void 0?null:y,y!==null&&(h.callback=y),o=pa(e,h,s),o!==null&&(yi(o,e,s),Ru(o,e,s))}function v0(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<s?o:s}}function Nm(e,s){v0(e,s),(e=e.alternate)&&v0(e,s)}function T0(e){if(e.tag===13||e.tag===31){var s=ss(e,67108864);s!==null&&yi(s,e,67108864),Nm(e,67108864)}}function E0(e){if(e.tag===13||e.tag===31){var s=Bi();s=vn(s);var o=ss(e,s);o!==null&&yi(o,e,s),Nm(e,s)}}var Fh=!0;function ax(e,s,o,h){var g=rt.T;rt.T=null;var y=gt.p;try{gt.p=2,zm(e,s,o,h)}finally{gt.p=y,rt.T=g}}function ox(e,s,o,h){var g=rt.T;rt.T=null;var y=gt.p;try{gt.p=8,zm(e,s,o,h)}finally{gt.p=y,rt.T=g}}function zm(e,s,o,h){if(Fh){var g=km(h);if(g===null)bm(e,s,h,qh,o),b0(e,h);else if(ux(g,e,s,o,h))h.stopPropagation();else if(b0(e,h),s&4&&-1<lx.indexOf(e)){for(;g!==null;){var y=si(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=qi(y.pendingLanes);if(A!==0){var M=y;for(M.pendingLanes|=2,M.entangledLanes|=2;A;){var j=1<<31-Be(A);M.entanglements[1]|=j,A&=~j}nr(y),(ge&6)===0&&(xh=Rn()+500,qu(0))}}break;case 31:case 13:M=ss(y,2),M!==null&&yi(M,y,2),Rh(),Nm(y,2)}if(y=km(h),y===null&&bm(e,s,h,qh,o),y===g)break;g=y}g!==null&&h.stopPropagation()}else bm(e,s,h,null,o)}}function km(e){return e=zn(e),Bm(e)}var qh=null;function Bm(e){if(qh=null,e=xi(e),e!==null){var s=u(e);if(s===null)e=null;else{var o=s.tag;if(o===13){if(e=f(s),e!==null)return e;e=null}else if(o===31){if(e=p(s),e!==null)return e;e=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return qh=e,null}function S0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mr()){case pr:return 2;case Zr:return 8;case ms:case pu:return 32;case Qa:return 268435456;default:return 32}default:return 32}}var Um=!1,xa=null,Ca=null,Ra=null,Wu=new Map,Ju=new Map,Ma=[],lx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b0(e,s){switch(e){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":Wu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ju.delete(s.pointerId)}}function $u(e,s,o,h,g,y){return e===null||e.nativeEvent!==y?(e={blockedOn:s,domEventName:o,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},s!==null&&(s=si(s),s!==null&&T0(s)),e):(e.eventSystemFlags|=h,s=e.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),e)}function ux(e,s,o,h,g){switch(s){case"focusin":return xa=$u(xa,e,s,o,h,g),!0;case"dragenter":return Ca=$u(Ca,e,s,o,h,g),!0;case"mouseover":return Ra=$u(Ra,e,s,o,h,g),!0;case"pointerover":var y=g.pointerId;return Wu.set(y,$u(Wu.get(y)||null,e,s,o,h,g)),!0;case"gotpointercapture":return y=g.pointerId,Ju.set(y,$u(Ju.get(y)||null,e,s,o,h,g)),!0}return!1}function w0(e){var s=xi(e.target);if(s!==null){var o=u(s);if(o!==null){if(s=o.tag,s===13){if(s=f(o),s!==null){e.blockedOn=s,ni(e.priority,function(){E0(o)});return}}else if(s===31){if(s=p(o),s!==null){e.blockedOn=s,ni(e.priority,function(){E0(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gh(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var o=km(e.nativeEvent);if(o===null){o=e.nativeEvent;var h=new o.constructor(o.type,o);$r=h,o.target.dispatchEvent(h),$r=null}else return s=si(o),s!==null&&T0(s),e.blockedOn=o,!1;s.shift()}return!0}function A0(e,s,o){Gh(e)&&o.delete(s)}function cx(){Um=!1,xa!==null&&Gh(xa)&&(xa=null),Ca!==null&&Gh(Ca)&&(Ca=null),Ra!==null&&Gh(Ra)&&(Ra=null),Wu.forEach(A0),Ju.forEach(A0)}function Zh(e,s){e.blockedOn===s&&(e.blockedOn=null,Um||(Um=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,cx)))}var Kh=null;function x0(e){Kh!==e&&(Kh=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Kh===e&&(Kh=null);for(var s=0;s<e.length;s+=3){var o=e[s],h=e[s+1],g=e[s+2];if(typeof h!="function"){if(Bm(h||o)===null)continue;break}var y=si(o);y!==null&&(e.splice(s,3),s-=3,kd(y,{pending:!0,data:g,method:o.method,action:h},h,g))}}))}function Nl(e){function s(j){return Zh(j,e)}xa!==null&&Zh(xa,e),Ca!==null&&Zh(Ca,e),Ra!==null&&Zh(Ra,e),Wu.forEach(s),Ju.forEach(s);for(var o=0;o<Ma.length;o++){var h=Ma[o];h.blockedOn===e&&(h.blockedOn=null)}for(;0<Ma.length&&(o=Ma[0],o.blockedOn===null);)w0(o),o.blockedOn===null&&Ma.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(h=0;h<o.length;h+=3){var g=o[h],y=o[h+1],A=g[Ke]||null;if(typeof y=="function")A||x0(o);else if(A){var M=null;if(y&&y.hasAttribute("formAction")){if(g=y,A=y[Ke]||null)M=A.formAction;else if(Bm(g)!==null)continue}else M=A.action;typeof M=="function"?o[h+1]=M:(o.splice(h,3),h-=3),x0(o)}}}function C0(){function e(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(A){return g=A})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),h||setTimeout(o,20)}function o(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){h=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function jm(e){this._internalRoot=e}Yh.prototype.render=jm.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,h=Bi();y0(o,h,e,s,null,null)},Yh.prototype.unmount=jm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;y0(e.current,2,null,e,null,null),Rh(),s[wi]=null}};function Yh(e){this._internalRoot=e}Yh.prototype.unstable_scheduleHydration=function(e){if(e){var s=$a();e={blockedOn:null,target:e,priority:s};for(var o=0;o<Ma.length&&s!==0&&s<Ma[o].priority;o++);Ma.splice(o,0,e),o===0&&w0(e)}};var R0=t.version;if(R0!=="19.2.3")throw Error(r(527,R0,"19.2.3"));gt.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=v(s),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var hx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:rt,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{ei=Qh.inject(hx),$e=Qh}catch{}}return ec.createRoot=function(e,s){if(!l(e))throw Error(r(299));var o=!1,h="",g=Vy,y=Ny,A=zy;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=g0(e,1,!1,null,null,o,h,null,g,y,A,C0),e[wi]=s.current,Sm(e),new jm(s)},ec.hydrateRoot=function(e,s,o){if(!l(e))throw Error(r(299));var h=!1,g="",y=Vy,A=Ny,M=zy,j=null;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(A=o.onCaughtError),o.onRecoverableError!==void 0&&(M=o.onRecoverableError),o.formState!==void 0&&(j=o.formState)),s=g0(e,1,!0,s,o??null,h,g,j,y,A,M,C0),s.context=_0(null),o=s.current,h=Bi(),h=vn(h),g=ma(h),g.callback=null,pa(o,g,h),o=h,s.current.lanes=o,ps(s,o),nr(s),e[wi]=s.current,Sm(e),new Yh(s)},ec.version="19.2.3",ec}var k0;function Tx(){if(k0)return qm.exports;k0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),qm.exports=vx(),qm.exports}var Ex=Tx();const Sx=cg(Ex);function bx(i,t){const n=dt.useRef(t);dt.useEffect(function(){t!==n.current&&i.attributionControl!=null&&(n.current!=null&&i.attributionControl.removeAttribution(n.current),t!=null&&i.attributionControl.addAttribution(t)),n.current=t},[i,t])}d1();const wx=1;function Ax(i){return Object.freeze({__version:wx,map:i})}function m1(i,t){return Object.freeze({...i,...t})}const fg=dt.createContext(null);function dg(){const i=dt.use(fg);if(i==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return i}function p1(i){function t(n,r){const{instance:l,context:u}=i(n).current;dt.useImperativeHandle(r,()=>l);const{children:f}=n;return f==null?null:qo.createElement(fg,{value:u},f)}return dt.forwardRef(t)}function xx(i){function t(n,r){const{instance:l}=i(n).current;return dt.useImperativeHandle(r,()=>l),null}return dt.forwardRef(t)}function g1(i,t){const n=dt.useRef(void 0);dt.useEffect(function(){return t!=null&&i.instance.on(t),n.current=t,function(){n.current!=null&&i.instance.off(n.current),n.current=null}},[i,t])}function mg(i,t){const n=i.pane??t.pane;return n?{...i,pane:n}:i}var ic={exports:{}};var Cx=ic.exports,B0;function Rx(){return B0||(B0=1,(function(i,t){(function(n,r){r(t)})(Cx,(function(n){var r="1.9.4";function l(a){var c,m,T,w;for(m=1,T=arguments.length;m<T;m++){w=arguments[m];for(c in w)a[c]=w[c]}return a}var u=Object.create||(function(){function a(){}return function(c){return a.prototype=c,new a}})();function f(a,c){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var T=m.call(arguments,2);return function(){return a.apply(c,T.length?T.concat(m.call(arguments)):arguments)}}var p=0;function _(a){return"_leaflet_id"in a||(a._leaflet_id=++p),a._leaflet_id}function v(a,c,m){var T,w,R,N;return N=function(){T=!1,w&&(R.apply(m,w),w=!1)},R=function(){T?w=arguments:(a.apply(m,arguments),setTimeout(N,c),T=!0)},R}function E(a,c,m){var T=c[1],w=c[0],R=T-w;return a===T&&m?a:((a-w)%R+R)%R+w}function b(){return!1}function C(a,c){if(c===!1)return a;var m=Math.pow(10,c===void 0?6:c);return Math.round(a*m)/m}function D(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function U(a){return D(a).split(/\s+/)}function B(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?u(a.options):{});for(var m in c)a.options[m]=c[m];return a.options}function G(a,c,m){var T=[];for(var w in a)T.push(encodeURIComponent(m?w.toUpperCase():w)+"="+encodeURIComponent(a[w]));return(!c||c.indexOf("?")===-1?"?":"&")+T.join("&")}var Q=/\{ *([\w_ -]+) *\}/g;function st(a,c){return a.replace(Q,function(m,T){var w=c[T];if(w===void 0)throw new Error("No value provided for variable "+m);return typeof w=="function"&&(w=w(c)),w})}var it=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function vt(a,c){for(var m=0;m<a.length;m++)if(a[m]===c)return m;return-1}var _t="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Et(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var V=0;function P(a){var c=+new Date,m=Math.max(0,16-(c-V));return V=c+m,window.setTimeout(a,m)}var O=window.requestAnimationFrame||Et("RequestAnimationFrame")||P,F=window.cancelAnimationFrame||Et("CancelAnimationFrame")||Et("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function k(a,c,m){if(m&&O===P)a.call(c);else return O.call(window,f(a,c))}function Z(a){a&&F.call(window,a)}var z={__proto__:null,extend:l,create:u,bind:f,get lastId(){return p},stamp:_,throttle:v,wrapNum:E,falseFn:b,formatNum:C,trim:D,splitWords:U,setOptions:B,getParamString:G,template:st,isArray:it,indexOf:vt,emptyImageUrl:_t,requestFn:O,cancelFn:F,requestAnimFrame:k,cancelAnimFrame:Z};function Qt(){}Qt.extend=function(a){var c=function(){B(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=c.__super__=this.prototype,T=u(m);T.constructor=c,c.prototype=T;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(c[w]=this[w]);return a.statics&&l(c,a.statics),a.includes&&(xe(a.includes),l.apply(null,[T].concat(a.includes))),l(T,a),delete T.statics,delete T.includes,T.options&&(T.options=m.options?u(m.options):{},l(T.options,a.options)),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,N=T._initHooks.length;R<N;R++)T._initHooks[R].call(this)}},c},Qt.include=function(a){var c=this.prototype.options;return l(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},Qt.mergeOptions=function(a){return l(this.prototype.options,a),this},Qt.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function xe(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=it(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var rt={on:function(a,c,m){if(typeof a=="object")for(var T in a)this._on(T,a[T],c);else{a=U(a);for(var w=0,R=a.length;w<R;w++)this._on(a[w],c,m)}return this},off:function(a,c,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var T in a)this._off(T,a[T],c);else{a=U(a);for(var w=arguments.length===1,R=0,N=a.length;R<N;R++)w?this._off(a[R]):this._off(a[R],c,m)}return this},_on:function(a,c,m,T){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,m)===!1){m===this&&(m=void 0);var w={fn:c,ctx:m};T&&(w.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(w)}},_off:function(a,c,m){var T,w,R;if(this._events&&(T=this._events[a],!!T)){if(arguments.length===1){if(this._firingCount)for(w=0,R=T.length;w<R;w++)T[w].fn=b;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var N=this._listens(a,c,m);if(N!==!1){var Y=T[N];this._firingCount&&(Y.fn=b,this._events[a]=T=T.slice()),T.splice(N,1)}}},fire:function(a,c,m){if(!this.listens(a,m))return this;var T=l({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var w=this._events[a];if(w){this._firingCount=this._firingCount+1||1;for(var R=0,N=w.length;R<N;R++){var Y=w[R],$=Y.fn;Y.once&&this.off(a,$,Y.ctx),$.call(Y.ctx||this,T)}this._firingCount--}}return m&&this._propagateEvent(T),this},listens:function(a,c,m,T){typeof a!="string"&&console.warn('"string" type argument expected');var w=c;typeof c!="function"&&(T=!!c,w=void 0,m=void 0);var R=this._events&&this._events[a];if(R&&R.length&&this._listens(a,w,m)!==!1)return!0;if(T){for(var N in this._eventParents)if(this._eventParents[N].listens(a,c,m,T))return!0}return!1},_listens:function(a,c,m){if(!this._events)return!1;var T=this._events[a]||[];if(!c)return!!T.length;m===this&&(m=void 0);for(var w=0,R=T.length;w<R;w++)if(T[w].fn===c&&T[w].ctx===m)return w;return!1},once:function(a,c,m){if(typeof a=="object")for(var T in a)this._on(T,a[T],c,!0);else{a=U(a);for(var w=0,R=a.length;w<R;w++)this._on(a[w],c,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[_(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[_(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,l({layer:a.target,propagatedFrom:a.target},a),!0)}};rt.addEventListener=rt.on,rt.removeEventListener=rt.clearAllEventListeners=rt.off,rt.addOneTimeEventListener=rt.once,rt.fireEvent=rt.fire,rt.hasEventListeners=rt.listens;var gt=Qt.extend(rt);function pt(a,c,m){this.x=m?Math.round(a):a,this.y=m?Math.round(c):c}var Ht=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};pt.prototype={clone:function(){return new pt(this.x,this.y)},add:function(a){return this.clone()._add(bt(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(bt(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new pt(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new pt(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ht(this.x),this.y=Ht(this.y),this},distanceTo:function(a){a=bt(a);var c=a.x-this.x,m=a.y-this.y;return Math.sqrt(c*c+m*m)},equals:function(a){return a=bt(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=bt(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function bt(a,c,m){return a instanceof pt?a:it(a)?new pt(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new pt(a.x,a.y):new pt(a,c,m)}function H(a,c){if(a)for(var m=c?[a,c]:a,T=0,w=m.length;T<w;T++)this.extend(m[T])}H.prototype={extend:function(a){var c,m;if(!a)return this;if(a instanceof pt||typeof a[0]=="number"||"x"in a)c=m=bt(a);else if(a=ot(a),c=a.min,m=a.max,!c||!m)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=m.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return bt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return bt(this.min.x,this.max.y)},getTopRight:function(){return bt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,m;return typeof a[0]=="number"||a instanceof pt?a=bt(a):a=ot(a),a instanceof H?(c=a.min,m=a.max):c=m=a,c.x>=this.min.x&&m.x<=this.max.x&&c.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=ot(a);var c=this.min,m=this.max,T=a.min,w=a.max,R=w.x>=c.x&&T.x<=m.x,N=w.y>=c.y&&T.y<=m.y;return R&&N},overlaps:function(a){a=ot(a);var c=this.min,m=this.max,T=a.min,w=a.max,R=w.x>c.x&&T.x<m.x,N=w.y>c.y&&T.y<m.y;return R&&N},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,m=this.max,T=Math.abs(c.x-m.x)*a,w=Math.abs(c.y-m.y)*a;return ot(bt(c.x-T,c.y-w),bt(m.x+T,m.y+w))},equals:function(a){return a?(a=ot(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function ot(a,c){return!a||a instanceof H?a:new H(a,c)}function yt(a,c){if(a)for(var m=c?[a,c]:a,T=0,w=m.length;T<w;T++)this.extend(m[T])}yt.prototype={extend:function(a){var c=this._southWest,m=this._northEast,T,w;if(a instanceof xt)T=a,w=a;else if(a instanceof yt){if(T=a._southWest,w=a._northEast,!T||!w)return this}else return a?this.extend(At(a)||Tt(a)):this;return!c&&!m?(this._southWest=new xt(T.lat,T.lng),this._northEast=new xt(w.lat,w.lng)):(c.lat=Math.min(T.lat,c.lat),c.lng=Math.min(T.lng,c.lng),m.lat=Math.max(w.lat,m.lat),m.lng=Math.max(w.lng,m.lng)),this},pad:function(a){var c=this._southWest,m=this._northEast,T=Math.abs(c.lat-m.lat)*a,w=Math.abs(c.lng-m.lng)*a;return new yt(new xt(c.lat-T,c.lng-w),new xt(m.lat+T,m.lng+w))},getCenter:function(){return new xt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new xt(this.getNorth(),this.getWest())},getSouthEast:function(){return new xt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof xt||"lat"in a?a=At(a):a=Tt(a);var c=this._southWest,m=this._northEast,T,w;return a instanceof yt?(T=a.getSouthWest(),w=a.getNorthEast()):T=w=a,T.lat>=c.lat&&w.lat<=m.lat&&T.lng>=c.lng&&w.lng<=m.lng},intersects:function(a){a=Tt(a);var c=this._southWest,m=this._northEast,T=a.getSouthWest(),w=a.getNorthEast(),R=w.lat>=c.lat&&T.lat<=m.lat,N=w.lng>=c.lng&&T.lng<=m.lng;return R&&N},overlaps:function(a){a=Tt(a);var c=this._southWest,m=this._northEast,T=a.getSouthWest(),w=a.getNorthEast(),R=w.lat>c.lat&&T.lat<m.lat,N=w.lng>c.lng&&T.lng<m.lng;return R&&N},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=Tt(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Tt(a,c){return a instanceof yt?a:new yt(a,c)}function xt(a,c,m){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,m!==void 0&&(this.alt=+m)}xt.prototype={equals:function(a,c){if(!a)return!1;a=At(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+C(this.lat,a)+", "+C(this.lng,a)+")"},distanceTo:function(a){return Se.distance(this,At(a))},wrap:function(){return Se.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,m=c/Math.cos(Math.PI/180*this.lat);return Tt([this.lat-c,this.lng-m],[this.lat+c,this.lng+m])},clone:function(){return new xt(this.lat,this.lng,this.alt)}};function At(a,c,m){return a instanceof xt?a:it(a)&&typeof a[0]!="object"?a.length===3?new xt(a[0],a[1],a[2]):a.length===2?new xt(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new xt(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new xt(a,c,m)}var Ft={latLngToPoint:function(a,c){var m=this.projection.project(a),T=this.scale(c);return this.transformation._transform(m,T)},pointToLatLng:function(a,c){var m=this.scale(c),T=this.transformation.untransform(a,m);return this.projection.unproject(T)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,m=this.scale(a),T=this.transformation.transform(c.min,m),w=this.transformation.transform(c.max,m);return new H(T,w)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?E(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?E(a.lat,this.wrapLat,!0):a.lat,T=a.alt;return new xt(m,c,T)},wrapLatLngBounds:function(a){var c=a.getCenter(),m=this.wrapLatLng(c),T=c.lat-m.lat,w=c.lng-m.lng;if(T===0&&w===0)return a;var R=a.getSouthWest(),N=a.getNorthEast(),Y=new xt(R.lat-T,R.lng-w),$=new xt(N.lat-T,N.lng-w);return new yt(Y,$)}},Se=l({},Ft,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var m=Math.PI/180,T=a.lat*m,w=c.lat*m,R=Math.sin((c.lat-a.lat)*m/2),N=Math.sin((c.lng-a.lng)*m/2),Y=R*R+Math.cos(T)*Math.cos(w)*N*N,$=2*Math.atan2(Math.sqrt(Y),Math.sqrt(1-Y));return this.R*$}}),Ce=6378137,ds={R:Ce,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,m=this.MAX_LATITUDE,T=Math.max(Math.min(m,a.lat),-m),w=Math.sin(T*c);return new pt(this.R*a.lng*c,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(a){var c=180/Math.PI;return new xt((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:(function(){var a=Ce*Math.PI;return new H([-a,-a],[a,a])})()};function Os(a,c,m,T){if(it(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=m,this._d=T}Os.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new pt((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function ji(a,c,m,T){return new Os(a,c,m,T)}var Vs=l({},Se,{code:"EPSG:3857",projection:ds,transformation:(function(){var a=.5/(Math.PI*ds.R);return ji(a,.5,-a,.5)})()}),Hi=l({},Vs,{code:"EPSG:900913"});function Gr(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Ns(a,c){var m="",T,w,R,N,Y,$;for(T=0,R=a.length;T<R;T++){for(Y=a[T],w=0,N=Y.length;w<N;w++)$=Y[w],m+=(w?"L":"M")+$.x+" "+$.y;m+=c?Lt.svg?"z":"x":""}return m||"M0 0"}var dr=document.documentElement.style,zs="ActiveXObject"in window,Ge=zs&&!document.addEventListener,Ze="msLaunchUri"in navigator&&!("documentMode"in document),Fi=vn("webkit"),Xo=vn("android"),Ya=vn("android 2")||vn("android 3"),Rn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),mr=Xo&&vn("Google")&&Rn<537&&!("AudioNode"in window),pr=!!window.opera,Zr=!Ze&&vn("chrome"),ms=vn("gecko")&&!Fi&&!pr&&!zs,pu=!Zr&&vn("safari"),Qa=vn("phantom"),Xa="OTransition"in dr,Wo=navigator.platform.indexOf("Win")===0,ei=zs&&"transition"in dr,$e="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ya,Kn="MozPerspective"in dr,Be=!window.L_DISABLE_3D&&(ei||$e||Kn)&&!Xa&&!Qa,ks=typeof orientation<"u"||vn("mobile"),Kr=ks&&Fi,Jo=ks&&$e,Si=!window.PointerEvent&&window.MSPointerEvent,Bs=!!(window.PointerEvent||Si),Ue="ontouchstart"in window||!!window.TouchEvent,qi=!window.L_NO_TOUCH&&(Ue||Bs),Gi=ks&&pr,bi=ks&&ms,gu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,$o=(function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",b,c),window.removeEventListener("testPassiveEventSupport",b,c)}catch{}return a})(),Zi=(function(){return!!document.createElement("canvas").getContext})(),ps=!!(document.createElementNS&&Gr("svg").createSVGRect),_u=!!ps&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),gr=!ps&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}})(),Wa=navigator.platform.indexOf("Mac")===0,Ja=navigator.platform.indexOf("Linux")===0;function vn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Lt={ie:zs,ielt9:Ge,edge:Ze,webkit:Fi,android:Xo,android23:Ya,androidStock:mr,opera:pr,chrome:Zr,gecko:ms,safari:pu,phantom:Qa,opera12:Xa,win:Wo,ie3d:ei,webkit3d:$e,gecko3d:Kn,any3d:Be,mobile:ks,mobileWebkit:Kr,mobileWebkit3d:Jo,msPointer:Si,pointer:Bs,touch:qi,touchNative:Ue,mobileOpera:Gi,mobileGecko:bi,retina:gu,passiveEvents:$o,canvas:Zi,svg:ps,vml:gr,inlineSvg:_u,mac:Wa,linux:Ja},$a=Lt.msPointer?"MSPointerDown":"pointerdown",ni=Lt.msPointer?"MSPointerMove":"pointermove",ii=Lt.msPointer?"MSPointerUp":"pointerup",je=Lt.msPointer?"MSPointerCancel":"pointercancel",Ke={touchstart:$a,touchmove:ni,touchend:ii,touchcancel:je},wi={touchstart:Yi,touchmove:Tn,touchend:Tn,touchcancel:Tn},Ai={},tl=!1;function el(a,c,m){return c==="touchstart"&&si(),wi[c]?(m=wi[c].bind(this,m),a.addEventListener(Ke[c],m,!1),m):(console.warn("wrong event specified:",c),b)}function nl(a,c,m){if(!Ke[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(Ke[c],m,!1)}function Ki(a){Ai[a.pointerId]=a}function Yr(a){Ai[a.pointerId]&&(Ai[a.pointerId]=a)}function xi(a){delete Ai[a.pointerId]}function si(){tl||(document.addEventListener($a,Ki,!0),document.addEventListener(ni,Yr,!0),document.addEventListener(ii,xi,!0),document.addEventListener(je,xi,!0),tl=!0)}function Tn(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var m in Ai)c.touches.push(Ai[m]);c.changedTouches=[c],a(c)}}function Yi(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Oe(c),Tn(a,c)}function Ye(a){var c={},m,T;for(T in a)m=a[T],c[T]=m&&m.bind?m.bind(a):m;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var to=200;function eo(a,c){a.addEventListener("dblclick",c);var m=0,T;function w(R){if(R.detail!==1){T=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var N=qs(R);if(!(N.some(function($){return $ instanceof HTMLLabelElement&&$.attributes.for})&&!N.some(function($){return $ instanceof HTMLInputElement||$ instanceof HTMLSelectElement}))){var Y=Date.now();Y-m<=to?(T++,T===2&&c(Ye(R))):T=1,m=Y}}}return a.addEventListener("click",w),{dblclick:c,simDblclick:w}}function Qi(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var ri=yr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),gs=yr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Qr=gs==="webkitTransition"||gs==="OTransition"?gs+"End":"transitionend";function Xr(a){return typeof a=="string"?document.getElementById(a):a}function Us(a,c){var m=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!m||m==="auto")&&document.defaultView){var T=document.defaultView.getComputedStyle(a,null);m=T?T[c]:null}return m==="auto"?null:m}function Wt(a,c,m){var T=document.createElement(a);return T.className=c||"",m&&m.appendChild(T),T}function Jt(a){var c=a.parentNode;c&&c.removeChild(a)}function Pe(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Ie(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function Yn(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function _r(a,c){if(a.classList!==void 0)return a.classList.contains(c);var m=Xi(a);return m.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(m)}function Ct(a,c){if(a.classList!==void 0)for(var m=U(c),T=0,w=m.length;T<w;T++)a.classList.add(m[T]);else if(!_r(a,c)){var R=Xi(a);ai(a,(R?R+" ":"")+c)}}function ye(a,c){a.classList!==void 0?a.classList.remove(c):ai(a,D((" "+Xi(a)+" ").replace(" "+c+" "," ")))}function ai(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function Xi(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Re(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&Wr(a,c)}function Wr(a,c){var m=!1,T="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(T)}catch{if(c===1)return}c=Math.round(c*100),m?(m.Enabled=c!==100,m.Opacity=c):a.style.filter+=" progid:"+T+"(opacity="+c+")"}function yr(a){for(var c=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in c)return a[m];return!1}function Ci(a,c,m){var T=c||new pt(0,0);a.style[ri]=(Lt.ie3d?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(m?" scale("+m+")":"")}function ve(a,c){a._leaflet_pos=c,Lt.any3d?Ci(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function Wi(a){return a._leaflet_pos||new pt(0,0)}var oi,sn,Jr;if("onselectstart"in document)oi=function(){Nt(window,"selectstart",Oe)},sn=function(){he(window,"selectstart",Oe)};else{var _s=yr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);oi=function(){if(_s){var a=document.documentElement.style;Jr=a[_s],a[_s]="none"}},sn=function(){_s&&(document.documentElement.style[_s]=Jr,Jr=void 0)}}function vr(){Nt(window,"dragstart",Oe)}function js(){he(window,"dragstart",Oe)}var Tr,Ji;function Hs(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Nn(),Tr=a,Ji=a.style.outlineStyle,a.style.outlineStyle="none",Nt(window,"keydown",Nn))}function Nn(){Tr&&(Tr.style.outlineStyle=Ji,Tr=void 0,Ji=void 0,he(window,"keydown",Nn))}function $r(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function zn(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var Fs={__proto__:null,TRANSFORM:ri,TRANSITION:gs,TRANSITION_END:Qr,get:Xr,getStyle:Us,create:Wt,remove:Jt,empty:Pe,toFront:Ie,toBack:Yn,hasClass:_r,addClass:Ct,removeClass:ye,setClass:ai,getClass:Xi,setOpacity:Re,testProp:yr,setTransform:Ci,setPosition:ve,getPosition:Wi,get disableTextSelection(){return oi},get enableTextSelection(){return sn},disableImageDrag:vr,enableImageDrag:js,preventOutline:Hs,restoreOutline:Nn,getSizedParentNode:$r,getScale:zn};function Nt(a,c,m,T){if(c&&typeof c=="object")for(var w in c)kn(a,w,c[w],m);else{c=U(c);for(var R=0,N=c.length;R<N;R++)kn(a,c[R],m,T)}return this}var En="_leaflet_events";function he(a,c,m,T){if(arguments.length===1)ys(a),delete a[En];else if(c&&typeof c=="object")for(var w in c)vs(a,w,c[w],m);else if(c=U(c),arguments.length===2)ys(a,function(Y){return vt(c,Y)!==-1});else for(var R=0,N=c.length;R<N;R++)vs(a,c[R],m,T);return this}function ys(a,c){for(var m in a[En]){var T=m.split(/\d/)[0];(!c||c(T))&&vs(a,T,null,null,m)}}var Qn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function kn(a,c,m,T){var w=c+_(m)+(T?"_"+_(T):"");if(a[En]&&a[En][w])return this;var R=function(Y){return m.call(T||a,Y||window.event)},N=R;!Lt.touchNative&&Lt.pointer&&c.indexOf("touch")===0?R=el(a,c,R):Lt.touch&&c==="dblclick"?R=eo(a,R):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(Qn[c]||c,R,Lt.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(R=function(Y){Y=Y||window.event,Li(a,Y)&&N(Y)},a.addEventListener(Qn[c],R,!1)):a.addEventListener(c,N,!1):a.attachEvent("on"+c,R),a[En]=a[En]||{},a[En][w]=R}function vs(a,c,m,T,w){w=w||c+_(m)+(T?"_"+_(T):"");var R=a[En]&&a[En][w];if(!R)return this;!Lt.touchNative&&Lt.pointer&&c.indexOf("touch")===0?nl(a,c,R):Lt.touch&&c==="dblclick"?Qi(a,R):"removeEventListener"in a?a.removeEventListener(Qn[c]||c,R,!1):a.detachEvent("on"+c,R),a[En][w]=null}function ne(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function li(a){return kn(a,"wheel",ne),this}function Ts(a){return Nt(a,"mousedown touchstart dblclick contextmenu",ne),a._leaflet_disable_click=!0,this}function Oe(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Ri(a){return Oe(a),ne(a),this}function qs(a){if(a.composedPath)return a.composedPath();for(var c=[],m=a.target;m;)c.push(m),m=m.parentNode;return c}function $i(a,c){if(!c)return new pt(a.clientX,a.clientY);var m=zn(c),T=m.boundingClientRect;return new pt((a.clientX-T.left)/m.x-c.clientLeft,(a.clientY-T.top)/m.y-c.clientTop)}var Mi=Lt.linux&&Lt.chrome?window.devicePixelRatio:Lt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function rn(a){return Lt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Mi:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Li(a,c){var m=c.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var ts={__proto__:null,on:Nt,off:he,stopPropagation:ne,disableScrollPropagation:li,disableClickPropagation:Ts,preventDefault:Oe,stop:Ri,getPropagationPath:qs,getMousePosition:$i,getWheelDelta:rn,isExternalTarget:Li,addListener:Nt,removeListener:he},Es=gt.extend({run:function(a,c,m,T){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=Wi(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=k(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,m=this._duration*1e3;c<m?this._runFrame(this._easeOut(c/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var m=this._startPos.add(this._offset.multiplyBy(a));c&&m._round(),ve(this._el,m),this.fire("step")},_complete:function(){Z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Xt=gt.extend({options:{crs:Vs,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=B(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(At(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=gs&&Lt.any3d&&!Lt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Nt(this._proxy,Qr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,m){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(At(a),c,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=l({animate:m.animate},m.zoom),m.pan=l({animate:m.animate,duration:m.duration},m.pan));var T=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,m.zoom):this._tryAnimatedPan(a,m.pan);if(T)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(Lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(Lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,m){var T=this.getZoomScale(c),w=this.getSize().divideBy(2),R=a instanceof pt?a:this.latLngToContainerPoint(a),N=R.subtract(w).multiplyBy(1-1/T),Y=this.containerPointToLatLng(w.add(N));return this.setView(Y,c,{zoom:m})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():Tt(a);var m=bt(c.paddingTopLeft||c.padding||[0,0]),T=bt(c.paddingBottomRight||c.padding||[0,0]),w=this.getBoundsZoom(a,!1,m.add(T));if(w=typeof c.maxZoom=="number"?Math.min(c.maxZoom,w):w,w===1/0)return{center:a.getCenter(),zoom:w};var R=T.subtract(m).divideBy(2),N=this.project(a.getSouthWest(),w),Y=this.project(a.getNorthEast(),w),$=this.unproject(N.add(Y).divideBy(2).add(R),w);return{center:$,zoom:w}},fitBounds:function(a,c){if(a=Tt(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,c);return this.setView(m.center,m.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=bt(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Es,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Ct(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,m){if(m=m||{},m.animate===!1||!Lt.any3d)return this.setView(a,c,m);this._stop();var T=this.project(this.getCenter()),w=this.project(a),R=this.getSize(),N=this._zoom;a=At(a),c=c===void 0?N:c;var Y=Math.max(R.x,R.y),$=Y*this.getZoomScale(N,c),ct=w.distanceTo(T)||1,wt=1.42,It=wt*wt;function Kt(He){var xs=He?-1:1,Cr=He?$:Y,bu=$*$-Y*Y+xs*It*It*ct*ct,So=2*Cr*It*ct,bo=bu/So,tr=Math.sqrt(bo*bo+1)-bo,Cs=tr<1e-9?-18:Math.log(tr);return Cs}function pn(He){return(Math.exp(He)-Math.exp(-He))/2}function Qe(He){return(Math.exp(He)+Math.exp(-He))/2}function Jn(He){return pn(He)/Qe(He)}var fe=Kt(0);function de(He){return Y*(Qe(fe)/Qe(fe+wt*He))}function $t(He){return Y*(Qe(fe)*Jn(fe+wt*He)-pn(fe))/It}function Js(He){return 1-Math.pow(1-He,1.5)}var di=Date.now(),pl=(Kt(1)-fe)/wt,$s=m.duration?1e3*m.duration:1e3*pl*.8;function Su(){var He=(Date.now()-di)/$s,xs=Js(He)*pl;He<=1?(this._flyToFrame=k(Su,this),this._move(this.unproject(T.add(w.subtract(T).multiplyBy($t(xs)/ct)),N),this.getScaleZoom(Y/de(xs),N),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),Su.call(this),this},flyToBounds:function(a,c){var m=this._getBoundsCenterZoom(a,c);return this.flyTo(m.center,m.zoom,c)},setMaxBounds:function(a){return a=Tt(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var m=this.getCenter(),T=this._limitCenter(m,this._zoom,Tt(a));return m.equals(T)||this.panTo(T,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var m=bt(c.paddingTopLeft||c.padding||[0,0]),T=bt(c.paddingBottomRight||c.padding||[0,0]),w=this.project(this.getCenter()),R=this.project(a),N=this.getPixelBounds(),Y=ot([N.min.add(m),N.max.subtract(T)]),$=Y.getSize();if(!Y.contains(R)){this._enforcingBounds=!0;var ct=R.subtract(Y.getCenter()),wt=Y.extend(R).getSize().subtract($);w.x+=ct.x<0?-wt.x:wt.x,w.y+=ct.y<0?-wt.y:wt.y,this.panTo(this.unproject(w),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=l({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),T=c.divideBy(2).round(),w=m.divideBy(2).round(),R=T.subtract(w);return!R.x&&!R.y?this:(a.animate&&a.pan?this.panBy(R):(a.pan&&this._rawPanBy(R),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=l({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=f(this._handleGeolocationResponse,this),m=f(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,m,a):navigator.geolocation.getCurrentPosition(c,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,m=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,m=a.coords.longitude,T=new xt(c,m),w=T.toBounds(a.coords.accuracy*2),R=this._locateOptions;if(R.setView){var N=this.getBoundsZoom(w);this.setView(T,R.maxZoom?Math.min(N,R.maxZoom):N)}var Y={latlng:T,bounds:w,timestamp:a.timestamp};for(var $ in a.coords)typeof a.coords[$]=="number"&&(Y[$]=a.coords[$]);this.fire("locationfound",Y)}},addHandler:function(a,c){if(!c)return this;var m=this[a]=new c(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Jt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)Jt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),T=Wt("div",m,c||this._mapPane);return a&&(this._panes[a]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new yt(c,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,m){a=Tt(a),m=bt(m||[0,0]);var T=this.getZoom()||0,w=this.getMinZoom(),R=this.getMaxZoom(),N=a.getNorthWest(),Y=a.getSouthEast(),$=this.getSize().subtract(m),ct=ot(this.project(Y,T),this.project(N,T)).getSize(),wt=Lt.any3d?this.options.zoomSnap:1,It=$.x/ct.x,Kt=$.y/ct.y,pn=c?Math.max(It,Kt):Math.min(It,Kt);return T=this.getScaleZoom(pn,T),wt&&(T=Math.round(T/(wt/100))*(wt/100),T=c?Math.ceil(T/wt)*wt:Math.floor(T/wt)*wt),Math.max(w,Math.min(R,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new pt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var m=this._getTopLeftPoint(a,c);return new H(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var m=this.options.crs;return c=c===void 0?this._zoom:c,m.scale(a)/m.scale(c)},getScaleZoom:function(a,c){var m=this.options.crs;c=c===void 0?this._zoom:c;var T=m.zoom(a*m.scale(c));return isNaN(T)?1/0:T},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(At(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(bt(a),c)},layerPointToLatLng:function(a){var c=bt(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(At(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(At(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(Tt(a))},distance:function(a,c){return this.options.crs.distance(At(a),At(c))},containerPointToLayerPoint:function(a){return bt(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return bt(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(bt(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(At(a)))},mouseEventToContainerPoint:function(a){return $i(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=Xr(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Nt(c,"scroll",this._onScroll,this),this._containerId=_(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Lt.any3d,Ct(a,"leaflet-container"+(Lt.touch?" leaflet-touch":"")+(Lt.retina?" leaflet-retina":"")+(Lt.ielt9?" leaflet-oldie":"")+(Lt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Us(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ve(this._mapPane,new pt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ct(a.markerPane,"leaflet-zoom-hide"),Ct(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,m){ve(this._mapPane,new pt(0,0));var T=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var w=this._zoom!==c;this._moveStart(w,m)._move(a,c)._moveEnd(w),this.fire("viewreset"),T&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,m,T){c===void 0&&(c=this._zoom);var w=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),T?m&&m.pinch&&this.fire("zoom",m):((w||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){ve(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[_(this._container)]=this;var c=a?he:Nt;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Lt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Z(this._resizeRequest),this._resizeRequest=k(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var m=[],T,w=c==="mouseout"||c==="mouseover",R=a.target||a.srcElement,N=!1;R;){if(T=this._targets[_(R)],T&&(c==="click"||c==="preclick")&&this._draggableMoved(T)){N=!0;break}if(T&&T.listens(c,!0)&&(w&&!Li(R,a)||(m.push(T),w))||R===this._container)break;R=R.parentNode}return!m.length&&!N&&!w&&this.listens(c,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var m=a.type;m==="mousedown"&&Hs(c),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,m){if(a.type==="click"){var T=l({},a);T.type="preclick",this._fireDOMEvent(T,T.type,m)}var w=this._findEventTargets(a,c);if(m){for(var R=[],N=0;N<m.length;N++)m[N].listens(c,!0)&&R.push(m[N]);w=R.concat(w)}if(w.length){c==="contextmenu"&&Oe(a);var Y=w[0],$={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var ct=Y.getLatLng&&(!Y._radius||Y._radius<=10);$.containerPoint=ct?this.latLngToContainerPoint(Y.getLatLng()):this.mouseEventToContainerPoint(a),$.layerPoint=this.containerPointToLayerPoint($.containerPoint),$.latlng=ct?Y.getLatLng():this.layerPointToLatLng($.layerPoint)}for(N=0;N<w.length;N++)if(w[N].fire(c,$,!0),$.originalEvent._stopped||w[N].options.bubblingMouseEvents===!1&&vt(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return Wi(this._mapPane)||new pt(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var m=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var m=this.getSize()._divideBy(2);return this.project(a,c)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,m){var T=this._getNewPixelOrigin(m,c);return this.project(a,c)._subtract(T)},_latLngBoundsToNewLayerBounds:function(a,c,m){var T=this._getNewPixelOrigin(m,c);return ot([this.project(a.getSouthWest(),c)._subtract(T),this.project(a.getNorthWest(),c)._subtract(T),this.project(a.getSouthEast(),c)._subtract(T),this.project(a.getNorthEast(),c)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,m){if(!m)return a;var T=this.project(a,c),w=this.getSize().divideBy(2),R=new H(T.subtract(w),T.add(w)),N=this._getBoundsOffset(R,m,c);return Math.abs(N.x)<=1&&Math.abs(N.y)<=1?a:this.unproject(T.add(N),c)},_limitOffset:function(a,c){if(!c)return a;var m=this.getPixelBounds(),T=new H(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(T,c))},_getBoundsOffset:function(a,c,m){var T=ot(this.project(c.getNorthEast(),m),this.project(c.getSouthWest(),m)),w=T.min.subtract(a.min),R=T.max.subtract(a.max),N=this._rebound(w.x,-R.x),Y=this._rebound(w.y,-R.y);return new pt(N,Y)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),m=this.getMaxZoom(),T=Lt.any3d?this.options.zoomSnap:1;return T&&(a=Math.round(a/T)*T),Math.max(c,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var m=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,c),!0)},_createAnimProxy:function(){var a=this._proxy=Wt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var m=ri,T=this._proxy.style[m];Ci(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),T===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Jt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();Ci(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(c),w=this._getCenterOffset(a)._divideBy(1-1/T);return m.animate!==!0&&!this.getSize().contains(w)?!1:(k(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,m,T){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,Ct(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:T}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Gs(a,c){return new Xt(a,c)}var Sn=Qt.extend({options:{position:"topright"},initialize:function(a){B(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),m=this.getPosition(),T=a._controlCorners[m];return Ct(c,"leaflet-control"),m.indexOf("bottom")!==-1?T.insertBefore(c,T.firstChild):T.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Jt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Bn=function(a){return new Sn(a)};Xt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",m=this._controlContainer=Wt("div",c+"control-container",this._container);function T(w,R){var N=c+w+" "+c+R;a[w+R]=Wt("div",N,m)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)Jt(this._controlCorners[a]);Jt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Er=Sn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,m,T){return m<T?-1:T<m?1:0}},initialize:function(a,c,m){B(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var T in a)this._addLayer(a[T],T);for(T in c)this._addLayer(c[T],T,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Sn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(_(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Ct(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Ct(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=Wt("div",a),m=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Ts(c),li(c);var T=this._section=Wt("section",a+"-list");m&&(this._map.on("click",this.collapse,this),Nt(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=Wt("a",a+"-toggle",c);w.href="#",w.title="Layers",w.setAttribute("role","button"),Nt(w,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){Oe(R),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=Wt("div",a+"-base",T),this._separator=Wt("div",a+"-separator",T),this._overlaysList=Wt("div",a+"-overlays",T),c.appendChild(T)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&_(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:m}),this.options.sortLayers&&this._layers.sort(f(function(T,w){return this.options.sortFunction(T.layer,w.layer,T.name,w.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Pe(this._baseLayersList),Pe(this._overlaysList),this._layerControlInputs=[];var a,c,m,T,w=0;for(m=0;m<this._layers.length;m++)T=this._layers[m],this._addItem(T),c=c||T.overlay,a=a||!T.overlay,w+=T.overlay?0:1;return this.options.hideSingleBase&&(a=a&&w>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(_(a.target)),m=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,c)},_createRadioElement:function(a,c){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=m,T.firstChild},_addItem:function(a){var c=document.createElement("label"),m=this._map.hasLayer(a.layer),T;a.overlay?(T=document.createElement("input"),T.type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=m):T=this._createRadioElement("leaflet-base-layers_"+_(this),m),this._layerControlInputs.push(T),T.layerId=_(a.layer),Nt(T,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+a.name;var R=document.createElement("span");c.appendChild(R),R.appendChild(T),R.appendChild(w);var N=a.overlay?this._overlaysList:this._baseLayersList;return N.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,m,T=[],w=[];this._handlingClick=!0;for(var R=a.length-1;R>=0;R--)c=a[R],m=this._getLayer(c.layerId).layer,c.checked?T.push(m):c.checked||w.push(m);for(R=0;R<w.length;R++)this._map.hasLayer(w[R])&&this._map.removeLayer(w[R]);for(R=0;R<T.length;R++)this._map.hasLayer(T[R])||this._map.addLayer(T[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,m,T=this._map.getZoom(),w=a.length-1;w>=0;w--)c=a[w],m=this._getLayer(c.layerId).layer,c.disabled=m.options.minZoom!==void 0&&T<m.options.minZoom||m.options.maxZoom!==void 0&&T>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Nt(a,"click",Oe),this.expand();var c=this;setTimeout(function(){he(a,"click",Oe),c._preventClick=!1})}}),no=function(a,c,m){return new Er(a,c,m)},Ss=Sn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",m=Wt("div",c+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,c+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,c+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,m,T,w){var R=Wt("a",m,T);return R.innerHTML=a,R.href="#",R.title=c,R.setAttribute("role","button"),R.setAttribute("aria-label",c),Ts(R),Nt(R,"click",Ri),Nt(R,"click",w,this),Nt(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";ye(this._zoomInButton,c),ye(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Ct(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Ct(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});Xt.mergeOptions({zoomControl:!0}),Xt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ss,this.addControl(this.zoomControl))});var il=function(a){return new Ss(a)},io=Sn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",m=Wt("div",c),T=this.options;return this._addScales(T,c+"-line",m),a.on(T.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,m){a.metric&&(this._mScale=Wt("div",c,m)),a.imperial&&(this._iScale=Wt("div",c,m))},_update:function(){var a=this._map,c=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),m=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,m,c/a)},_updateImperial:function(a){var c=a*3.2808399,m,T,w;c>5280?(m=c/5280,T=this._getRoundNum(m),this._updateScale(this._iScale,T+" mi",T/m)):(w=this._getRoundNum(c),this._updateScale(this._iScale,w+" ft",w/c))},_updateScale:function(a,c,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),m=a/c;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,c*m}}),Sr=function(a){return new io(a)},so='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ta=Sn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Lt.inlineSvg?so+" ":"")+"Leaflet</a>"},initialize:function(a){B(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Wt("div","leaflet-control-attribution"),Ts(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});Xt.mergeOptions({attributionControl:!0}),Xt.addInitHook(function(){this.options.attributionControl&&new ta().addTo(this)});var ea=function(a){return new ta(a)};Sn.Layers=Er,Sn.Zoom=Ss,Sn.Scale=io,Sn.Attribution=ta,Bn.layers=no,Bn.zoom=il,Bn.scale=Sr,Bn.attribution=ea;var Xn=Qt.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Xn.addTo=function(a,c){return a.addHandler(c,this),this};var sl={Events:rt},Di=Lt.touch?"touchstart mousedown":"mousedown",Pi=gt.extend({options:{clickTolerance:3},initialize:function(a,c,m,T){B(this,T),this._element=a,this._dragStartTarget=c||a,this._preventOutline=m},enable:function(){this._enabled||(Nt(this._dragStartTarget,Di,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Pi._dragging===this&&this.finishDrag(!0),he(this._dragStartTarget,Di,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!_r(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Pi._dragging===this&&this.finishDrag();return}if(!(Pi._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Pi._dragging=this,this._preventOutline&&Hs(this._element),vr(),oi(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,m=$r(this._element);this._startPoint=new pt(c.clientX,c.clientY),this._startPos=Wi(this._element),this._parentScale=zn(m);var T=a.type==="mousedown";Nt(document,T?"mousemove":"touchmove",this._onMove,this),Nt(document,T?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,m=new pt(c.clientX,c.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Oe(a),this._moved||(this.fire("dragstart"),this._moved=!0,Ct(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ct(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),ve(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){ye(document.body,"leaflet-dragging"),this._lastTarget&&(ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),he(document,"mousemove touchmove",this._onMove,this),he(document,"mouseup touchend touchcancel",this._onUp,this),js(),sn();var c=this._moved&&this._moving;this._moving=!1,Pi._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function ro(a,c,m){var T,w=[1,4,2,8],R,N,Y,$,ct,wt,It,Kt;for(R=0,wt=a.length;R<wt;R++)a[R]._code=nt(a[R],c);for(Y=0;Y<4;Y++){for(It=w[Y],T=[],R=0,wt=a.length,N=wt-1;R<wt;N=R++)$=a[R],ct=a[N],$._code&It?ct._code&It||(Kt=X(ct,$,It,c,m),Kt._code=nt(Kt,c),T.push(Kt)):(ct._code&It&&(Kt=X(ct,$,It,c,m),Kt._code=nt(Kt,c),T.push(Kt)),T.push($));a=T}return a}function ao(a,c){var m,T,w,R,N,Y,$,ct,wt;if(!a||a.length===0)throw new Error("latlngs not passed");oe(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var It=At([0,0]),Kt=Tt(a),pn=Kt.getNorthWest().distanceTo(Kt.getSouthWest())*Kt.getNorthEast().distanceTo(Kt.getNorthWest());pn<1700&&(It=na(a));var Qe=a.length,Jn=[];for(m=0;m<Qe;m++){var fe=At(a[m]);Jn.push(c.project(At([fe.lat-It.lat,fe.lng-It.lng])))}for(Y=$=ct=0,m=0,T=Qe-1;m<Qe;T=m++)w=Jn[m],R=Jn[T],N=w.y*R.x-R.y*w.x,$+=(w.x+R.x)*N,ct+=(w.y+R.y)*N,Y+=N*3;Y===0?wt=Jn[0]:wt=[$/Y,ct/Y];var de=c.unproject(bt(wt));return At([de.lat+It.lat,de.lng+It.lng])}function na(a){for(var c=0,m=0,T=0,w=0;w<a.length;w++){var R=At(a[w]);c+=R.lat,m+=R.lng,T++}return At([c/T,m/T])}var Zs={__proto__:null,clipPolygon:ro,polygonCenter:ao,centroid:na};function bn(a,c){if(!c||!a.length)return a.slice();var m=c*c;return a=S(a,m),a=bs(a,m),a}function oo(a,c,m){return Math.sqrt(Bt(a,c,m,!0))}function rl(a,c,m){return Bt(a,c,m)}function bs(a,c){var m=a.length,T=typeof Uint8Array<"u"?Uint8Array:Array,w=new T(m);w[0]=w[m-1]=1,d(a,w,c,0,m-1);var R,N=[];for(R=0;R<m;R++)w[R]&&N.push(a[R]);return N}function d(a,c,m,T,w){var R=0,N,Y,$;for(Y=T+1;Y<=w-1;Y++)$=Bt(a[Y],a[T],a[w],!0),$>R&&(N=Y,R=$);R>m&&(c[N]=1,d(a,c,m,T,N),d(a,c,m,N,w))}function S(a,c){for(var m=[a[0]],T=1,w=0,R=a.length;T<R;T++)St(a[T],a[w])>c&&(m.push(a[T]),w=T);return w<R-1&&m.push(a[R-1]),m}var x;function I(a,c,m,T,w){var R=T?x:nt(a,m),N=nt(c,m),Y,$,ct;for(x=N;;){if(!(R|N))return[a,c];if(R&N)return!1;Y=R||N,$=X(a,c,Y,m,w),ct=nt($,m),Y===R?(a=$,R=ct):(c=$,N=ct)}}function X(a,c,m,T,w){var R=c.x-a.x,N=c.y-a.y,Y=T.min,$=T.max,ct,wt;return m&8?(ct=a.x+R*($.y-a.y)/N,wt=$.y):m&4?(ct=a.x+R*(Y.y-a.y)/N,wt=Y.y):m&2?(ct=$.x,wt=a.y+N*($.x-a.x)/R):m&1&&(ct=Y.x,wt=a.y+N*(Y.x-a.x)/R),new pt(ct,wt,w)}function nt(a,c){var m=0;return a.x<c.min.x?m|=1:a.x>c.max.x&&(m|=2),a.y<c.min.y?m|=4:a.y>c.max.y&&(m|=8),m}function St(a,c){var m=c.x-a.x,T=c.y-a.y;return m*m+T*T}function Bt(a,c,m,T){var w=c.x,R=c.y,N=m.x-w,Y=m.y-R,$=N*N+Y*Y,ct;return $>0&&(ct=((a.x-w)*N+(a.y-R)*Y)/$,ct>1?(w=m.x,R=m.y):ct>0&&(w+=N*ct,R+=Y*ct)),N=a.x-w,Y=a.y-R,T?N*N+Y*Y:new pt(w,R)}function oe(a){return!it(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function le(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),oe(a)}function Me(a,c){var m,T,w,R,N,Y,$,ct;if(!a||a.length===0)throw new Error("latlngs not passed");oe(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var wt=At([0,0]),It=Tt(a),Kt=It.getNorthWest().distanceTo(It.getSouthWest())*It.getNorthEast().distanceTo(It.getNorthWest());Kt<1700&&(wt=na(a));var pn=a.length,Qe=[];for(m=0;m<pn;m++){var Jn=At(a[m]);Qe.push(c.project(At([Jn.lat-wt.lat,Jn.lng-wt.lng])))}for(m=0,T=0;m<pn-1;m++)T+=Qe[m].distanceTo(Qe[m+1])/2;if(T===0)ct=Qe[0];else for(m=0,R=0;m<pn-1;m++)if(N=Qe[m],Y=Qe[m+1],w=N.distanceTo(Y),R+=w,R>T){$=(R-T)/w,ct=[Y.x-$*(Y.x-N.x),Y.y-$*(Y.y-N.y)];break}var fe=c.unproject(bt(ct));return At([fe.lat+wt.lat,fe.lng+wt.lng])}var ui={__proto__:null,simplify:bn,pointToSegmentDistance:oo,closestPointOnSegment:rl,clipSegment:I,_getEdgeIntersection:X,_getBitCode:nt,_sqClosestPointOnSegment:Bt,isFlat:oe,_flat:le,polylineCenter:Me},ci={project:function(a){return new pt(a.lng,a.lat)},unproject:function(a){return new xt(a.y,a.x)},bounds:new H([-180,-90],[180,90])},Wn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new H([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,m=this.R,T=a.lat*c,w=this.R_MINOR/m,R=Math.sqrt(1-w*w),N=R*Math.sin(T),Y=Math.tan(Math.PI/4-T/2)/Math.pow((1-N)/(1+N),R/2);return T=-m*Math.log(Math.max(Y,1e-10)),new pt(a.lng*c*m,T)},unproject:function(a){for(var c=180/Math.PI,m=this.R,T=this.R_MINOR/m,w=Math.sqrt(1-T*T),R=Math.exp(-a.y/m),N=Math.PI/2-2*Math.atan(R),Y=0,$=.1,ct;Y<15&&Math.abs($)>1e-7;Y++)ct=w*Math.sin(N),ct=Math.pow((1-ct)/(1+ct),w/2),$=Math.PI/2-2*Math.atan(R*ct)-N,N+=$;return new xt(N*c,a.x*c/m)}},Ii={__proto__:null,LonLat:ci,Mercator:Wn,SphericalMercator:ds},br=l({},Se,{code:"EPSG:3395",projection:Wn,transformation:(function(){var a=.5/(Math.PI*Wn.R);return ji(a,.5,-a,.5)})()}),wr=l({},Se,{code:"EPSG:4326",projection:ci,transformation:ji(1/180,1,-1/180,.5)}),ia=l({},Ft,{projection:ci,transformation:ji(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var m=c.lng-a.lng,T=c.lat-a.lat;return Math.sqrt(m*m+T*T)},infinite:!0});Ft.Earth=Se,Ft.EPSG3395=br,Ft.EPSG3857=Vs,Ft.EPSG900913=Hi,Ft.EPSG4326=wr,Ft.Simple=ia;var Oi=gt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[_(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[_(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var m=this.getEvents();c.on(m,this),this.once("remove",function(){c.off(m,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});Xt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=_(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=_(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return _(a)in this._layers},eachLayer:function(a,c){for(var m in this._layers)a.call(c,this._layers[m]);return this},_addLayers:function(a){a=a?it(a)?a:[a]:[];for(var c=0,m=a.length;c<m;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[_(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=_(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,m=this._getZoomSpan();for(var T in this._zoomBoundLayers){var w=this._zoomBoundLayers[T].options;a=w.minZoom===void 0?a:Math.min(a,w.minZoom),c=w.maxZoom===void 0?c:Math.max(c,w.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var sa=Oi.extend({initialize:function(a,c){B(this,c),this._layers={};var m,T;if(a)for(m=0,T=a.length;m<T;m++)this.addLayer(a[m])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),m,T;for(m in this._layers)T=this._layers[m],T[a]&&T[a].apply(T,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var m in this._layers)a.call(c,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return _(a)}}),ad=function(a,c){return new sa(a,c)},es=sa.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),sa.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),sa.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new yt;for(var c in this._layers){var m=this._layers[c];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),Gc=function(a,c){return new es(a,c)},ns=Qt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){B(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(m,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(T,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),T},_setIconStyles:function(a,c){var m=this.options,T=m[c+"Size"];typeof T=="number"&&(T=[T,T]);var w=bt(T),R=bt(c==="shadow"&&m.shadowAnchor||m.iconAnchor||w&&w.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(m.className||""),R&&(a.style.marginLeft=-R.x+"px",a.style.marginTop=-R.y+"px"),w&&(a.style.width=w.x+"px",a.style.height=w.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return Lt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function lo(a){return new ns(a)}var uo=ns.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof uo.imagePath!="string"&&(uo.imagePath=this._detectIconPath()),(this.options.imagePath||uo.imagePath)+ns.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(m,T,w){var R=T.exec(m);return R&&R[w]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Wt("div","leaflet-default-icon-path",document.body),c=Us(a,"background-image")||Us(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),co=Xn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Pi(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ct(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,m=c._map,T=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,R=Wi(c._icon),N=m.getPixelBounds(),Y=m.getPixelOrigin(),$=ot(N.min._subtract(Y).add(w),N.max._subtract(Y).subtract(w));if(!$.contains(R)){var ct=bt((Math.max($.max.x,R.x)-$.max.x)/(N.max.x-$.max.x)-(Math.min($.min.x,R.x)-$.min.x)/(N.min.x-$.min.x),(Math.max($.max.y,R.y)-$.max.y)/(N.max.y-$.max.y)-(Math.min($.min.y,R.y)-$.min.y)/(N.min.y-$.min.y)).multiplyBy(T);m.panBy(ct,{animate:!1}),this._draggable._newPos._add(ct),this._draggable._startPos._add(ct),ve(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=k(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(Z(this._panRequest),this._panRequest=k(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,m=c._shadow,T=Wi(c._icon),w=c._map.layerPointToLatLng(T);m&&ve(m,T),c._latlng=w,a.latlng=w,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){Z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),ho=Oi.extend({options:{icon:new uo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){B(this,c),this._latlng=At(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=At(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),T=!1;m!==this._icon&&(this._icon&&this._removeIcon(),T=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),Ct(m,c),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Nt(m,"focus",this._panOnFocus,this);var w=a.icon.createShadow(this._shadow),R=!1;w!==this._shadow&&(this._removeShadow(),R=!0),w&&(Ct(w,c),w.alt=""),this._shadow=w,a.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&R&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(this._icon,"focus",this._panOnFocus,this),Jt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Jt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&ve(this._icon,a),this._shadow&&ve(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Ct(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),co)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new co(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Re(this._icon,a),this._shadow&&Re(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,m=c.iconSize?bt(c.iconSize):bt(0,0),T=c.iconAnchor?bt(c.iconAnchor):bt(0,0);a.panInside(this._latlng,{paddingTopLeft:T,paddingBottomRight:m.subtract(T)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Zc(a,c){return new ho(a,c)}var is=Oi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return B(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ra=is.extend({options:{fill:!0,radius:10},initialize:function(a,c){B(this,c),this._latlng=At(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=At(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return is.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,m=this._clickTolerance(),T=[a+m,c+m];this._pxBounds=new H(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Kc(a,c){return new ra(a,c)}var al=ra.extend({initialize:function(a,c,m){if(typeof c=="number"&&(c=l({},m,{radius:c})),B(this,c),this._latlng=At(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new yt(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:is.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,m=this._map,T=m.options.crs;if(T.distance===Se.distance){var w=Math.PI/180,R=this._mRadius/Se.R/w,N=m.project([c+R,a]),Y=m.project([c-R,a]),$=N.add(Y).divideBy(2),ct=m.unproject($).lat,wt=Math.acos((Math.cos(R*w)-Math.sin(c*w)*Math.sin(ct*w))/(Math.cos(c*w)*Math.cos(ct*w)))/w;(isNaN(wt)||wt===0)&&(wt=R/Math.cos(Math.PI/180*c)),this._point=$.subtract(m.getPixelOrigin()),this._radius=isNaN(wt)?0:$.x-m.project([ct,a-wt]).x,this._radiusY=$.y-N.y}else{var It=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(It).x}this._updateBounds()}});function Yc(a,c,m){return new al(a,c,m)}var ws=is.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){B(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,m=null,T=Bt,w,R,N=0,Y=this._parts.length;N<Y;N++)for(var $=this._parts[N],ct=1,wt=$.length;ct<wt;ct++){w=$[ct-1],R=$[ct];var It=T(a,w,R,!0);It<c&&(c=It,m=T(a,w,R))}return m&&(m.distance=Math.sqrt(c)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Me(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=At(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new yt,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return oe(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],m=oe(a),T=0,w=a.length;T<w;T++)m?(c[T]=At(a[T]),this._bounds.extend(c[T])):c[T]=this._convertLatLngs(a[T]);return c},_project:function(){var a=new H;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new pt(a,a);this._rawPxBounds&&(this._pxBounds=new H([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,m){var T=a[0]instanceof xt,w=a.length,R,N;if(T){for(N=[],R=0;R<w;R++)N[R]=this._map.latLngToLayerPoint(a[R]),m.extend(N[R]);c.push(N)}else for(R=0;R<w;R++)this._projectLatlngs(a[R],c,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,m,T,w,R,N,Y,$;for(m=0,w=0,R=this._rings.length;m<R;m++)for($=this._rings[m],T=0,N=$.length;T<N-1;T++)Y=I($[T],$[T+1],a,T,!0),Y&&(c[w]=c[w]||[],c[w].push(Y[0]),(Y[1]!==$[T+1]||T===N-2)&&(c[w].push(Y[1]),w++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,m=0,T=a.length;m<T;m++)a[m]=bn(a[m],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var m,T,w,R,N,Y,$=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,R=this._parts.length;m<R;m++)for(Y=this._parts[m],T=0,N=Y.length,w=N-1;T<N;w=T++)if(!(!c&&T===0)&&oo(a,Y[w],Y[T])<=$)return!0;return!1}});function od(a,c){return new ws(a,c)}ws._flat=le;var aa=ws.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ao(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=ws.prototype._convertLatLngs.call(this,a),m=c.length;return m>=2&&c[0]instanceof xt&&c[0].equals(c[m-1])&&c.pop(),c},_setLatLngs:function(a){ws.prototype._setLatLngs.call(this,a),oe(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return oe(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,m=new pt(c,c);if(a=new H(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var T=0,w=this._rings.length,R;T<w;T++)R=ro(this._rings[T],a,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,m,T,w,R,N,Y,$,ct;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(R=0,$=this._parts.length;R<$;R++)for(m=this._parts[R],N=0,ct=m.length,Y=ct-1;N<ct;Y=N++)T=m[N],w=m[Y],T.y>a.y!=w.y>a.y&&a.x<(w.x-T.x)*(a.y-T.y)/(w.y-T.y)+T.x&&(c=!c);return c||ws.prototype._containsPoint.call(this,a,!0)}});function ld(a,c){return new aa(a,c)}var As=es.extend({initialize:function(a,c){B(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=it(a)?a:a.features,m,T,w;if(c){for(m=0,T=c.length;m<T;m++)w=c[m],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var R=this.options;if(R.filter&&!R.filter(a))return this;var N=wn(a,R);return N?(N.feature=ul(a),N.defaultOptions=N.options,this.resetStyle(N),R.onEachFeature&&R.onEachFeature(a,N),this.addLayer(N)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=l({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function wn(a,c){var m=a.type==="Feature"?a.geometry:a,T=m?m.coordinates:null,w=[],R=c&&c.pointToLayer,N=c&&c.coordsToLatLng||ol,Y,$,ct,wt;if(!T&&!m)return null;switch(m.type){case"Point":return Y=N(T),oa(R,a,Y,c);case"MultiPoint":for(ct=0,wt=T.length;ct<wt;ct++)Y=N(T[ct]),w.push(oa(R,a,Y,c));return new es(w);case"LineString":case"MultiLineString":return $=fo(T,m.type==="LineString"?0:1,N),new ws($,c);case"Polygon":case"MultiPolygon":return $=fo(T,m.type==="Polygon"?1:2,N),new aa($,c);case"GeometryCollection":for(ct=0,wt=m.geometries.length;ct<wt;ct++){var It=wn({geometry:m.geometries[ct],type:"Feature",properties:a.properties},c);It&&w.push(It)}return new es(w);case"FeatureCollection":for(ct=0,wt=m.features.length;ct<wt;ct++){var Kt=wn(m.features[ct],c);Kt&&w.push(Kt)}return new es(w);default:throw new Error("Invalid GeoJSON object.")}}function oa(a,c,m,T){return a?a(c,m):new ho(m,T&&T.markersInheritOptions&&T)}function ol(a){return new xt(a[1],a[0],a[2])}function fo(a,c,m){for(var T=[],w=0,R=a.length,N;w<R;w++)N=c?fo(a[w],c-1,m):(m||ol)(a[w]),T.push(N);return T}function ll(a,c){return a=At(a),a.alt!==void 0?[C(a.lng,c),C(a.lat,c),C(a.alt,c)]:[C(a.lng,c),C(a.lat,c)]}function mo(a,c,m,T){for(var w=[],R=0,N=a.length;R<N;R++)w.push(c?mo(a[R],oe(a[R])?0:c-1,m,T):ll(a[R],T));return!c&&m&&w.length>0&&w.push(w[0].slice()),w}function Ks(a,c){return a.feature?l({},a.feature,{geometry:c}):ul(c)}function ul(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Ys={toGeoJSON:function(a){return Ks(this,{type:"Point",coordinates:ll(this.getLatLng(),a)})}};ho.include(Ys),al.include(Ys),ra.include(Ys),ws.include({toGeoJSON:function(a){var c=!oe(this._latlngs),m=mo(this._latlngs,c?1:0,!1,a);return Ks(this,{type:(c?"Multi":"")+"LineString",coordinates:m})}}),aa.include({toGeoJSON:function(a){var c=!oe(this._latlngs),m=c&&!oe(this._latlngs[0]),T=mo(this._latlngs,m?2:c?1:0,!0,a);return c||(T=[T]),Ks(this,{type:(m?"Multi":"")+"Polygon",coordinates:T})}}),sa.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(m){c.push(m.toGeoJSON(a).geometry.coordinates)}),Ks(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var m=c==="GeometryCollection",T=[];return this.eachLayer(function(w){if(w.toGeoJSON){var R=w.toGeoJSON(a);if(m)T.push(R.geometry);else{var N=ul(R);N.type==="FeatureCollection"?T.push.apply(T,N.features):T.push(N)}}}),m?Ks(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});function cl(a,c){return new As(a,c)}var po=cl,la=Oi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,m){this._url=a,this._bounds=Tt(c),B(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ct(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Jt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Ie(this._image),this},bringToBack:function(){return this._map&&Yn(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=Tt(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:Wt("img");if(Ct(c,"leaflet-image-layer"),this._zoomAnimated&&Ct(c,"leaflet-zoom-animated"),this.options.className&&Ct(c,this.options.className),c.onselectstart=b,c.onmousemove=b,c.onload=f(this.fire,this,"load"),c.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Ci(this._image,m,c)},_reset:function(){var a=this._image,c=new H(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=c.getSize();ve(a,c.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){Re(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Qc=function(a,c,m){return new la(a,c,m)},Qs=la.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:Wt("video");if(Ct(c,"leaflet-image-layer"),this._zoomAnimated&&Ct(c,"leaflet-zoom-animated"),this.options.className&&Ct(c,this.options.className),c.onselectstart=b,c.onmousemove=b,c.onloadeddata=f(this.fire,this,"load"),a){for(var m=c.getElementsByTagName("source"),T=[],w=0;w<m.length;w++)T.push(m[w].src);this._url=m.length>0?T:[c.src];return}it(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var N=Wt("source");N.src=this._url[R],c.appendChild(N)}}});function ua(a,c,m){return new Qs(a,c,m)}var hl=la.extend({_initImage:function(){var a=this._image=this._url;Ct(a,"leaflet-image-layer"),this._zoomAnimated&&Ct(a,"leaflet-zoom-animated"),this.options.className&&Ct(a,this.options.className),a.onselectstart=b,a.onmousemove=b}});function Xc(a,c,m){return new hl(a,c,m)}var An=Oi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof xt||it(a))?(this._latlng=At(a),B(this,c)):(B(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Re(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Re(this._container,1),this.bringToFront(),this.options.interactive&&(Ct(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Re(this._container,0),this._removeTimeout=setTimeout(f(Jt,void 0,this._container),200)):Jt(this._container),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=At(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ie(this._container),this},bringToBack:function(){return this._map&&Yn(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof es){c=null;var m=this._source._layers;for(var T in m)if(m[T]._map){c=m[T];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=bt(this.options.offset),m=this._getAnchor();this._zoomAnimated?ve(this._container,a.add(m)):c=c.add(a).add(m);var T=this._containerBottom=-c.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=T+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Xt.include({_initOverlay:function(a,c,m,T){var w=c;return w instanceof a||(w=new a(T).setContent(c)),m&&w.setLatLng(m),w}}),Oi.include({_initOverlay:function(a,c,m,T){var w=m;return w instanceof a?(B(w,T),w._source=this):(w=c&&!T?c:new a(T,this),w.setContent(m)),w}});var go=An.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,An.prototype.openOn.call(this,a)},onAdd:function(a){An.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof is||this._source.on("preclick",ne))},onRemove:function(a){An.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof is||this._source.off("preclick",ne))},getEvents:function(){var a=An.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=Wt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=Wt("div",a+"-content-wrapper",c);if(this._contentNode=Wt("div",a+"-content",m),Ts(c),li(this._contentNode),Nt(c,"contextmenu",ne),this._tipContainer=Wt("div",a+"-tip-container",c),this._tip=Wt("div",a+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=Wt("a",a+"-close-button",c);T.setAttribute("role","button"),T.setAttribute("aria-label","Close popup"),T.href="#close",T.innerHTML='<span aria-hidden="true">&#215;</span>',Nt(T,"click",function(w){Oe(w),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),c.width=m+1+"px",c.whiteSpace="",c.height="";var T=a.offsetHeight,w=this.options.maxHeight,R="leaflet-popup-scrolled";w&&T>w?(c.height=w+"px",Ct(a,R)):ye(a,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();ve(this._container,c.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(Us(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+c,T=this._containerWidth,w=new pt(this._containerLeft,-m-this._containerBottom);w._add(Wi(this._container));var R=a.layerPointToContainerPoint(w),N=bt(this.options.autoPanPadding),Y=bt(this.options.autoPanPaddingTopLeft||N),$=bt(this.options.autoPanPaddingBottomRight||N),ct=a.getSize(),wt=0,It=0;R.x+T+$.x>ct.x&&(wt=R.x+T-ct.x+$.x),R.x-wt-Y.x<0&&(wt=R.x-Y.x),R.y+m+$.y>ct.y&&(It=R.y+m-ct.y+$.y),R.y-It-Y.y<0&&(It=R.y-Y.y),(wt||It)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([wt,It]))}},_getAnchor:function(){return bt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Wc=function(a,c){return new go(a,c)};Xt.mergeOptions({closePopupOnClick:!0}),Xt.include({openPopup:function(a,c,m){return this._initOverlay(go,a,c,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Oi.include({bindPopup:function(a,c){return this._popup=this._initOverlay(go,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof es||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Ri(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof is)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var _o=An.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){An.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){An.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=An.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Wt("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+_(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,m,T=this._map,w=this._container,R=T.latLngToContainerPoint(T.getCenter()),N=T.layerPointToContainerPoint(a),Y=this.options.direction,$=w.offsetWidth,ct=w.offsetHeight,wt=bt(this.options.offset),It=this._getAnchor();Y==="top"?(c=$/2,m=ct):Y==="bottom"?(c=$/2,m=0):Y==="center"?(c=$/2,m=ct/2):Y==="right"?(c=0,m=ct/2):Y==="left"?(c=$,m=ct/2):N.x<R.x?(Y="right",c=0,m=ct/2):(Y="left",c=$+(wt.x+It.x)*2,m=ct/2),a=a.subtract(bt(c,m,!0)).add(wt).add(It),ye(w,"leaflet-tooltip-right"),ye(w,"leaflet-tooltip-left"),ye(w,"leaflet-tooltip-top"),ye(w,"leaflet-tooltip-bottom"),Ct(w,"leaflet-tooltip-"+Y),ve(w,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Re(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return bt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ud=function(a,c){return new _o(a,c)};Xt.include({openTooltip:function(a,c,m){return this._initOverlay(_o,a,c,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Oi.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(_o,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[c](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof es||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(Nt(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Nt(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,m,T;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),T=this._map.containerPointToLayerPoint(m),c=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(c)}});var Jc=ns.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(Pe(c),c.appendChild(m.html)):c.innerHTML=m.html!==!1?m.html:"",m.bgPos){var T=bt(m.bgPos);c.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function cd(a){return new Jc(a)}ns.Default=uo;var ca=Oi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Lt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){B(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),Jt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ie(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Yn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof pt?a:new pt(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,m=-a(-1/0,1/0),T=0,w=c.length,R;T<w;T++)R=c[T].style.zIndex,c[T]!==this._container&&R&&(m=a(m,+R));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Lt.ielt9){Re(this._container,this.options.opacity);var a=+new Date,c=!1,m=!1;for(var T in this._tiles){var w=this._tiles[T];if(!(!w.current||!w.loaded)){var R=Math.min(1,(a-w.loaded)/200);Re(w.el,R),R<1?c=!0:(w.active?m=!0:this._onOpaqueTile(w),w.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),c&&(Z(this._fadeFrame),this._fadeFrame=k(this._updateOpacity,this))}},_onOpaqueTile:b,_initContainer:function(){this._container||(this._container=Wt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=c-Math.abs(a-m),this._onUpdateLevel(m)):(Jt(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var T=this._levels[a],w=this._map;return T||(T=this._levels[a]={},T.el=Wt("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=c,T.origin=w.project(w.unproject(w.getPixelOrigin()),a).round(),T.zoom=a,this._setZoomTransform(T,w.getCenter(),w.getZoom()),b(T.el.offsetWidth),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:b,_onRemoveLevel:b,_onCreateLevel:b,_pruneTiles:function(){if(this._map){var a,c,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var T=c.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)Jt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,m,T){var w=Math.floor(a/2),R=Math.floor(c/2),N=m-1,Y=new pt(+w,+R);Y.z=+N;var $=this._tileCoordsToKey(Y),ct=this._tiles[$];return ct&&ct.active?(ct.retain=!0,!0):(ct&&ct.loaded&&(ct.retain=!0),N>T?this._retainParent(w,R,N,T):!1)},_retainChildren:function(a,c,m,T){for(var w=2*a;w<2*a+2;w++)for(var R=2*c;R<2*c+2;R++){var N=new pt(w,R);N.z=m+1;var Y=this._tileCoordsToKey(N),$=this._tiles[Y];if($&&$.active){$.retain=!0;continue}else $&&$.loaded&&($.retain=!0);m+1<T&&this._retainChildren(w,R,m+1,T)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,m,T){var w=Math.round(c);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var R=this.options.updateWhenZooming&&w!==this._tileZoom;(!T||R)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,c)},_setZoomTransform:function(a,c,m){var T=this._map.getZoomScale(m,a.zoom),w=a.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(c,m)).round();Lt.any3d?Ci(a.el,w,T):ve(a.el,w)},_resetGrid:function(){var a=this._map,c=a.options.crs,m=this._tileSize=this.getTileSize(),T=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],T).x/m.x),Math.ceil(a.project([0,c.wrapLng[1]],T).x/m.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],T).y/m.x),Math.ceil(a.project([c.wrapLat[1],0],T).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,m=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),T=c.getZoomScale(m,this._tileZoom),w=c.project(a,this._tileZoom).floor(),R=c.getSize().divideBy(T*2);return new H(w.subtract(R),w.add(R))},_update:function(a){var c=this._map;if(c){var m=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var T=this._getTiledPixelBounds(a),w=this._pxBoundsToTileRange(T),R=w.getCenter(),N=[],Y=this.options.keepBuffer,$=new H(w.getBottomLeft().subtract([Y,-Y]),w.getTopRight().add([Y,-Y]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ct in this._tiles){var wt=this._tiles[ct].coords;(wt.z!==this._tileZoom||!$.contains(new pt(wt.x,wt.y)))&&(this._tiles[ct].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var It=w.min.y;It<=w.max.y;It++)for(var Kt=w.min.x;Kt<=w.max.x;Kt++){var pn=new pt(Kt,It);if(pn.z=this._tileZoom,!!this._isValidTile(pn)){var Qe=this._tiles[this._tileCoordsToKey(pn)];Qe?Qe.current=!0:N.push(pn)}}if(N.sort(function(fe,de){return fe.distanceTo(R)-de.distanceTo(R)}),N.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Jn=document.createDocumentFragment();for(Kt=0;Kt<N.length;Kt++)this._addTile(N[Kt],Jn);this._level.el.appendChild(Jn)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var m=this._globalTileRange;if(!c.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!c.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(a);return Tt(this.options.bounds).overlaps(T)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,m=this.getTileSize(),T=a.scaleBy(m),w=T.add(m),R=c.unproject(T,a.z),N=c.unproject(w,a.z);return[R,N]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),m=new yt(c[0],c[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),m=new pt(+c[0],+c[1]);return m.z=+c[2],m},_removeTile:function(a){var c=this._tiles[a];c&&(Jt(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Ct(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=b,a.onmousemove=b,Lt.ielt9&&this.options.opacity<1&&Re(a,this.options.opacity)},_addTile:function(a,c){var m=this._getTilePos(a),T=this._tileCoordsToKey(a),w=this.createTile(this._wrapCoords(a),f(this._tileReady,this,a));this._initTile(w),this.createTile.length<2&&k(f(this._tileReady,this,a,null,w)),ve(w,m),this._tiles[T]={el:w,coords:a,current:!0},c.appendChild(w),this.fire("tileloadstart",{tile:w,coords:a})},_tileReady:function(a,c,m){c&&this.fire("tileerror",{error:c,tile:m,coords:a});var T=this._tileCoordsToKey(a);m=this._tiles[T],m&&(m.loaded=+new Date,this._map._fadeAnimated?(Re(m.el,0),Z(this._fadeFrame),this._fadeFrame=k(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),c||(Ct(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Lt.ielt9||!this._map._fadeAnimated?k(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new pt(this._wrapX?E(a.x,this._wrapX):a.x,this._wrapY?E(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new H(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function $c(a){return new ca(a)}var Xs=ca.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=B(this,c),c.detectRetina&&Lt.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var m=document.createElement("img");return Nt(m,"load",f(this._tileOnLoad,this,c,m)),Nt(m,"error",f(this._tileOnError,this,c,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var c={r:Lt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=m),c["-y"]=m}return st(this._url,l(c,this.options))},_tileOnLoad:function(a,c){Lt.ielt9?setTimeout(f(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,m){var T=this.options.errorTileUrl;T&&c.getAttribute("src")!==T&&(c.src=T),a(m,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,m=this.options.zoomReverse,T=this.options.zoomOffset;return m&&(a=c-a),a+T},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=b,c.onerror=b,!c.complete)){c.src=_t;var m=this._tiles[a].coords;Jt(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:m})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",_t),ca.prototype._removeTile.call(this,a)},_tileReady:function(a,c,m){if(!(!this._map||m&&m.getAttribute("src")===_t))return ca.prototype._tileReady.call(this,a,c,m)}});function hi(a,c){return new Xs(a,c)}var yo=Xs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var m=l({},this.defaultWmsParams);for(var T in c)T in this.options||(m[T]=c[T]);c=B(this,c);var w=c.detectRetina&&Lt.retina?2:1,R=this.getTileSize();m.width=R.x*w,m.height=R.y*w,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Xs.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),m=this._crs,T=ot(m.project(c[0]),m.project(c[1])),w=T.min,R=T.max,N=(this._wmsVersion>=1.3&&this._crs===wr?[w.y,w.x,R.y,R.x]:[w.x,w.y,R.x,R.y]).join(","),Y=Xs.prototype.getTileUrl.call(this,a);return Y+G(this.wmsParams,Y,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+N},setParams:function(a,c){return l(this.wmsParams,a),c||this.redraw(),this}});function fi(a,c){return new yo(a,c)}Xs.WMS=yo,hi.wms=fi;var Un=Oi.extend({options:{padding:.1},initialize:function(a){B(this,a),_(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ct(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var m=this._map.getZoomScale(c,this._zoom),T=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,c),R=T.multiplyBy(-m).add(w).subtract(this._map._getNewPixelOrigin(a,c));Lt.any3d?Ci(this._container,R,m):ve(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),m=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new H(m,m.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),fl=Un.extend({options:{tolerance:0},getEvents:function(){var a=Un.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Un.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Nt(a,"mousemove",this._onMouseMove,this),Nt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Nt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){Z(this._redrawRequest),delete this._ctx,Jt(this._container),he(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Un.prototype._update.call(this);var a=this._bounds,c=this._container,m=a.getSize(),T=Lt.retina?2:1;ve(c,a.min),c.width=T*m.x,c.height=T*m.y,c.style.width=m.x+"px",c.style.height=m.y+"px",Lt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Un.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[_(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,m=c.next,T=c.prev;m?m.prev=T:this._drawLast=T,T?T.next=m:this._drawFirst=m,delete a._order,delete this._layers[_(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),m=[],T,w;for(w=0;w<c.length;w++){if(T=Number(c[w]),isNaN(T))return;m.push(T)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||k(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new H,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var m=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)a=T.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var m,T,w,R,N=a._parts,Y=N.length,$=this._ctx;if(Y){for($.beginPath(),m=0;m<Y;m++){for(T=0,w=N[m].length;T<w;T++)R=N[m][T],$[T?"lineTo":"moveTo"](R.x,R.y);c&&$.closePath()}this._fillStroke($,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,m=this._ctx,T=Math.max(Math.round(a._radius),1),w=(Math.max(Math.round(a._radiusY),1)||T)/T;w!==1&&(m.save(),m.scale(1,w)),m.beginPath(),m.arc(c.x,c.y/w,T,0,Math.PI*2,!1),w!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,c){var m=c.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),m,T,w=this._drawFirst;w;w=w.next)m=w.layer,m.options.interactive&&m._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(T=m);this._fireEvent(T?[T]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(ye(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var m,T,w=this._drawFirst;w;w=w.next)m=w.layer,m.options.interactive&&m._containsPoint(c)&&(T=m);T!==this._hoveredLayer&&(this._handleMouseOut(a),T&&(Ct(this._container,"leaflet-interactive"),this._fireEvent([T],a,"mouseover"),this._hoveredLayer=T)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,m){this._map._fireDOMEvent(c,m||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var m=c.next,T=c.prev;if(m)m.prev=T;else return;T?T.next=m:m&&(this._drawFirst=m),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var m=c.next,T=c.prev;if(T)T.next=m;else return;m?m.prev=T:T&&(this._drawLast=T),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function vo(a){return Lt.canvas?new fl(a):null}var Ws=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),yu={_initContainer:function(){this._container=Wt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Un.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=Ws("shape");Ct(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=Ws("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[_(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;Jt(c),a.removeInteractiveTarget(c),delete this._layers[_(a)]},_updateStyle:function(a){var c=a._stroke,m=a._fill,T=a.options,w=a._container;w.stroked=!!T.stroke,w.filled=!!T.fill,T.stroke?(c||(c=a._stroke=Ws("stroke")),w.appendChild(c),c.weight=T.weight+"px",c.color=T.color,c.opacity=T.opacity,T.dashArray?c.dashStyle=it(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=T.lineCap.replace("butt","flat"),c.joinstyle=T.lineJoin):c&&(w.removeChild(c),a._stroke=null),T.fill?(m||(m=a._fill=Ws("fill")),w.appendChild(m),m.color=T.fillColor||T.color,m.opacity=T.fillOpacity):m&&(w.removeChild(m),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),m=Math.round(a._radius),T=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+m+","+T+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){Ie(a._container)},_bringToBack:function(a){Yn(a._container)}},ss=Lt.vml?Ws:Gr,ha=Un.extend({_initContainer:function(){this._container=ss("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ss("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Jt(this._container),he(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Un.prototype._update.call(this);var a=this._bounds,c=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,m.setAttribute("width",c.x),m.setAttribute("height",c.y)),ve(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=ss("path");a.options.className&&Ct(c,a.options.className),a.options.interactive&&Ct(c,"leaflet-interactive"),this._updateStyle(a),this._layers[_(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){Jt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[_(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,m=a.options;c&&(m.stroke?(c.setAttribute("stroke",m.color),c.setAttribute("stroke-opacity",m.opacity),c.setAttribute("stroke-width",m.weight),c.setAttribute("stroke-linecap",m.lineCap),c.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?c.setAttribute("stroke-dasharray",m.dashArray):c.removeAttribute("stroke-dasharray"),m.dashOffset?c.setAttribute("stroke-dashoffset",m.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),m.fill?(c.setAttribute("fill",m.fillColor||m.color),c.setAttribute("fill-opacity",m.fillOpacity),c.setAttribute("fill-rule",m.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,Ns(a._parts,c))},_updateCircle:function(a){var c=a._point,m=Math.max(Math.round(a._radius),1),T=Math.max(Math.round(a._radiusY),1)||m,w="a"+m+","+T+" 0 1,0 ",R=a._empty()?"M0 0":"M"+(c.x-m)+","+c.y+w+m*2+",0 "+w+-m*2+",0 ";this._setPath(a,R)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){Ie(a._path)},_bringToBack:function(a){Yn(a._path)}});Lt.vml&&ha.include(yu);function To(a){return Lt.svg||Lt.vml?new ha(a):null}Xt.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&vo(a)||To(a)}});var Ar=aa.extend({initialize:function(a,c){aa.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=Tt(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function hd(a,c){return new Ar(a,c)}ha.create=ss,ha.pointsToPath=Ns,As.geometryToLayer=wn,As.coordsToLatLng=ol,As.coordsToLatLngs=fo,As.latLngToCoords=ll,As.latLngsToCoords=mo,As.getFeature=Ks,As.asFeature=ul,Xt.mergeOptions({boxZoom:!0});var jn=Xn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Nt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Jt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),oi(),vr(),this._startPoint=this._map.mouseEventToContainerPoint(a),Nt(document,{contextmenu:Ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Wt("div","leaflet-zoom-box",this._container),Ct(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new H(this._point,this._startPoint),m=c.getSize();ve(this._box,c.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(Jt(this._box),ye(this._container,"leaflet-crosshair")),sn(),js(),he(document,{contextmenu:Ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var c=new yt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Xt.addInitHook("addHandler","boxZoom",jn),Xt.mergeOptions({doubleClickZoom:!0});var dl=Xn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,m=c.getZoom(),T=c.options.zoomDelta,w=a.originalEvent.shiftKey?m-T:m+T;c.options.doubleClickZoom==="center"?c.setZoom(w):c.setZoomAround(a.containerPoint,w)}});Xt.addInitHook("addHandler","doubleClickZoom",dl),Xt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var rs=Xn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Pi(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Ct(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ye(this._map._container,"leaflet-grab"),ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=Tt(this._map.options.maxBounds);this._offsetLimit=ot(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),m=this._initialWorldOffset,T=this._draggable._newPos.x,w=(T-c+m)%a+c-m,R=(T+c+m)%a-c-m,N=Math.abs(w+m)<Math.abs(R+m)?w:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=N},_onDragEnd:function(a){var c=this._map,m=c.options,T=!m.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),T)c.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,N=m.easeLinearity,Y=w.multiplyBy(N/R),$=Y.distanceTo([0,0]),ct=Math.min(m.inertiaMaxSpeed,$),wt=Y.multiplyBy(ct/$),It=ct/(m.inertiaDeceleration*N),Kt=wt.multiplyBy(-It/2).round();!Kt.x&&!Kt.y?c.fire("moveend"):(Kt=c._limitOffset(Kt,c.options.maxBounds),k(function(){c.panBy(Kt,{duration:It,easeLinearity:N,noMoveStart:!0,animate:!0})}))}}});Xt.addInitHook("addHandler","dragging",rs),Xt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var vu=Xn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Nt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),he(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,m=a.scrollTop||c.scrollTop,T=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(T,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},m=this.keyCodes,T,w;for(T=0,w=m.left.length;T<w;T++)c[m.left[T]]=[-1*a,0];for(T=0,w=m.right.length;T<w;T++)c[m.right[T]]=[a,0];for(T=0,w=m.down.length;T<w;T++)c[m.down[T]]=[0,a];for(T=0,w=m.up.length;T<w;T++)c[m.up[T]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},m=this.keyCodes,T,w;for(T=0,w=m.zoomIn.length;T<w;T++)c[m.zoomIn[T]]=a;for(T=0,w=m.zoomOut.length;T<w;T++)c[m.zoomOut[T]]=-a},_addHooks:function(){Nt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){he(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,m=this._map,T;if(c in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(T=this._panKeys[c],a.shiftKey&&(T=bt(T).multiplyBy(3)),m.options.maxBounds&&(T=m._limitOffset(bt(T),m.options.maxBounds)),m.options.worldCopyJump){var w=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(T)));m.panTo(w)}else m.panBy(T)}else if(c in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;Ri(a)}}});Xt.addInitHook("addHandler","keyboard",vu),Xt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Eo=Xn.extend({addHooks:function(){Nt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=rn(a),m=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var T=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),T),Ri(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var T=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(T))))/Math.LN2,R=m?Math.ceil(w/m)*m:w,N=a._limitZoom(c+(this._delta>0?R:-R))-c;this._delta=0,this._startTime=null,N&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+N):a.setZoomAround(this._lastMousePos,c+N))}});Xt.addInitHook("addHandler","scrollWheelZoom",Eo);var xr=600;Xt.mergeOptions({tapHold:Lt.touchNative&&Lt.safari&&Lt.mobile,tapTolerance:15});var ml=Xn.extend({addHooks:function(){Nt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new pt(c.clientX,c.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Nt(document,"touchend",Oe),Nt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),xr),Nt(document,"touchend touchcancel contextmenu",this._cancel,this),Nt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){he(document,"touchend",Oe),he(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new pt(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});m._simulated=!0,c.target.dispatchEvent(m)}});Xt.addInitHook("addHandler","tapHold",ml),Xt.mergeOptions({touchZoom:Lt.touch,bounceAtZoomLimits:!0});var Tu=Xn.extend({addHooks:function(){Ct(this._map._container,"leaflet-touch-zoom"),Nt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var m=c.mouseEventToContainerPoint(a.touches[0]),T=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(m.add(T)._divideBy(2))),this._startDist=m.distanceTo(T),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Nt(document,"touchmove",this._onTouchMove,this),Nt(document,"touchend touchcancel",this._onTouchEnd,this),Oe(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,m=c.mouseEventToContainerPoint(a.touches[0]),T=c.mouseEventToContainerPoint(a.touches[1]),w=m.distanceTo(T)/this._startDist;if(this._zoom=c.getScaleZoom(w,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&w<1||this._zoom>c.getMaxZoom()&&w>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var R=m._add(T)._divideBy(2)._subtract(this._centerPoint);if(w===1&&R.x===0&&R.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),Z(this._animRequest);var N=f(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=k(N,this,!0),Oe(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Z(this._animRequest),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Xt.addInitHook("addHandler","touchZoom",Tu),Xt.BoxZoom=jn,Xt.DoubleClickZoom=dl,Xt.Drag=rs,Xt.Keyboard=vu,Xt.ScrollWheelZoom=Eo,Xt.TapHold=ml,Xt.TouchZoom=Tu,n.Bounds=H,n.Browser=Lt,n.CRS=Ft,n.Canvas=fl,n.Circle=al,n.CircleMarker=ra,n.Class=Qt,n.Control=Sn,n.DivIcon=Jc,n.DivOverlay=An,n.DomEvent=ts,n.DomUtil=Fs,n.Draggable=Pi,n.Evented=gt,n.FeatureGroup=es,n.GeoJSON=As,n.GridLayer=ca,n.Handler=Xn,n.Icon=ns,n.ImageOverlay=la,n.LatLng=xt,n.LatLngBounds=yt,n.Layer=Oi,n.LayerGroup=sa,n.LineUtil=ui,n.Map=Xt,n.Marker=ho,n.Mixin=sl,n.Path=is,n.Point=pt,n.PolyUtil=Zs,n.Polygon=aa,n.Polyline=ws,n.Popup=go,n.PosAnimation=Es,n.Projection=Ii,n.Rectangle=Ar,n.Renderer=Un,n.SVG=ha,n.SVGOverlay=hl,n.TileLayer=Xs,n.Tooltip=_o,n.Transformation=Os,n.Util=z,n.VideoOverlay=Qs,n.bind=f,n.bounds=ot,n.canvas=vo,n.circle=Yc,n.circleMarker=Kc,n.control=Bn,n.divIcon=cd,n.extend=l,n.featureGroup=Gc,n.geoJSON=cl,n.geoJson=po,n.gridLayer=$c,n.icon=lo,n.imageOverlay=Qc,n.latLng=At,n.latLngBounds=Tt,n.layerGroup=ad,n.map=Gs,n.marker=Zc,n.point=bt,n.polygon=ld,n.polyline=od,n.popup=Wc,n.rectangle=hd,n.setOptions=B,n.stamp=_,n.svg=To,n.svgOverlay=Xc,n.tileLayer=hi,n.tooltip=ud,n.transformation=ji,n.version=r,n.videoOverlay=ua;var Eu=window.L;n.noConflict=function(){return window.L=Eu,this},window.L=n}))})(ic,ic.exports)),ic.exports}var kf=Rx();const pg=cg(kf);function gg(i,t,n){return Object.freeze({instance:i,context:t,container:n})}function _g(i,t){return t==null?function(r,l){const u=dt.useRef(void 0);return u.current||(u.current=i(r,l)),u}:function(r,l){const u=dt.useRef(void 0);u.current||(u.current=i(r,l));const f=dt.useRef(r),{instance:p}=u.current;return dt.useEffect(function(){f.current!==r&&(t(p,r,f.current),f.current=r)},[p,r,t]),u}}function _1(i,t){dt.useEffect(function(){return(t.layerContainer??t.map).addLayer(i.instance),function(){t.layerContainer?.removeLayer(i.instance),t.map.removeLayer(i.instance)}},[t,i])}function y1(i){return function(n){const r=dg(),l=i(mg(n,r),r);return bx(r.map,n.attribution),g1(l.current,n.eventHandlers),_1(l.current,r),l}}function Mx(i,t){const n=dt.useRef(void 0);dt.useEffect(function(){if(t.pathOptions!==n.current){const l=t.pathOptions??{};i.instance.setStyle(l),n.current=l}},[i,t])}function Lx(i){return function(n){const r=dg(),l=i(mg(n,r),r);return g1(l.current,n.eventHandlers),_1(l.current,r),Mx(l.current,n),l}}function Dx(i,t){const n=_g(i,t),r=y1(n);return p1(r)}function Px(i,t){const n=_g(i,t),r=Lx(n);return p1(r)}function Ix(i,t){const n=_g(i,t),r=y1(n);return xx(r)}function Ox(i,t,n){const{opacity:r,zIndex:l}=t;r!=null&&r!==n.opacity&&i.setOpacity(r),l!=null&&l!==n.zIndex&&i.setZIndex(l)}function v1(){return dg().map}function Vx({bounds:i,boundsOptions:t,center:n,children:r,className:l,id:u,placeholder:f,style:p,whenReady:_,zoom:v,...E},b){const[C]=dt.useState({className:l,id:u,style:p}),[D,U]=dt.useState(null),B=dt.useRef(void 0);dt.useImperativeHandle(b,()=>D?.map??null,[D]);const G=dt.useCallback(st=>{if(st!==null&&!B.current){const it=new kf.Map(st,E);B.current=it,n!=null&&v!=null?it.setView(n,v):i!=null&&it.fitBounds(i,t),_!=null&&it.whenReady(_),U(Ax(it))}},[]);dt.useEffect(()=>()=>{D?.map.remove()},[D]);const Q=D?qo.createElement(fg,{value:D},r):f??null;return qo.createElement("div",{...C,ref:G},Q)}const Nx=dt.forwardRef(Vx),zx=Dx(function({position:t,...n},r){const l=new kf.Marker(t,n);return gg(l,m1(r,{overlayContainer:l}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),kx=Ix(function({url:t,...n},r){const l=new kf.TileLayer(t,mg(n,r));return gg(l,r)},function(t,n,r){Ox(t,n,r);const{url:l}=n;l!=null&&l!==r.url&&t.setUrl(l)});var sc={exports:{}},Bx=sc.exports,U0;function Ux(){return U0||(U0=1,(function(i,t){(function(n,r){r(t)})(Bx,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(u){L.Util.setOptions(this,u),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var f=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,f?this._withAnimation:this._noAnimation),this._markerCluster=f?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(u){if(u instanceof L.LayerGroup)return this.addLayers([u]);if(!u.getLatLng)return this._nonPointGroup.addLayer(u),this.fire("layeradd",{layer:u}),this;if(!this._map)return this._needsClustering.push(u),this.fire("layeradd",{layer:u}),this;if(this.hasLayer(u))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(u,this._maxZoom),this.fire("layeradd",{layer:u}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var f=u,p=this._zoom;if(u.__parent)for(;f.__parent._zoom>=p;)f=f.__parent;return this._currentShownBounds.contains(f.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(u,f):this._animationAddLayerNonAnimated(u,f)),this},removeLayer:function(u){return u instanceof L.LayerGroup?this.removeLayers([u]):u.getLatLng?this._map?u.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(u)),this._removeLayer(u,!0),this.fire("layerremove",{layer:u}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),u.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(u)&&(this._featureGroup.removeLayer(u),u.clusterShow&&u.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,u)&&this.hasLayer(u)&&this._needsRemoving.push({layer:u,latlng:u._latlng}),this.fire("layerremove",{layer:u}),this):(this._nonPointGroup.removeLayer(u),this.fire("layerremove",{layer:u}),this)},addLayers:function(u,f){if(!L.Util.isArray(u))return this.addLayer(u);var p=this._featureGroup,_=this._nonPointGroup,v=this.options.chunkedLoading,E=this.options.chunkInterval,b=this.options.chunkProgress,C=u.length,D=0,U=!0,B;if(this._map){var G=new Date().getTime(),Q=L.bind(function(){var it=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();D<C;D++){if(v&&D%200===0){var vt=new Date().getTime()-it;if(vt>E)break}if(B=u[D],B instanceof L.LayerGroup){U&&(u=u.slice(),U=!1),this._extractNonGroupLayers(B,u),C=u.length;continue}if(!B.getLatLng){_.addLayer(B),f||this.fire("layeradd",{layer:B});continue}if(!this.hasLayer(B)&&(this._addLayer(B,this._maxZoom),f||this.fire("layeradd",{layer:B}),B.__parent&&B.__parent.getChildCount()===2)){var _t=B.__parent.getAllChildMarkers(),Et=_t[0]===B?_t[1]:_t[0];p.removeLayer(Et)}}b&&b(D,C,new Date().getTime()-G),D===C?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(Q,this.options.chunkDelay)},this);Q()}else for(var st=this._needsClustering;D<C;D++){if(B=u[D],B instanceof L.LayerGroup){U&&(u=u.slice(),U=!1),this._extractNonGroupLayers(B,u),C=u.length;continue}if(!B.getLatLng){_.addLayer(B);continue}this.hasLayer(B)||st.push(B)}return this},removeLayers:function(u){var f,p,_=u.length,v=this._featureGroup,E=this._nonPointGroup,b=!0;if(!this._map){for(f=0;f<_;f++){if(p=u[f],p instanceof L.LayerGroup){b&&(u=u.slice(),b=!1),this._extractNonGroupLayers(p,u),_=u.length;continue}this._arraySplice(this._needsClustering,p),E.removeLayer(p),this.hasLayer(p)&&this._needsRemoving.push({layer:p,latlng:p._latlng}),this.fire("layerremove",{layer:p})}return this}if(this._unspiderfy){this._unspiderfy();var C=u.slice(),D=_;for(f=0;f<D;f++){if(p=C[f],p instanceof L.LayerGroup){this._extractNonGroupLayers(p,C),D=C.length;continue}this._unspiderfyLayer(p)}}for(f=0;f<_;f++){if(p=u[f],p instanceof L.LayerGroup){b&&(u=u.slice(),b=!1),this._extractNonGroupLayers(p,u),_=u.length;continue}if(!p.__parent){E.removeLayer(p),this.fire("layerremove",{layer:p});continue}this._removeLayer(p,!0,!0),this.fire("layerremove",{layer:p}),v.hasLayer(p)&&(v.removeLayer(p),p.clusterShow&&p.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(u){u.off(this._childMarkerEventHandlers,this),delete u.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var u=new L.LatLngBounds;this._topClusterLevel&&u.extend(this._topClusterLevel._bounds);for(var f=this._needsClustering.length-1;f>=0;f--)u.extend(this._needsClustering[f].getLatLng());return u.extend(this._nonPointGroup.getBounds()),u},eachLayer:function(u,f){var p=this._needsClustering.slice(),_=this._needsRemoving,v,E,b;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(p),E=p.length-1;E>=0;E--){for(v=!0,b=_.length-1;b>=0;b--)if(_[b].layer===p[E]){v=!1;break}v&&u.call(f,p[E])}this._nonPointGroup.eachLayer(u,f)},getLayers:function(){var u=[];return this.eachLayer(function(f){u.push(f)}),u},getLayer:function(u){var f=null;return u=parseInt(u,10),this.eachLayer(function(p){L.stamp(p)===u&&(f=p)}),f},hasLayer:function(u){if(!u)return!1;var f,p=this._needsClustering;for(f=p.length-1;f>=0;f--)if(p[f]===u)return!0;for(p=this._needsRemoving,f=p.length-1;f>=0;f--)if(p[f].layer===u)return!1;return!!(u.__parent&&u.__parent._group===this)||this._nonPointGroup.hasLayer(u)},zoomToShowLayer:function(u,f){var p=this._map;typeof f!="function"&&(f=function(){});var _=function(){(p.hasLayer(u)||p.hasLayer(u.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",_,this),this.off("animationend",_,this),p.hasLayer(u)?f():u.__parent._icon&&(this.once("spiderfied",f,this),u.__parent.spiderfy()))};u._icon&&this._map.getBounds().contains(u.getLatLng())?f():u.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",_,this),this._map.panTo(u.getLatLng())):(this._map.on("moveend",_,this),this.on("animationend",_,this),u.__parent.zoomToBounds())},onAdd:function(u){this._map=u;var f,p,_;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(u),this._nonPointGroup.addTo(u),this._gridClusters||this._generateInitialClusters(),this._maxLat=u.options.crs.projection.MAX_LATITUDE,f=0,p=this._needsRemoving.length;f<p;f++)_=this._needsRemoving[f],_.newlatlng=_.layer._latlng,_.layer._latlng=_.latlng;for(f=0,p=this._needsRemoving.length;f<p;f++)_=this._needsRemoving[f],this._removeLayer(_.layer,!0),_.layer._latlng=_.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),p=this._needsClustering,this._needsClustering=[],this.addLayers(p,!0)},onRemove:function(u){u.off("zoomend",this._zoomEnd,this),u.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(u){for(var f=u;f&&!f._icon;)f=f.__parent;return f||null},_arraySplice:function(u,f){for(var p=u.length-1;p>=0;p--)if(u[p]===f)return u.splice(p,1),!0},_removeFromGridUnclustered:function(u,f){for(var p=this._map,_=this._gridUnclustered,v=Math.floor(this._map.getMinZoom());f>=v&&_[f].removeObject(u,p.project(u.getLatLng(),f));f--);},_childMarkerDragStart:function(u){u.target.__dragStart=u.target._latlng},_childMarkerMoved:function(u){if(!this._ignoreMove&&!u.target.__dragStart){var f=u.target._popup&&u.target._popup.isOpen();this._moveChild(u.target,u.oldLatLng,u.latlng),f&&u.target.openPopup()}},_moveChild:function(u,f,p){u._latlng=f,this.removeLayer(u),u._latlng=p,this.addLayer(u)},_childMarkerDragEnd:function(u){var f=u.target.__dragStart;delete u.target.__dragStart,f&&this._moveChild(u.target,f,u.target._latlng)},_removeLayer:function(u,f,p){var _=this._gridClusters,v=this._gridUnclustered,E=this._featureGroup,b=this._map,C=Math.floor(this._map.getMinZoom());f&&this._removeFromGridUnclustered(u,this._maxZoom);var D=u.__parent,U=D._markers,B;for(this._arraySplice(U,u);D&&(D._childCount--,D._boundsNeedUpdate=!0,!(D._zoom<C));)f&&D._childCount<=1?(B=D._markers[0]===u?D._markers[1]:D._markers[0],_[D._zoom].removeObject(D,b.project(D._cLatLng,D._zoom)),v[D._zoom].addObject(B,b.project(B.getLatLng(),D._zoom)),this._arraySplice(D.__parent._childClusters,D),D.__parent._markers.push(B),B.__parent=D.__parent,D._icon&&(E.removeLayer(D),p||E.addLayer(B))):D._iconNeedsUpdate=!0,D=D.__parent;delete u.__parent},_isOrIsParent:function(u,f){for(;f;){if(u===f)return!0;f=f.parentNode}return!1},fire:function(u,f,p){if(f&&f.layer instanceof L.MarkerCluster){if(f.originalEvent&&this._isOrIsParent(f.layer._icon,f.originalEvent.relatedTarget))return;u="cluster"+u}L.FeatureGroup.prototype.fire.call(this,u,f,p)},listens:function(u,f){return L.FeatureGroup.prototype.listens.call(this,u,f)||L.FeatureGroup.prototype.listens.call(this,"cluster"+u,f)},_defaultIconCreateFunction:function(u){var f=u.getChildCount(),p=" marker-cluster-";return f<10?p+="small":f<100?p+="medium":p+="large",new L.DivIcon({html:"<div><span>"+f+"</span></div>",className:"marker-cluster"+p,iconSize:new L.Point(40,40)})},_bindEvents:function(){var u=this._map,f=this.options.spiderfyOnMaxZoom,p=this.options.showCoverageOnHover,_=this.options.zoomToBoundsOnClick,v=this.options.spiderfyOnEveryZoom;(f||_||v)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),p&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),u.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(u){var f=u.layer,p=f;if(!(u.type==="clusterkeypress"&&u.originalEvent&&u.originalEvent.keyCode!==13)){for(;p._childClusters.length===1;)p=p._childClusters[0];p._zoom===this._maxZoom&&p._childCount===f._childCount&&this.options.spiderfyOnMaxZoom?f.spiderfy():this.options.zoomToBoundsOnClick&&f.zoomToBounds(),this.options.spiderfyOnEveryZoom&&f.spiderfy(),u.originalEvent&&u.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(u){var f=this._map;this._inZoomAnimation||(this._shownPolygon&&f.removeLayer(this._shownPolygon),u.layer.getChildCount()>2&&u.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(u.layer.getConvexHull(),this.options.polygonOptions),f.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var u=this.options.spiderfyOnMaxZoom,f=this.options.showCoverageOnHover,p=this.options.zoomToBoundsOnClick,_=this.options.spiderfyOnEveryZoom,v=this._map;(u||p||_)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),f&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),v.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var u=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,u),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),u),this._currentShownBounds=u}},_generateInitialClusters:function(){var u=Math.ceil(this._map.getMaxZoom()),f=Math.floor(this._map.getMinZoom()),p=this.options.maxClusterRadius,_=p;typeof p!="function"&&(_=function(){return p}),this.options.disableClusteringAtZoom!==null&&(u=this.options.disableClusteringAtZoom-1),this._maxZoom=u,this._gridClusters={},this._gridUnclustered={};for(var v=u;v>=f;v--)this._gridClusters[v]=new L.DistanceGrid(_(v)),this._gridUnclustered[v]=new L.DistanceGrid(_(v));this._topClusterLevel=new this._markerCluster(this,f-1)},_addLayer:function(u,f){var p=this._gridClusters,_=this._gridUnclustered,v=Math.floor(this._map.getMinZoom()),E,b;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(u),u.on(this._childMarkerEventHandlers,this);f>=v;f--){E=this._map.project(u.getLatLng(),f);var C=p[f].getNearObject(E);if(C){C._addChild(u),u.__parent=C;return}if(C=_[f].getNearObject(E),C){var D=C.__parent;D&&this._removeLayer(C,!1);var U=new this._markerCluster(this,f,C,u);p[f].addObject(U,this._map.project(U._cLatLng,f)),C.__parent=U,u.__parent=U;var B=U;for(b=f-1;b>D._zoom;b--)B=new this._markerCluster(this,b,B),p[b].addObject(B,this._map.project(C.getLatLng(),b));D._addChild(B),this._removeFromGridUnclustered(C,f);return}_[f].addObject(u,E)}this._topClusterLevel._addChild(u),u.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(u){u instanceof L.MarkerCluster&&u._iconNeedsUpdate&&u._updateIcon()})},_enqueue:function(u){this._queue.push(u),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var u=0;u<this._queue.length;u++)this._queue[u].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var u=Math.round(this._map._zoom);this._processQueue(),this._zoom<u&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,u)):this._zoom>u?(this._animationStart(),this._animationZoomOut(this._zoom,u)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(u){var f=this._maxLat;return f!==void 0&&(u.getNorth()>=f&&(u._northEast.lat=1/0),u.getSouth()<=-f&&(u._southWest.lat=-1/0)),u},_animationAddLayerNonAnimated:function(u,f){if(f===u)this._featureGroup.addLayer(u);else if(f._childCount===2){f._addToMap();var p=f.getAllChildMarkers();this._featureGroup.removeLayer(p[0]),this._featureGroup.removeLayer(p[1])}else f._updateIcon()},_extractNonGroupLayers:function(u,f){var p=u.getLayers(),_=0,v;for(f=f||[];_<p.length;_++){if(v=p[_],v instanceof L.LayerGroup){this._extractNonGroupLayers(v,f);continue}f.push(v)}return f},_overrideMarkerIcon:function(u){var f=u.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[u]}});return f}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(u,f){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),u),this._topClusterLevel._recursivelyAddChildrenToMap(null,f,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(u,f){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),u),this._topClusterLevel._recursivelyAddChildrenToMap(null,f,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(u,f){this._animationAddLayerNonAnimated(u,f)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(u,f){var p=this._getExpandedVisibleBounds(),_=this._featureGroup,v=Math.floor(this._map.getMinZoom()),E;this._ignoreMove=!0,this._topClusterLevel._recursively(p,u,v,function(b){var C=b._latlng,D=b._markers,U;for(p.contains(C)||(C=null),b._isSingleParent()&&u+1===f?(_.removeLayer(b),b._recursivelyAddChildrenToMap(null,f,p)):(b.clusterHide(),b._recursivelyAddChildrenToMap(C,f,p)),E=D.length-1;E>=0;E--)U=D[E],p.contains(U._latlng)||_.removeLayer(U)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(p,f),_.eachLayer(function(b){!(b instanceof L.MarkerCluster)&&b._icon&&b.clusterShow()}),this._topClusterLevel._recursively(p,u,f,function(b){b._recursivelyRestoreChildPositions(f)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(p,u,v,function(b){_.removeLayer(b),b.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(u,f){this._animationZoomOutSingle(this._topClusterLevel,u-1,f),this._topClusterLevel._recursivelyAddChildrenToMap(null,f,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),u,this._getExpandedVisibleBounds())},_animationAddLayer:function(u,f){var p=this,_=this._featureGroup;_.addLayer(u),f!==u&&(f._childCount>2?(f._updateIcon(),this._forceLayout(),this._animationStart(),u._setPos(this._map.latLngToLayerPoint(f.getLatLng())),u.clusterHide(),this._enqueue(function(){_.removeLayer(u),u.clusterShow(),p._animationEnd()})):(this._forceLayout(),p._animationStart(),p._animationZoomOutSingle(f,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(u,f,p){var _=this._getExpandedVisibleBounds(),v=Math.floor(this._map.getMinZoom());u._recursivelyAnimateChildrenInAndAddSelfToMap(_,v,f+1,p);var E=this;this._forceLayout(),u._recursivelyBecomeVisible(_,p),this._enqueue(function(){if(u._childCount===1){var b=u._markers[0];this._ignoreMove=!0,b.setLatLng(b.getLatLng()),this._ignoreMove=!1,b.clusterShow&&b.clusterShow()}else u._recursively(_,p,v,function(C){C._recursivelyRemoveChildrenFromMap(_,v,f+1)});E._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(u){return new L.MarkerClusterGroup(u)};var l=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(u,f,p,_){L.Marker.prototype.initialize.call(this,p?p._cLatLng||p.getLatLng():new L.LatLng(0,0),{icon:this,pane:u.options.clusterPane}),this._group=u,this._zoom=f,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,p&&this._addChild(p),_&&this._addChild(_)},getAllChildMarkers:function(u,f){u=u||[];for(var p=this._childClusters.length-1;p>=0;p--)this._childClusters[p].getAllChildMarkers(u,f);for(var _=this._markers.length-1;_>=0;_--)f&&this._markers[_].__dragStart||u.push(this._markers[_]);return u},getChildCount:function(){return this._childCount},zoomToBounds:function(u){for(var f=this._childClusters.slice(),p=this._group._map,_=p.getBoundsZoom(this._bounds),v=this._zoom+1,E=p.getZoom(),b;f.length>0&&_>v;){v++;var C=[];for(b=0;b<f.length;b++)C=C.concat(f[b]._childClusters);f=C}_>v?this._group._map.setView(this._latlng,v):_<=E?this._group._map.setView(this._latlng,E+1):this._group._map.fitBounds(this._bounds,u)},getBounds:function(){var u=new L.LatLngBounds;return u.extend(this._bounds),u},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(u,f){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(u),u instanceof L.MarkerCluster?(f||(this._childClusters.push(u),u.__parent=this),this._childCount+=u._childCount):(f||this._markers.push(u),this._childCount++),this.__parent&&this.__parent._addChild(u,!0)},_setClusterCenter:function(u){this._cLatLng||(this._cLatLng=u._cLatLng||u._latlng)},_resetBounds:function(){var u=this._bounds;u._southWest&&(u._southWest.lat=1/0,u._southWest.lng=1/0),u._northEast&&(u._northEast.lat=-1/0,u._northEast.lng=-1/0)},_recalculateBounds:function(){var u=this._markers,f=this._childClusters,p=0,_=0,v=this._childCount,E,b,C,D;if(v!==0){for(this._resetBounds(),E=0;E<u.length;E++)C=u[E]._latlng,this._bounds.extend(C),p+=C.lat,_+=C.lng;for(E=0;E<f.length;E++)b=f[E],b._boundsNeedUpdate&&b._recalculateBounds(),this._bounds.extend(b._bounds),C=b._wLatLng,D=b._childCount,p+=C.lat*D,_+=C.lng*D;this._latlng=this._wLatLng=new L.LatLng(p/v,_/v),this._boundsNeedUpdate=!1}},_addToMap:function(u){u&&(this._backupLatlng=this._latlng,this.setLatLng(u)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(u,f,p){this._recursively(u,this._group._map.getMinZoom(),p-1,function(_){var v=_._markers,E,b;for(E=v.length-1;E>=0;E--)b=v[E],b._icon&&(b._setPos(f),b.clusterHide())},function(_){var v=_._childClusters,E,b;for(E=v.length-1;E>=0;E--)b=v[E],b._icon&&(b._setPos(f),b.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(u,f,p,_){this._recursively(u,_,f,function(v){v._recursivelyAnimateChildrenIn(u,v._group._map.latLngToLayerPoint(v.getLatLng()).round(),p),v._isSingleParent()&&p-1===_?(v.clusterShow(),v._recursivelyRemoveChildrenFromMap(u,f,p)):v.clusterHide(),v._addToMap()})},_recursivelyBecomeVisible:function(u,f){this._recursively(u,this._group._map.getMinZoom(),f,null,function(p){p.clusterShow()})},_recursivelyAddChildrenToMap:function(u,f,p){this._recursively(p,this._group._map.getMinZoom()-1,f,function(_){if(f!==_._zoom)for(var v=_._markers.length-1;v>=0;v--){var E=_._markers[v];p.contains(E._latlng)&&(u&&(E._backupLatlng=E.getLatLng(),E.setLatLng(u),E.clusterHide&&E.clusterHide()),_._group._featureGroup.addLayer(E))}},function(_){_._addToMap(u)})},_recursivelyRestoreChildPositions:function(u){for(var f=this._markers.length-1;f>=0;f--){var p=this._markers[f];p._backupLatlng&&(p.setLatLng(p._backupLatlng),delete p._backupLatlng)}if(u-1===this._zoom)for(var _=this._childClusters.length-1;_>=0;_--)this._childClusters[_]._restorePosition();else for(var v=this._childClusters.length-1;v>=0;v--)this._childClusters[v]._recursivelyRestoreChildPositions(u)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(u,f,p,_){var v,E;this._recursively(u,f-1,p-1,function(b){for(E=b._markers.length-1;E>=0;E--)v=b._markers[E],(!_||!_.contains(v._latlng))&&(b._group._featureGroup.removeLayer(v),v.clusterShow&&v.clusterShow())},function(b){for(E=b._childClusters.length-1;E>=0;E--)v=b._childClusters[E],(!_||!_.contains(v._latlng))&&(b._group._featureGroup.removeLayer(v),v.clusterShow&&v.clusterShow())})},_recursively:function(u,f,p,_,v){var E=this._childClusters,b=this._zoom,C,D;if(f<=b&&(_&&_(this),v&&b===p&&v(this)),b<f||b<p)for(C=E.length-1;C>=0;C--)D=E[C],D._boundsNeedUpdate&&D._recalculateBounds(),u.intersects(D._bounds)&&D._recursively(u,f,p,_,v)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var u=this.options.opacity;return this.setOpacity(0),this.options.opacity=u,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(u){this._cellSize=u,this._sqCellSize=u*u,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(u,f){var p=this._getCoord(f.x),_=this._getCoord(f.y),v=this._grid,E=v[_]=v[_]||{},b=E[p]=E[p]||[],C=L.Util.stamp(u);this._objectPoint[C]=f,b.push(u)},updateObject:function(u,f){this.removeObject(u),this.addObject(u,f)},removeObject:function(u,f){var p=this._getCoord(f.x),_=this._getCoord(f.y),v=this._grid,E=v[_]=v[_]||{},b=E[p]=E[p]||[],C,D;for(delete this._objectPoint[L.Util.stamp(u)],C=0,D=b.length;C<D;C++)if(b[C]===u)return b.splice(C,1),D===1&&delete E[p],!0},eachObject:function(u,f){var p,_,v,E,b,C,D,U=this._grid;for(p in U){b=U[p];for(_ in b)for(C=b[_],v=0,E=C.length;v<E;v++)D=u.call(f,C[v]),D&&(v--,E--)}},getNearObject:function(u){var f=this._getCoord(u.x),p=this._getCoord(u.y),_,v,E,b,C,D,U,B,G=this._objectPoint,Q=this._sqCellSize,st=null;for(_=p-1;_<=p+1;_++)if(b=this._grid[_],b){for(v=f-1;v<=f+1;v++)if(C=b[v],C)for(E=0,D=C.length;E<D;E++)U=C[E],B=this._sqDist(G[L.Util.stamp(U)],u),(B<Q||B<=Q&&st===null)&&(Q=B,st=U)}return st},_getCoord:function(u){var f=Math.floor(u/this._cellSize);return isFinite(f)?f:u},_sqDist:function(u,f){var p=f.x-u.x,_=f.y-u.y;return p*p+_*_}},(function(){L.QuickHull={getDistant:function(u,f){var p=f[1].lat-f[0].lat,_=f[0].lng-f[1].lng;return _*(u.lat-f[0].lat)+p*(u.lng-f[0].lng)},findMostDistantPointFromBaseLine:function(u,f){var p=0,_=null,v=[],E,b,C;for(E=f.length-1;E>=0;E--){if(b=f[E],C=this.getDistant(b,u),C>0)v.push(b);else continue;C>p&&(p=C,_=b)}return{maxPoint:_,newPoints:v}},buildConvexHull:function(u,f){var p=[],_=this.findMostDistantPointFromBaseLine(u,f);return _.maxPoint?(p=p.concat(this.buildConvexHull([u[0],_.maxPoint],_.newPoints)),p=p.concat(this.buildConvexHull([_.maxPoint,u[1]],_.newPoints)),p):[u[0]]},getConvexHull:function(u){var f=!1,p=!1,_=!1,v=!1,E=null,b=null,C=null,D=null,U=null,B=null,G;for(G=u.length-1;G>=0;G--){var Q=u[G];(f===!1||Q.lat>f)&&(E=Q,f=Q.lat),(p===!1||Q.lat<p)&&(b=Q,p=Q.lat),(_===!1||Q.lng>_)&&(C=Q,_=Q.lng),(v===!1||Q.lng<v)&&(D=Q,v=Q.lng)}p!==f?(B=b,U=E):(B=D,U=C);var st=[].concat(this.buildConvexHull([B,U],u),this.buildConvexHull([U,B],u));return st}}})(),L.MarkerCluster.include({getConvexHull:function(){var u=this.getAllChildMarkers(),f=[],p,_;for(_=u.length-1;_>=0;_--)p=u[_].getLatLng(),f.push(p);return L.QuickHull.getConvexHull(f)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var u=this.getAllChildMarkers(null,!0),f=this._group,p=f._map,_=p.latLngToLayerPoint(this._latlng),v;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?v=this._group.options.spiderfyShapePositions(u.length,_):u.length>=this._circleSpiralSwitchover?v=this._generatePointsSpiral(u.length,_):(_.y+=10,v=this._generatePointsCircle(u.length,_)),this._animationSpiderfy(u,v)}},unspiderfy:function(u){this._group._inZoomAnimation||(this._animationUnspiderfy(u),this._group._spiderfied=null)},_generatePointsCircle:function(u,f){var p=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+u),_=p/this._2PI,v=this._2PI/u,E=[],b,C;for(_=Math.max(_,35),E.length=u,b=0;b<u;b++)C=this._circleStartAngle+b*v,E[b]=new L.Point(f.x+_*Math.cos(C),f.y+_*Math.sin(C))._round();return E},_generatePointsSpiral:function(u,f){var p=this._group.options.spiderfyDistanceMultiplier,_=p*this._spiralLengthStart,v=p*this._spiralFootSeparation,E=p*this._spiralLengthFactor*this._2PI,b=0,C=[],D;for(C.length=u,D=u;D>=0;D--)D<u&&(C[D]=new L.Point(f.x+_*Math.cos(b),f.y+_*Math.sin(b))._round()),b+=v/_+D*5e-4,_+=E/b;return C},_noanimationUnspiderfy:function(){var u=this._group,f=u._map,p=u._featureGroup,_=this.getAllChildMarkers(null,!0),v,E;for(u._ignoreMove=!0,this.setOpacity(1),E=_.length-1;E>=0;E--)v=_[E],p.removeLayer(v),v._preSpiderfyLatlng&&(v.setLatLng(v._preSpiderfyLatlng),delete v._preSpiderfyLatlng),v.setZIndexOffset&&v.setZIndexOffset(0),v._spiderLeg&&(f.removeLayer(v._spiderLeg),delete v._spiderLeg);u.fire("unspiderfied",{cluster:this,markers:_}),u._ignoreMove=!1,u._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(u,f){var p=this._group,_=p._map,v=p._featureGroup,E=this._group.options.spiderLegPolylineOptions,b,C,D,U;for(p._ignoreMove=!0,b=0;b<u.length;b++)U=_.layerPointToLatLng(f[b]),C=u[b],D=new L.Polyline([this._latlng,U],E),_.addLayer(D),C._spiderLeg=D,C._preSpiderfyLatlng=C._latlng,C.setLatLng(U),C.setZIndexOffset&&C.setZIndexOffset(1e6),v.addLayer(C);this.setOpacity(.3),p._ignoreMove=!1,p.fire("spiderfied",{cluster:this,markers:u})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(u,f){var p=this,_=this._group,v=_._map,E=_._featureGroup,b=this._latlng,C=v.latLngToLayerPoint(b),D=L.Path.SVG,U=L.extend({},this._group.options.spiderLegPolylineOptions),B=U.opacity,G,Q,st,it,vt,_t;for(B===void 0&&(B=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),D?(U.opacity=0,U.className=(U.className||"")+" leaflet-cluster-spider-leg"):U.opacity=B,_._ignoreMove=!0,G=0;G<u.length;G++)Q=u[G],_t=v.layerPointToLatLng(f[G]),st=new L.Polyline([b,_t],U),v.addLayer(st),Q._spiderLeg=st,D&&(it=st._path,vt=it.getTotalLength()+.1,it.style.strokeDasharray=vt,it.style.strokeDashoffset=vt),Q.setZIndexOffset&&Q.setZIndexOffset(1e6),Q.clusterHide&&Q.clusterHide(),E.addLayer(Q),Q._setPos&&Q._setPos(C);for(_._forceLayout(),_._animationStart(),G=u.length-1;G>=0;G--)_t=v.layerPointToLatLng(f[G]),Q=u[G],Q._preSpiderfyLatlng=Q._latlng,Q.setLatLng(_t),Q.clusterShow&&Q.clusterShow(),D&&(st=Q._spiderLeg,it=st._path,it.style.strokeDashoffset=0,st.setStyle({opacity:B}));this.setOpacity(.3),_._ignoreMove=!1,setTimeout(function(){_._animationEnd(),_.fire("spiderfied",{cluster:p,markers:u})},200)},_animationUnspiderfy:function(u){var f=this,p=this._group,_=p._map,v=p._featureGroup,E=u?_._latLngToNewLayerPoint(this._latlng,u.zoom,u.center):_.latLngToLayerPoint(this._latlng),b=this.getAllChildMarkers(null,!0),C=L.Path.SVG,D,U,B,G,Q,st;for(p._ignoreMove=!0,p._animationStart(),this.setOpacity(1),U=b.length-1;U>=0;U--)D=b[U],D._preSpiderfyLatlng&&(D.closePopup(),D.setLatLng(D._preSpiderfyLatlng),delete D._preSpiderfyLatlng,st=!0,D._setPos&&(D._setPos(E),st=!1),D.clusterHide&&(D.clusterHide(),st=!1),st&&v.removeLayer(D),C&&(B=D._spiderLeg,G=B._path,Q=G.getTotalLength()+.1,G.style.strokeDashoffset=Q,B.setStyle({opacity:0})));p._ignoreMove=!1,setTimeout(function(){var it=0;for(U=b.length-1;U>=0;U--)D=b[U],D._spiderLeg&&it++;for(U=b.length-1;U>=0;U--)D=b[U],D._spiderLeg&&(D.clusterShow&&D.clusterShow(),D.setZIndexOffset&&D.setZIndexOffset(0),it>1&&v.removeLayer(D),_.removeLayer(D._spiderLeg),delete D._spiderLeg);p._animationEnd(),p.fire("unspiderfied",{cluster:f,markers:b})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(u){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(u))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(u){this._spiderfied&&this._spiderfied.unspiderfy(u)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(u){u._spiderLeg&&(this._featureGroup.removeLayer(u),u.clusterShow&&u.clusterShow(),u.setZIndexOffset&&u.setZIndexOffset(0),this._map.removeLayer(u._spiderLeg),delete u._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(u){return u?u instanceof L.MarkerClusterGroup?u=u._topClusterLevel.getAllChildMarkers():u instanceof L.LayerGroup?u=u._layers:u instanceof L.MarkerCluster?u=u.getAllChildMarkers():u instanceof L.Marker&&(u=[u]):u=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(u),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(u),this},_flagParentsIconsNeedUpdate:function(u){var f,p;for(f in u)for(p=u[f].__parent;p;)p._iconNeedsUpdate=!0,p=p.__parent},_refreshSingleMarkerModeMarkers:function(u){var f,p;for(f in u)p=u[f],this.hasLayer(p)&&p.setIcon(this._overrideMarkerIcon(p))}}),L.Marker.include({refreshIconOptions:function(u,f){var p=this.options.icon;return L.setOptions(p,u),this.setIcon(p),f&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=l,Object.defineProperty(n,"__esModule",{value:!0})})})(sc,sc.exports)),sc.exports}Ux();function yp(i){let t={},n={};const{children:r,...l}=i;return Object.entries(l).forEach(([u,f])=>{u.startsWith("on")?n={...n,[u]:f}:t={...t,[u]:f}}),{clusterProps:t,clusterEvents:n}}function jx(i,t){const{clusterProps:n,clusterEvents:r}=yp(i),l=new pg.MarkerClusterGroup(n);return Object.entries(r).forEach(([u,f])=>{const p=`cluster${u.substring(2).toLowerCase()}`;l.on(p,f)}),gg(l,m1(t,{layerContainer:l}))}var Hx=(i,t,n)=>{const{clusterProps:r,clusterEvents:l}=yp(t),{clusterProps:u,clusterEvents:f}=yp(n);Object.keys(r).forEach(p=>{r[p]!==u[p]&&(i.options[p]=r[p])}),Object.entries(f).forEach(([p,_])=>{const v=`cluster${p.substring(2).toLowerCase()}`;i.off(v,_)}),Object.entries(l).forEach(([p,_])=>{const v=`cluster${p.substring(2).toLowerCase()}`;i.on(v,_)})},Fx=Px(jx,Hx),qx=Fx;const Gx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",Zx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let T1=pg.icon({iconUrl:Gx,shadowUrl:Zx,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});pg.Marker.prototype.options.icon=T1;const Kx=i=>T1,Yx={width:"100%",height:"100vh",zIndex:1},Qx=[37.7749,-122.4194],Xx=({location:i})=>{const t=v1();return dt.useEffect(()=>{i&&t.flyTo([i.lat,i.lng],12)},[i,t]),null};function Wx({markers:i=[],onMapClick:t,onMarkerClick:n,centerLocation:r}){const l=()=>{const u=v1();return dt.useMemo(()=>{u.on("click",f=>{t({latLng:{lat:()=>f.latlng.lat,lng:()=>f.latlng.lng}})})},[u]),null};return et.jsxs(Nx,{center:Qx,zoom:10,style:Yx,zoomControl:!1,attributionControl:!1,children:[et.jsx(Xx,{location:r}),et.jsx(kx,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors  <a href="https://carto.com/attributions">CARTO</a>'}),et.jsx(l,{}),et.jsx(qx,{chunkedLoading:!0,children:i.map(u=>et.jsx(zx,{position:[u.location.lat,u.location.lng],icon:Kx(u.type),eventHandlers:{click:()=>n(u)}},u.id))})]})}const Jx=qo.memo(Wx);const $x=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tC=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),j0=i=>{const t=tC(i);return t.charAt(0).toUpperCase()+t.slice(1)},E1=(...i)=>i.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),eC=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var nC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const iC=dt.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:f,...p},_)=>dt.createElement("svg",{ref:_,...nC,width:t,height:t,stroke:i,strokeWidth:r?Number(n)*24/Number(t):n,className:E1("lucide",l),...!u&&!eC(p)&&{"aria-hidden":"true"},...p},[...f.map(([v,E])=>dt.createElement(v,E)),...Array.isArray(u)?u:[u]]));const Is=(i,t)=>{const n=dt.forwardRef(({className:r,...l},u)=>dt.createElement(iC,{ref:u,iconNode:t,className:E1(`lucide-${$x(j0(i))}`,`lucide-${i}`,r),...l}));return n.displayName=j0(i),n};const sC=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],S1=Is("bath",sC);const rC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],aC=Is("chevron-left",rC);const oC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],lC=Is("chevron-right",oC);const uC=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],b1=Is("droplets",uC);const cC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],hC=Is("map-pin",cC);const fC=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],dC=Is("navigation",fC);const mC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],pC=Is("send",mC);const gC=[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]],w1=Is("signal",gC);const _C=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],cc=Is("star",_C);const yC=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],A1=Is("wifi",yC);const vC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],TC=Is("x",vC),EC=({showVerifiedOnly:i,setShowVerifiedOnly:t})=>et.jsxs("div",{className:"glass-panel",style:{position:"absolute",top:"20px",left:"20px",zIndex:1010,padding:"12px 16px",display:"flex",alignItems:"center",gap:"12px"},children:[et.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[et.jsx("span",{style:{fontWeight:600,fontSize:"0.9rem"},children:"Freshness First"}),et.jsxs("label",{className:"switch",children:[et.jsx("input",{type:"checkbox",checked:i,onChange:n=>t(n.target.checked)}),et.jsx("span",{className:"slider round"})]})]}),et.jsx("style",{children:`
        /* Toggle Switch */
        .switch {
          position: relative;
          display: inline-block;
          width: 40px;
          height: 24px;
        }
        .switch input { 
          opacity: 0;
          width: 0;
          height: 0;
        }
        .slider {
          position: absolute;
          cursor: pointer;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: var(--color-bg-main);
          transition: .4s;
          border: 1px solid rgba(255,255,255,0.2);
        }
        .slider:before {
          position: absolute;
          content: "";
          height: 16px;
          width: 16px;
          left: 3px;
          bottom: 3px;
          background-color: white;
          transition: .4s;
          border-radius: 50%;
        }
        input:checked + .slider {
          background-color: var(--color-accent);
        }
        input:checked + .slider:before {
          transform: translateX(16px);
        }
        .slider.round {
          border-radius: 34px;
        }
      `})]}),yg=dt.createContext({});function vg(i){const t=dt.useRef(null);return t.current===null&&(t.current=i()),t.current}const Tg=typeof window<"u",x1=Tg?dt.useLayoutEffect:dt.useEffect,Bf=dt.createContext(null);function Eg(i,t){i.indexOf(t)===-1&&i.push(t)}function Sg(i,t){const n=i.indexOf(t);n>-1&&i.splice(n,1)}const Ur=(i,t,n)=>n>t?t:n<i?i:n;let bg=()=>{};const jr={},C1=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function R1(i){return typeof i=="object"&&i!==null}const M1=i=>/^0[^.\s]+$/u.test(i);function wg(i){let t;return()=>(t===void 0&&(t=i()),t)}const fs=i=>i,SC=(i,t)=>n=>t(i(n)),Nc=(...i)=>i.reduce(SC),Ec=(i,t,n)=>{const r=t-i;return r===0?1:(n-i)/r};class Ag{constructor(){this.subscriptions=[]}add(t){return Eg(this.subscriptions,t),()=>Sg(this.subscriptions,t)}notify(t,n,r){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,n,r);else for(let u=0;u<l;u++){const f=this.subscriptions[u];f&&f(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const sr=i=>i*1e3,hs=i=>i/1e3;function L1(i,t){return t?i*(1e3/t):0}const D1=(i,t,n)=>(((1-3*n+3*t)*i+(3*n-6*t))*i+3*t)*i,bC=1e-7,wC=12;function AC(i,t,n,r,l){let u,f,p=0;do f=t+(n-t)/2,u=D1(f,r,l)-i,u>0?n=f:t=f;while(Math.abs(u)>bC&&++p<wC);return f}function zc(i,t,n,r){if(i===t&&n===r)return fs;const l=u=>AC(u,0,1,i,n);return u=>u===0||u===1?u:D1(l(u),t,r)}const P1=i=>t=>t<=.5?i(2*t)/2:(2-i(2*(1-t)))/2,I1=i=>t=>1-i(1-t),O1=zc(.33,1.53,.69,.99),xg=I1(O1),V1=P1(xg),N1=i=>(i*=2)<1?.5*xg(i):.5*(2-Math.pow(2,-10*(i-1))),Cg=i=>1-Math.sin(Math.acos(i)),z1=I1(Cg),k1=P1(Cg),xC=zc(.42,0,1,1),CC=zc(0,0,.58,1),B1=zc(.42,0,.58,1),RC=i=>Array.isArray(i)&&typeof i[0]!="number",U1=i=>Array.isArray(i)&&typeof i[0]=="number",MC={linear:fs,easeIn:xC,easeInOut:B1,easeOut:CC,circIn:Cg,circInOut:k1,circOut:z1,backIn:xg,backInOut:V1,backOut:O1,anticipate:N1},LC=i=>typeof i=="string",H0=i=>{if(U1(i)){bg(i.length===4);const[t,n,r,l]=i;return zc(t,n,r,l)}else if(LC(i))return MC[i];return i},Xh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function DC(i,t){let n=new Set,r=new Set,l=!1,u=!1;const f=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1};function _(E){f.has(E)&&(v.schedule(E),i()),E(p)}const v={schedule:(E,b=!1,C=!1)=>{const U=C&&l?n:r;return b&&f.add(E),U.has(E)||U.add(E),E},cancel:E=>{r.delete(E),f.delete(E)},process:E=>{if(p=E,l){u=!0;return}l=!0,[n,r]=[r,n],n.forEach(_),n.clear(),l=!1,u&&(u=!1,v.process(E))}};return v}const PC=40;function j1(i,t){let n=!1,r=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,f=Xh.reduce((it,vt)=>(it[vt]=DC(u),it),{}),{setup:p,read:_,resolveKeyframes:v,preUpdate:E,update:b,preRender:C,render:D,postRender:U}=f,B=()=>{const it=jr.useManualTiming?l.timestamp:performance.now();n=!1,jr.useManualTiming||(l.delta=r?1e3/60:Math.max(Math.min(it-l.timestamp,PC),1)),l.timestamp=it,l.isProcessing=!0,p.process(l),_.process(l),v.process(l),E.process(l),b.process(l),C.process(l),D.process(l),U.process(l),l.isProcessing=!1,n&&t&&(r=!1,i(B))},G=()=>{n=!0,r=!0,l.isProcessing||i(B)};return{schedule:Xh.reduce((it,vt)=>{const _t=f[vt];return it[vt]=(Et,V=!1,P=!1)=>(n||G(),_t.schedule(Et,V,P)),it},{}),cancel:it=>{for(let vt=0;vt<Xh.length;vt++)f[Xh[vt]].cancel(it)},state:l,steps:f}}const{schedule:ke,cancel:za,state:Pn,steps:Ym}=j1(typeof requestAnimationFrame<"u"?requestAnimationFrame:fs,!0);let of;function IC(){of=void 0}const Ei={now:()=>(of===void 0&&Ei.set(Pn.isProcessing||jr.useManualTiming?Pn.timestamp:performance.now()),of),set:i=>{of=i,queueMicrotask(IC)}},H1=i=>t=>typeof t=="string"&&t.startsWith(i),F1=H1("--"),OC=H1("var(--"),Rg=i=>OC(i)?VC.test(i.split("/*")[0].trim()):!1,VC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ru={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},Sc={...ru,transform:i=>Ur(0,1,i)},Wh={...ru,default:1},hc=i=>Math.round(i*1e5)/1e5,Mg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function NC(i){return i==null}const zC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Lg=(i,t)=>n=>!!(typeof n=="string"&&zC.test(n)&&n.startsWith(i)||t&&!NC(n)&&Object.prototype.hasOwnProperty.call(n,t)),q1=(i,t,n)=>r=>{if(typeof r!="string")return r;const[l,u,f,p]=r.match(Mg);return{[i]:parseFloat(l),[t]:parseFloat(u),[n]:parseFloat(f),alpha:p!==void 0?parseFloat(p):1}},kC=i=>Ur(0,255,i),Qm={...ru,transform:i=>Math.round(kC(i))},No={test:Lg("rgb","red"),parse:q1("red","green","blue"),transform:({red:i,green:t,blue:n,alpha:r=1})=>"rgba("+Qm.transform(i)+", "+Qm.transform(t)+", "+Qm.transform(n)+", "+hc(Sc.transform(r))+")"};function BC(i){let t="",n="",r="",l="";return i.length>5?(t=i.substring(1,3),n=i.substring(3,5),r=i.substring(5,7),l=i.substring(7,9)):(t=i.substring(1,2),n=i.substring(2,3),r=i.substring(3,4),l=i.substring(4,5),t+=t,n+=n,r+=r,l+=l),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:l?parseInt(l,16)/255:1}}const vp={test:Lg("#"),parse:BC,transform:No.transform},kc=i=>({test:t=>typeof t=="string"&&t.endsWith(i)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${i}`}),Da=kc("deg"),rr=kc("%"),Ut=kc("px"),UC=kc("vh"),jC=kc("vw"),F0={...rr,parse:i=>rr.parse(i)/100,transform:i=>rr.transform(i*100)},jl={test:Lg("hsl","hue"),parse:q1("hue","saturation","lightness"),transform:({hue:i,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(i)+", "+rr.transform(hc(t))+", "+rr.transform(hc(n))+", "+hc(Sc.transform(r))+")"},hn={test:i=>No.test(i)||vp.test(i)||jl.test(i),parse:i=>No.test(i)?No.parse(i):jl.test(i)?jl.parse(i):vp.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?No.transform(i):jl.transform(i),getAnimatableNone:i=>{const t=hn.parse(i);return t.alpha=0,hn.transform(t)}},HC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function FC(i){return isNaN(i)&&typeof i=="string"&&(i.match(Mg)?.length||0)+(i.match(HC)?.length||0)>0}const G1="number",Z1="color",qC="var",GC="var(",q0="${}",ZC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bc(i){const t=i.toString(),n=[],r={color:[],number:[],var:[]},l=[];let u=0;const p=t.replace(ZC,_=>(hn.test(_)?(r.color.push(u),l.push(Z1),n.push(hn.parse(_))):_.startsWith(GC)?(r.var.push(u),l.push(qC),n.push(_)):(r.number.push(u),l.push(G1),n.push(parseFloat(_))),++u,q0)).split(q0);return{values:n,split:p,indexes:r,types:l}}function K1(i){return bc(i).values}function Y1(i){const{split:t,types:n}=bc(i),r=t.length;return l=>{let u="";for(let f=0;f<r;f++)if(u+=t[f],l[f]!==void 0){const p=n[f];p===G1?u+=hc(l[f]):p===Z1?u+=hn.transform(l[f]):u+=l[f]}return u}}const KC=i=>typeof i=="number"?0:hn.test(i)?hn.getAnimatableNone(i):i;function YC(i){const t=K1(i);return Y1(i)(t.map(KC))}const ka={test:FC,parse:K1,createTransformer:Y1,getAnimatableNone:YC};function Xm(i,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?i+(t-i)*6*n:n<1/2?t:n<2/3?i+(t-i)*(2/3-n)*6:i}function QC({hue:i,saturation:t,lightness:n,alpha:r}){i/=360,t/=100,n/=100;let l=0,u=0,f=0;if(!t)l=u=f=n;else{const p=n<.5?n*(1+t):n+t-n*t,_=2*n-p;l=Xm(_,p,i+1/3),u=Xm(_,p,i),f=Xm(_,p,i-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(f*255),alpha:r}}function _f(i,t){return n=>n>0?t:i}const Fe=(i,t,n)=>i+(t-i)*n,Wm=(i,t,n)=>{const r=i*i,l=n*(t*t-r)+r;return l<0?0:Math.sqrt(l)},XC=[vp,No,jl],WC=i=>XC.find(t=>t.test(i));function G0(i){const t=WC(i);if(!t)return!1;let n=t.parse(i);return t===jl&&(n=QC(n)),n}const Z0=(i,t)=>{const n=G0(i),r=G0(t);if(!n||!r)return _f(i,t);const l={...n};return u=>(l.red=Wm(n.red,r.red,u),l.green=Wm(n.green,r.green,u),l.blue=Wm(n.blue,r.blue,u),l.alpha=Fe(n.alpha,r.alpha,u),No.transform(l))},Tp=new Set(["none","hidden"]);function JC(i,t){return Tp.has(i)?n=>n<=0?i:t:n=>n>=1?t:i}function $C(i,t){return n=>Fe(i,t,n)}function Dg(i){return typeof i=="number"?$C:typeof i=="string"?Rg(i)?_f:hn.test(i)?Z0:n2:Array.isArray(i)?Q1:typeof i=="object"?hn.test(i)?Z0:t2:_f}function Q1(i,t){const n=[...i],r=n.length,l=i.map((u,f)=>Dg(u)(u,t[f]));return u=>{for(let f=0;f<r;f++)n[f]=l[f](u);return n}}function t2(i,t){const n={...i,...t},r={};for(const l in n)i[l]!==void 0&&t[l]!==void 0&&(r[l]=Dg(i[l])(i[l],t[l]));return l=>{for(const u in r)n[u]=r[u](l);return n}}function e2(i,t){const n=[],r={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const u=t.types[l],f=i.indexes[u][r[u]],p=i.values[f]??0;n[l]=p,r[u]++}return n}const n2=(i,t)=>{const n=ka.createTransformer(t),r=bc(i),l=bc(t);return r.indexes.var.length===l.indexes.var.length&&r.indexes.color.length===l.indexes.color.length&&r.indexes.number.length>=l.indexes.number.length?Tp.has(i)&&!l.values.length||Tp.has(t)&&!r.values.length?JC(i,t):Nc(Q1(e2(r,l),l.values),n):_f(i,t)};function X1(i,t,n){return typeof i=="number"&&typeof t=="number"&&typeof n=="number"?Fe(i,t,n):Dg(i)(i,t)}const i2=i=>{const t=({timestamp:n})=>i(n);return{start:(n=!0)=>ke.update(t,n),stop:()=>za(t),now:()=>Pn.isProcessing?Pn.timestamp:Ei.now()}},W1=(i,t,n=10)=>{let r="";const l=Math.max(Math.round(t/n),2);for(let u=0;u<l;u++)r+=Math.round(i(u/(l-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},yf=2e4;function Pg(i){let t=0;const n=50;let r=i.next(t);for(;!r.done&&t<yf;)t+=n,r=i.next(t);return t>=yf?1/0:t}function s2(i,t=100,n){const r=n({...i,keyframes:[0,t]}),l=Math.min(Pg(r),yf);return{type:"keyframes",ease:u=>r.next(l*u).value/t,duration:hs(l)}}const r2=5;function J1(i,t,n){const r=Math.max(t-r2,0);return L1(n-i(r),t-r)}const Je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Jm=.001;function a2({duration:i=Je.duration,bounce:t=Je.bounce,velocity:n=Je.velocity,mass:r=Je.mass}){let l,u,f=1-t;f=Ur(Je.minDamping,Je.maxDamping,f),i=Ur(Je.minDuration,Je.maxDuration,hs(i)),f<1?(l=v=>{const E=v*f,b=E*i,C=E-n,D=Ep(v,f),U=Math.exp(-b);return Jm-C/D*U},u=v=>{const b=v*f*i,C=b*n+n,D=Math.pow(f,2)*Math.pow(v,2)*i,U=Math.exp(-b),B=Ep(Math.pow(v,2),f);return(-l(v)+Jm>0?-1:1)*((C-D)*U)/B}):(l=v=>{const E=Math.exp(-v*i),b=(v-n)*i+1;return-Jm+E*b},u=v=>{const E=Math.exp(-v*i),b=(n-v)*(i*i);return E*b});const p=5/i,_=l2(l,u,p);if(i=sr(i),isNaN(_))return{stiffness:Je.stiffness,damping:Je.damping,duration:i};{const v=Math.pow(_,2)*r;return{stiffness:v,damping:f*2*Math.sqrt(r*v),duration:i}}}const o2=12;function l2(i,t,n){let r=n;for(let l=1;l<o2;l++)r=r-i(r)/t(r);return r}function Ep(i,t){return i*Math.sqrt(1-t*t)}const u2=["duration","bounce"],c2=["stiffness","damping","mass"];function K0(i,t){return t.some(n=>i[n]!==void 0)}function h2(i){let t={velocity:Je.velocity,stiffness:Je.stiffness,damping:Je.damping,mass:Je.mass,isResolvedFromDuration:!1,...i};if(!K0(i,c2)&&K0(i,u2))if(i.visualDuration){const n=i.visualDuration,r=2*Math.PI/(n*1.2),l=r*r,u=2*Ur(.05,1,1-(i.bounce||0))*Math.sqrt(l);t={...t,mass:Je.mass,stiffness:l,damping:u}}else{const n=a2(i);t={...t,...n,mass:Je.mass},t.isResolvedFromDuration=!0}return t}function vf(i=Je.visualDuration,t=Je.bounce){const n=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:t}:i;let{restSpeed:r,restDelta:l}=n;const u=n.keyframes[0],f=n.keyframes[n.keyframes.length-1],p={done:!1,value:u},{stiffness:_,damping:v,mass:E,duration:b,velocity:C,isResolvedFromDuration:D}=h2({...n,velocity:-hs(n.velocity||0)}),U=C||0,B=v/(2*Math.sqrt(_*E)),G=f-u,Q=hs(Math.sqrt(_/E)),st=Math.abs(G)<5;r||(r=st?Je.restSpeed.granular:Je.restSpeed.default),l||(l=st?Je.restDelta.granular:Je.restDelta.default);let it;if(B<1){const _t=Ep(Q,B);it=Et=>{const V=Math.exp(-B*Q*Et);return f-V*((U+B*Q*G)/_t*Math.sin(_t*Et)+G*Math.cos(_t*Et))}}else if(B===1)it=_t=>f-Math.exp(-Q*_t)*(G+(U+Q*G)*_t);else{const _t=Q*Math.sqrt(B*B-1);it=Et=>{const V=Math.exp(-B*Q*Et),P=Math.min(_t*Et,300);return f-V*((U+B*Q*G)*Math.sinh(P)+_t*G*Math.cosh(P))/_t}}const vt={calculatedDuration:D&&b||null,next:_t=>{const Et=it(_t);if(D)p.done=_t>=b;else{let V=_t===0?U:0;B<1&&(V=_t===0?sr(U):J1(it,_t,Et));const P=Math.abs(V)<=r,O=Math.abs(f-Et)<=l;p.done=P&&O}return p.value=p.done?f:Et,p},toString:()=>{const _t=Math.min(Pg(vt),yf),Et=W1(V=>vt.next(_t*V).value,_t,30);return _t+"ms "+Et},toTransition:()=>{}};return vt}vf.applyToOptions=i=>{const t=s2(i,100,vf);return i.ease=t.ease,i.duration=sr(t.duration),i.type="keyframes",i};function Sp({keyframes:i,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:f,min:p,max:_,restDelta:v=.5,restSpeed:E}){const b=i[0],C={done:!1,value:b},D=P=>p!==void 0&&P<p||_!==void 0&&P>_,U=P=>p===void 0?_:_===void 0||Math.abs(p-P)<Math.abs(_-P)?p:_;let B=n*t;const G=b+B,Q=f===void 0?G:f(G);Q!==G&&(B=Q-b);const st=P=>-B*Math.exp(-P/r),it=P=>Q+st(P),vt=P=>{const O=st(P),F=it(P);C.done=Math.abs(O)<=v,C.value=C.done?Q:F};let _t,Et;const V=P=>{D(C.value)&&(_t=P,Et=vf({keyframes:[C.value,U(C.value)],velocity:J1(it,P,C.value),damping:l,stiffness:u,restDelta:v,restSpeed:E}))};return V(0),{calculatedDuration:null,next:P=>{let O=!1;return!Et&&_t===void 0&&(O=!0,vt(P),V(P)),_t!==void 0&&P>=_t?Et.next(P-_t):(!O&&vt(P),C)}}}function f2(i,t,n){const r=[],l=n||jr.mix||X1,u=i.length-1;for(let f=0;f<u;f++){let p=l(i[f],i[f+1]);if(t){const _=Array.isArray(t)?t[f]||fs:t;p=Nc(_,p)}r.push(p)}return r}function d2(i,t,{clamp:n=!0,ease:r,mixer:l}={}){const u=i.length;if(bg(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const f=i[0]===i[1];i[0]>i[u-1]&&(i=[...i].reverse(),t=[...t].reverse());const p=f2(t,r,l),_=p.length,v=E=>{if(f&&E<i[0])return t[0];let b=0;if(_>1)for(;b<i.length-2&&!(E<i[b+1]);b++);const C=Ec(i[b],i[b+1],E);return p[b](C)};return n?E=>v(Ur(i[0],i[u-1],E)):v}function m2(i,t){const n=i[i.length-1];for(let r=1;r<=t;r++){const l=Ec(0,t,r);i.push(Fe(n,1,l))}}function p2(i){const t=[0];return m2(t,i.length-1),t}function g2(i,t){return i.map(n=>n*t)}function _2(i,t){return i.map(()=>t||B1).splice(0,i.length-1)}function fc({duration:i=300,keyframes:t,times:n,ease:r="easeInOut"}){const l=RC(r)?r.map(H0):H0(r),u={done:!1,value:t[0]},f=g2(n&&n.length===t.length?n:p2(t),i),p=d2(f,t,{ease:Array.isArray(l)?l:_2(t,l)});return{calculatedDuration:i,next:_=>(u.value=p(_),u.done=_>=i,u)}}const y2=i=>i!==null;function Ig(i,{repeat:t,repeatType:n="loop"},r,l=1){const u=i.filter(y2),p=l<0||t&&n!=="loop"&&t%2===1?0:u.length-1;return!p||r===void 0?u[p]:r}const v2={decay:Sp,inertia:Sp,tween:fc,keyframes:fc,spring:vf};function $1(i){typeof i.type=="string"&&(i.type=v2[i.type])}class Og{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const T2=i=>i/100;class Vg extends Og{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ei.now()&&this.tick(Ei.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;$1(t);const{type:n=fc,repeat:r=0,repeatDelay:l=0,repeatType:u,velocity:f=0}=t;let{keyframes:p}=t;const _=n||fc;_!==fc&&typeof p[0]!="number"&&(this.mixKeyframes=Nc(T2,X1(p[0],p[1])),p=[0,100]);const v=_({...t,keyframes:p});u==="mirror"&&(this.mirroredGenerator=_({...t,keyframes:[...p].reverse(),velocity:-f})),v.calculatedDuration===null&&(v.calculatedDuration=Pg(v));const{calculatedDuration:E}=v;this.calculatedDuration=E,this.resolvedDuration=E+l,this.totalDuration=this.resolvedDuration*(r+1)-l,this.generator=v}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:l,mixKeyframes:u,mirroredGenerator:f,resolvedDuration:p,calculatedDuration:_}=this;if(this.startTime===null)return r.next(0);const{delay:v=0,keyframes:E,repeat:b,repeatType:C,repeatDelay:D,type:U,onUpdate:B,finalKeyframe:G}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-l/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const Q=this.currentTime-v*(this.playbackSpeed>=0?1:-1),st=this.playbackSpeed>=0?Q<0:Q>l;this.currentTime=Math.max(Q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let it=this.currentTime,vt=r;if(b){const P=Math.min(this.currentTime,l)/p;let O=Math.floor(P),F=P%1;!F&&P>=1&&(F=1),F===1&&O--,O=Math.min(O,b+1),O%2&&(C==="reverse"?(F=1-F,D&&(F-=D/p)):C==="mirror"&&(vt=f)),it=Ur(0,1,F)*p}const _t=st?{done:!1,value:E[0]}:vt.next(it);u&&(_t.value=u(_t.value));let{done:Et}=_t;!st&&_!==null&&(Et=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Et);return V&&U!==Sp&&(_t.value=Ig(E,this.options,G,this.speed)),B&&B(_t.value),V&&this.finish(),_t}then(t,n){return this.finished.then(t,n)}get duration(){return hs(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+hs(t)}get time(){return hs(this.currentTime)}set time(t){t=sr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ei.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=hs(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=i2,startTime:n}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ei.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function E2(i){for(let t=1;t<i.length;t++)i[t]??(i[t]=i[t-1])}const zo=i=>i*180/Math.PI,bp=i=>{const t=zo(Math.atan2(i[1],i[0]));return wp(t)},S2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:bp,rotateZ:bp,skewX:i=>zo(Math.atan(i[1])),skewY:i=>zo(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},wp=i=>(i=i%360,i<0&&(i+=360),i),Y0=bp,Q0=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),X0=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),b2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Q0,scaleY:X0,scale:i=>(Q0(i)+X0(i))/2,rotateX:i=>wp(zo(Math.atan2(i[6],i[5]))),rotateY:i=>wp(zo(Math.atan2(-i[2],i[0]))),rotateZ:Y0,rotate:Y0,skewX:i=>zo(Math.atan(i[4])),skewY:i=>zo(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function Ap(i){return i.includes("scale")?1:0}function xp(i,t){if(!i||i==="none")return Ap(t);const n=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,l;if(n)r=b2,l=n;else{const p=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=S2,l=p}if(!l)return Ap(t);const u=r[t],f=l[1].split(",").map(A2);return typeof u=="function"?u(f):f[u]}const w2=(i,t)=>{const{transform:n="none"}=getComputedStyle(i);return xp(n,t)};function A2(i){return parseFloat(i.trim())}const au=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ou=new Set(au),W0=i=>i===ru||i===Ut,x2=new Set(["x","y","z"]),C2=au.filter(i=>!x2.has(i));function R2(i){const t=[];return C2.forEach(n=>{const r=i.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Bo={width:({x:i},{paddingLeft:t="0",paddingRight:n="0"})=>i.max-i.min-parseFloat(t)-parseFloat(n),height:({y:i},{paddingTop:t="0",paddingBottom:n="0"})=>i.max-i.min-parseFloat(t)-parseFloat(n),top:(i,{top:t})=>parseFloat(t),left:(i,{left:t})=>parseFloat(t),bottom:({y:i},{top:t})=>parseFloat(t)+(i.max-i.min),right:({x:i},{left:t})=>parseFloat(t)+(i.max-i.min),x:(i,{transform:t})=>xp(t,"x"),y:(i,{transform:t})=>xp(t,"y")};Bo.translateX=Bo.x;Bo.translateY=Bo.y;const Uo=new Set;let Cp=!1,Rp=!1,Mp=!1;function tS(){if(Rp){const i=Array.from(Uo).filter(r=>r.needsMeasurement),t=new Set(i.map(r=>r.element)),n=new Map;t.forEach(r=>{const l=R2(r);l.length&&(n.set(r,l),r.render())}),i.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const l=n.get(r);l&&l.forEach(([u,f])=>{r.getValue(u)?.set(f)})}),i.forEach(r=>r.measureEndState()),i.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Rp=!1,Cp=!1,Uo.forEach(i=>i.complete(Mp)),Uo.clear()}function eS(){Uo.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(Rp=!0)})}function M2(){Mp=!0,eS(),tS(),Mp=!1}class Ng{constructor(t,n,r,l,u,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=l,this.element=u,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(Uo.add(this),Cp||(Cp=!0,ke.read(eS),ke.resolveKeyframes(tS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:l}=this;if(t[0]===null){const u=l?.get(),f=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&n){const p=r.readValue(n,f);p!=null&&(t[0]=p)}t[0]===void 0&&(t[0]=f),l&&u===void 0&&l.set(t[0])}E2(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Uo.delete(this)}cancel(){this.state==="scheduled"&&(Uo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const L2=i=>i.startsWith("--");function D2(i,t,n){L2(t)?i.style.setProperty(t,n):i.style[t]=n}const P2=wg(()=>window.ScrollTimeline!==void 0),I2={};function O2(i,t){const n=wg(i);return()=>I2[t]??n()}const nS=O2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),rc=([i,t,n,r])=>`cubic-bezier(${i}, ${t}, ${n}, ${r})`,J0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:rc([0,.65,.55,1]),circOut:rc([.55,0,1,.45]),backIn:rc([.31,.01,.66,-.59]),backOut:rc([.33,1.53,.69,.99])};function iS(i,t){if(i)return typeof i=="function"?nS()?W1(i,t):"ease-out":U1(i)?rc(i):Array.isArray(i)?i.map(n=>iS(n,t)||J0.easeOut):J0[i]}function V2(i,t,n,{delay:r=0,duration:l=300,repeat:u=0,repeatType:f="loop",ease:p="easeOut",times:_}={},v=void 0){const E={[t]:n};_&&(E.offset=_);const b=iS(p,l);Array.isArray(b)&&(E.easing=b);const C={delay:r,duration:l,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:u+1,direction:f==="reverse"?"alternate":"normal"};return v&&(C.pseudoElement=v),i.animate(E,C)}function sS(i){return typeof i=="function"&&"applyToOptions"in i}function N2({type:i,...t}){return sS(i)&&nS()?i.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class z2 extends Og{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:l,pseudoElement:u,allowFlatten:f=!1,finalKeyframe:p,onComplete:_}=t;this.isPseudoElement=!!u,this.allowFlatten=f,this.options=t,bg(typeof t.type!="string");const v=N2(t);this.animation=V2(n,r,l,v,u),v.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const E=Ig(l,this.options,p,this.speed);this.updateMotionValue?this.updateMotionValue(E):D2(n,r,E),this.animation.cancel()}_?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return hs(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+hs(t)}get time(){return hs(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=sr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&P2()?(this.animation.timeline=t,fs):n(this)}}const rS={anticipate:N1,backInOut:V1,circInOut:k1};function k2(i){return i in rS}function B2(i){typeof i.ease=="string"&&k2(i.ease)&&(i.ease=rS[i.ease])}const $0=10;class U2 extends z2{constructor(t){B2(t),$1(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:l,element:u,...f}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const p=new Vg({...f,autoplay:!1}),_=sr(this.finishedTime??this.time);n.setWithVelocity(p.sample(_-$0).value,p.sample(_).value,$0),p.stop()}}const tT=(i,t)=>t==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(ka.test(i)||i==="0")&&!i.startsWith("url("));function j2(i){const t=i[0];if(i.length===1)return!0;for(let n=0;n<i.length;n++)if(i[n]!==t)return!0}function H2(i,t,n,r){const l=i[0];if(l===null)return!1;if(t==="display"||t==="visibility")return!0;const u=i[i.length-1],f=tT(l,t),p=tT(u,t);return!f||!p?!1:j2(i)||(n==="spring"||sS(n))&&r}function Lp(i){i.duration=0,i.type="keyframes"}const F2=new Set(["opacity","clipPath","filter","transform"]),q2=wg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function G2(i){const{motionValue:t,name:n,repeatDelay:r,repeatType:l,damping:u,type:f}=i;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:_,transformTemplate:v}=t.owner.getProps();return q2()&&n&&F2.has(n)&&(n!=="transform"||!v)&&!_&&!r&&l!=="mirror"&&u!==0&&f!=="inertia"}const Z2=40;class K2 extends Og{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:f="loop",keyframes:p,name:_,motionValue:v,element:E,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ei.now();const C={autoplay:t,delay:n,type:r,repeat:l,repeatDelay:u,repeatType:f,name:_,motionValue:v,element:E,...b},D=E?.KeyframeResolver||Ng;this.keyframeResolver=new D(p,(U,B,G)=>this.onKeyframesResolved(U,B,C,!G),_,v,E),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,l){this.keyframeResolver=void 0;const{name:u,type:f,velocity:p,delay:_,isHandoff:v,onUpdate:E}=r;this.resolvedAt=Ei.now(),H2(t,u,f,p)||((jr.instantAnimations||!_)&&E?.(Ig(t,r,n)),t[0]=t[t.length-1],Lp(r),r.repeat=0);const C={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>Z2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},D=!v&&G2(C)?new U2({...C,element:C.motionValue.owner.current}):new Vg(C);D.finished.then(()=>this.notifyFinished()).catch(fs),this.pendingTimeline&&(this.stopTimeline=D.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=D}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),M2()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Y2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Q2(i){const t=Y2.exec(i);if(!t)return[,];const[,n,r,l]=t;return[`--${n??r}`,l]}function aS(i,t,n=1){const[r,l]=Q2(i);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const f=u.trim();return C1(f)?parseFloat(f):f}return Rg(l)?aS(l,t,n+1):l}function zg(i,t){return i?.[t]??i?.default??i}const oS=new Set(["width","height","top","left","right","bottom",...au]),X2={test:i=>i==="auto",parse:i=>i},lS=i=>t=>t.test(i),uS=[ru,Ut,rr,Da,jC,UC,X2],eT=i=>uS.find(lS(i));function W2(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||M1(i):!0}const J2=new Set(["brightness","contrast","saturate","opacity"]);function $2(i){const[t,n]=i.slice(0,-1).split("(");if(t==="drop-shadow")return i;const[r]=n.match(Mg)||[];if(!r)return i;const l=n.replace(r,"");let u=J2.has(t)?1:0;return r!==n&&(u*=100),t+"("+u+l+")"}const tR=/\b([a-z-]*)\(.*?\)/gu,Dp={...ka,getAnimatableNone:i=>{const t=i.match(tR);return t?t.map($2).join(" "):i}},nT={...ru,transform:Math.round},eR={rotate:Da,rotateX:Da,rotateY:Da,rotateZ:Da,scale:Wh,scaleX:Wh,scaleY:Wh,scaleZ:Wh,skew:Da,skewX:Da,skewY:Da,distance:Ut,translateX:Ut,translateY:Ut,translateZ:Ut,x:Ut,y:Ut,z:Ut,perspective:Ut,transformPerspective:Ut,opacity:Sc,originX:F0,originY:F0,originZ:Ut},kg={borderWidth:Ut,borderTopWidth:Ut,borderRightWidth:Ut,borderBottomWidth:Ut,borderLeftWidth:Ut,borderRadius:Ut,radius:Ut,borderTopLeftRadius:Ut,borderTopRightRadius:Ut,borderBottomRightRadius:Ut,borderBottomLeftRadius:Ut,width:Ut,maxWidth:Ut,height:Ut,maxHeight:Ut,top:Ut,right:Ut,bottom:Ut,left:Ut,padding:Ut,paddingTop:Ut,paddingRight:Ut,paddingBottom:Ut,paddingLeft:Ut,margin:Ut,marginTop:Ut,marginRight:Ut,marginBottom:Ut,marginLeft:Ut,backgroundPositionX:Ut,backgroundPositionY:Ut,...eR,zIndex:nT,fillOpacity:Sc,strokeOpacity:Sc,numOctaves:nT},nR={...kg,color:hn,backgroundColor:hn,outlineColor:hn,fill:hn,stroke:hn,borderColor:hn,borderTopColor:hn,borderRightColor:hn,borderBottomColor:hn,borderLeftColor:hn,filter:Dp,WebkitFilter:Dp},cS=i=>nR[i];function hS(i,t){let n=cS(i);return n!==Dp&&(n=ka),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const iR=new Set(["auto","none","0"]);function sR(i,t,n){let r=0,l;for(;r<i.length&&!l;){const u=i[r];typeof u=="string"&&!iR.has(u)&&bc(u).values.length&&(l=i[r]),r++}if(l&&n)for(const u of t)i[u]=hS(n,l)}class rR extends Ng{constructor(t,n,r,l,u){super(t,n,r,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let _=0;_<t.length;_++){let v=t[_];if(typeof v=="string"&&(v=v.trim(),Rg(v))){const E=aS(v,n.current);E!==void 0&&(t[_]=E),_===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!oS.has(r)||t.length!==2)return;const[l,u]=t,f=eT(l),p=eT(u);if(f!==p)if(W0(f)&&W0(p))for(let _=0;_<t.length;_++){const v=t[_];typeof v=="string"&&(t[_]=parseFloat(v))}else Bo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let l=0;l<t.length;l++)(t[l]===null||W2(t[l]))&&r.push(l);r.length&&sR(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bo[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const l=n[n.length-1];l!==void 0&&t.getValue(r,l).jump(l,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const l=t.getValue(n);l&&l.jump(this.measuredOrigin,!1);const u=r.length-1,f=r[u];r[u]=Bo[n](t.measureViewportBox(),window.getComputedStyle(t.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),this.removedTransforms?.length&&this.removedTransforms.forEach(([p,_])=>{t.getValue(p).set(_)}),this.resolveNoneKeyframes()}}function aR(i,t,n){if(i instanceof EventTarget)return[i];if(typeof i=="string"){let r=document;const l=n?.[i]??r.querySelectorAll(i);return l?Array.from(l):[]}return Array.from(i)}const fS=(i,t)=>t&&typeof i=="number"?t.transform(i):i;function dS(i){return R1(i)&&"offsetHeight"in i}const iT=30,oR=i=>!isNaN(parseFloat(i));class lR{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const l=Ei.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ei.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=oR(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Ag);const r=this.events[t].add(n);return t==="change"?()=>{r(),ke.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ei.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>iT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,iT);return L1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xl(i,t){return new lR(i,t)}const{schedule:Bg}=j1(queueMicrotask,!1),Ds={x:!1,y:!1};function mS(){return Ds.x||Ds.y}function uR(i){return i==="x"||i==="y"?Ds[i]?null:(Ds[i]=!0,()=>{Ds[i]=!1}):Ds.x||Ds.y?null:(Ds.x=Ds.y=!0,()=>{Ds.x=Ds.y=!1})}function pS(i,t){const n=aR(i),r=new AbortController,l={passive:!0,...t,signal:r.signal};return[n,l,()=>r.abort()]}function sT(i){return!(i.pointerType==="touch"||mS())}function cR(i,t,n={}){const[r,l,u]=pS(i,n),f=p=>{if(!sT(p))return;const{target:_}=p,v=t(_,p);if(typeof v!="function"||!_)return;const E=b=>{sT(b)&&(v(b),_.removeEventListener("pointerleave",E))};_.addEventListener("pointerleave",E,l)};return r.forEach(p=>{p.addEventListener("pointerenter",f,l)}),u}const gS=(i,t)=>t?i===t?!0:gS(i,t.parentElement):!1,Ug=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,hR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fR(i){return hR.has(i.tagName)||i.tabIndex!==-1}const lf=new WeakSet;function rT(i){return t=>{t.key==="Enter"&&i(t)}}function $m(i,t){i.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const dR=(i,t)=>{const n=i.currentTarget;if(!n)return;const r=rT(()=>{if(lf.has(n))return;$m(n,"down");const l=rT(()=>{$m(n,"up")}),u=()=>$m(n,"cancel");n.addEventListener("keyup",l,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function aT(i){return Ug(i)&&!mS()}function mR(i,t,n={}){const[r,l,u]=pS(i,n),f=p=>{const _=p.currentTarget;if(!aT(p))return;lf.add(_);const v=t(_,p),E=(D,U)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",C),lf.has(_)&&lf.delete(_),aT(D)&&typeof v=="function"&&v(D,{success:U})},b=D=>{E(D,_===window||_===document||n.useGlobalTarget||gS(_,D.target))},C=D=>{E(D,!1)};window.addEventListener("pointerup",b,l),window.addEventListener("pointercancel",C,l)};return r.forEach(p=>{(n.useGlobalTarget?window:p).addEventListener("pointerdown",f,l),dS(p)&&(p.addEventListener("focus",v=>dR(v,l)),!fR(p)&&!p.hasAttribute("tabindex")&&(p.tabIndex=0))}),u}function _S(i){return R1(i)&&"ownerSVGElement"in i}function pR(i){return _S(i)&&i.tagName==="svg"}const Zn=i=>!!(i&&i.getVelocity),gR=[...uS,hn,ka],_R=i=>gR.find(lS(i)),jg=dt.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function oT(i,t){if(typeof i=="function")return i(t);i!=null&&(i.current=t)}function yR(...i){return t=>{let n=!1;const r=i.map(l=>{const u=oT(l,t);return!n&&typeof u=="function"&&(n=!0),u});if(n)return()=>{for(let l=0;l<r.length;l++){const u=r[l];typeof u=="function"?u():oT(i[l],null)}}}}function vR(...i){return dt.useCallback(yR(...i),i)}class TR extends dt.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,l=dS(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=l-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ER({children:i,isPresent:t,anchorX:n,root:r}){const l=dt.useId(),u=dt.useRef(null),f=dt.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=dt.useContext(jg),_=vR(u,i?.ref);return dt.useInsertionEffect(()=>{const{width:v,height:E,top:b,left:C,right:D}=f.current;if(t||!u.current||!v||!E)return;const U=n==="left"?`left: ${C}`:`right: ${D}`;u.current.dataset.motionPopId=l;const B=document.createElement("style");p&&(B.nonce=p);const G=r??document.head;return G.appendChild(B),B.sheet&&B.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${E}px !important;
            ${U}px !important;
            top: ${b}px !important;
          }
        `),()=>{G.contains(B)&&G.removeChild(B)}},[t]),et.jsx(TR,{isPresent:t,childRef:u,sizeRef:f,children:dt.cloneElement(i,{ref:_})})}const SR=({children:i,initial:t,isPresent:n,onExitComplete:r,custom:l,presenceAffectsLayout:u,mode:f,anchorX:p,root:_})=>{const v=vg(bR),E=dt.useId();let b=!0,C=dt.useMemo(()=>(b=!1,{id:E,initial:t,isPresent:n,custom:l,onExitComplete:D=>{v.set(D,!0);for(const U of v.values())if(!U)return;r&&r()},register:D=>(v.set(D,!1),()=>v.delete(D))}),[n,v,r]);return u&&b&&(C={...C}),dt.useMemo(()=>{v.forEach((D,U)=>v.set(U,!1))},[n]),dt.useEffect(()=>{!n&&!v.size&&r&&r()},[n]),f==="popLayout"&&(i=et.jsx(ER,{isPresent:n,anchorX:p,root:_,children:i})),et.jsx(Bf.Provider,{value:C,children:i})};function bR(){return new Map}function yS(i=!0){const t=dt.useContext(Bf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:l}=t,u=dt.useId();dt.useEffect(()=>{if(i)return l(u)},[i]);const f=dt.useCallback(()=>i&&r&&r(u),[u,r,i]);return!n&&r?[!1,f]:[!0]}const Jh=i=>i.key||"";function lT(i){const t=[];return dt.Children.forEach(i,n=>{dt.isValidElement(n)&&t.push(n)}),t}const wR=({children:i,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:l=!0,mode:u="sync",propagate:f=!1,anchorX:p="left",root:_})=>{const[v,E]=yS(f),b=dt.useMemo(()=>lT(i),[i]),C=f&&!v?[]:b.map(Jh),D=dt.useRef(!0),U=dt.useRef(b),B=vg(()=>new Map),[G,Q]=dt.useState(b),[st,it]=dt.useState(b);x1(()=>{D.current=!1,U.current=b;for(let Et=0;Et<st.length;Et++){const V=Jh(st[Et]);C.includes(V)?B.delete(V):B.get(V)!==!0&&B.set(V,!1)}},[st,C.length,C.join("-")]);const vt=[];if(b!==G){let Et=[...b];for(let V=0;V<st.length;V++){const P=st[V],O=Jh(P);C.includes(O)||(Et.splice(V,0,P),vt.push(P))}return u==="wait"&&vt.length&&(Et=vt),it(lT(Et)),Q(b),null}const{forceRender:_t}=dt.useContext(yg);return et.jsx(et.Fragment,{children:st.map(Et=>{const V=Jh(Et),P=f&&!v?!1:b===st||C.includes(V),O=()=>{if(B.has(V))B.set(V,!0);else return;let F=!0;B.forEach(k=>{k||(F=!1)}),F&&(_t?.(),it(U.current),f&&E?.(),r&&r())};return et.jsx(SR,{isPresent:P,initial:!D.current||n?void 0:!1,custom:t,presenceAffectsLayout:l,mode:u,root:_,onExitComplete:P?void 0:O,anchorX:p,children:Et},V)})})},vS=dt.createContext({strict:!1}),uT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wl={};for(const i in uT)Wl[i]={isEnabled:t=>uT[i].some(n=>!!t[n])};function AR(i){for(const t in i)Wl[t]={...Wl[t],...i[t]}}const xR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tf(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||xR.has(i)}let TS=i=>!Tf(i);function CR(i){typeof i=="function"&&(TS=t=>t.startsWith("on")?!Tf(t):i(t))}try{CR(require("@emotion/is-prop-valid").default)}catch{}function RR(i,t,n){const r={};for(const l in i)l==="values"&&typeof i.values=="object"||(TS(l)||n===!0&&Tf(l)||!t&&!Tf(l)||i.draggable&&l.startsWith("onDrag"))&&(r[l]=i[l]);return r}const Uf=dt.createContext({});function jf(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function wc(i){return typeof i=="string"||Array.isArray(i)}const Hg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Fg=["initial",...Hg];function Hf(i){return jf(i.animate)||Fg.some(t=>wc(i[t]))}function ES(i){return!!(Hf(i)||i.variants)}function MR(i,t){if(Hf(i)){const{initial:n,animate:r}=i;return{initial:n===!1||wc(n)?n:void 0,animate:wc(r)?r:void 0}}return i.inherit!==!1?t:{}}function LR(i){const{initial:t,animate:n}=MR(i,dt.useContext(Uf));return dt.useMemo(()=>({initial:t,animate:n}),[cT(t),cT(n)])}function cT(i){return Array.isArray(i)?i.join(" "):i}function hT(i,t){return t.max===t.min?0:i/(t.max-t.min)*100}const nc={correct:(i,t)=>{if(!t.target)return i;if(typeof i=="string")if(Ut.test(i))i=parseFloat(i);else return i;const n=hT(i,t.target.x),r=hT(i,t.target.y);return`${n}% ${r}%`}},DR={correct:(i,{treeScale:t,projectionDelta:n})=>{const r=i,l=ka.parse(i);if(l.length>5)return r;const u=ka.createTransformer(i),f=typeof l[0]!="number"?1:0,p=n.x.scale*t.x,_=n.y.scale*t.y;l[0+f]/=p,l[1+f]/=_;const v=Fe(p,_,.5);return typeof l[2+f]=="number"&&(l[2+f]/=v),typeof l[3+f]=="number"&&(l[3+f]/=v),u(l)}},Pp={borderRadius:{...nc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nc,borderTopRightRadius:nc,borderBottomLeftRadius:nc,borderBottomRightRadius:nc,boxShadow:DR};function SS(i,{layout:t,layoutId:n}){return ou.has(i)||i.startsWith("origin")||(t||n!==void 0)&&(!!Pp[i]||i==="opacity")}const PR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},IR=au.length;function OR(i,t,n){let r="",l=!0;for(let u=0;u<IR;u++){const f=au[u],p=i[f];if(p===void 0)continue;let _=!0;if(typeof p=="number"?_=p===(f.startsWith("scale")?1:0):_=parseFloat(p)===0,!_||n){const v=fS(p,kg[f]);if(!_){l=!1;const E=PR[f]||f;r+=`${E}(${v}) `}n&&(t[f]=v)}}return r=r.trim(),n?r=n(t,l?"":r):l&&(r="none"),r}function qg(i,t,n){const{style:r,vars:l,transformOrigin:u}=i;let f=!1,p=!1;for(const _ in t){const v=t[_];if(ou.has(_)){f=!0;continue}else if(F1(_)){l[_]=v;continue}else{const E=fS(v,kg[_]);_.startsWith("origin")?(p=!0,u[_]=E):r[_]=E}}if(t.transform||(f||n?r.transform=OR(t,i.transform,n):r.transform&&(r.transform="none")),p){const{originX:_="50%",originY:v="50%",originZ:E=0}=u;r.transformOrigin=`${_} ${v} ${E}`}}const Gg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bS(i,t,n){for(const r in t)!Zn(t[r])&&!SS(r,n)&&(i[r]=t[r])}function VR({transformTemplate:i},t){return dt.useMemo(()=>{const n=Gg();return qg(n,t,i),Object.assign({},n.vars,n.style)},[t])}function NR(i,t){const n=i.style||{},r={};return bS(r,n,i),Object.assign(r,VR(i,t)),r}function zR(i,t){const n={},r=NR(i,t);return i.drag&&i.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(n.tabIndex=0),n.style=r,n}const kR={offset:"stroke-dashoffset",array:"stroke-dasharray"},BR={offset:"strokeDashoffset",array:"strokeDasharray"};function UR(i,t,n=1,r=0,l=!0){i.pathLength=1;const u=l?kR:BR;i[u.offset]=Ut.transform(-r);const f=Ut.transform(t),p=Ut.transform(n);i[u.array]=`${f} ${p}`}function wS(i,{attrX:t,attrY:n,attrScale:r,pathLength:l,pathSpacing:u=1,pathOffset:f=0,...p},_,v,E){if(qg(i,p,v),_){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:b,style:C}=i;b.transform&&(C.transform=b.transform,delete b.transform),(C.transform||b.transformOrigin)&&(C.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),C.transform&&(C.transformBox=E?.transformBox??"fill-box",delete b.transformBox),t!==void 0&&(b.x=t),n!==void 0&&(b.y=n),r!==void 0&&(b.scale=r),l!==void 0&&UR(b,l,u,f,!1)}const AS=()=>({...Gg(),attrs:{}}),xS=i=>typeof i=="string"&&i.toLowerCase()==="svg";function jR(i,t,n,r){const l=dt.useMemo(()=>{const u=AS();return wS(u,t,xS(r),i.transformTemplate,i.style),{...u.attrs,style:{...u.style}}},[t]);if(i.style){const u={};bS(u,i.style,i),l.style={...u,...l.style}}return l}const HR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zg(i){return typeof i!="string"||i.includes("-")?!1:!!(HR.indexOf(i)>-1||/[A-Z]/u.test(i))}function FR(i,t,n,{latestValues:r},l,u=!1){const p=(Zg(i)?jR:zR)(t,r,l,i),_=RR(t,typeof i=="string",u),v=i!==dt.Fragment?{..._,...p,ref:n}:{},{children:E}=t,b=dt.useMemo(()=>Zn(E)?E.get():E,[E]);return dt.createElement(i,{...v,children:b})}function fT(i){const t=[{},{}];return i?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Kg(i,t,n,r){if(typeof t=="function"){const[l,u]=fT(r);t=t(n!==void 0?n:i.custom,l,u)}if(typeof t=="string"&&(t=i.variants&&i.variants[t]),typeof t=="function"){const[l,u]=fT(r);t=t(n!==void 0?n:i.custom,l,u)}return t}function uf(i){return Zn(i)?i.get():i}function qR({scrapeMotionValuesFromProps:i,createRenderState:t},n,r,l){return{latestValues:GR(n,r,l,i),renderState:t()}}function GR(i,t,n,r){const l={},u=r(i,{});for(const C in u)l[C]=uf(u[C]);let{initial:f,animate:p}=i;const _=Hf(i),v=ES(i);t&&v&&!_&&i.inherit!==!1&&(f===void 0&&(f=t.initial),p===void 0&&(p=t.animate));let E=n?n.initial===!1:!1;E=E||f===!1;const b=E?p:f;if(b&&typeof b!="boolean"&&!jf(b)){const C=Array.isArray(b)?b:[b];for(let D=0;D<C.length;D++){const U=Kg(i,C[D]);if(U){const{transitionEnd:B,transition:G,...Q}=U;for(const st in Q){let it=Q[st];if(Array.isArray(it)){const vt=E?it.length-1:0;it=it[vt]}it!==null&&(l[st]=it)}for(const st in B)l[st]=B[st]}}}return l}const CS=i=>(t,n)=>{const r=dt.useContext(Uf),l=dt.useContext(Bf),u=()=>qR(i,t,r,l);return n?u():vg(u)};function Yg(i,t,n){const{style:r}=i,l={};for(const u in r)(Zn(r[u])||t.style&&Zn(t.style[u])||SS(u,i)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=r[u]);return l}const ZR=CS({scrapeMotionValuesFromProps:Yg,createRenderState:Gg});function RS(i,t,n){const r=Yg(i,t,n);for(const l in i)if(Zn(i[l])||Zn(t[l])){const u=au.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;r[u]=i[l]}return r}const KR=CS({scrapeMotionValuesFromProps:RS,createRenderState:AS}),YR=Symbol.for("motionComponentSymbol");function Hl(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function QR(i,t,n){return dt.useCallback(r=>{r&&i.onMount&&i.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Hl(n)&&(n.current=r))},[t])}const Qg=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),XR="framerAppearId",MS="data-"+Qg(XR),LS=dt.createContext({});function WR(i,t,n,r,l){const{visualElement:u}=dt.useContext(Uf),f=dt.useContext(vS),p=dt.useContext(Bf),_=dt.useContext(jg).reducedMotion,v=dt.useRef(null);r=r||f.renderer,!v.current&&r&&(v.current=r(i,{visualState:t,parent:u,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:_}));const E=v.current,b=dt.useContext(LS);E&&!E.projection&&l&&(E.type==="html"||E.type==="svg")&&JR(v.current,n,l,b);const C=dt.useRef(!1);dt.useInsertionEffect(()=>{E&&C.current&&E.update(n,p)});const D=n[MS],U=dt.useRef(!!D&&!window.MotionHandoffIsComplete?.(D)&&window.MotionHasOptimisedAnimation?.(D));return x1(()=>{E&&(C.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),E.scheduleRenderMicrotask(),U.current&&E.animationState&&E.animationState.animateChanges())}),dt.useEffect(()=>{E&&(!U.current&&E.animationState&&E.animationState.animateChanges(),U.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(D)}),U.current=!1),E.enteringChildren=void 0)}),E}function JR(i,t,n,r){const{layoutId:l,layout:u,drag:f,dragConstraints:p,layoutScroll:_,layoutRoot:v,layoutCrossfade:E}=t;i.projection=new n(i.latestValues,t["data-framer-portal-id"]?void 0:DS(i.parent)),i.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!f||p&&Hl(p),visualElement:i,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:E,layoutScroll:_,layoutRoot:v})}function DS(i){if(i)return i.options.allowProjection!==!1?i.projection:DS(i.parent)}function tp(i,{forwardMotionProps:t=!1}={},n,r){n&&AR(n);const l=Zg(i)?KR:ZR;function u(p,_){let v;const E={...dt.useContext(jg),...p,layoutId:$R(p)},{isStatic:b}=E,C=LR(p),D=l(p,b);if(!b&&Tg){tM();const U=eM(E);v=U.MeasureLayout,C.visualElement=WR(i,D,E,r,U.ProjectionNode)}return et.jsxs(Uf.Provider,{value:C,children:[v&&C.visualElement?et.jsx(v,{visualElement:C.visualElement,...E}):null,FR(i,p,QR(D,C.visualElement,_),D,b,t)]})}u.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const f=dt.forwardRef(u);return f[YR]=i,f}function $R({layoutId:i}){const t=dt.useContext(yg).id;return t&&i!==void 0?t+"-"+i:i}function tM(i,t){dt.useContext(vS).strict}function eM(i){const{drag:t,layout:n}=Wl;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(i)||n?.isEnabled(i)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function nM(i,t){if(typeof Proxy>"u")return tp;const n=new Map,r=(u,f)=>tp(u,f,i,t),l=(u,f)=>r(u,f);return new Proxy(l,{get:(u,f)=>f==="create"?r:(n.has(f)||n.set(f,tp(f,void 0,i,t)),n.get(f))})}function PS({top:i,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:i,max:r}}}function iM({x:i,y:t}){return{top:t.min,right:i.max,bottom:t.max,left:i.min}}function sM(i,t){if(!t)return i;const n=t({x:i.left,y:i.top}),r=t({x:i.right,y:i.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ep(i){return i===void 0||i===1}function Ip({scale:i,scaleX:t,scaleY:n}){return!ep(i)||!ep(t)||!ep(n)}function Oo(i){return Ip(i)||IS(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function IS(i){return dT(i.x)||dT(i.y)}function dT(i){return i&&i!=="0%"}function Ef(i,t,n){const r=i-n,l=t*r;return n+l}function mT(i,t,n,r,l){return l!==void 0&&(i=Ef(i,l,r)),Ef(i,n,r)+t}function Op(i,t=0,n=1,r,l){i.min=mT(i.min,t,n,r,l),i.max=mT(i.max,t,n,r,l)}function OS(i,{x:t,y:n}){Op(i.x,t.translate,t.scale,t.originPoint),Op(i.y,n.translate,n.scale,n.originPoint)}const pT=.999999999999,gT=1.0000000000001;function rM(i,t,n,r=!1){const l=n.length;if(!l)return;t.x=t.y=1;let u,f;for(let p=0;p<l;p++){u=n[p],f=u.projectionDelta;const{visualElement:_}=u.options;_&&_.props.style&&_.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ql(i,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),f&&(t.x*=f.x.scale,t.y*=f.y.scale,OS(i,f)),r&&Oo(u.latestValues)&&ql(i,u.latestValues))}t.x<gT&&t.x>pT&&(t.x=1),t.y<gT&&t.y>pT&&(t.y=1)}function Fl(i,t){i.min=i.min+t,i.max=i.max+t}function _T(i,t,n,r,l=.5){const u=Fe(i.min,i.max,l);Op(i,t,n,u,r)}function ql(i,t){_T(i.x,t.x,t.scaleX,t.scale,t.originX),_T(i.y,t.y,t.scaleY,t.scale,t.originY)}function VS(i,t){return PS(sM(i.getBoundingClientRect(),t))}function aM(i,t,n){const r=VS(i,n),{scroll:l}=t;return l&&(Fl(r.x,l.offset.x),Fl(r.y,l.offset.y)),r}const yT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gl=()=>({x:yT(),y:yT()}),vT=()=>({min:0,max:0}),_n=()=>({x:vT(),y:vT()}),Vp={current:null},NS={current:!1};function oM(){if(NS.current=!0,!!Tg)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),t=()=>Vp.current=i.matches;i.addEventListener("change",t),t()}else Vp.current=!1}const lM=new WeakMap;function uM(i,t,n){for(const r in t){const l=t[r],u=n[r];if(Zn(l))i.addValue(r,l);else if(Zn(u))i.addValue(r,Xl(l,{owner:i}));else if(u!==l)if(i.hasValue(r)){const f=i.getValue(r);f.liveStyle===!0?f.jump(l):f.hasAnimated||f.set(l)}else{const f=i.getStaticValue(r);i.addValue(r,Xl(f!==void 0?f:l,{owner:i}))}}for(const r in n)t[r]===void 0&&i.removeValue(r);return t}const TT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cM{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:l,blockInitialAnimation:u,visualState:f},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ng,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=Ei.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,ke.render(this.render,!1,!0))};const{latestValues:_,renderState:v}=f;this.latestValues=_,this.baseTarget={..._},this.initialValues=n.initial?{..._}:{},this.renderState=v,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.options=p,this.blockInitialAnimation=!!u,this.isControllingVariants=Hf(n),this.isVariantNode=ES(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:E,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const C in b){const D=b[C];_[C]!==void 0&&Zn(D)&&D.set(_[C])}}mount(t){this.current=t,lM.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),NS.current||oM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vp.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),za(this.notifyUpdate),za(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ou.has(t);r&&this.onBindTransform&&this.onBindTransform();const l=n.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&ke.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Wl){const n=Wl[t];if(!n)continue;const{isEnabled:r,Feature:l}=n;if(!this.features[t]&&l&&r(this.props)&&(this.features[t]=new l(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_n()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<TT.length;r++){const l=TT[r];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,f=t[u];f&&(this.propEventSubscriptions[l]=this.on(l,f))}this.prevMotionValues=uM(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Xl(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(C1(r)||M1(r))?r=parseFloat(r):!_R(r)&&ka.test(n)&&(r=hS(t,n)),this.setBaseTarget(t,Zn(r)?r.get():r)),Zn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const u=Kg(this.props,n,this.presenceContext?.custom);u&&(r=u[t])}if(n&&r!==void 0)return r;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!Zn(l)?l:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Ag),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Bg.render(this.render)}}class zS extends cM{constructor(){super(...arguments),this.KeyframeResolver=rR}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Zn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function kS(i,{style:t,vars:n},r,l){const u=i.style;let f;for(f in t)u[f]=t[f];l?.applyProjectionStyles(u,r);for(f in n)u.setProperty(f,n[f])}function hM(i){return window.getComputedStyle(i)}class fM extends zS{constructor(){super(...arguments),this.type="html",this.renderInstance=kS}readValueFromInstance(t,n){if(ou.has(n))return this.projection?.isProjecting?Ap(n):w2(t,n);{const r=hM(t),l=(F1(n)?r.getPropertyValue(n):r[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return VS(t,n)}build(t,n,r){qg(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Yg(t,n,r)}}const BS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dM(i,t,n,r){kS(i,t,void 0,r);for(const l in t.attrs)i.setAttribute(BS.has(l)?l:Qg(l),t.attrs[l])}class mM extends zS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_n}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ou.has(n)){const r=cS(n);return r&&r.default||0}return n=BS.has(n)?n:Qg(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return RS(t,n,r)}build(t,n,r){wS(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,l){dM(t,n,r,l)}mount(t){this.isSVGTag=xS(t.tagName),super.mount(t)}}const pM=(i,t)=>Zg(i)?new mM(t):new fM(t,{allowProjection:i!==dt.Fragment});function Zl(i,t,n){const r=i.getProps();return Kg(r,t,n!==void 0?n:r.custom,i)}const Np=i=>Array.isArray(i);function gM(i,t,n){i.hasValue(t)?i.getValue(t).set(n):i.addValue(t,Xl(n))}function _M(i){return Np(i)?i[i.length-1]||0:i}function yM(i,t){const n=Zl(i,t);let{transitionEnd:r={},transition:l={},...u}=n||{};u={...u,...r};for(const f in u){const p=_M(u[f]);gM(i,f,p)}}function vM(i){return!!(Zn(i)&&i.add)}function zp(i,t){const n=i.getValue("willChange");if(vM(n))return n.add(t);if(!n&&jr.WillChange){const r=new jr.WillChange("auto");i.addValue("willChange",r),r.add(t)}}function US(i){return i.props[MS]}const TM=i=>i!==null;function EM(i,{repeat:t,repeatType:n="loop"},r){const l=i.filter(TM),u=t&&n!=="loop"&&t%2===1?0:l.length-1;return l[u]}const SM={type:"spring",stiffness:500,damping:25,restSpeed:10},bM=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),wM={type:"keyframes",duration:.8},AM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},xM=(i,{keyframes:t})=>t.length>2?wM:ou.has(i)?i.startsWith("scale")?bM(t[1]):SM:AM;function CM({when:i,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:l,repeat:u,repeatType:f,repeatDelay:p,from:_,elapsed:v,...E}){return!!Object.keys(E).length}const Xg=(i,t,n,r={},l,u)=>f=>{const p=zg(r,i)||{},_=p.delay||r.delay||0;let{elapsed:v=0}=r;v=v-sr(_);const E={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...p,delay:-v,onUpdate:C=>{t.set(C),p.onUpdate&&p.onUpdate(C)},onComplete:()=>{f(),p.onComplete&&p.onComplete()},name:i,motionValue:t,element:u?void 0:l};CM(p)||Object.assign(E,xM(i,E)),E.duration&&(E.duration=sr(E.duration)),E.repeatDelay&&(E.repeatDelay=sr(E.repeatDelay)),E.from!==void 0&&(E.keyframes[0]=E.from);let b=!1;if((E.type===!1||E.duration===0&&!E.repeatDelay)&&(Lp(E),E.delay===0&&(b=!0)),(jr.instantAnimations||jr.skipAnimations)&&(b=!0,Lp(E),E.delay=0),E.allowFlatten=!p.type&&!p.ease,b&&!u&&t.get()!==void 0){const C=EM(E.keyframes,p);if(C!==void 0){ke.update(()=>{E.onUpdate(C),E.onComplete()});return}}return p.isSync?new Vg(E):new K2(E)};function RM({protectedKeys:i,needsAnimating:t},n){const r=i.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function jS(i,t,{delay:n=0,transitionOverride:r,type:l}={}){let{transition:u=i.getDefaultTransition(),transitionEnd:f,...p}=t;r&&(u=r);const _=[],v=l&&i.animationState&&i.animationState.getState()[l];for(const E in p){const b=i.getValue(E,i.latestValues[E]??null),C=p[E];if(C===void 0||v&&RM(v,E))continue;const D={delay:n,...zg(u||{},E)},U=b.get();if(U!==void 0&&!b.isAnimating&&!Array.isArray(C)&&C===U&&!D.velocity)continue;let B=!1;if(window.MotionHandoffAnimation){const Q=US(i);if(Q){const st=window.MotionHandoffAnimation(Q,E,ke);st!==null&&(D.startTime=st,B=!0)}}zp(i,E),b.start(Xg(E,b,C,i.shouldReduceMotion&&oS.has(E)?{type:!1}:D,i,B));const G=b.animation;G&&_.push(G)}return f&&Promise.all(_).then(()=>{ke.update(()=>{f&&yM(i,f)})}),_}function HS(i,t,n,r=0,l=1){const u=Array.from(i).sort((v,E)=>v.sortNodePosition(E)).indexOf(t),f=i.size,p=(f-1)*r;return typeof n=="function"?n(u,f):l===1?u*r:p-u*r}function kp(i,t,n={}){const r=Zl(i,t,n.type==="exit"?i.presenceContext?.custom:void 0);let{transition:l=i.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(l=n.transitionOverride);const u=r?()=>Promise.all(jS(i,r,n)):()=>Promise.resolve(),f=i.variantChildren&&i.variantChildren.size?(_=0)=>{const{delayChildren:v=0,staggerChildren:E,staggerDirection:b}=l;return MM(i,t,_,v,E,b,n)}:()=>Promise.resolve(),{when:p}=l;if(p){const[_,v]=p==="beforeChildren"?[u,f]:[f,u];return _().then(()=>v())}else return Promise.all([u(),f(n.delay)])}function MM(i,t,n=0,r=0,l=0,u=1,f){const p=[];for(const _ of i.variantChildren)_.notify("AnimationStart",t),p.push(kp(_,t,{...f,delay:n+(typeof r=="function"?0:r)+HS(i.variantChildren,_,r,l,u)}).then(()=>_.notify("AnimationComplete",t)));return Promise.all(p)}function LM(i,t,n={}){i.notify("AnimationStart",t);let r;if(Array.isArray(t)){const l=t.map(u=>kp(i,u,n));r=Promise.all(l)}else if(typeof t=="string")r=kp(i,t,n);else{const l=typeof t=="function"?Zl(i,t,n.custom):t;r=Promise.all(jS(i,l,n))}return r.then(()=>{i.notify("AnimationComplete",t)})}function FS(i,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==i.length)return!1;for(let r=0;r<n;r++)if(t[r]!==i[r])return!1;return!0}const DM=Fg.length;function qS(i){if(!i)return;if(!i.isControllingVariants){const n=i.parent?qS(i.parent)||{}:{};return i.props.initial!==void 0&&(n.initial=i.props.initial),n}const t={};for(let n=0;n<DM;n++){const r=Fg[n],l=i.props[r];(wc(l)||l===!1)&&(t[r]=l)}return t}const PM=[...Hg].reverse(),IM=Hg.length;function OM(i){return t=>Promise.all(t.map(({animation:n,options:r})=>LM(i,n,r)))}function VM(i){let t=OM(i),n=ET(),r=!0;const l=_=>(v,E)=>{const b=Zl(i,E,_==="exit"?i.presenceContext?.custom:void 0);if(b){const{transition:C,transitionEnd:D,...U}=b;v={...v,...U,...D}}return v};function u(_){t=_(i)}function f(_){const{props:v}=i,E=qS(i.parent)||{},b=[],C=new Set;let D={},U=1/0;for(let G=0;G<IM;G++){const Q=PM[G],st=n[Q],it=v[Q]!==void 0?v[Q]:E[Q],vt=wc(it),_t=Q===_?st.isActive:null;_t===!1&&(U=G);let Et=it===E[Q]&&it!==v[Q]&&vt;if(Et&&r&&i.manuallyAnimateOnMount&&(Et=!1),st.protectedKeys={...D},!st.isActive&&_t===null||!it&&!st.prevProp||jf(it)||typeof it=="boolean")continue;const V=NM(st.prevProp,it);let P=V||Q===_&&st.isActive&&!Et&&vt||G>U&&vt,O=!1;const F=Array.isArray(it)?it:[it];let k=F.reduce(l(Q),{});_t===!1&&(k={});const{prevResolvedValues:Z={}}=st,z={...Z,...k},Qt=gt=>{P=!0,C.has(gt)&&(O=!0,C.delete(gt)),st.needsAnimating[gt]=!0;const pt=i.getValue(gt);pt&&(pt.liveStyle=!1)};for(const gt in z){const pt=k[gt],Ht=Z[gt];if(D.hasOwnProperty(gt))continue;let bt=!1;Np(pt)&&Np(Ht)?bt=!FS(pt,Ht):bt=pt!==Ht,bt?pt!=null?Qt(gt):C.add(gt):pt!==void 0&&C.has(gt)?Qt(gt):st.protectedKeys[gt]=!0}st.prevProp=it,st.prevResolvedValues=k,st.isActive&&(D={...D,...k}),r&&i.blockInitialAnimation&&(P=!1);const xe=Et&&V;P&&(!xe||O)&&b.push(...F.map(gt=>{const pt={type:Q};if(typeof gt=="string"&&r&&!xe&&i.manuallyAnimateOnMount&&i.parent){const{parent:Ht}=i,bt=Zl(Ht,gt);if(Ht.enteringChildren&&bt){const{delayChildren:H}=bt.transition||{};pt.delay=HS(Ht.enteringChildren,i,H)}}return{animation:gt,options:pt}}))}if(C.size){const G={};if(typeof v.initial!="boolean"){const Q=Zl(i,Array.isArray(v.initial)?v.initial[0]:v.initial);Q&&Q.transition&&(G.transition=Q.transition)}C.forEach(Q=>{const st=i.getBaseTarget(Q),it=i.getValue(Q);it&&(it.liveStyle=!0),G[Q]=st??null}),b.push({animation:G})}let B=!!b.length;return r&&(v.initial===!1||v.initial===v.animate)&&!i.manuallyAnimateOnMount&&(B=!1),r=!1,B?t(b):Promise.resolve()}function p(_,v){if(n[_].isActive===v)return Promise.resolve();i.variantChildren?.forEach(b=>b.animationState?.setActive(_,v)),n[_].isActive=v;const E=f(_);for(const b in n)n[b].protectedKeys={};return E}return{animateChanges:f,setActive:p,setAnimateFunction:u,getState:()=>n,reset:()=>{n=ET()}}}function NM(i,t){return typeof t=="string"?t!==i:Array.isArray(t)?!FS(t,i):!1}function Io(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ET(){return{animate:Io(!0),whileInView:Io(),whileHover:Io(),whileTap:Io(),whileDrag:Io(),whileFocus:Io(),exit:Io()}}class Ga{constructor(t){this.isMounted=!1,this.node=t}update(){}}class zM extends Ga{constructor(t){super(t),t.animationState||(t.animationState=VM(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();jf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let kM=0;class BM extends Ga{constructor(){super(...arguments),this.id=kM++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const l=this.node.animationState.setActive("exit",!t);n&&!t&&l.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const UM={animation:{Feature:zM},exit:{Feature:BM}};function Ac(i,t,n,r={passive:!0}){return i.addEventListener(t,n,r),()=>i.removeEventListener(t,n)}function Bc(i){return{point:{x:i.pageX,y:i.pageY}}}const jM=i=>t=>Ug(t)&&i(t,Bc(t));function dc(i,t,n,r){return Ac(i,t,jM(n),r)}const GS=1e-4,HM=1-GS,FM=1+GS,ZS=.01,qM=0-ZS,GM=0+ZS;function ti(i){return i.max-i.min}function ZM(i,t,n){return Math.abs(i-t)<=n}function ST(i,t,n,r=.5){i.origin=r,i.originPoint=Fe(t.min,t.max,i.origin),i.scale=ti(n)/ti(t),i.translate=Fe(n.min,n.max,i.origin)-i.originPoint,(i.scale>=HM&&i.scale<=FM||isNaN(i.scale))&&(i.scale=1),(i.translate>=qM&&i.translate<=GM||isNaN(i.translate))&&(i.translate=0)}function mc(i,t,n,r){ST(i.x,t.x,n.x,r?r.originX:void 0),ST(i.y,t.y,n.y,r?r.originY:void 0)}function bT(i,t,n){i.min=n.min+t.min,i.max=i.min+ti(t)}function KM(i,t,n){bT(i.x,t.x,n.x),bT(i.y,t.y,n.y)}function wT(i,t,n){i.min=t.min-n.min,i.max=i.min+ti(t)}function Sf(i,t,n){wT(i.x,t.x,n.x),wT(i.y,t.y,n.y)}function us(i){return[i("x"),i("y")]}const KS=({current:i})=>i?i.ownerDocument.defaultView:null,AT=(i,t)=>Math.abs(i-t);function YM(i,t){const n=AT(i.x,t.x),r=AT(i.y,t.y);return Math.sqrt(n**2+r**2)}class YS{constructor(t,n,{transformPagePoint:r,contextWindow:l=window,dragSnapToOrigin:u=!1,distanceThreshold:f=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=ip(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,U=YM(C.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!U)return;const{point:B}=C,{timestamp:G}=Pn;this.history.push({...B,timestamp:G});const{onStart:Q,onMove:st}=this.handlers;D||(Q&&Q(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),st&&st(this.lastMoveEvent,C)},this.handlePointerMove=(C,D)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=np(D,this.transformPagePoint),ke.update(this.updatePoint,!0)},this.handlePointerUp=(C,D)=>{this.end();const{onEnd:U,onSessionEnd:B,resumeAnimation:G}=this.handlers;if(this.dragSnapToOrigin&&G&&G(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Q=ip(C.type==="pointercancel"?this.lastMoveEventInfo:np(D,this.transformPagePoint),this.history);this.startEvent&&U&&U(C,Q),B&&B(C,Q)},!Ug(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=f,this.contextWindow=l||window;const p=Bc(t),_=np(p,this.transformPagePoint),{point:v}=_,{timestamp:E}=Pn;this.history=[{...v,timestamp:E}];const{onSessionStart:b}=n;b&&b(t,ip(_,this.history)),this.removeListeners=Nc(dc(this.contextWindow,"pointermove",this.handlePointerMove),dc(this.contextWindow,"pointerup",this.handlePointerUp),dc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),za(this.updatePoint)}}function np(i,t){return t?{point:t(i.point)}:i}function xT(i,t){return{x:i.x-t.x,y:i.y-t.y}}function ip({point:i},t){return{point:i,delta:xT(i,QS(t)),offset:xT(i,QM(t)),velocity:XM(t,.1)}}function QM(i){return i[0]}function QS(i){return i[i.length-1]}function XM(i,t){if(i.length<2)return{x:0,y:0};let n=i.length-1,r=null;const l=QS(i);for(;n>=0&&(r=i[n],!(l.timestamp-r.timestamp>sr(t)));)n--;if(!r)return{x:0,y:0};const u=hs(l.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const f={x:(l.x-r.x)/u,y:(l.y-r.y)/u};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function WM(i,{min:t,max:n},r){return t!==void 0&&i<t?i=r?Fe(t,i,r.min):Math.max(i,t):n!==void 0&&i>n&&(i=r?Fe(n,i,r.max):Math.min(i,n)),i}function CT(i,t,n){return{min:t!==void 0?i.min+t:void 0,max:n!==void 0?i.max+n-(i.max-i.min):void 0}}function JM(i,{top:t,left:n,bottom:r,right:l}){return{x:CT(i.x,n,l),y:CT(i.y,t,r)}}function RT(i,t){let n=t.min-i.min,r=t.max-i.max;return t.max-t.min<i.max-i.min&&([n,r]=[r,n]),{min:n,max:r}}function $M(i,t){return{x:RT(i.x,t.x),y:RT(i.y,t.y)}}function tL(i,t){let n=.5;const r=ti(i),l=ti(t);return l>r?n=Ec(t.min,t.max-r,i.min):r>l&&(n=Ec(i.min,i.max-l,t.min)),Ur(0,1,n)}function eL(i,t){const n={};return t.min!==void 0&&(n.min=t.min-i.min),t.max!==void 0&&(n.max=t.max-i.min),n}const Bp=.35;function nL(i=Bp){return i===!1?i=0:i===!0&&(i=Bp),{x:MT(i,"left","right"),y:MT(i,"top","bottom")}}function MT(i,t,n){return{min:LT(i,t),max:LT(i,n)}}function LT(i,t){return typeof i=="number"?i:i[t]||0}const iL=new WeakMap;class sL{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_n(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const u=b=>{const{dragSnapToOrigin:C}=this.getProps();C?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bc(b).point)},f=(b,C)=>{const{drag:D,dragPropagation:U,onDragStart:B}=this.getProps();if(D&&!U&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uR(D),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=C,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),us(Q=>{let st=this.getAxisMotionValue(Q).get()||0;if(rr.test(st)){const{projection:it}=this.visualElement;if(it&&it.layout){const vt=it.layout.layoutBox[Q];vt&&(st=ti(vt)*(parseFloat(st)/100))}}this.originPoint[Q]=st}),B&&ke.postRender(()=>B(b,C)),zp(this.visualElement,"transform");const{animationState:G}=this.visualElement;G&&G.setActive("whileDrag",!0)},p=(b,C)=>{this.latestPointerEvent=b,this.latestPanInfo=C;const{dragPropagation:D,dragDirectionLock:U,onDirectionLock:B,onDrag:G}=this.getProps();if(!D&&!this.openDragLock)return;const{offset:Q}=C;if(U&&this.currentDirection===null){this.currentDirection=rL(Q),this.currentDirection!==null&&B&&B(this.currentDirection);return}this.updateAxis("x",C.point,Q),this.updateAxis("y",C.point,Q),this.visualElement.render(),G&&G(b,C)},_=(b,C)=>{this.latestPointerEvent=b,this.latestPanInfo=C,this.stop(b,C),this.latestPointerEvent=null,this.latestPanInfo=null},v=()=>us(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:E}=this.getProps();this.panSession=new YS(t,{onSessionStart:u,onStart:f,onMove:p,onSessionEnd:_,resumeAnimation:v},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:E,distanceThreshold:r,contextWindow:KS(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,l=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!l||!r)return;const{velocity:f}=l;this.startAnimation(f);const{onDragEnd:p}=this.getProps();p&&ke.postRender(()=>p(r,l))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:l}=this.getProps();if(!r||!$h(t,l,this.currentDirection))return;const u=this.getAxisMotionValue(t);let f=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(f=WM(f,this.constraints[t],this.elastic[t])),u.set(f)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;t&&Hl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=JM(r.layoutBox,t):this.constraints=!1,this.elastic=nL(n),l!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&us(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=eL(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Hl(t))return!1;const r=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=aM(r,l.root,this.visualElement.getTransformPagePoint());let f=$M(l.layout.layoutBox,u);if(n){const p=n(iM(f));this.hasMutatedConstraints=!!p,p&&(f=PS(p))}return f}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:l,dragTransition:u,dragSnapToOrigin:f,onDragTransitionEnd:p}=this.getProps(),_=this.constraints||{},v=us(E=>{if(!$h(E,n,this.currentDirection))return;let b=_&&_[E]||{};f&&(b={min:0,max:0});const C=l?200:1e6,D=l?40:1e7,U={type:"inertia",velocity:r?t[E]:0,bounceStiffness:C,bounceDamping:D,timeConstant:750,restDelta:1,restSpeed:10,...u,...b};return this.startAxisValueAnimation(E,U)});return Promise.all(v).then(p)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return zp(this.visualElement,t),r.start(Xg(t,r,0,n,this.visualElement,!1))}stopAnimation(){us(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){us(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),l=r[n];return l||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){us(n=>{const{drag:r}=this.getProps();if(!$h(n,r,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(n);if(l&&l.layout){const{min:f,max:p}=l.layout.layoutBox[n];u.set(t[n]-Fe(f,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Hl(n)||!r||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};us(f=>{const p=this.getAxisMotionValue(f);if(p&&this.constraints!==!1){const _=p.get();l[f]=tL({min:_,max:_},this.constraints[f])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),us(f=>{if(!$h(f,t,null))return;const p=this.getAxisMotionValue(f),{min:_,max:v}=this.constraints[f];p.set(Fe(_,v,l[f]))})}addListeners(){if(!this.visualElement.current)return;iL.set(this.visualElement,this);const t=this.visualElement.current,n=dc(t,"pointerdown",_=>{const{drag:v,dragListener:E=!0}=this.getProps();v&&E&&this.start(_)}),r=()=>{const{dragConstraints:_}=this.getProps();Hl(_)&&_.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",r);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),ke.read(r);const f=Ac(window,"resize",()=>this.scalePositionWithinConstraints()),p=l.addEventListener("didUpdate",(({delta:_,hasLayoutChanged:v})=>{this.isDragging&&v&&(us(E=>{const b=this.getAxisMotionValue(E);b&&(this.originPoint[E]+=_[E].translate,b.set(b.get()+_[E].translate))}),this.visualElement.render())}));return()=>{f(),n(),u(),p&&p()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:f=Bp,dragMomentum:p=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:l,dragConstraints:u,dragElastic:f,dragMomentum:p}}}function $h(i,t,n){return(t===!0||t===i)&&(n===null||n===i)}function rL(i,t=10){let n=null;return Math.abs(i.y)>t?n="y":Math.abs(i.x)>t&&(n="x"),n}class aL extends Ga{constructor(t){super(t),this.removeGroupControls=fs,this.removeListeners=fs,this.controls=new sL(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fs}unmount(){this.removeGroupControls(),this.removeListeners()}}const DT=i=>(t,n)=>{i&&ke.postRender(()=>i(t,n))};class oL extends Ga{constructor(){super(...arguments),this.removePointerDownListener=fs}onPointerDown(t){this.session=new YS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:l}=this.node.getProps();return{onSessionStart:DT(t),onStart:DT(n),onMove:r,onEnd:(u,f)=>{delete this.session,l&&ke.postRender(()=>l(u,f))}}}mount(){this.removePointerDownListener=dc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let sp=!1;class lL extends dt.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:l}=this.props,{projection:u}=t;u&&(n.group&&n.group.add(u),r&&r.register&&l&&r.register(u),sp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),cf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:l,isPresent:u}=this.props,{projection:f}=r;return f&&(f.isPresent=u,sp=!0,l||t.layoutDependency!==n||n===void 0||t.isPresent!==u?f.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?f.promote():f.relegate()||ke.postRender(()=>{const p=f.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Bg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:l}=t;sp=!0,l&&(l.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(l),r&&r.deregister&&r.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function XS(i){const[t,n]=yS(),r=dt.useContext(yg);return et.jsx(lL,{...i,layoutGroup:r,switchLayoutGroup:dt.useContext(LS),isPresent:t,safeToRemove:n})}function uL(i,t,n){const r=Zn(i)?i:Xl(i);return r.start(Xg("",r,t,n)),r.animation}const cL=(i,t)=>i.depth-t.depth;class hL{constructor(){this.children=[],this.isDirty=!1}add(t){Eg(this.children,t),this.isDirty=!0}remove(t){Sg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(cL),this.isDirty=!1,this.children.forEach(t)}}function fL(i,t){const n=Ei.now(),r=({timestamp:l})=>{const u=l-n;u>=t&&(za(r),i(u-t))};return ke.setup(r,!0),()=>za(r)}const WS=["TopLeft","TopRight","BottomLeft","BottomRight"],dL=WS.length,PT=i=>typeof i=="string"?parseFloat(i):i,IT=i=>typeof i=="number"||Ut.test(i);function mL(i,t,n,r,l,u){l?(i.opacity=Fe(0,n.opacity??1,pL(r)),i.opacityExit=Fe(t.opacity??1,0,gL(r))):u&&(i.opacity=Fe(t.opacity??1,n.opacity??1,r));for(let f=0;f<dL;f++){const p=`border${WS[f]}Radius`;let _=OT(t,p),v=OT(n,p);if(_===void 0&&v===void 0)continue;_||(_=0),v||(v=0),_===0||v===0||IT(_)===IT(v)?(i[p]=Math.max(Fe(PT(_),PT(v),r),0),(rr.test(v)||rr.test(_))&&(i[p]+="%")):i[p]=v}(t.rotate||n.rotate)&&(i.rotate=Fe(t.rotate||0,n.rotate||0,r))}function OT(i,t){return i[t]!==void 0?i[t]:i.borderRadius}const pL=JS(0,.5,z1),gL=JS(.5,.95,fs);function JS(i,t,n){return r=>r<i?0:r>t?1:n(Ec(i,t,r))}function VT(i,t){i.min=t.min,i.max=t.max}function Ls(i,t){VT(i.x,t.x),VT(i.y,t.y)}function NT(i,t){i.translate=t.translate,i.scale=t.scale,i.originPoint=t.originPoint,i.origin=t.origin}function zT(i,t,n,r,l){return i-=t,i=Ef(i,1/n,r),l!==void 0&&(i=Ef(i,1/l,r)),i}function _L(i,t=0,n=1,r=.5,l,u=i,f=i){if(rr.test(t)&&(t=parseFloat(t),t=Fe(f.min,f.max,t/100)-f.min),typeof t!="number")return;let p=Fe(u.min,u.max,r);i===u&&(p-=t),i.min=zT(i.min,t,n,p,l),i.max=zT(i.max,t,n,p,l)}function kT(i,t,[n,r,l],u,f){_L(i,t[n],t[r],t[l],t.scale,u,f)}const yL=["x","scaleX","originX"],vL=["y","scaleY","originY"];function BT(i,t,n,r){kT(i.x,t,yL,n?n.x:void 0,r?r.x:void 0),kT(i.y,t,vL,n?n.y:void 0,r?r.y:void 0)}function UT(i){return i.translate===0&&i.scale===1}function $S(i){return UT(i.x)&&UT(i.y)}function jT(i,t){return i.min===t.min&&i.max===t.max}function TL(i,t){return jT(i.x,t.x)&&jT(i.y,t.y)}function HT(i,t){return Math.round(i.min)===Math.round(t.min)&&Math.round(i.max)===Math.round(t.max)}function tb(i,t){return HT(i.x,t.x)&&HT(i.y,t.y)}function FT(i){return ti(i.x)/ti(i.y)}function qT(i,t){return i.translate===t.translate&&i.scale===t.scale&&i.originPoint===t.originPoint}class EL{constructor(){this.members=[]}add(t){Eg(this.members,t),t.scheduleRender()}remove(t){if(Sg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(l=>t===l);if(n===0)return!1;let r;for(let l=n;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function SL(i,t,n){let r="";const l=i.x.translate/t.x,u=i.y.translate/t.y,f=n?.z||0;if((l||u||f)&&(r=`translate3d(${l}px, ${u}px, ${f}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:v,rotate:E,rotateX:b,rotateY:C,skewX:D,skewY:U}=n;v&&(r=`perspective(${v}px) ${r}`),E&&(r+=`rotate(${E}deg) `),b&&(r+=`rotateX(${b}deg) `),C&&(r+=`rotateY(${C}deg) `),D&&(r+=`skewX(${D}deg) `),U&&(r+=`skewY(${U}deg) `)}const p=i.x.scale*t.x,_=i.y.scale*t.y;return(p!==1||_!==1)&&(r+=`scale(${p}, ${_})`),r||"none"}const rp=["","X","Y","Z"],bL=1e3;let wL=0;function ap(i,t,n,r){const{latestValues:l}=t;l[i]&&(n[i]=l[i],t.setStaticValue(i,0),r&&(r[i]=0))}function eb(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:t}=i.options;if(!t)return;const n=US(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:l,layoutId:u}=i.options;window.MotionCancelOptimisedAnimation(n,"transform",ke,!(l||u))}const{parent:r}=i;r&&!r.hasCheckedOptimisedAppear&&eb(r)}function nb({attachResizeListener:i,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:l}){return class{constructor(f={},p=t?.()){this.id=wL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(CL),this.nodes.forEach(DL),this.nodes.forEach(PL),this.nodes.forEach(RL)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let _=0;_<this.path.length;_++)this.path[_].shouldResetTransform=!0;this.root===this&&(this.nodes=new hL)}addEventListener(f,p){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new Ag),this.eventHandlers.get(f).add(p)}notifyListeners(f,...p){const _=this.eventHandlers.get(f);_&&_.notify(...p)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=_S(f)&&!pR(f),this.instance=f;const{layoutId:p,layout:_,visualElement:v}=this.options;if(v&&!v.current&&v.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(_||p)&&(this.isLayoutDirty=!0),i){let E,b=0;const C=()=>this.root.updateBlockedByResize=!1;ke.read(()=>{b=window.innerWidth}),i(f,()=>{const D=window.innerWidth;D!==b&&(b=D,this.root.updateBlockedByResize=!0,E&&E(),E=fL(C,250),cf.hasAnimatedSinceResize&&(cf.hasAnimatedSinceResize=!1,this.nodes.forEach(KT)))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&v&&(p||_)&&this.addEventListener("didUpdate",({delta:E,hasLayoutChanged:b,hasRelativeLayoutChanged:C,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const U=this.options.transition||v.getDefaultTransition()||zL,{onLayoutAnimationStart:B,onLayoutAnimationComplete:G}=v.getProps(),Q=!this.targetLayout||!tb(this.targetLayout,D),st=!b&&C;if(this.options.layoutRoot||this.resumeFrom||st||b&&(Q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const it={...zg(U,"layout"),onPlay:B,onComplete:G};(v.shouldReduceMotion||this.options.layoutRoot)&&(it.delay=0,it.type=!1),this.startAnimation(it),this.setAnimationOrigin(E,st)}else b||KT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),za(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(IL),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&eb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let E=0;E<this.path.length;E++){const b=this.path[E];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:p,layout:_}=this.options;if(p===void 0&&!_)return;const v=this.getTransformTemplate();this.prevTransformTemplateValue=v?v(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(GT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ZT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(LL),this.nodes.forEach(AL),this.nodes.forEach(xL)):this.nodes.forEach(ZT),this.clearAllSnapshots();const p=Ei.now();Pn.delta=Ur(0,1e3/60,p-Pn.timestamp),Pn.timestamp=p,Pn.isProcessing=!0,Ym.update.process(Pn),Ym.preRender.process(Pn),Ym.render.process(Pn),Pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ML),this.sharedNodes.forEach(OL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ti(this.snapshot.measuredBox.x)&&!ti(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let _=0;_<this.path.length;_++)this.path[_].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=_n(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(p=!1),p&&this.instance){const _=r(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:_,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:_}}}resetTransform(){if(!l)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!$S(this.projectionDelta),_=this.getTransformTemplate(),v=_?_(this.latestValues,""):void 0,E=v!==this.prevTransformTemplateValue;f&&this.instance&&(p||Oo(this.latestValues)||E)&&(l(this.instance,v),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const p=this.measurePageBox();let _=this.removeElementScroll(p);return f&&(_=this.removeTransform(_)),kL(_),{animationId:this.root.animationId,measuredBox:p,layoutBox:_,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return _n();const p=f.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(BL))){const{scroll:v}=this.root;v&&(Fl(p.x,v.offset.x),Fl(p.y,v.offset.y))}return p}removeElementScroll(f){const p=_n();if(Ls(p,f),this.scroll?.wasRoot)return p;for(let _=0;_<this.path.length;_++){const v=this.path[_],{scroll:E,options:b}=v;v!==this.root&&E&&b.layoutScroll&&(E.wasRoot&&Ls(p,f),Fl(p.x,E.offset.x),Fl(p.y,E.offset.y))}return p}applyTransform(f,p=!1){const _=_n();Ls(_,f);for(let v=0;v<this.path.length;v++){const E=this.path[v];!p&&E.options.layoutScroll&&E.scroll&&E!==E.root&&ql(_,{x:-E.scroll.offset.x,y:-E.scroll.offset.y}),Oo(E.latestValues)&&ql(_,E.latestValues)}return Oo(this.latestValues)&&ql(_,this.latestValues),_}removeTransform(f){const p=_n();Ls(p,f);for(let _=0;_<this.path.length;_++){const v=this.path[_];if(!v.instance||!Oo(v.latestValues))continue;Ip(v.latestValues)&&v.updateSnapshot();const E=_n(),b=v.measurePageBox();Ls(E,b),BT(p,v.latestValues,v.snapshot?v.snapshot.layoutBox:void 0,E)}return Oo(this.latestValues)&&BT(p,this.latestValues),p}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const _=!!this.resumingFrom||this!==p;if(!(f||_&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:E,layoutId:b}=this.options;if(!this.layout||!(E||b))return;this.resolvedRelativeTargetAt=Pn.timestamp;const C=this.getClosestProjectingParent();C&&this.linkedParentVersion!==C.layoutVersion&&!C.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(C&&C.layout?this.createRelativeTarget(C,this.layout.layoutBox,C.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=_n(),this.targetWithTransforms=_n()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),KM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ls(this.target,this.layout.layoutBox),OS(this.target,this.targetDelta)):Ls(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?this.createRelativeTarget(C,this.target,C.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ip(this.parent.latestValues)||IS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(f,p,_){this.relativeParent=f,this.linkedParentVersion=f.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_n(),this.relativeTargetOrigin=_n(),Sf(this.relativeTargetOrigin,p,_),Ls(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const f=this.getLead(),p=!!this.resumingFrom||this!==f;let _=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(_=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(_=!1),this.resolvedRelativeTargetAt===Pn.timestamp&&(_=!1),_)return;const{layout:v,layoutId:E}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||E))return;Ls(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,C=this.treeScale.y;rM(this.layoutCorrected,this.treeScale,this.path,p),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=_n());const{target:D}=f;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(NT(this.prevProjectionDelta.x,this.projectionDelta.x),NT(this.prevProjectionDelta.y,this.projectionDelta.y)),mc(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==C||!qT(this.projectionDelta.x,this.prevProjectionDelta.x)||!qT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.visualElement?.scheduleRender(),f){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Gl(),this.projectionDelta=Gl(),this.projectionDeltaWithTransform=Gl()}setAnimationOrigin(f,p=!1){const _=this.snapshot,v=_?_.latestValues:{},E={...this.latestValues},b=Gl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const C=_n(),D=_?_.source:void 0,U=this.layout?this.layout.source:void 0,B=D!==U,G=this.getStack(),Q=!G||G.members.length<=1,st=!!(B&&!Q&&this.options.crossfade===!0&&!this.path.some(NL));this.animationProgress=0;let it;this.mixTargetDelta=vt=>{const _t=vt/1e3;YT(b.x,f.x,_t),YT(b.y,f.y,_t),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sf(C,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VL(this.relativeTarget,this.relativeTargetOrigin,C,_t),it&&TL(this.relativeTarget,it)&&(this.isProjectionDirty=!1),it||(it=_n()),Ls(it,this.relativeTarget)),B&&(this.animationValues=E,mL(E,v,this.latestValues,_t,st,Q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_t},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(za(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ke.update(()=>{cf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xl(0)),this.currentAnimation=uL(this.motionValue,[0,1e3],{...f,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),f.onUpdate&&f.onUpdate(p)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:p,target:_,layout:v,latestValues:E}=f;if(!(!p||!_||!v)){if(this!==f&&this.layout&&v&&ib(this.options.animationType,this.layout.layoutBox,v.layoutBox)){_=this.target||_n();const b=ti(this.layout.layoutBox.x);_.x.min=f.target.x.min,_.x.max=_.x.min+b;const C=ti(this.layout.layoutBox.y);_.y.min=f.target.y.min,_.y.max=_.y.min+C}Ls(p,_),ql(p,E),mc(this.projectionDeltaWithTransform,this.layoutCorrected,p,E)}}registerSharedNode(f,p){this.sharedNodes.has(f)||this.sharedNodes.set(f,new EL),this.sharedNodes.get(f).add(p);const v=p.options.initialPromotionConfig;p.promote({transition:v?v.transition:void 0,preserveFollowOpacity:v&&v.shouldPreserveFollowOpacity?v.shouldPreserveFollowOpacity(p):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){const{layoutId:f}=this.options;return f?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:f}=this.options;return f?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:p,preserveFollowOpacity:_}={}){const v=this.getStack();v&&v.promote(this,_),f&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let p=!1;const{latestValues:_}=f;if((_.z||_.rotate||_.rotateX||_.rotateY||_.rotateZ||_.skewX||_.skewY)&&(p=!0),!p)return;const v={};_.z&&ap("z",f,v,this.animationValues);for(let E=0;E<rp.length;E++)ap(`rotate${rp[E]}`,f,v,this.animationValues),ap(`skew${rp[E]}`,f,v,this.animationValues);f.render();for(const E in v)f.setStaticValue(E,v[E]),this.animationValues&&(this.animationValues[E]=v[E]);f.scheduleRender()}applyProjectionStyles(f,p){if(!this.instance||this.isSVG)return;if(!this.isVisible){f.visibility="hidden";return}const _=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,f.visibility="",f.opacity="",f.pointerEvents=uf(p?.pointerEvents)||"",f.transform=_?_(this.latestValues,""):"none";return}const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=uf(p?.pointerEvents)||""),this.hasProjected&&!Oo(this.latestValues)&&(f.transform=_?_({},""):"none",this.hasProjected=!1);return}f.visibility="";const E=v.animationValues||v.latestValues;this.applyTransformsToTarget();let b=SL(this.projectionDeltaWithTransform,this.treeScale,E);_&&(b=_(E,b)),f.transform=b;const{x:C,y:D}=this.projectionDelta;f.transformOrigin=`${C.origin*100}% ${D.origin*100}% 0`,v.animationValues?f.opacity=v===this?E.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:f.opacity=v===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const U in Pp){if(E[U]===void 0)continue;const{correct:B,applyTo:G,isCSSVariable:Q}=Pp[U],st=b==="none"?E[U]:B(E[U],v);if(G){const it=G.length;for(let vt=0;vt<it;vt++)f[G[vt]]=st}else Q?this.options.visualElement.renderState.vars[U]=st:f[U]=st}this.options.layoutId&&(f.pointerEvents=v===this?uf(p?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>f.currentAnimation?.stop()),this.root.nodes.forEach(GT),this.root.sharedNodes.clear()}}}function AL(i){i.updateLayout()}function xL(i){const t=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&t&&i.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=i.layout,{animationType:l}=i.options,u=t.source!==i.layout.source;l==="size"?us(E=>{const b=u?t.measuredBox[E]:t.layoutBox[E],C=ti(b);b.min=n[E].min,b.max=b.min+C}):ib(l,t.layoutBox,n)&&us(E=>{const b=u?t.measuredBox[E]:t.layoutBox[E],C=ti(n[E]);b.max=b.min+C,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[E].max=i.relativeTarget[E].min+C)});const f=Gl();mc(f,n,t.layoutBox);const p=Gl();u?mc(p,i.applyTransform(r,!0),t.measuredBox):mc(p,n,t.layoutBox);const _=!$S(f);let v=!1;if(!i.resumeFrom){const E=i.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:b,layout:C}=E;if(b&&C){const D=_n();Sf(D,t.layoutBox,b.layoutBox);const U=_n();Sf(U,n,C.layoutBox),tb(D,U)||(v=!0),E.options.layoutRoot&&(i.relativeTarget=U,i.relativeTargetOrigin=D,i.relativeParent=E)}}}i.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:p,layoutDelta:f,hasLayoutChanged:_,hasRelativeLayoutChanged:v})}else if(i.isLead()){const{onExitComplete:n}=i.options;n&&n()}i.options.transition=void 0}function CL(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function RL(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function ML(i){i.clearSnapshot()}function GT(i){i.clearMeasurements()}function ZT(i){i.isLayoutDirty=!1}function LL(i){const{visualElement:t}=i.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),i.resetTransform()}function KT(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function DL(i){i.resolveTargetDelta()}function PL(i){i.calcProjection()}function IL(i){i.resetSkewAndRotation()}function OL(i){i.removeLeadSnapshot()}function YT(i,t,n){i.translate=Fe(t.translate,0,n),i.scale=Fe(t.scale,1,n),i.origin=t.origin,i.originPoint=t.originPoint}function QT(i,t,n,r){i.min=Fe(t.min,n.min,r),i.max=Fe(t.max,n.max,r)}function VL(i,t,n,r){QT(i.x,t.x,n.x,r),QT(i.y,t.y,n.y,r)}function NL(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const zL={duration:.45,ease:[.4,0,.1,1]},XT=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),WT=XT("applewebkit/")&&!XT("chrome/")?Math.round:fs;function JT(i){i.min=WT(i.min),i.max=WT(i.max)}function kL(i){JT(i.x),JT(i.y)}function ib(i,t,n){return i==="position"||i==="preserve-aspect"&&!ZM(FT(t),FT(n),.2)}function BL(i){return i!==i.root&&i.scroll?.wasRoot}const UL=nb({attachResizeListener:(i,t)=>Ac(i,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),op={current:void 0},sb=nb({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!op.current){const i=new UL({});i.mount(window),i.setOptions({layoutScroll:!0}),op.current=i}return op.current},resetTransform:(i,t)=>{i.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),jL={pan:{Feature:oL},drag:{Feature:aL,ProjectionNode:sb,MeasureLayout:XS}};function $T(i,t,n){const{props:r}=i;i.animationState&&r.whileHover&&i.animationState.setActive("whileHover",n==="Start");const l="onHover"+n,u=r[l];u&&ke.postRender(()=>u(t,Bc(t)))}class HL extends Ga{mount(){const{current:t}=this.node;t&&(this.unmount=cR(t,(n,r)=>($T(this.node,r,"Start"),l=>$T(this.node,l,"End"))))}unmount(){}}class FL extends Ga{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nc(Ac(this.node.current,"focus",()=>this.onFocus()),Ac(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function tE(i,t,n){const{props:r}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&r.whileTap&&i.animationState.setActive("whileTap",n==="Start");const l="onTap"+(n==="End"?"":n),u=r[l];u&&ke.postRender(()=>u(t,Bc(t)))}class qL extends Ga{mount(){const{current:t}=this.node;t&&(this.unmount=mR(t,(n,r)=>(tE(this.node,r,"Start"),(l,{success:u})=>tE(this.node,l,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Up=new WeakMap,lp=new WeakMap,GL=i=>{const t=Up.get(i.target);t&&t(i)},ZL=i=>{i.forEach(GL)};function KL({root:i,...t}){const n=i||document;lp.has(n)||lp.set(n,{});const r=lp.get(n),l=JSON.stringify(t);return r[l]||(r[l]=new IntersectionObserver(ZL,{root:i,...t})),r[l]}function YL(i,t,n){const r=KL(t);return Up.set(i,n),r.observe(i),()=>{Up.delete(i),r.unobserve(i)}}const QL={some:0,all:1};class XL extends Ga{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:l="some",once:u}=t,f={root:n?n.current:void 0,rootMargin:r,threshold:typeof l=="number"?l:QL[l]},p=_=>{const{isIntersecting:v}=_;if(this.isInView===v||(this.isInView=v,u&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:E,onViewportLeave:b}=this.node.getProps(),C=v?E:b;C&&C(_)};return YL(this.node.current,f,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(WL(t,n))&&this.startObserver()}unmount(){}}function WL({viewport:i={}},{viewport:t={}}={}){return n=>i[n]!==t[n]}const JL={inView:{Feature:XL},tap:{Feature:qL},focus:{Feature:FL},hover:{Feature:HL}},$L={layout:{ProjectionNode:sb,MeasureLayout:XS}},tD={...UM,...JL,...jL,...$L},Wg=nM(tD,pM),rb=({images:i=[],height:t="200px",style:n={}})=>{const[r,l]=dt.useState(0);if(!i||i.length===0)return et.jsx("div",{style:{height:t,background:"#eee",display:"flex",alignItems:"center",justifyContent:"center",...n},children:et.jsx("span",{style:{color:"#888"},children:"No Image"})});if(i.length===1)return et.jsx("img",{src:i[0],alt:"Spot",style:{width:"100%",height:t,objectFit:"cover",...n}});const u=_=>{_.stopPropagation(),l(v=>(v+1)%i.length)},f=_=>{_.stopPropagation(),l(v=>(v-1+i.length)%i.length)},p=(_,v)=>{v.stopPropagation(),l(_)};return et.jsxs("div",{style:{position:"relative",width:"100%",height:t,overflow:"hidden",...n},className:"group",children:[et.jsx(wR,{initial:!1,mode:"wait",children:et.jsx(Wg.img,{src:i[r],alt:`Slide ${r}`,initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},style:{width:"100%",height:"100%",objectFit:"cover",position:"absolute",top:0,left:0}},r)}),et.jsx("button",{onClick:f,style:{position:"absolute",top:"50%",left:"10px",transform:"translateY(-50%)",background:"rgba(0,0,0,0.5)",color:"white",border:"none",borderRadius:"50%",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:10},children:et.jsx(aC,{size:20})}),et.jsx("button",{onClick:u,style:{position:"absolute",top:"50%",right:"10px",transform:"translateY(-50%)",background:"rgba(0,0,0,0.5)",color:"white",border:"none",borderRadius:"50%",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:10},children:et.jsx(lC,{size:20})}),et.jsx("div",{style:{position:"absolute",bottom:"10px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"6px",zIndex:10},children:i.map((_,v)=>et.jsx("div",{onClick:E=>p(v,E),style:{width:v===r?"8px":"6px",height:v===r?"8px":"6px",borderRadius:"50%",background:v===r?"white":"rgba(255,255,255,0.5)",cursor:"pointer",transition:"all 0.3s"}},v))})]})},eD=({spot:i,onClose:t,onNavigate:n,onViewDetails:r})=>{if(!i)return null;const l=i.images&&i.images.length>0?i.images:i.image?[i.image]:[];return et.jsxs(Wg.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"glass-panel spot-card",style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",zIndex:1020,padding:"0",overflow:"hidden",display:"flex",flexDirection:"column"},children:[et.jsx(rb,{images:l,height:"160px"}),et.jsxs("div",{style:{padding:"16px"},children:[et.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[et.jsx("h3",{style:{margin:0,fontSize:"1.2rem"},children:i.name||"Unknown Spot"}),et.jsxs("div",{style:{display:"flex",alignItems:"center",color:"var(--color-rating)"},children:[et.jsx(cc,{size:16,fill:"currentColor"}),et.jsx("span",{style:{marginLeft:"4px",fontWeight:"bold"},children:i.rating||4.5})]})]}),et.jsxs("p",{style:{color:"var(--color-text-secondary)",fontSize:"0.9rem",marginBottom:"12px"},children:["Verified: ",i.lastVerified?new Date(i.lastVerified).toLocaleDateString():"Just now"]}),et.jsxs("div",{style:{maxHeight:"60px",overflow:"hidden",textOverflow:"ellipsis",marginBottom:"16px",position:"relative"},children:[i.description&&et.jsx("p",{style:{fontSize:"0.9rem",lineHeight:"1.4",margin:0,color:"#aaa"},children:i.description}),et.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"30px",background:"linear-gradient(transparent, rgba(16, 23, 42, 0.9))"}})]}),et.jsxs("div",{style:{display:"flex",gap:"8px"},children:[et.jsx("button",{className:"btn-primary",style:{flex:2,background:"var(--color-accent)",color:"white"},onClick:r,children:"See Details"}),et.jsx("button",{className:"btn-primary",style:{flex:1,background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)"},onClick:n,children:"Navigate"}),et.jsx("button",{onClick:t,style:{background:"transparent",border:"none",color:"white",padding:"0 8px",cursor:"pointer"},children:"X"})]})]}),et.jsx("style",{children:`
        .spot-card {
            width: 90%;
            max-width: 400px;
            /* Mobile adjustment loop handled by parent usually, but here fixed for MVP */
        }
        @media (min-width: 768px) {
            .spot-card {
                left: 20px;
                bottom: 20px;
                transform: none !important; /* Override framer for desktop clean pos */
                width: 360px;
            }
        }
      `})]})},nD=()=>{};var eE={};const ab=function(i){const t=[];let n=0;for(let r=0;r<i.length;r++){let l=i.charCodeAt(r);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++r)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},iD=function(i){const t=[];let n=0,r=0;for(;n<i.length;){const l=i[n++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[n++];t[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[n++],f=i[n++],p=i[n++],_=((l&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const u=i[n++],f=i[n++];t[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return t.join("")},ob={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<i.length;l+=3){const u=i[l],f=l+1<i.length,p=f?i[l+1]:0,_=l+2<i.length,v=_?i[l+2]:0,E=u>>2,b=(u&3)<<4|p>>4;let C=(p&15)<<2|v>>6,D=v&63;_||(D=64,f||(C=64)),r.push(n[E],n[b],n[C],n[D])}return r.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(ab(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):iD(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<i.length;){const u=n[i.charAt(l++)],p=l<i.length?n[i.charAt(l)]:0;++l;const v=l<i.length?n[i.charAt(l)]:64;++l;const b=l<i.length?n[i.charAt(l)]:64;if(++l,u==null||p==null||v==null||b==null)throw new sD;const C=u<<2|p>>4;if(r.push(C),v!==64){const D=p<<4&240|v>>2;if(r.push(D),b!==64){const U=v<<6&192|b;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class sD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rD=function(i){const t=ab(i);return ob.encodeByteArray(t,!0)},bf=function(i){return rD(i).replace(/\./g,"")},aD=function(i){try{return ob.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function oD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lD=()=>oD().__FIREBASE_DEFAULTS__,uD=()=>{if(typeof process>"u"||typeof eE>"u")return;const i=eE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},cD=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&aD(i[1]);return t&&JSON.parse(t)},Jg=()=>{try{return nD()||lD()||uD()||cD()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},hD=i=>Jg()?.emulatorHosts?.[i],fD=i=>{const t=hD(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},lb=()=>Jg()?.config;class dD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function $g(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mD(i){return(await fetch(i,{credentials:"include"})).ok}function pD(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[bf(JSON.stringify(n)),bf(JSON.stringify(f)),""].join(".")}const pc={};function gD(){const i={prod:[],emulator:[]};for(const t of Object.keys(pc))pc[t]?i.emulator.push(t):i.prod.push(t);return i}function _D(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let nE=!1;function yD(i,t){if(typeof window>"u"||typeof document>"u"||!$g(window.location.host)||pc[i]===t||pc[i]||nE)return;pc[i]=t;function n(C){return`__firebase__banner__${C}`}const r="__firebase__banner",u=gD().prod.length>0;function f(){const C=document.getElementById(r);C&&C.remove()}function p(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function _(C,D){C.setAttribute("width","24"),C.setAttribute("id",D),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function v(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{nE=!0,f()},C}function E(C,D){C.setAttribute("id",D),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function b(){const C=_D(r),D=n("text"),U=document.getElementById(D)||document.createElement("span"),B=n("learnmore"),G=document.getElementById(B)||document.createElement("a"),Q=n("preprendIcon"),st=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const it=C.element;p(it),E(G,B);const vt=v();_(st,Q),it.append(st,U,G,vt),document.body.appendChild(it)}u?(U.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function vD(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TD(){const i=Jg()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ED(){return!TD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SD(){try{return typeof indexedDB=="object"}catch{return!1}}function bD(){return new Promise((i,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const wD="FirebaseError";class lu extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=wD,Object.setPrototypeOf(this,lu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ub.prototype.create)}}class ub{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],f=u?AD(u,r):"Error",p=`${this.serviceName}: ${f} (${l}).`;return new lu(l,p,r)}}function AD(i,t){return i.replace(xD,(n,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const xD=/\{\$([^}]+)}/g;function xc(i,t){if(i===t)return!0;const n=Object.keys(i),r=Object.keys(t);for(const l of n){if(!r.includes(l))return!1;const u=i[l],f=t[l];if(iE(u)&&iE(f)){if(!xc(u,f))return!1}else if(u!==f)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function iE(i){return i!==null&&typeof i=="object"}function hr(i){return i&&i._delegate?i._delegate:i}class Cc{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Vo="[DEFAULT]";class CD{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new dD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(MD(t))try{this.getOrInitializeService({instanceIdentifier:Vo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(t=Vo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vo){return this.instances.has(t)}getOptions(t=Vo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&f.resolve(l)}return l}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&t(u,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RD(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Vo){return this.component?this.component.multipleInstances?t:Vo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RD(i){return i===Vo?void 0:i}function MD(i){return i.instantiationMode==="EAGER"}class LD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new CD(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var ce;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ce||(ce={}));const DD={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},PD=ce.INFO,ID={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},OD=(i,t,...n)=>{if(t<i.logLevel)return;const r=new Date().toISOString(),l=ID[t];if(l)console[l](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cb{constructor(t){this.name=t,this._logLevel=PD,this._logHandler=OD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ce))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?DD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...t),this._logHandler(this,ce.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...t),this._logHandler(this,ce.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...t),this._logHandler(this,ce.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...t),this._logHandler(this,ce.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...t),this._logHandler(this,ce.ERROR,...t)}}const VD=(i,t)=>t.some(n=>i instanceof n);let sE,rE;function ND(){return sE||(sE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zD(){return rE||(rE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hb=new WeakMap,jp=new WeakMap,fb=new WeakMap,up=new WeakMap,t_=new WeakMap;function kD(i){const t=new Promise((n,r)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Ia(i.result)),l()},f=()=>{r(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&hb.set(n,i)}).catch(()=>{}),t_.set(t,i),t}function BD(i){if(jp.has(i))return;const t=new Promise((n,r)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{r(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});jp.set(i,t)}let Hp={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return jp.get(i);if(t==="objectStoreNames")return i.objectStoreNames||fb.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ia(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function UD(i){Hp=i(Hp)}function jD(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=i.call(cp(this),t,...n);return fb.set(r,t.sort?t.sort():[t]),Ia(r)}:zD().includes(i)?function(...t){return i.apply(cp(this),t),Ia(hb.get(this))}:function(...t){return Ia(i.apply(cp(this),t))}}function HD(i){return typeof i=="function"?jD(i):(i instanceof IDBTransaction&&BD(i),VD(i,ND())?new Proxy(i,Hp):i)}function Ia(i){if(i instanceof IDBRequest)return kD(i);if(up.has(i))return up.get(i);const t=HD(i);return t!==i&&(up.set(i,t),t_.set(t,i)),t}const cp=i=>t_.get(i);function FD(i,t,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const f=indexedDB.open(i,t),p=Ia(f);return r&&f.addEventListener("upgradeneeded",_=>{r(Ia(f.result),_.oldVersion,_.newVersion,Ia(f.transaction),_)}),n&&f.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),p.then(_=>{u&&_.addEventListener("close",()=>u()),l&&_.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const qD=["get","getKey","getAll","getAllKeys","count"],GD=["put","add","delete","clear"],hp=new Map;function aE(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(hp.get(t))return hp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,l=GD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||qD.includes(n)))return;const u=async function(f,...p){const _=this.transaction(f,l?"readwrite":"readonly");let v=_.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[n](...p),l&&_.done]))[0]};return hp.set(t,u),u}UD(i=>({...i,get:(t,n,r)=>aE(t,n)||i.get(t,n,r),has:(t,n)=>!!aE(t,n)||i.has(t,n)}));class ZD{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function KD(i){return i.getComponent()?.type==="VERSION"}const Fp="@firebase/app",oE="0.14.6";const Hr=new cb("@firebase/app"),YD="@firebase/app-compat",QD="@firebase/analytics-compat",XD="@firebase/analytics",WD="@firebase/app-check-compat",JD="@firebase/app-check",$D="@firebase/auth",tP="@firebase/auth-compat",eP="@firebase/database",nP="@firebase/data-connect",iP="@firebase/database-compat",sP="@firebase/functions",rP="@firebase/functions-compat",aP="@firebase/installations",oP="@firebase/installations-compat",lP="@firebase/messaging",uP="@firebase/messaging-compat",cP="@firebase/performance",hP="@firebase/performance-compat",fP="@firebase/remote-config",dP="@firebase/remote-config-compat",mP="@firebase/storage",pP="@firebase/storage-compat",gP="@firebase/firestore",_P="@firebase/ai",yP="@firebase/firestore-compat",vP="firebase",TP="12.6.0";const qp="[DEFAULT]",EP={[Fp]:"fire-core",[YD]:"fire-core-compat",[XD]:"fire-analytics",[QD]:"fire-analytics-compat",[JD]:"fire-app-check",[WD]:"fire-app-check-compat",[$D]:"fire-auth",[tP]:"fire-auth-compat",[eP]:"fire-rtdb",[nP]:"fire-data-connect",[iP]:"fire-rtdb-compat",[sP]:"fire-fn",[rP]:"fire-fn-compat",[aP]:"fire-iid",[oP]:"fire-iid-compat",[lP]:"fire-fcm",[uP]:"fire-fcm-compat",[cP]:"fire-perf",[hP]:"fire-perf-compat",[fP]:"fire-rc",[dP]:"fire-rc-compat",[mP]:"fire-gcs",[pP]:"fire-gcs-compat",[gP]:"fire-fst",[yP]:"fire-fst-compat",[_P]:"fire-vertex","fire-js":"fire-js",[vP]:"fire-js-all"};const wf=new Map,SP=new Map,Gp=new Map;function lE(i,t){try{i.container.addComponent(t)}catch(n){Hr.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function Af(i){const t=i.name;if(Gp.has(t))return Hr.debug(`There were multiple attempts to register component ${t}.`),!1;Gp.set(t,i);for(const n of wf.values())lE(n,i);for(const n of SP.values())lE(n,i);return!0}function bP(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function wP(i){return i==null?!1:i.settings!==void 0}const AP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oa=new ub("app","Firebase",AP);class xP{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Oa.create("app-deleted",{appName:this._name})}}const CP=TP;function db(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const r={name:qp,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Oa.create("bad-app-name",{appName:String(l)});if(n||(n=lb()),!n)throw Oa.create("no-options");const u=wf.get(l);if(u){if(xc(n,u.options)&&xc(r,u.config))return u;throw Oa.create("duplicate-app",{appName:l})}const f=new LD(l);for(const _ of Gp.values())f.addComponent(_);const p=new xP(n,r,f);return wf.set(l,p),p}function RP(i=qp){const t=wf.get(i);if(!t&&i===qp&&lb())return db();if(!t)throw Oa.create("no-app",{appName:i});return t}function Kl(i,t,n){let r=EP[i]??i;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const f=[`Unable to register library "${r}" with version "${t}":`];l&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hr.warn(f.join(" "));return}Af(new Cc(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const MP="firebase-heartbeat-database",LP=1,Rc="firebase-heartbeat-store";let fp=null;function mb(){return fp||(fp=FD(MP,LP,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Rc)}catch(n){console.warn(n)}}}}).catch(i=>{throw Oa.create("idb-open",{originalErrorMessage:i.message})})),fp}async function DP(i){try{const n=(await mb()).transaction(Rc),r=await n.objectStore(Rc).get(pb(i));return await n.done,r}catch(t){if(t instanceof lu)Hr.warn(t.message);else{const n=Oa.create("idb-get",{originalErrorMessage:t?.message});Hr.warn(n.message)}}}async function uE(i,t){try{const r=(await mb()).transaction(Rc,"readwrite");await r.objectStore(Rc).put(t,pb(i)),await r.done}catch(n){if(n instanceof lu)Hr.warn(n.message);else{const r=Oa.create("idb-set",{originalErrorMessage:n?.message});Hr.warn(r.message)}}}function pb(i){return`${i.name}!${i.options.appId}`}const PP=1024,IP=30;class OP{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>IP){const l=zP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Hr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=cE(),{heartbeatsToSend:n,unsentEntries:r}=VP(this._heartbeatsCache.heartbeats),l=bf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Hr.warn(t),""}}}function cE(){return new Date().toISOString().substring(0,10)}function VP(i,t=PP){const n=[];let r=i.slice();for(const l of i){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),hE(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),hE(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class NP{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SD()?bD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return uE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return uE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function hE(i){return bf(JSON.stringify({version:2,heartbeats:i})).length}function zP(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,t=r);return t}function kP(i){Af(new Cc("platform-logger",t=>new ZD(t),"PRIVATE")),Af(new Cc("heartbeat",t=>new OP(t),"PRIVATE")),Kl(Fp,oE,i),Kl(Fp,oE,"esm2020"),Kl("fire-js","")}kP("");var fE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Va,gb;(function(){var i;function t(V,P){function O(){}O.prototype=P.prototype,V.F=P.prototype,V.prototype=new O,V.prototype.constructor=V,V.D=function(F,k,Z){for(var z=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)z[Qt-2]=arguments[Qt];return P.prototype[k].apply(F,z)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,P,O){O||(O=0);const F=Array(16);if(typeof P=="string")for(var k=0;k<16;++k)F[k]=P.charCodeAt(O++)|P.charCodeAt(O++)<<8|P.charCodeAt(O++)<<16|P.charCodeAt(O++)<<24;else for(k=0;k<16;++k)F[k]=P[O++]|P[O++]<<8|P[O++]<<16|P[O++]<<24;P=V.g[0],O=V.g[1],k=V.g[2];let Z=V.g[3],z;z=P+(Z^O&(k^Z))+F[0]+3614090360&4294967295,P=O+(z<<7&4294967295|z>>>25),z=Z+(k^P&(O^k))+F[1]+3905402710&4294967295,Z=P+(z<<12&4294967295|z>>>20),z=k+(O^Z&(P^O))+F[2]+606105819&4294967295,k=Z+(z<<17&4294967295|z>>>15),z=O+(P^k&(Z^P))+F[3]+3250441966&4294967295,O=k+(z<<22&4294967295|z>>>10),z=P+(Z^O&(k^Z))+F[4]+4118548399&4294967295,P=O+(z<<7&4294967295|z>>>25),z=Z+(k^P&(O^k))+F[5]+1200080426&4294967295,Z=P+(z<<12&4294967295|z>>>20),z=k+(O^Z&(P^O))+F[6]+2821735955&4294967295,k=Z+(z<<17&4294967295|z>>>15),z=O+(P^k&(Z^P))+F[7]+4249261313&4294967295,O=k+(z<<22&4294967295|z>>>10),z=P+(Z^O&(k^Z))+F[8]+1770035416&4294967295,P=O+(z<<7&4294967295|z>>>25),z=Z+(k^P&(O^k))+F[9]+2336552879&4294967295,Z=P+(z<<12&4294967295|z>>>20),z=k+(O^Z&(P^O))+F[10]+4294925233&4294967295,k=Z+(z<<17&4294967295|z>>>15),z=O+(P^k&(Z^P))+F[11]+2304563134&4294967295,O=k+(z<<22&4294967295|z>>>10),z=P+(Z^O&(k^Z))+F[12]+1804603682&4294967295,P=O+(z<<7&4294967295|z>>>25),z=Z+(k^P&(O^k))+F[13]+4254626195&4294967295,Z=P+(z<<12&4294967295|z>>>20),z=k+(O^Z&(P^O))+F[14]+2792965006&4294967295,k=Z+(z<<17&4294967295|z>>>15),z=O+(P^k&(Z^P))+F[15]+1236535329&4294967295,O=k+(z<<22&4294967295|z>>>10),z=P+(k^Z&(O^k))+F[1]+4129170786&4294967295,P=O+(z<<5&4294967295|z>>>27),z=Z+(O^k&(P^O))+F[6]+3225465664&4294967295,Z=P+(z<<9&4294967295|z>>>23),z=k+(P^O&(Z^P))+F[11]+643717713&4294967295,k=Z+(z<<14&4294967295|z>>>18),z=O+(Z^P&(k^Z))+F[0]+3921069994&4294967295,O=k+(z<<20&4294967295|z>>>12),z=P+(k^Z&(O^k))+F[5]+3593408605&4294967295,P=O+(z<<5&4294967295|z>>>27),z=Z+(O^k&(P^O))+F[10]+38016083&4294967295,Z=P+(z<<9&4294967295|z>>>23),z=k+(P^O&(Z^P))+F[15]+3634488961&4294967295,k=Z+(z<<14&4294967295|z>>>18),z=O+(Z^P&(k^Z))+F[4]+3889429448&4294967295,O=k+(z<<20&4294967295|z>>>12),z=P+(k^Z&(O^k))+F[9]+568446438&4294967295,P=O+(z<<5&4294967295|z>>>27),z=Z+(O^k&(P^O))+F[14]+3275163606&4294967295,Z=P+(z<<9&4294967295|z>>>23),z=k+(P^O&(Z^P))+F[3]+4107603335&4294967295,k=Z+(z<<14&4294967295|z>>>18),z=O+(Z^P&(k^Z))+F[8]+1163531501&4294967295,O=k+(z<<20&4294967295|z>>>12),z=P+(k^Z&(O^k))+F[13]+2850285829&4294967295,P=O+(z<<5&4294967295|z>>>27),z=Z+(O^k&(P^O))+F[2]+4243563512&4294967295,Z=P+(z<<9&4294967295|z>>>23),z=k+(P^O&(Z^P))+F[7]+1735328473&4294967295,k=Z+(z<<14&4294967295|z>>>18),z=O+(Z^P&(k^Z))+F[12]+2368359562&4294967295,O=k+(z<<20&4294967295|z>>>12),z=P+(O^k^Z)+F[5]+4294588738&4294967295,P=O+(z<<4&4294967295|z>>>28),z=Z+(P^O^k)+F[8]+2272392833&4294967295,Z=P+(z<<11&4294967295|z>>>21),z=k+(Z^P^O)+F[11]+1839030562&4294967295,k=Z+(z<<16&4294967295|z>>>16),z=O+(k^Z^P)+F[14]+4259657740&4294967295,O=k+(z<<23&4294967295|z>>>9),z=P+(O^k^Z)+F[1]+2763975236&4294967295,P=O+(z<<4&4294967295|z>>>28),z=Z+(P^O^k)+F[4]+1272893353&4294967295,Z=P+(z<<11&4294967295|z>>>21),z=k+(Z^P^O)+F[7]+4139469664&4294967295,k=Z+(z<<16&4294967295|z>>>16),z=O+(k^Z^P)+F[10]+3200236656&4294967295,O=k+(z<<23&4294967295|z>>>9),z=P+(O^k^Z)+F[13]+681279174&4294967295,P=O+(z<<4&4294967295|z>>>28),z=Z+(P^O^k)+F[0]+3936430074&4294967295,Z=P+(z<<11&4294967295|z>>>21),z=k+(Z^P^O)+F[3]+3572445317&4294967295,k=Z+(z<<16&4294967295|z>>>16),z=O+(k^Z^P)+F[6]+76029189&4294967295,O=k+(z<<23&4294967295|z>>>9),z=P+(O^k^Z)+F[9]+3654602809&4294967295,P=O+(z<<4&4294967295|z>>>28),z=Z+(P^O^k)+F[12]+3873151461&4294967295,Z=P+(z<<11&4294967295|z>>>21),z=k+(Z^P^O)+F[15]+530742520&4294967295,k=Z+(z<<16&4294967295|z>>>16),z=O+(k^Z^P)+F[2]+3299628645&4294967295,O=k+(z<<23&4294967295|z>>>9),z=P+(k^(O|~Z))+F[0]+4096336452&4294967295,P=O+(z<<6&4294967295|z>>>26),z=Z+(O^(P|~k))+F[7]+1126891415&4294967295,Z=P+(z<<10&4294967295|z>>>22),z=k+(P^(Z|~O))+F[14]+2878612391&4294967295,k=Z+(z<<15&4294967295|z>>>17),z=O+(Z^(k|~P))+F[5]+4237533241&4294967295,O=k+(z<<21&4294967295|z>>>11),z=P+(k^(O|~Z))+F[12]+1700485571&4294967295,P=O+(z<<6&4294967295|z>>>26),z=Z+(O^(P|~k))+F[3]+2399980690&4294967295,Z=P+(z<<10&4294967295|z>>>22),z=k+(P^(Z|~O))+F[10]+4293915773&4294967295,k=Z+(z<<15&4294967295|z>>>17),z=O+(Z^(k|~P))+F[1]+2240044497&4294967295,O=k+(z<<21&4294967295|z>>>11),z=P+(k^(O|~Z))+F[8]+1873313359&4294967295,P=O+(z<<6&4294967295|z>>>26),z=Z+(O^(P|~k))+F[15]+4264355552&4294967295,Z=P+(z<<10&4294967295|z>>>22),z=k+(P^(Z|~O))+F[6]+2734768916&4294967295,k=Z+(z<<15&4294967295|z>>>17),z=O+(Z^(k|~P))+F[13]+1309151649&4294967295,O=k+(z<<21&4294967295|z>>>11),z=P+(k^(O|~Z))+F[4]+4149444226&4294967295,P=O+(z<<6&4294967295|z>>>26),z=Z+(O^(P|~k))+F[11]+3174756917&4294967295,Z=P+(z<<10&4294967295|z>>>22),z=k+(P^(Z|~O))+F[2]+718787259&4294967295,k=Z+(z<<15&4294967295|z>>>17),z=O+(Z^(k|~P))+F[9]+3951481745&4294967295,V.g[0]=V.g[0]+P&4294967295,V.g[1]=V.g[1]+(k+(z<<21&4294967295|z>>>11))&4294967295,V.g[2]=V.g[2]+k&4294967295,V.g[3]=V.g[3]+Z&4294967295}r.prototype.v=function(V,P){P===void 0&&(P=V.length);const O=P-this.blockSize,F=this.C;let k=this.h,Z=0;for(;Z<P;){if(k==0)for(;Z<=O;)l(this,V,Z),Z+=this.blockSize;if(typeof V=="string"){for(;Z<P;)if(F[k++]=V.charCodeAt(Z++),k==this.blockSize){l(this,F),k=0;break}}else for(;Z<P;)if(F[k++]=V[Z++],k==this.blockSize){l(this,F),k=0;break}}this.h=k,this.o+=P},r.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var P=1;P<V.length-8;++P)V[P]=0;P=this.o*8;for(var O=V.length-8;O<V.length;++O)V[O]=P&255,P/=256;for(this.v(V),V=Array(16),P=0,O=0;O<4;++O)for(let F=0;F<32;F+=8)V[P++]=this.g[O]>>>F&255;return V};function u(V,P){var O=p;return Object.prototype.hasOwnProperty.call(O,V)?O[V]:O[V]=P(V)}function f(V,P){this.h=P;const O=[];let F=!0;for(let k=V.length-1;k>=0;k--){const Z=V[k]|0;F&&Z==P||(O[k]=Z,F=!1)}this.g=O}var p={};function _(V){return-128<=V&&V<128?u(V,function(P){return new f([P|0],P<0?-1:0)}):new f([V|0],V<0?-1:0)}function v(V){if(isNaN(V)||!isFinite(V))return b;if(V<0)return G(v(-V));const P=[];let O=1;for(let F=0;V>=O;F++)P[F]=V/O|0,O*=4294967296;return new f(P,0)}function E(V,P){if(V.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(V.charAt(0)=="-")return G(E(V.substring(1),P));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=v(Math.pow(P,8));let F=b;for(let Z=0;Z<V.length;Z+=8){var k=Math.min(8,V.length-Z);const z=parseInt(V.substring(Z,Z+k),P);k<8?(k=v(Math.pow(P,k)),F=F.j(k).add(v(z))):(F=F.j(O),F=F.add(v(z)))}return F}var b=_(0),C=_(1),D=_(16777216);i=f.prototype,i.m=function(){if(B(this))return-G(this).m();let V=0,P=1;for(let O=0;O<this.g.length;O++){const F=this.i(O);V+=(F>=0?F:4294967296+F)*P,P*=4294967296}return V},i.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(U(this))return"0";if(B(this))return"-"+G(this).toString(V);const P=v(Math.pow(V,6));var O=this;let F="";for(;;){const k=vt(O,P).g;O=Q(O,k.j(P));let Z=((O.g.length>0?O.g[0]:O.h)>>>0).toString(V);if(O=k,U(O))return Z+F;for(;Z.length<6;)Z="0"+Z;F=Z+F}},i.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function U(V){if(V.h!=0)return!1;for(let P=0;P<V.g.length;P++)if(V.g[P]!=0)return!1;return!0}function B(V){return V.h==-1}i.l=function(V){return V=Q(this,V),B(V)?-1:U(V)?0:1};function G(V){const P=V.g.length,O=[];for(let F=0;F<P;F++)O[F]=~V.g[F];return new f(O,~V.h).add(C)}i.abs=function(){return B(this)?G(this):this},i.add=function(V){const P=Math.max(this.g.length,V.g.length),O=[];let F=0;for(let k=0;k<=P;k++){let Z=F+(this.i(k)&65535)+(V.i(k)&65535),z=(Z>>>16)+(this.i(k)>>>16)+(V.i(k)>>>16);F=z>>>16,Z&=65535,z&=65535,O[k]=z<<16|Z}return new f(O,O[O.length-1]&-2147483648?-1:0)};function Q(V,P){return V.add(G(P))}i.j=function(V){if(U(this)||U(V))return b;if(B(this))return B(V)?G(this).j(G(V)):G(G(this).j(V));if(B(V))return G(this.j(G(V)));if(this.l(D)<0&&V.l(D)<0)return v(this.m()*V.m());const P=this.g.length+V.g.length,O=[];for(var F=0;F<2*P;F++)O[F]=0;for(F=0;F<this.g.length;F++)for(let k=0;k<V.g.length;k++){const Z=this.i(F)>>>16,z=this.i(F)&65535,Qt=V.i(k)>>>16,xe=V.i(k)&65535;O[2*F+2*k]+=z*xe,st(O,2*F+2*k),O[2*F+2*k+1]+=Z*xe,st(O,2*F+2*k+1),O[2*F+2*k+1]+=z*Qt,st(O,2*F+2*k+1),O[2*F+2*k+2]+=Z*Qt,st(O,2*F+2*k+2)}for(V=0;V<P;V++)O[V]=O[2*V+1]<<16|O[2*V];for(V=P;V<2*P;V++)O[V]=0;return new f(O,0)};function st(V,P){for(;(V[P]&65535)!=V[P];)V[P+1]+=V[P]>>>16,V[P]&=65535,P++}function it(V,P){this.g=V,this.h=P}function vt(V,P){if(U(P))throw Error("division by zero");if(U(V))return new it(b,b);if(B(V))return P=vt(G(V),P),new it(G(P.g),G(P.h));if(B(P))return P=vt(V,G(P)),new it(G(P.g),P.h);if(V.g.length>30){if(B(V)||B(P))throw Error("slowDivide_ only works with positive integers.");for(var O=C,F=P;F.l(V)<=0;)O=_t(O),F=_t(F);var k=Et(O,1),Z=Et(F,1);for(F=Et(F,2),O=Et(O,2);!U(F);){var z=Z.add(F);z.l(V)<=0&&(k=k.add(O),Z=z),F=Et(F,1),O=Et(O,1)}return P=Q(V,k.j(P)),new it(k,P)}for(k=b;V.l(P)>=0;){for(O=Math.max(1,Math.floor(V.m()/P.m())),F=Math.ceil(Math.log(O)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),Z=v(O),z=Z.j(P);B(z)||z.l(V)>0;)O-=F,Z=v(O),z=Z.j(P);U(Z)&&(Z=C),k=k.add(Z),V=Q(V,z)}return new it(k,V)}i.B=function(V){return vt(this,V).h},i.and=function(V){const P=Math.max(this.g.length,V.g.length),O=[];for(let F=0;F<P;F++)O[F]=this.i(F)&V.i(F);return new f(O,this.h&V.h)},i.or=function(V){const P=Math.max(this.g.length,V.g.length),O=[];for(let F=0;F<P;F++)O[F]=this.i(F)|V.i(F);return new f(O,this.h|V.h)},i.xor=function(V){const P=Math.max(this.g.length,V.g.length),O=[];for(let F=0;F<P;F++)O[F]=this.i(F)^V.i(F);return new f(O,this.h^V.h)};function _t(V){const P=V.g.length+1,O=[];for(let F=0;F<P;F++)O[F]=V.i(F)<<1|V.i(F-1)>>>31;return new f(O,V.h)}function Et(V,P){const O=P>>5;P%=32;const F=V.g.length-O,k=[];for(let Z=0;Z<F;Z++)k[Z]=P>0?V.i(Z+O)>>>P|V.i(Z+O+1)<<32-P:V.i(Z+O);return new f(k,V.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,gb=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=E,Va=f}).apply(typeof fE<"u"?fE:typeof self<"u"?self:typeof window<"u"?window:{});var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _b,ac,yb,hf,Zp,vb,Tb,Eb;(function(){var i,t=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof tf=="object"&&tf];for(var S=0;S<d.length;++S){var x=d[S];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function l(d,S){if(S)t:{var x=r;d=d.split(".");for(var I=0;I<d.length-1;I++){var X=d[I];if(!(X in x))break t;x=x[X]}d=d[d.length-1],I=x[d],S=S(I),S!=I&&S!=null&&t(x,d,{configurable:!0,writable:!0,value:S})}}l("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(d){return d||function(S){var x=[],I;for(I in S)Object.prototype.hasOwnProperty.call(S,I)&&x.push([I,S[I]]);return x}});var u=u||{},f=this||self;function p(d){var S=typeof d;return S=="object"&&d!=null||S=="function"}function _(d,S,x){return d.call.apply(d.bind,arguments)}function v(d,S,x){return v=_,v.apply(null,arguments)}function E(d,S){var x=Array.prototype.slice.call(arguments,1);return function(){var I=x.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function b(d,S){function x(){}x.prototype=S.prototype,d.Z=S.prototype,d.prototype=new x,d.prototype.constructor=d,d.Ob=function(I,X,nt){for(var St=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)St[Bt-2]=arguments[Bt];return S.prototype[X].apply(I,St)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function D(d){const S=d.length;if(S>0){const x=Array(S);for(let I=0;I<S;I++)x[I]=d[I];return x}return[]}function U(d,S){for(let I=1;I<arguments.length;I++){const X=arguments[I];var x=typeof X;if(x=x!="object"?x:X?Array.isArray(X)?"array":x:"null",x=="array"||x=="object"&&typeof X.length=="number"){x=d.length||0;const nt=X.length||0;d.length=x+nt;for(let St=0;St<nt;St++)d[x+St]=X[St]}else d.push(X)}}class B{constructor(S,x){this.i=S,this.j=x,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function G(d){f.setTimeout(()=>{throw d},0)}function Q(){var d=V;let S=null;return d.g&&(S=d.g,d.g=d.g.next,d.g||(d.h=null),S.next=null),S}class st{constructor(){this.h=this.g=null}add(S,x){const I=it.get();I.set(S,x),this.h?this.h.next=I:this.g=I,this.h=I}}var it=new B(()=>new vt,d=>d.reset());class vt{constructor(){this.next=this.g=this.h=null}set(S,x){this.h=S,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,Et=!1,V=new st,P=()=>{const d=Promise.resolve(void 0);_t=()=>{d.then(O)}};function O(){for(var d;d=Q();){try{d.h.call(d.g)}catch(x){G(x)}var S=it;S.j(d),S.h<100&&(S.h++,d.next=S.g,S.g=d)}Et=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(d,S){this.type=d,this.g=this.target=S,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var Z=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,S=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};f.addEventListener("test",x,S),f.removeEventListener("test",x,S)}catch{}return d})();function z(d){return/^[\s\xa0]*$/.test(d)}function Qt(d,S){k.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,S)}b(Qt,k),Qt.prototype.init=function(d,S){const x=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=S,S=d.relatedTarget,S||(x=="mouseover"?S=d.fromElement:x=="mouseout"&&(S=d.toElement)),this.relatedTarget=S,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Qt.Z.h.call(this)},Qt.prototype.h=function(){Qt.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),rt=0;function gt(d,S,x,I,X){this.listener=d,this.proxy=null,this.src=S,this.type=x,this.capture=!!I,this.ha=X,this.key=++rt,this.da=this.fa=!1}function pt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ht(d,S,x){for(const I in d)S.call(x,d[I],I,d)}function bt(d,S){for(const x in d)S.call(void 0,d[x],x,d)}function H(d){const S={};for(const x in d)S[x]=d[x];return S}const ot="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(d,S){let x,I;for(let X=1;X<arguments.length;X++){I=arguments[X];for(x in I)d[x]=I[x];for(let nt=0;nt<ot.length;nt++)x=ot[nt],Object.prototype.hasOwnProperty.call(I,x)&&(d[x]=I[x])}}function Tt(d){this.src=d,this.g={},this.h=0}Tt.prototype.add=function(d,S,x,I,X){const nt=d.toString();d=this.g[nt],d||(d=this.g[nt]=[],this.h++);const St=At(d,S,I,X);return St>-1?(S=d[St],x||(S.fa=!1)):(S=new gt(S,this.src,nt,!!I,X),S.fa=x,d.push(S)),S};function xt(d,S){const x=S.type;if(x in d.g){var I=d.g[x],X=Array.prototype.indexOf.call(I,S,void 0),nt;(nt=X>=0)&&Array.prototype.splice.call(I,X,1),nt&&(pt(S),d.g[x].length==0&&(delete d.g[x],d.h--))}}function At(d,S,x,I){for(let X=0;X<d.length;++X){const nt=d[X];if(!nt.da&&nt.listener==S&&nt.capture==!!x&&nt.ha==I)return X}return-1}var Ft="closure_lm_"+(Math.random()*1e6|0),Se={};function Ce(d,S,x,I,X){if(Array.isArray(S)){for(let nt=0;nt<S.length;nt++)Ce(d,S[nt],x,I,X);return null}return x=zs(x),d&&d[xe]?d.J(S,x,p(I)?!!I.capture:!1,X):ds(d,S,x,!1,I,X)}function ds(d,S,x,I,X,nt){if(!S)throw Error("Invalid event type");const St=p(X)?!!X.capture:!!X;let Bt=Ns(d);if(Bt||(d[Ft]=Bt=new Tt(d)),x=Bt.add(S,x,I,St,nt),x.proxy)return x;if(I=Os(),x.proxy=I,I.src=d,I.listener=x,d.addEventListener)Z||(X=St),X===void 0&&(X=!1),d.addEventListener(S.toString(),I,X);else if(d.attachEvent)d.attachEvent(Hi(S.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Os(){function d(x){return S.call(d.src,d.listener,x)}const S=Gr;return d}function ji(d,S,x,I,X){if(Array.isArray(S))for(var nt=0;nt<S.length;nt++)ji(d,S[nt],x,I,X);else I=p(I)?!!I.capture:!!I,x=zs(x),d&&d[xe]?(d=d.i,nt=String(S).toString(),nt in d.g&&(S=d.g[nt],x=At(S,x,I,X),x>-1&&(pt(S[x]),Array.prototype.splice.call(S,x,1),S.length==0&&(delete d.g[nt],d.h--)))):d&&(d=Ns(d))&&(S=d.g[S.toString()],d=-1,S&&(d=At(S,x,I,X)),(x=d>-1?S[d]:null)&&Vs(x))}function Vs(d){if(typeof d!="number"&&d&&!d.da){var S=d.src;if(S&&S[xe])xt(S.i,d);else{var x=d.type,I=d.proxy;S.removeEventListener?S.removeEventListener(x,I,d.capture):S.detachEvent?S.detachEvent(Hi(x),I):S.addListener&&S.removeListener&&S.removeListener(I),(x=Ns(S))?(xt(x,d),x.h==0&&(x.src=null,S[Ft]=null)):pt(d)}}}function Hi(d){return d in Se?Se[d]:Se[d]="on"+d}function Gr(d,S){if(d.da)d=!0;else{S=new Qt(S,this);const x=d.listener,I=d.ha||d.src;d.fa&&Vs(d),d=x.call(I,S)}return d}function Ns(d){return d=d[Ft],d instanceof Tt?d:null}var dr="__closure_events_fn_"+(Math.random()*1e9>>>0);function zs(d){return typeof d=="function"?d:(d[dr]||(d[dr]=function(S){return d.handleEvent(S)}),d[dr])}function Ge(){F.call(this),this.i=new Tt(this),this.M=this,this.G=null}b(Ge,F),Ge.prototype[xe]=!0,Ge.prototype.removeEventListener=function(d,S,x,I){ji(this,d,S,x,I)};function Ze(d,S){var x,I=d.G;if(I)for(x=[];I;I=I.G)x.push(I);if(d=d.M,I=S.type||S,typeof S=="string")S=new k(S,d);else if(S instanceof k)S.target=S.target||d;else{var X=S;S=new k(I,d),yt(S,X)}X=!0;let nt,St;if(x)for(St=x.length-1;St>=0;St--)nt=S.g=x[St],X=Fi(nt,I,!0,S)&&X;if(nt=S.g=d,X=Fi(nt,I,!0,S)&&X,X=Fi(nt,I,!1,S)&&X,x)for(St=0;St<x.length;St++)nt=S.g=x[St],X=Fi(nt,I,!1,S)&&X}Ge.prototype.N=function(){if(Ge.Z.N.call(this),this.i){var d=this.i;for(const S in d.g){const x=d.g[S];for(let I=0;I<x.length;I++)pt(x[I]);delete d.g[S],d.h--}}this.G=null},Ge.prototype.J=function(d,S,x,I){return this.i.add(String(d),S,!1,x,I)},Ge.prototype.K=function(d,S,x,I){return this.i.add(String(d),S,!0,x,I)};function Fi(d,S,x,I){if(S=d.i.g[String(S)],!S)return!0;S=S.concat();let X=!0;for(let nt=0;nt<S.length;++nt){const St=S[nt];if(St&&!St.da&&St.capture==x){const Bt=St.listener,oe=St.ha||St.src;St.fa&&xt(d.i,St),X=Bt.call(oe,I)!==!1&&X}}return X&&!I.defaultPrevented}function Xo(d,S){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=v(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:f.setTimeout(d,S||0)}function Ya(d){d.g=Xo(()=>{d.g=null,d.i&&(d.i=!1,Ya(d))},d.l);const S=d.h;d.h=null,d.m.apply(null,S)}class Rn extends F{constructor(S,x){super(),this.m=S,this.l=x,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Ya(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(d){F.call(this),this.h=d,this.g={}}b(mr,F);var pr=[];function Zr(d){Ht(d.g,function(S,x){this.g.hasOwnProperty(x)&&Vs(S)},d),d.g={}}mr.prototype.N=function(){mr.Z.N.call(this),Zr(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ms=f.JSON.stringify,pu=f.JSON.parse,Qa=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Xa(){}function Wo(){}var ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $e(){k.call(this,"d")}b($e,k);function Kn(){k.call(this,"c")}b(Kn,k);var Be={},ks=null;function Kr(){return ks=ks||new Ge}Be.Ia="serverreachability";function Jo(d){k.call(this,Be.Ia,d)}b(Jo,k);function Si(d){const S=Kr();Ze(S,new Jo(S))}Be.STAT_EVENT="statevent";function Bs(d,S){k.call(this,Be.STAT_EVENT,d),this.stat=S}b(Bs,k);function Ue(d){const S=Kr();Ze(S,new Bs(S,d))}Be.Ja="timingevent";function qi(d,S){k.call(this,Be.Ja,d),this.size=S}b(qi,k);function Gi(d,S){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},S)}function bi(){this.g=!0}bi.prototype.ua=function(){this.g=!1};function gu(d,S,x,I,X,nt){d.info(function(){if(d.g)if(nt){var St="",Bt=nt.split("&");for(let le=0;le<Bt.length;le++){var oe=Bt[le].split("=");if(oe.length>1){const Me=oe[0];oe=oe[1];const ui=Me.split("_");St=ui.length>=2&&ui[1]=="type"?St+(Me+"="+oe+"&"):St+(Me+"=redacted&")}}}else St=null;else St=nt;return"XMLHTTP REQ ("+I+") [attempt "+X+"]: "+S+`
`+x+`
`+St})}function $o(d,S,x,I,X,nt,St){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+X+"]: "+S+`
`+x+`
`+nt+" "+St})}function Zi(d,S,x,I){d.info(function(){return"XMLHTTP TEXT ("+S+"): "+_u(d,x)+(I?" "+I:"")})}function ps(d,S){d.info(function(){return"TIMEOUT: "+S})}bi.prototype.info=function(){};function _u(d,S){if(!d.g)return S;if(!S)return null;try{const nt=JSON.parse(S);if(nt){for(d=0;d<nt.length;d++)if(Array.isArray(nt[d])){var x=nt[d];if(!(x.length<2)){var I=x[1];if(Array.isArray(I)&&!(I.length<1)){var X=I[0];if(X!="noop"&&X!="stop"&&X!="close")for(let St=1;St<I.length;St++)I[St]=""}}}}return ms(nt)}catch{return S}}var gr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ja;function vn(){}b(vn,Xa),vn.prototype.g=function(){return new XMLHttpRequest},Ja=new vn;function Lt(d){return encodeURIComponent(String(d))}function $a(d){var S=1;d=d.split(":");const x=[];for(;S>0&&d.length;)x.push(d.shift()),S--;return d.length&&x.push(d.join(":")),x}function ni(d,S,x,I){this.j=d,this.i=S,this.l=x,this.S=I||1,this.V=new mr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}var je={},Ke={};function wi(d,S,x){d.M=1,d.A=ye(Pe(S)),d.u=x,d.R=!0,Ai(d,null)}function Ai(d,S){d.F=Date.now(),Ki(d),d.B=Pe(d.A);var x=d.B,I=d.S;Array.isArray(I)||(I=[String(I)]),js(x.i,"t",I),d.C=0,x=d.j.L,d.h=new ii,d.g=ao(d.j,x?S:null,!d.u),d.P>0&&(d.O=new Rn(v(d.Y,d,d.g),d.P)),S=d.V,x=d.g,I=d.ba;var X="readystatechange";Array.isArray(X)||(X&&(pr[0]=X.toString()),X=pr);for(let nt=0;nt<X.length;nt++){const St=Ce(x,X[nt],I||S.handleEvent,!1,S.h||S);if(!St)break;S.g[St.key]=St}S=d.J?H(d.J):{},d.u?(d.v||(d.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,S)):(d.v="GET",d.g.ea(d.B,d.v,null,S)),Si(),gu(d.i,d.v,d.B,d.l,d.S,d.u)}ni.prototype.ba=function(d){d=d.target;const S=this.O;S&&Mi(d)==3?S.j():this.Y(d)},ni.prototype.Y=function(d){try{if(d==this.g)t:{const Bt=Mi(this.g),oe=this.g.ya(),le=this.g.ca();if(!(Bt<3)&&(Bt!=3||this.g&&(this.h.h||this.g.la()||rn(this.g)))){this.K||Bt!=4||oe==7||(oe==8||le<=0?Si(3):Si(2)),xi(this);var S=this.g.ca();this.X=S;var x=tl(this);if(this.o=S==200,$o(this.i,this.v,this.B,this.l,this.S,Bt,S),this.o){if(this.U&&!this.L){e:{if(this.g){var I,X=this.g;if((I=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(I)){var nt=I;break e}}nt=null}if(d=nt)Zi(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Yi(this,d);else{this.o=!1,this.m=3,Ue(12),Tn(this),si(this);break t}}if(this.R){d=!0;let Me;for(;!this.K&&this.C<x.length;)if(Me=nl(this,x),Me==Ke){Bt==4&&(this.m=4,Ue(14),d=!1),Zi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==je){this.m=4,Ue(15),Zi(this.i,this.l,x,"[Invalid Chunk]"),d=!1;break}else Zi(this.i,this.l,Me,null),Yi(this,Me);if(el(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||x.length!=0||this.h.h||(this.m=1,Ue(16),d=!1),this.o=this.o&&d,!d)Zi(this.i,this.l,x,"[Invalid Chunked Response]"),Tn(this),si(this);else if(x.length>0&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.aa&&!St.P&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),so(St),St.P=!0,Ue(11))}}else Zi(this.i,this.l,x,null),Yi(this,x);Bt==4&&Tn(this),this.o&&!this.K&&(Bt==4?Xn(this.j,this):(this.o=!1,Ki(this)))}else Li(this.g),S==400&&x.indexOf("Unknown SID")>0?(this.m=3,Ue(12)):(this.m=0,Ue(13)),Tn(this),si(this)}}}catch{}};function tl(d){if(!el(d))return d.g.la();const S=rn(d.g);if(S==="")return"";let x="";const I=S.length,X=Mi(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Tn(d),si(d),"";d.h.i=new f.TextDecoder}for(let nt=0;nt<I;nt++)d.h.h=!0,x+=d.h.i.decode(S[nt],{stream:!(X&&nt==I-1)});return S.length=0,d.h.g+=x,d.C=0,d.h.g}function el(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function nl(d,S){var x=d.C,I=S.indexOf(`
`,x);return I==-1?Ke:(x=Number(S.substring(x,I)),isNaN(x)?je:(I+=1,I+x>S.length?Ke:(S=S.slice(I,I+x),d.C=I+x,S)))}ni.prototype.cancel=function(){this.K=!0,Tn(this)};function Ki(d){d.T=Date.now()+d.H,Yr(d,d.H)}function Yr(d,S){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Gi(v(d.aa,d),S)}function xi(d){d.D&&(f.clearTimeout(d.D),d.D=null)}ni.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(ps(this.i,this.B),this.M!=2&&(Si(),Ue(17)),Tn(this),this.m=2,si(this)):Yr(this,this.T-d)};function si(d){d.j.I==0||d.K||Xn(d.j,d)}function Tn(d){xi(d);var S=d.O;S&&typeof S.dispose=="function"&&S.dispose(),d.O=null,Zr(d.V),d.g&&(S=d.g,d.g=null,S.abort(),S.dispose())}function Yi(d,S){try{var x=d.j;if(x.I!=0&&(x.g==d||ri(x.h,d))){if(!d.L&&ri(x.h,d)&&x.I==3){try{var I=x.Ba.g.parse(S)}catch{I=null}if(Array.isArray(I)&&I.length==3){var X=I;if(X[0]==0){t:if(!x.v){if(x.g)if(x.g.F+3e3<d.F)ea(x),Gs(x);else break t;Sr(x),Ue(18)}}else x.xa=X[1],0<x.xa-x.K&&X[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Gi(v(x.Va,x),6e3));Qi(x.h)<=1&&x.ta&&(x.ta=void 0)}else Di(x,11)}else if((d.L||x.g==d)&&ea(x),!z(S))for(X=x.Ba.g.parse(S),S=0;S<X.length;S++){let le=X[S];const Me=le[0];if(!(Me<=x.K))if(x.K=Me,le=le[1],x.I==2)if(le[0]=="c"){x.M=le[1],x.ba=le[2];const ui=le[3];ui!=null&&(x.ka=ui,x.j.info("VER="+x.ka));const ci=le[4];ci!=null&&(x.za=ci,x.j.info("SVER="+x.za));const Wn=le[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(I=1.5*Wn,x.O=I,x.j.info("backChannelRequestTimeoutMs_="+I)),I=x;const Ii=d.g;if(Ii){const br=Ii.g?Ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(br){var nt=I.h;nt.g||br.indexOf("spdy")==-1&&br.indexOf("quic")==-1&&br.indexOf("h2")==-1||(nt.j=nt.l,nt.g=new Set,nt.h&&(gs(nt,nt.h),nt.h=null))}if(I.G){const wr=Ii.g?Ii.g.getResponseHeader("X-HTTP-Session-Id"):null;wr&&(I.wa=wr,Ct(I.J,I.G,wr))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-d.F,x.j.info("Handshake RTT: "+x.T+"ms")),I=x;var St=d;if(I.na=ro(I,I.L?I.ba:null,I.W),St.L){Qr(I.h,St);var Bt=St,oe=I.O;oe&&(Bt.H=oe),Bt.D&&(xi(Bt),Ki(Bt)),I.g=St}else io(I);x.i.length>0&&Bn(x)}else le[0]!="stop"&&le[0]!="close"||Di(x,7);else x.I==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?Di(x,7):Xt(x):le[0]!="noop"&&x.l&&x.l.qa(le),x.A=0)}}Si(4)}catch{}}var Ye=class{constructor(d,S){this.g=d,this.map=S}};function to(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function eo(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Qi(d){return d.h?1:d.g?d.g.size:0}function ri(d,S){return d.h?d.h==S:d.g?d.g.has(S):!1}function gs(d,S){d.g?d.g.add(S):d.h=S}function Qr(d,S){d.h&&d.h==S?d.h=null:d.g&&d.g.has(S)&&d.g.delete(S)}to.prototype.cancel=function(){if(this.i=Xr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Xr(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let S=d.i;for(const x of d.g.values())S=S.concat(x.G);return S}return D(d.i)}var Us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wt(d,S){if(d){d=d.split("&");for(let x=0;x<d.length;x++){const I=d[x].indexOf("=");let X,nt=null;I>=0?(X=d[x].substring(0,I),nt=d[x].substring(I+1)):X=d[x],S(X,nt?decodeURIComponent(nt.replace(/\+/g," ")):"")}}}function Jt(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;d instanceof Jt?(this.l=d.l,Ie(this,d.j),this.o=d.o,this.g=d.g,Yn(this,d.u),this.h=d.h,_r(this,Tr(d.i)),this.m=d.m):d&&(S=String(d).match(Us))?(this.l=!1,Ie(this,S[1]||"",!0),this.o=ai(S[2]||""),this.g=ai(S[3]||"",!0),Yn(this,S[4]),this.h=ai(S[5]||"",!0),_r(this,S[6]||"",!0),this.m=ai(S[7]||"")):(this.l=!1,this.i=new oi(null,this.l))}Jt.prototype.toString=function(){const d=[];var S=this.j;S&&d.push(Xi(S,Wr,!0),":");var x=this.g;return(x||S=="file")&&(d.push("//"),(S=this.o)&&d.push(Xi(S,Wr,!0),"@"),d.push(Lt(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&d.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(Xi(x,x.charAt(0)=="/"?Ci:yr,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",Xi(x,Wi)),d.join("")},Jt.prototype.resolve=function(d){const S=Pe(this);let x=!!d.j;x?Ie(S,d.j):x=!!d.o,x?S.o=d.o:x=!!d.g,x?S.g=d.g:x=d.u!=null;var I=d.h;if(x)Yn(S,d.u);else if(x=!!d.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var X=S.h.lastIndexOf("/");X!=-1&&(I=S.h.slice(0,X+1)+I)}if(X=I,X==".."||X==".")I="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){I=X.lastIndexOf("/",0)==0,X=X.split("/");const nt=[];for(let St=0;St<X.length;){const Bt=X[St++];Bt=="."?I&&St==X.length&&nt.push(""):Bt==".."?((nt.length>1||nt.length==1&&nt[0]!="")&&nt.pop(),I&&St==X.length&&nt.push("")):(nt.push(Bt),I=!0)}I=nt.join("/")}else I=X}return x?S.h=I:x=d.i.toString()!=="",x?_r(S,Tr(d.i)):x=!!d.m,x&&(S.m=d.m),S};function Pe(d){return new Jt(d)}function Ie(d,S,x){d.j=x?ai(S,!0):S,d.j&&(d.j=d.j.replace(/:$/,""))}function Yn(d,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);d.u=S}else d.u=null}function _r(d,S,x){S instanceof oi?(d.i=S,Hs(d.i,d.l)):(x||(S=Xi(S,ve)),d.i=new oi(S,d.l))}function Ct(d,S,x){d.i.set(S,x)}function ye(d){return Ct(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function ai(d,S){return d?S?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Xi(d,S,x){return typeof d=="string"?(d=encodeURI(d).replace(S,Re),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Re(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Wr=/[#\/\?@]/g,yr=/[#\?:]/g,Ci=/[#\?]/g,ve=/[#\?@]/g,Wi=/#/g;function oi(d,S){this.h=this.g=null,this.i=d||null,this.j=!!S}function sn(d){d.g||(d.g=new Map,d.h=0,d.i&&Wt(d.i,function(S,x){d.add(decodeURIComponent(S.replace(/\+/g," ")),x)}))}i=oi.prototype,i.add=function(d,S){sn(this),this.i=null,d=Ji(this,d);let x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(S),this.h+=1,this};function Jr(d,S){sn(d),S=Ji(d,S),d.g.has(S)&&(d.i=null,d.h-=d.g.get(S).length,d.g.delete(S))}function _s(d,S){return sn(d),S=Ji(d,S),d.g.has(S)}i.forEach=function(d,S){sn(this),this.g.forEach(function(x,I){x.forEach(function(X){d.call(S,X,I,this)},this)},this)};function vr(d,S){sn(d);let x=[];if(typeof S=="string")_s(d,S)&&(x=x.concat(d.g.get(Ji(d,S))));else for(d=Array.from(d.g.values()),S=0;S<d.length;S++)x=x.concat(d[S]);return x}i.set=function(d,S){return sn(this),this.i=null,d=Ji(this,d),_s(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[S]),this.h+=1,this},i.get=function(d,S){return d?(d=vr(this,d),d.length>0?String(d[0]):S):S};function js(d,S,x){Jr(d,S),x.length>0&&(d.i=null,d.g.set(Ji(d,S),D(x)),d.h+=x.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],S=Array.from(this.g.keys());for(let I=0;I<S.length;I++){var x=S[I];const X=Lt(x);x=vr(this,x);for(let nt=0;nt<x.length;nt++){let St=X;x[nt]!==""&&(St+="="+Lt(x[nt])),d.push(St)}}return this.i=d.join("&")};function Tr(d){const S=new oi;return S.i=d.i,d.g&&(S.g=new Map(d.g),S.h=d.h),S}function Ji(d,S){return S=String(S),d.j&&(S=S.toLowerCase()),S}function Hs(d,S){S&&!d.j&&(sn(d),d.i=null,d.g.forEach(function(x,I){const X=I.toLowerCase();I!=X&&(Jr(this,I),js(this,X,x))},d)),d.j=S}function Nn(d,S){const x=new bi;if(f.Image){const I=new Image;I.onload=E(zn,x,"TestLoadImage: loaded",!0,S,I),I.onerror=E(zn,x,"TestLoadImage: error",!1,S,I),I.onabort=E(zn,x,"TestLoadImage: abort",!1,S,I),I.ontimeout=E(zn,x,"TestLoadImage: timeout",!1,S,I),f.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else S(!1)}function $r(d,S){const x=new bi,I=new AbortController,X=setTimeout(()=>{I.abort(),zn(x,"TestPingServer: timeout",!1,S)},1e4);fetch(d,{signal:I.signal}).then(nt=>{clearTimeout(X),nt.ok?zn(x,"TestPingServer: ok",!0,S):zn(x,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(X),zn(x,"TestPingServer: error",!1,S)})}function zn(d,S,x,I,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),I(x)}catch{}}function Fs(){this.g=new Qa}function Nt(d){this.i=d.Sb||null,this.h=d.ab||!1}b(Nt,Xa),Nt.prototype.g=function(){return new En(this.i,this.h)};function En(d,S){Ge.call(this),this.H=d,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(En,Ge),i=En.prototype,i.open=function(d,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=S,this.readyState=1,Qn(this)},i.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(S.body=d),(this.H||f).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ys(this)),this.readyState=0},i.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;he(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function he(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}i.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var S=d.value?d.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!d.done}))&&(this.response=this.responseText+=S)}d.done?ys(this):Qn(this),this.readyState==3&&he(this)}},i.Oa=function(d){this.g&&(this.response=this.responseText=d,ys(this))},i.Na=function(d){this.g&&(this.response=d,ys(this))},i.ga=function(){this.g&&ys(this)};function ys(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Qn(d)}i.setRequestHeader=function(d,S){this.A.append(d,S)},i.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],S=this.h.entries();for(var x=S.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=S.next();return d.join(`\r
`)};function Qn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(En.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function kn(d){let S="";return Ht(d,function(x,I){S+=I,S+=":",S+=x,S+=`\r
`}),S}function vs(d,S,x){t:{for(I in x){var I=!1;break t}I=!0}I||(x=kn(x),typeof d=="string"?x!=null&&Lt(x):Ct(d,S,x))}function ne(d){Ge.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ne,Ge);var li=/^https?$/i,Ts=["POST","PUT"];i=ne.prototype,i.Fa=function(d){this.H=d},i.ea=function(d,S,x,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);S=S?S.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ja.g(),this.g.onreadystatechange=C(v(this.Ca,this));try{this.B=!0,this.g.open(S,String(d),!0),this.B=!1}catch(nt){Oe(this,nt);return}if(d=x||"",x=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var X in I)x.set(X,I[X]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const nt of I.keys())x.set(nt,I.get(nt));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(x.keys()).find(nt=>nt.toLowerCase()=="content-type"),X=f.FormData&&d instanceof f.FormData,!(Array.prototype.indexOf.call(Ts,S,void 0)>=0)||I||X||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[nt,St]of x)this.g.setRequestHeader(nt,St);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(nt){Oe(this,nt)}};function Oe(d,S){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=S,d.o=5,Ri(d),$i(d)}function Ri(d){d.A||(d.A=!0,Ze(d,"complete"),Ze(d,"error"))}i.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Ze(this,"complete"),Ze(this,"abort"),$i(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),ne.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?qs(this):this.Xa())},i.Xa=function(){qs(this)};function qs(d){if(d.h&&typeof u<"u"){if(d.v&&Mi(d)==4)setTimeout(d.Ca.bind(d),0);else if(Ze(d,"readystatechange"),Mi(d)==4){d.h=!1;try{const nt=d.ca();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break t;default:S=!1}var x;if(!(x=S)){var I;if(I=nt===0){let St=String(d.D).match(Us)[1]||null;!St&&f.self&&f.self.location&&(St=f.self.location.protocol.slice(0,-1)),I=!li.test(St?St.toLowerCase():"")}x=I}if(x)Ze(d,"complete"),Ze(d,"success");else{d.o=6;try{var X=Mi(d)>2?d.g.statusText:""}catch{X=""}d.l=X+" ["+d.ca()+"]",Ri(d)}}finally{$i(d)}}}}function $i(d,S){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const x=d.g;d.g=null,S||Ze(d,"ready");try{x.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Mi(d){return d.g?d.g.readyState:0}i.ca=function(){try{return Mi(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(d){if(this.g){var S=this.g.responseText;return d&&S.indexOf(d)==0&&(S=S.substring(d.length)),pu(S)}};function rn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(d){const S={};d=(d.g&&Mi(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(z(d[I]))continue;var x=$a(d[I]);const X=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const nt=S[X]||[];S[X]=nt,nt.push(x)}bt(S,function(I){return I.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(d,S,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||S}function Es(d){this.za=0,this.i=[],this.j=new bi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ts("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ts("baseRetryDelayMs",5e3,d),this.Za=ts("retryDelaySeedMs",1e4,d),this.Ta=ts("forwardChannelMaxRetries",2,d),this.va=ts("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new to(d&&d.concurrentRequestLimit),this.Ba=new Fs,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Es.prototype,i.ka=8,i.I=1,i.connect=function(d,S,x,I){Ue(0),this.W=d,this.H=S||{},x&&I!==void 0&&(this.H.OSID=x,this.H.OAID=I),this.F=this.X,this.J=ro(this,null,this.W),Bn(this)};function Xt(d){if(Sn(d),d.I==3){var S=d.V++,x=Pe(d.J);if(Ct(x,"SID",d.M),Ct(x,"RID",S),Ct(x,"TYPE","terminate"),Ss(d,x),S=new ni(d,d.j,S),S.M=2,S.A=ye(Pe(x)),x=!1,f.navigator&&f.navigator.sendBeacon)try{x=f.navigator.sendBeacon(S.A.toString(),"")}catch{}!x&&f.Image&&(new Image().src=S.A,x=!0),x||(S.g=ao(S.j,null),S.g.ea(S.A)),S.F=Date.now(),Ki(S)}Pi(d)}function Gs(d){d.g&&(so(d),d.g.cancel(),d.g=null)}function Sn(d){Gs(d),d.v&&(f.clearTimeout(d.v),d.v=null),ea(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&f.clearTimeout(d.m),d.m=null)}function Bn(d){if(!eo(d.h)&&!d.m){d.m=!0;var S=d.Ea;_t||P(),Et||(_t(),Et=!0),V.add(S,d),d.D=0}}function Er(d,S){return Qi(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=S.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Gi(v(d.Ea,d,S),sl(d,d.D)),d.D++,!0)}i.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const X=new ni(this,this.j,d);let nt=this.o;if(this.U&&(nt?(nt=H(nt),yt(nt,this.U)):nt=this.U),this.u!==null||this.R||(X.J=nt,nt=null),this.S)t:{for(var S=0,x=0;x<this.i.length;x++){e:{var I=this.i[x];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(S+=I,S>4096){S=x;break t}if(S===4096||x===this.i.length-1){S=x+1;break t}}S=1e3}else S=1e3;S=il(this,X,S),x=Pe(this.J),Ct(x,"RID",d),Ct(x,"CVER",22),this.G&&Ct(x,"X-HTTP-Session-Id",this.G),Ss(this,x),nt&&(this.R?S="headers="+Lt(kn(nt))+"&"+S:this.u&&vs(x,this.u,nt)),gs(this.h,X),this.Ra&&Ct(x,"TYPE","init"),this.S?(Ct(x,"$req",S),Ct(x,"SID","null"),X.U=!0,wi(X,x,null)):wi(X,x,S),this.I=2}}else this.I==3&&(d?no(this,d):this.i.length==0||eo(this.h)||no(this))};function no(d,S){var x;S?x=S.l:x=d.V++;const I=Pe(d.J);Ct(I,"SID",d.M),Ct(I,"RID",x),Ct(I,"AID",d.K),Ss(d,I),d.u&&d.o&&vs(I,d.u,d.o),x=new ni(d,d.j,x,d.D+1),d.u===null&&(x.J=d.o),S&&(d.i=S.G.concat(d.i)),S=il(d,x,1e3),x.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),gs(d.h,x),wi(x,I,S)}function Ss(d,S){d.H&&Ht(d.H,function(x,I){Ct(S,I,x)}),d.l&&Ht({},function(x,I){Ct(S,I,x)})}function il(d,S,x){x=Math.min(d.i.length,x);const I=d.l?v(d.l.Ka,d.l,d):null;t:{var X=d.i;let Bt=-1;for(;;){const oe=["count="+x];Bt==-1?x>0?(Bt=X[0].g,oe.push("ofs="+Bt)):Bt=0:oe.push("ofs="+Bt);let le=!0;for(let Me=0;Me<x;Me++){var nt=X[Me].g;const ui=X[Me].map;if(nt-=Bt,nt<0)Bt=Math.max(0,X[Me].g-100),le=!1;else try{nt="req"+nt+"_"||"";try{var St=ui instanceof Map?ui:Object.entries(ui);for(const[ci,Wn]of St){let Ii=Wn;p(Wn)&&(Ii=ms(Wn)),oe.push(nt+ci+"="+encodeURIComponent(Ii))}}catch(ci){throw oe.push(nt+"type="+encodeURIComponent("_badmap")),ci}}catch{I&&I(ui)}}if(le){St=oe.join("&");break t}}St=void 0}return d=d.i.splice(0,x),S.G=d,St}function io(d){if(!d.g&&!d.v){d.Y=1;var S=d.Da;_t||P(),Et||(_t(),Et=!0),V.add(S,d),d.A=0}}function Sr(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Gi(v(d.Da,d),sl(d,d.A)),d.A++,!0)}i.Da=function(){if(this.v=null,ta(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Gi(v(this.Wa,this),d)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ue(10),Gs(this),ta(this))};function so(d){d.B!=null&&(f.clearTimeout(d.B),d.B=null)}function ta(d){d.g=new ni(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var S=Pe(d.na);Ct(S,"RID","rpc"),Ct(S,"SID",d.M),Ct(S,"AID",d.K),Ct(S,"CI",d.F?"0":"1"),!d.F&&d.ia&&Ct(S,"TO",d.ia),Ct(S,"TYPE","xmlhttp"),Ss(d,S),d.u&&d.o&&vs(S,d.u,d.o),d.O&&(d.g.H=d.O);var x=d.g;d=d.ba,x.M=1,x.A=ye(Pe(S)),x.u=null,x.R=!0,Ai(x,d)}i.Va=function(){this.C!=null&&(this.C=null,Gs(this),Sr(this),Ue(19))};function ea(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function Xn(d,S){var x=null;if(d.g==S){ea(d),so(d),d.g=null;var I=2}else if(ri(d.h,S))x=S.G,Qr(d.h,S),I=1;else return;if(d.I!=0){if(S.o)if(I==1){x=S.u?S.u.length:0,S=Date.now()-S.F;var X=d.D;I=Kr(),Ze(I,new qi(I,x)),Bn(d)}else io(d);else if(X=S.m,X==3||X==0&&S.X>0||!(I==1&&Er(d,S)||I==2&&Sr(d)))switch(x&&x.length>0&&(S=d.h,S.i=S.i.concat(x)),X){case 1:Di(d,5);break;case 4:Di(d,10);break;case 3:Di(d,6);break;default:Di(d,2)}}}function sl(d,S){let x=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(x*=2),x*S}function Di(d,S){if(d.j.info("Error code "+S),S==2){var x=v(d.bb,d),I=d.Ua;const X=!I;I=new Jt(I||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ie(I,"https"),ye(I),X?Nn(I.toString(),x):$r(I.toString(),x)}else Ue(2);d.I=0,d.l&&d.l.pa(S),Pi(d),Sn(d)}i.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function Pi(d){if(d.I=0,d.ja=[],d.l){const S=Xr(d.h);(S.length!=0||d.i.length!=0)&&(U(d.ja,S),U(d.ja,d.i),d.h.i.length=0,D(d.i),d.i.length=0),d.l.oa()}}function ro(d,S,x){var I=x instanceof Jt?Pe(x):new Jt(x);if(I.g!="")S&&(I.g=S+"."+I.g),Yn(I,I.u);else{var X=f.location;I=X.protocol,S=S?S+"."+X.hostname:X.hostname,X=+X.port;const nt=new Jt(null);I&&Ie(nt,I),S&&(nt.g=S),X&&Yn(nt,X),x&&(nt.h=x),I=nt}return x=d.G,S=d.wa,x&&S&&Ct(I,x,S),Ct(I,"VER",d.ka),Ss(d,I),I}function ao(d,S,x){if(S&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=d.Aa&&!d.ma?new ne(new Nt({ab:x})):new ne(d.ma),S.Fa(d.L),S}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function na(){}i=na.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Zs(){}Zs.prototype.g=function(d,S){return new bn(d,S)};function bn(d,S){Ge.call(this),this.g=new Es(S),this.l=d,this.h=S&&S.messageUrlParams||null,d=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(d?d["X-WebChannel-Content-Type"]=S.messageContentType:d={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(d?d["X-WebChannel-Client-Profile"]=S.sa:d={"X-WebChannel-Client-Profile":S.sa}),this.g.U=d,(d=S&&S.Qb)&&!z(d)&&(this.g.u=d),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!z(S)&&(this.g.G=S,d=this.h,d!==null&&S in d&&(d=this.h,S in d&&delete d[S])),this.j=new bs(this)}b(bn,Ge),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Xt(this.g)},bn.prototype.o=function(d){var S=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.v&&(x={},x.__data__=ms(d),d=x);S.i.push(new Ye(S.Ya++,d)),S.I==3&&Bn(S)},bn.prototype.N=function(){this.g.l=null,delete this.j,Xt(this.g),delete this.g,bn.Z.N.call(this)};function oo(d){$e.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var S=d.__sm__;if(S){t:{for(const x in S){d=x;break t}d=void 0}(this.i=d)&&(d=this.i,S=S!==null&&d in S?S[d]:void 0),this.data=S}else this.data=d}b(oo,$e);function rl(){Kn.call(this),this.status=1}b(rl,Kn);function bs(d){this.g=d}b(bs,na),bs.prototype.ra=function(){Ze(this.g,"a")},bs.prototype.qa=function(d){Ze(this.g,new oo(d))},bs.prototype.pa=function(d){Ze(this.g,new rl)},bs.prototype.oa=function(){Ze(this.g,"b")},Zs.prototype.createWebChannel=Zs.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,Eb=function(){return new Zs},Tb=function(){return Kr()},vb=Be,Zp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gr.NO_ERROR=0,gr.TIMEOUT=8,gr.HTTP_ERROR=6,hf=gr,Wa.COMPLETE="complete",yb=Wa,Wo.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",Ge.prototype.listen=Ge.prototype.J,ac=Wo,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,_b=ne}).apply(typeof tf<"u"?tf:typeof self<"u"?self:typeof window<"u"?window:{});const dE="@firebase/firestore",mE="4.9.3";class qn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");let uu="12.7.0";const Go=new cb("@firebase/firestore");function zl(){return Go.logLevel}function Mt(i,...t){if(Go.logLevel<=ce.DEBUG){const n=t.map(e_);Go.debug(`Firestore (${uu}): ${i}`,...n)}}function Fr(i,...t){if(Go.logLevel<=ce.ERROR){const n=t.map(e_);Go.error(`Firestore (${uu}): ${i}`,...n)}}function Jl(i,...t){if(Go.logLevel<=ce.WARN){const n=t.map(e_);Go.warn(`Firestore (${uu}): ${i}`,...n)}}function e_(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function kt(i,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,Sb(i,r,n)}function Sb(i,t,n){let r=`FIRESTORE (${uu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fr(r),new Error(r)}function _e(i,t,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,i||Sb(t,l,r)}function Gt(i,t){return i}const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends lu{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jo{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class bb{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class BP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(qn.UNAUTHENTICATED)))}shutdown(){}}class UP{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class jP{constructor(t){this.t=t,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){_e(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,n(_)):Promise.resolve();let u=new jo;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new jo,t.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const _=u;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{Mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(Mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new jo)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(Mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new bb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _e(t===null||typeof t=="string",2055,{h:t}),new qn(t)}}class HP{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class FP{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new HP(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(qn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qP{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wP(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){_e(this.o===void 0,3512);const r=u=>{u.error!=null&&Mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,Mt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const l=u=>{Mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):Mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new pE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function GP(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}class n_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=GP(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=t.charAt(l[u]%62))}return r}}function re(i,t){return i<t?-1:i>t?1:0}function Kp(i,t){const n=Math.min(i.length,t.length);for(let r=0;r<n;r++){const l=i.charAt(r),u=t.charAt(r);if(l!==u)return dp(l)===dp(u)?re(l,u):dp(l)?1:-1}return re(i.length,t.length)}const ZP=55296,KP=57343;function dp(i){const t=i.charCodeAt(0);return t>=ZP&&t<=KP}function $l(i,t,n){return i.length===t.length&&i.every(((r,l)=>n(r,t[l])))}const gE="__name__";class ir{constructor(t,n,r){n===void 0?n=0:n>t.length&&kt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&kt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return ir.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ir?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let l=0;l<r;l++){const u=ir.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return re(t.length,n.length)}static compareSegments(t,n){const r=ir.isNumericId(t),l=ir.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?ir.extractNumericId(t).compare(ir.extractNumericId(n)):Kp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Va.fromString(t.substring(4,t.length-2))}}class De extends ir{construct(t,n,r){return new De(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Rt(ft.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new De(n)}static emptyPath(){return new De([])}}const YP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class On extends ir{construct(t,n,r){return new On(t,n,r)}static isValidIdentifier(t){return YP.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),On.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gE}static keyField(){return new On([gE])}static fromServerFormat(t){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new Rt(ft.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new Rt(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new Rt(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else p==="`"?(f=!f,l++):p!=="."||f?(r+=p,l++):(u(),l++)}if(u(),f)throw new Rt(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new On(n)}static emptyPath(){return new On([])}}class Vt{constructor(t){this.path=t}static fromPath(t){return new Vt(De.fromString(t))}static fromName(t){return new Vt(De.fromString(t).popFirst(5))}static empty(){return new Vt(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&De.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return De.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Vt(new De(t.slice()))}}function wb(i,t,n){if(!n)throw new Rt(ft.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function QP(i,t,n,r){if(t===!0&&r===!0)throw new Rt(ft.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function _E(i){if(!Vt.isDocumentKey(i))throw new Rt(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function yE(i){if(Vt.isDocumentKey(i))throw new Rt(ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Ab(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Ff(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":kt(12329,{type:typeof i})}function Ho(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new Rt(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ff(i);throw new Rt(ft.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}function dn(i,t){const n={typeString:i};return t&&(n.value=t),n}function Uc(i,t){if(!Ab(i))throw new Rt(ft.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const l=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const f=i[r];if(l&&typeof f!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new Rt(ft.INVALID_ARGUMENT,n);return!0}const vE=-62135596800,TE=1e6;class Ne{static now(){return Ne.fromMillis(Date.now())}static fromDate(t){return Ne.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*TE);return new Ne(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Rt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Rt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<vE)throw new Rt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Rt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/TE}_compareTo(t){return this.seconds===t.seconds?re(this.nanoseconds,t.nanoseconds):re(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Uc(t,Ne._jsonSchema))return new Ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-vE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ne._jsonSchemaVersion="firestore/timestamp/1.0",Ne._jsonSchema={type:dn("string",Ne._jsonSchemaVersion),seconds:dn("number"),nanoseconds:dn("number")};class jt{static fromTimestamp(t){return new jt(t)}static min(){return new jt(new Ne(0,0))}static max(){return new jt(new Ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Mc=-1;function XP(i,t){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,l=jt.fromTimestamp(r===1e9?new Ne(n+1,0):new Ne(n,r));return new Ba(l,Vt.empty(),t)}function WP(i){return new Ba(i.readTime,i.key,Mc)}class Ba{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Ba(jt.min(),Vt.empty(),Mc)}static max(){return new Ba(jt.max(),Vt.empty(),Mc)}}function JP(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=Vt.comparator(i.documentKey,t.documentKey),n!==0?n:re(i.largestBatchId,t.largestBatchId))}const $P="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function cu(i){if(i.code!==ft.FAILED_PRECONDITION||i.message!==$P)throw i;Mt("LocalStore","Unexpectedly lost primary lease")}class mt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&kt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new mt(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof mt?n:mt.resolve(n)}catch(n){return mt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):mt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):mt.reject(n)}static resolve(t){return new mt(((n,r)=>{n(t)}))}static reject(t){return new mt(((n,r)=>{r(t)}))}static waitFor(t){return new mt(((n,r)=>{let l=0,u=0,f=!1;t.forEach((p=>{++l,p.next((()=>{++u,f&&u===l&&n()}),(_=>r(_)))})),f=!0,u===l&&n()}))}static or(t){let n=mt.resolve(!1);for(const r of t)n=n.next((l=>l?mt.resolve(l):r()));return n}static forEach(t,n){const r=[];return t.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(t,n){return new mt(((r,l)=>{const u=t.length,f=new Array(u);let p=0;for(let _=0;_<u;_++){const v=_;n(t[v]).next((E=>{f[v]=E,++p,p===u&&r(f)}),(E=>l(E)))}}))}static doWhile(t,n){return new mt(((r,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):r()};u()}))}}function eI(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hu(i){return i.name==="IndexedDbTransactionError"}class qf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}qf.ce=-1;const i_=-1;function Gf(i){return i==null}function xf(i){return i===0&&1/i==-1/0}function nI(i){return typeof i=="number"&&Number.isInteger(i)&&!xf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const xb="";function iI(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=EE(t)),t=sI(i.get(n),t);return EE(t)}function sI(i,t){let n=t;const r=i.length;for(let l=0;l<r;l++){const u=i.charAt(l);switch(u){case"\0":n+="";break;case xb:n+="";break;default:n+=u}}return n}function EE(i){return i+xb+""}function SE(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function Za(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function Cb(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class qe{constructor(t,n){this.comparator=t,this.root=n||In.EMPTY}insert(t,n){return new qe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,In.BLACK,null,null))}remove(t){return new qe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,In.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ef(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ef(this.root,t,this.comparator,!1)}getReverseIterator(){return new ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ef(this.root,t,this.comparator,!0)}}class ef{constructor(t,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class In{constructor(t,n,r,l,u){this.key=t,this.value=n,this.color=r??In.RED,this.left=l??In.EMPTY,this.right=u??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,l,u){return new In(t??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let l=this;const u=r(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return In.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw kt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw kt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw kt(27949);return t+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw kt(57766)}get value(){throw kt(16141)}get color(){throw kt(16727)}get left(){throw kt(29726)}get right(){throw kt(36894)}copy(t,n,r,l,u){return this}insert(t,n,r){return new In(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yn{constructor(t){this.comparator=t,this.data=new qe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new bE(this.data.getIterator())}getIteratorFrom(t){return new bE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof yn)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new yn(this.comparator);return n.data=t,n}}class bE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ui{constructor(t){this.fields=t,t.sort(On.comparator)}static empty(){return new Ui([])}unionWith(t){let n=new yn(On.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Ui(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return $l(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class Rb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Rb("Invalid base64 string: "+u):u}})(t);return new Vn(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(t);return new Vn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return re(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const rI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ua(i){if(_e(!!i,39018),typeof i=="string"){let t=0;const n=rI.exec(i);if(_e(!!n,46558,{timestamp:i}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:nn(i.seconds),nanos:nn(i.nanos)}}function nn(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ja(i){return typeof i=="string"?Vn.fromBase64String(i):Vn.fromUint8Array(i)}const Mb="server_timestamp",Lb="__type__",Db="__previous_value__",Pb="__local_write_time__";function s_(i){return(i?.mapValue?.fields||{})[Lb]?.stringValue===Mb}function Zf(i){const t=i.mapValue.fields[Db];return s_(t)?Zf(t):t}function Lc(i){const t=Ua(i.mapValue.fields[Pb].timestampValue);return new Ne(t.seconds,t.nanos)}class aI{constructor(t,n,r,l,u,f,p,_,v,E){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=E}}const Cf="(default)";class Dc{constructor(t,n){this.projectId=t,this.database=n||Cf}static empty(){return new Dc("","")}get isDefaultDatabase(){return this.database===Cf}isEqual(t){return t instanceof Dc&&t.projectId===this.projectId&&t.database===this.database}}const Ib="__type__",oI="__max__",nf={mapValue:{}},Ob="__vector__",Rf="value";function Ha(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?s_(i)?4:uI(i)?9007199254740991:lI(i)?10:11:kt(28295,{value:i})}function fr(i,t){if(i===t)return!0;const n=Ha(i);if(n!==Ha(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Lc(i).isEqual(Lc(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=Ua(l.timestampValue),p=Ua(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(l,u){return ja(l.bytesValue).isEqual(ja(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(l,u){return nn(l.geoPointValue.latitude)===nn(u.geoPointValue.latitude)&&nn(l.geoPointValue.longitude)===nn(u.geoPointValue.longitude)})(i,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return nn(l.integerValue)===nn(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=nn(l.doubleValue),p=nn(u.doubleValue);return f===p?xf(f)===xf(p):isNaN(f)&&isNaN(p)}return!1})(i,t);case 9:return $l(i.arrayValue.values||[],t.arrayValue.values||[],fr);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},p=u.mapValue.fields||{};if(SE(f)!==SE(p))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(p[_]===void 0||!fr(f[_],p[_])))return!1;return!0})(i,t);default:return kt(52216,{left:i})}}function Pc(i,t){return(i.values||[]).find((n=>fr(n,t)))!==void 0}function tu(i,t){if(i===t)return 0;const n=Ha(i),r=Ha(t);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(i.booleanValue,t.booleanValue);case 2:return(function(u,f){const p=nn(u.integerValue||u.doubleValue),_=nn(f.integerValue||f.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(i,t);case 3:return wE(i.timestampValue,t.timestampValue);case 4:return wE(Lc(i),Lc(t));case 5:return Kp(i.stringValue,t.stringValue);case 6:return(function(u,f){const p=ja(u),_=ja(f);return p.compareTo(_)})(i.bytesValue,t.bytesValue);case 7:return(function(u,f){const p=u.split("/"),_=f.split("/");for(let v=0;v<p.length&&v<_.length;v++){const E=re(p[v],_[v]);if(E!==0)return E}return re(p.length,_.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,f){const p=re(nn(u.latitude),nn(f.latitude));return p!==0?p:re(nn(u.longitude),nn(f.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return AE(i.arrayValue,t.arrayValue);case 10:return(function(u,f){const p=u.fields||{},_=f.fields||{},v=p[Rf]?.arrayValue,E=_[Rf]?.arrayValue,b=re(v?.values?.length||0,E?.values?.length||0);return b!==0?b:AE(v,E)})(i.mapValue,t.mapValue);case 11:return(function(u,f){if(u===nf.mapValue&&f===nf.mapValue)return 0;if(u===nf.mapValue)return 1;if(f===nf.mapValue)return-1;const p=u.fields||{},_=Object.keys(p),v=f.fields||{},E=Object.keys(v);_.sort(),E.sort();for(let b=0;b<_.length&&b<E.length;++b){const C=Kp(_[b],E[b]);if(C!==0)return C;const D=tu(p[_[b]],v[E[b]]);if(D!==0)return D}return re(_.length,E.length)})(i.mapValue,t.mapValue);default:throw kt(23264,{he:n})}}function wE(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return re(i,t);const n=Ua(i),r=Ua(t),l=re(n.seconds,r.seconds);return l!==0?l:re(n.nanos,r.nanos)}function AE(i,t){const n=i.values||[],r=t.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=tu(n[l],r[l]);if(u)return u}return re(n.length,r.length)}function eu(i){return Yp(i)}function Yp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=Ua(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ja(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Vt.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=Yp(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of r)u?u=!1:l+=",",l+=`${f}:${Yp(n.fields[f])}`;return l+"}"})(i.mapValue):kt(61005,{value:i})}function ff(i){switch(Ha(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Zf(i);return t?16+ff(t):16;case 5:return 2*i.stringValue.length;case 6:return ja(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+ff(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let l=0;return Za(r.fields,((u,f)=>{l+=u.length+ff(f)})),l})(i.mapValue);default:throw kt(13486,{value:i})}}function xE(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function Qp(i){return!!i&&"integerValue"in i}function r_(i){return!!i&&"arrayValue"in i}function CE(i){return!!i&&"nullValue"in i}function RE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function df(i){return!!i&&"mapValue"in i}function lI(i){return(i?.mapValue?.fields||{})[Ib]?.stringValue===Ob}function gc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return Za(i.mapValue.fields,((n,r)=>t.mapValue.fields[n]=gc(r))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=gc(i.arrayValue.values[n]);return t}return{...i}}function uI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===oI}class Ti{constructor(t){this.value=t}static empty(){return new Ti({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!df(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=gc(n)}setAll(t){let n=On.emptyPath(),r={},l=[];t.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const _=this.getFieldsMap(n);this.applyChanges(_,r,l),r={},l=[],n=p.popLast()}f?r[p.lastSegment()]=gc(f):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(t){const n=this.field(t.popLast());df(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return fr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=n.mapValue.fields[t.get(r)];df(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,r){Za(n,((l,u)=>t[l]=u));for(const l of r)delete t[l]}clone(){return new Ti(gc(this.value))}}function Vb(i){const t=[];return Za(i.fields,((n,r)=>{const l=new On([n]);if(df(r)){const u=Vb(r.mapValue).fields;if(u.length===0)t.push(l);else for(const f of u)t.push(l.child(f))}else t.push(l)})),new Ui(t)}class Gn{constructor(t,n,r,l,u,f,p){this.key=t,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(t){return new Gn(t,0,jt.min(),jt.min(),jt.min(),Ti.empty(),0)}static newFoundDocument(t,n,r,l){return new Gn(t,1,n,jt.min(),r,l,0)}static newNoDocument(t,n){return new Gn(t,2,n,jt.min(),jt.min(),Ti.empty(),0)}static newUnknownDocument(t,n){return new Gn(t,3,n,jt.min(),jt.min(),Ti.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Gn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mf{constructor(t,n){this.position=t,this.inclusive=n}}function ME(i,t,n){let r=0;for(let l=0;l<i.position.length;l++){const u=t[l],f=i.position[l];if(u.field.isKeyField()?r=Vt.comparator(Vt.fromName(f.referenceValue),n.key):r=tu(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function LE(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!fr(i.position[n],t.position[n]))return!1;return!0}class Ic{constructor(t,n="asc"){this.field=t,this.dir=n}}function cI(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class Nb{}class fn extends Nb{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new fI(t,n,r):n==="array-contains"?new pI(t,r):n==="in"?new gI(t,r):n==="not-in"?new _I(t,r):n==="array-contains-any"?new yI(t,r):new fn(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new dI(t,r):new mI(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tu(n,this.value)):n!==null&&Ha(this.value)===Ha(n)&&this.matchesComparison(tu(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return kt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ps extends Nb{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ps(t,n)}matches(t){return zb(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zb(i){return i.op==="and"}function kb(i){return hI(i)&&zb(i)}function hI(i){for(const t of i.filters)if(t instanceof Ps)return!1;return!0}function Xp(i){if(i instanceof fn)return i.field.canonicalString()+i.op.toString()+eu(i.value);if(kb(i))return i.filters.map((t=>Xp(t))).join(",");{const t=i.filters.map((n=>Xp(n))).join(",");return`${i.op}(${t})`}}function Bb(i,t){return i instanceof fn?(function(r,l){return l instanceof fn&&r.op===l.op&&r.field.isEqual(l.field)&&fr(r.value,l.value)})(i,t):i instanceof Ps?(function(r,l){return l instanceof Ps&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,f,p)=>u&&Bb(f,l.filters[p])),!0):!1})(i,t):void kt(19439)}function Ub(i){return i instanceof fn?(function(n){return`${n.field.canonicalString()} ${n.op} ${eu(n.value)}`})(i):i instanceof Ps?(function(n){return n.op.toString()+" {"+n.getFilters().map(Ub).join(" ,")+"}"})(i):"Filter"}class fI extends fn{constructor(t,n,r){super(t,n,r),this.key=Vt.fromName(r.referenceValue)}matches(t){const n=Vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class dI extends fn{constructor(t,n){super(t,"in",n),this.keys=jb("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class mI extends fn{constructor(t,n){super(t,"not-in",n),this.keys=jb("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function jb(i,t){return(t.arrayValue?.values||[]).map((n=>Vt.fromName(n.referenceValue)))}class pI extends fn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return r_(n)&&Pc(n.arrayValue,this.value)}}class gI extends fn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Pc(this.value.arrayValue,n)}}class _I extends fn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pc(this.value.arrayValue,n)}}class yI extends fn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!r_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Pc(this.value.arrayValue,r)))}}class vI{constructor(t,n=null,r=[],l=[],u=null,f=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function DE(i,t=null,n=[],r=[],l=null,u=null,f=null){return new vI(i,t,n,r,l,u,f)}function a_(i){const t=Gt(i);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Xp(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Gf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>eu(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>eu(r))).join(",")),t.Te=n}return t.Te}function o_(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!cI(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Bb(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!LE(i.startAt,t.startAt)&&LE(i.endAt,t.endAt)}function Wp(i){return Vt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class fu{constructor(t,n=null,r=[],l=[],u=null,f="F",p=null,_=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function TI(i,t,n,r,l,u,f,p){return new fu(i,t,n,r,l,u,f,p)}function l_(i){return new fu(i)}function PE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Hb(i){return i.collectionGroup!==null}function _c(i){const t=Gt(i);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new yn(On.comparator);return f.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Ic(u,r))})),n.has(On.keyField().canonicalString())||t.Ie.push(new Ic(On.keyField(),r))}return t.Ie}function ar(i){const t=Gt(i);return t.Ee||(t.Ee=EI(t,_c(i))),t.Ee}function EI(i,t){if(i.limitType==="F")return DE(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Ic(l.field,u)}));const n=i.endAt?new Mf(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Mf(i.startAt.position,i.startAt.inclusive):null;return DE(i.path,i.collectionGroup,t,i.filters,i.limit,n,r)}}function Jp(i,t){const n=i.filters.concat([t]);return new fu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function $p(i,t,n){return new fu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function Kf(i,t){return o_(ar(i),ar(t))&&i.limitType===t.limitType}function Fb(i){return`${a_(ar(i))}|lt:${i.limitType}`}function kl(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>Ub(l))).join(", ")}]`),Gf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>eu(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>eu(l))).join(",")),`Target(${r})`})(ar(i))}; limitType=${i.limitType})`}function Yf(i,t){return t.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Vt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,t)&&(function(r,l){for(const u of _c(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(i,t)&&(function(r,l){return!(r.startAt&&!(function(f,p,_){const v=ME(f,p,_);return f.inclusive?v<=0:v<0})(r.startAt,_c(r),l)||r.endAt&&!(function(f,p,_){const v=ME(f,p,_);return f.inclusive?v>=0:v>0})(r.endAt,_c(r),l))})(i,t)}function SI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function qb(i){return(t,n)=>{let r=!1;for(const l of _c(i)){const u=bI(l,t,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function bI(i,t,n){const r=i.field.isKeyField()?Vt.comparator(t.key,n.key):(function(u,f,p){const _=f.data.field(u),v=p.data.field(u);return _!==null&&v!==null?tu(_,v):kt(42886)})(i.field,t,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return kt(19790,{direction:i.dir})}}class Ko{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Za(this.inner,((n,r)=>{for(const[l,u]of r)t(l,u)}))}isEmpty(){return Cb(this.inner)}size(){return this.innerSize}}const wI=new qe(Vt.comparator);function qr(){return wI}const Gb=new qe(Vt.comparator);function oc(...i){let t=Gb;for(const n of i)t=t.insert(n.key,n);return t}function Zb(i){let t=Gb;return i.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function ko(){return yc()}function Kb(){return yc()}function yc(){return new Ko((i=>i.toString()),((i,t)=>i.isEqual(t)))}const AI=new qe(Vt.comparator),xI=new yn(Vt.comparator);function ae(...i){let t=xI;for(const n of i)t=t.add(n);return t}const CI=new yn(re);function RI(){return CI}function u_(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xf(t)?"-0":t}}function Yb(i){return{integerValue:""+i}}function MI(i,t){return nI(t)?Yb(t):u_(i,t)}class Qf{constructor(){this._=void 0}}function LI(i,t,n){return i instanceof Lf?(function(l,u){const f={fields:{[Lb]:{stringValue:Mb},[Pb]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&s_(u)&&(u=Zf(u)),u&&(f.fields[Db]=u),{mapValue:f}})(n,t):i instanceof nu?Xb(i,t):i instanceof Oc?Wb(i,t):(function(l,u){const f=Qb(l,u),p=IE(f)+IE(l.Ae);return Qp(f)&&Qp(l.Ae)?Yb(p):u_(l.serializer,p)})(i,t)}function DI(i,t,n){return i instanceof nu?Xb(i,t):i instanceof Oc?Wb(i,t):n}function Qb(i,t){return i instanceof Df?(function(r){return Qp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Lf extends Qf{}class nu extends Qf{constructor(t){super(),this.elements=t}}function Xb(i,t){const n=Jb(t);for(const r of i.elements)n.some((l=>fr(l,r)))||n.push(r);return{arrayValue:{values:n}}}class Oc extends Qf{constructor(t){super(),this.elements=t}}function Wb(i,t){let n=Jb(t);for(const r of i.elements)n=n.filter((l=>!fr(l,r)));return{arrayValue:{values:n}}}class Df extends Qf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function IE(i){return nn(i.integerValue||i.doubleValue)}function Jb(i){return r_(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class PI{constructor(t,n){this.field=t,this.transform=n}}function II(i,t){return i.field.isEqual(t.field)&&(function(r,l){return r instanceof nu&&l instanceof nu||r instanceof Oc&&l instanceof Oc?$l(r.elements,l.elements,fr):r instanceof Df&&l instanceof Df?fr(r.Ae,l.Ae):r instanceof Lf&&l instanceof Lf})(i.transform,t.transform)}class OI{constructor(t,n){this.version=t,this.transformResults=n}}class or{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new or}static exists(t){return new or(void 0,t)}static updateTime(t){return new or(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function mf(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Xf{}function $b(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new ew(i.key,or.none()):new jc(i.key,i.data,or.none());{const n=i.data,r=Ti.empty();let l=new yn(On.comparator);for(let u of t.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),l=l.add(u)}return new Ka(i.key,r,new Ui(l.toArray()),or.none())}}function VI(i,t,n){i instanceof jc?(function(l,u,f){const p=l.value.clone(),_=VE(l.fieldTransforms,u,f.transformResults);p.setAll(_),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(i,t,n):i instanceof Ka?(function(l,u,f){if(!mf(l.precondition,u))return void u.convertToUnknownDocument(f.version);const p=VE(l.fieldTransforms,u,f.transformResults),_=u.data;_.setAll(tw(l)),_.setAll(p),u.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(i,t,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function vc(i,t,n,r){return i instanceof jc?(function(u,f,p,_){if(!mf(u.precondition,f))return p;const v=u.value.clone(),E=NE(u.fieldTransforms,_,f);return v.setAll(E),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null})(i,t,n,r):i instanceof Ka?(function(u,f,p,_){if(!mf(u.precondition,f))return p;const v=NE(u.fieldTransforms,_,f),E=f.data;return E.setAll(tw(u)),E.setAll(v),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,t,n,r):(function(u,f,p){return mf(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(i,t,n)}function NI(i,t){let n=null;for(const r of i.fieldTransforms){const l=t.data.field(r.field),u=Qb(r.transform,l||null);u!=null&&(n===null&&(n=Ti.empty()),n.set(r.field,u))}return n||null}function OE(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&$l(r,l,((u,f)=>II(u,f)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class jc extends Xf{constructor(t,n,r,l=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ka extends Xf{constructor(t,n,r,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function tw(i){const t=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);t.set(n,r)}})),t}function VE(i,t,n){const r=new Map;_e(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let l=0;l<n.length;l++){const u=i[l],f=u.transform,p=t.data.field(u.field);r.set(u.field,DI(f,p,n[l]))}return r}function NE(i,t,n){const r=new Map;for(const l of i){const u=l.transform,f=n.data.field(l.field);r.set(l.field,LI(u,f,t))}return r}class ew extends Xf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zI extends Xf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kI{constructor(t,n,r,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&VI(u,t,r[l])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=vc(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=vc(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Kb();return this.mutations.forEach((l=>{const u=t.get(l.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(l.key)?null:p;const _=$b(f,p);_!==null&&r.set(l.key,_),f.isValidDocument()||f.convertToNoDocument(jt.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),ae())}isEqual(t){return this.batchId===t.batchId&&$l(this.mutations,t.mutations,((n,r)=>OE(n,r)))&&$l(this.baseMutations,t.baseMutations,((n,r)=>OE(n,r)))}}class c_{constructor(t,n,r,l){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(t,n,r){_e(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return AI})();const u=t.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,r[f].version);return new c_(t,n,r,l)}}class BI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class UI{constructor(t,n){this.count=t,this.unchangedNames=n}}var cn,ue;function jI(i){switch(i){case ft.OK:return kt(64938);case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0;default:return kt(15467,{code:i})}}function nw(i){if(i===void 0)return Fr("GRPC error has no .code"),ft.UNKNOWN;switch(i){case cn.OK:return ft.OK;case cn.CANCELLED:return ft.CANCELLED;case cn.UNKNOWN:return ft.UNKNOWN;case cn.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case cn.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case cn.INTERNAL:return ft.INTERNAL;case cn.UNAVAILABLE:return ft.UNAVAILABLE;case cn.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case cn.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case cn.NOT_FOUND:return ft.NOT_FOUND;case cn.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case cn.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case cn.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case cn.ABORTED:return ft.ABORTED;case cn.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case cn.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case cn.DATA_LOSS:return ft.DATA_LOSS;default:return kt(39323,{code:i})}}(ue=cn||(cn={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";function HI(){return new TextEncoder}const FI=new Va([4294967295,4294967295],0);function zE(i){const t=HI().encode(i),n=new gb;return n.update(t),new Uint8Array(n.digest())}function kE(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Va([n,r],0),new Va([l,u],0)]}class h_{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new lc(`Invalid padding: ${n}`);if(r<0)throw new lc(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new lc(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new lc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Va.fromNumber(this.ge)}ye(t,n,r){let l=t.add(n.multiply(Va.fromNumber(r)));return l.compare(FI)===1&&(l=new Va([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=zE(t),[r,l]=kE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);if(!this.we(f))return!1}return!0}static create(t,n,r){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new h_(u,l,n);return r.forEach((p=>f.insert(p))),f}insert(t){if(this.ge===0)return;const n=zE(t),[r,l]=kE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wf{constructor(t,n,r,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const l=new Map;return l.set(t,Hc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Wf(jt.min(),l,new qe(re),qr(),ae())}}class Hc{constructor(t,n,r,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Hc(r,n,ae(),ae(),ae())}}class pf{constructor(t,n,r,l){this.be=t,this.removedTargetIds=n,this.key=r,this.De=l}}class iw{constructor(t,n){this.targetId=t,this.Ce=n}}class sw{constructor(t,n,r=Vn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=l}}class BE{constructor(){this.ve=0,this.Fe=UE(),this.Me=Vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ae(),n=ae(),r=ae();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:kt(38017,{changeType:u})}})),new Hc(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=UE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qI{constructor(t){this.Ge=t,this.ze=new Map,this.je=qr(),this.Je=sf(),this.He=sf(),this.Ye=new qe(re)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:kt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,r=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Wp(u))if(r===0){const f=new Vt(u.path);this.et(n,f,Gn.newNoDocument(f,jt.min()))}else _e(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const p=this.ut(t),_=p?this.ct(p,t,f):1;if(_!==0){this.it(n);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,v)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let f,p;try{f=ja(r).toUint8Array()}catch(_){if(_ instanceof Rb)return Jl("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new h_(f,l,u)}catch(_){return Jl(_ instanceof lc?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&Wp(p.target)){const _=new Vt(p.target.path);this.It(_).has(f)||this.Et(f,_)||this.et(f,_,Gn.newNoDocument(_,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let r=ae();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const l=new Wf(t,n,this.Ye,this.je,r);return this.je=qr(),this.Je=sf(),this.He=sf(),this.Ye=new qe(re),l}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new BE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new yn(re),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new yn(re),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Mt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new BE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function sf(){return new qe(Vt.comparator)}function UE(){return new qe(Vt.comparator)}const GI={asc:"ASCENDING",desc:"DESCENDING"},ZI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KI={and:"AND",or:"OR"};class YI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function tg(i,t){return i.useProto3Json||Gf(t)?t:{value:t}}function Pf(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function rw(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function QI(i,t){return Pf(i,t.toTimestamp())}function lr(i){return _e(!!i,49232),jt.fromTimestamp((function(n){const r=Ua(n);return new Ne(r.seconds,r.nanos)})(i))}function f_(i,t){return eg(i,t).canonicalString()}function eg(i,t){const n=(function(l){return new De(["projects",l.projectId,"databases",l.database])})(i).child("documents");return t===void 0?n:n.child(t)}function aw(i){const t=De.fromString(i);return _e(hw(t),10190,{key:t.toString()}),t}function ng(i,t){return f_(i.databaseId,t.path)}function mp(i,t){const n=aw(t);if(n.get(1)!==i.databaseId.projectId)throw new Rt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Rt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Vt(lw(n))}function ow(i,t){return f_(i.databaseId,t)}function XI(i){const t=aw(i);return t.length===4?De.emptyPath():lw(t)}function ig(i){return new De(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function lw(i){return _e(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function jE(i,t,n){return{name:ng(i,t),fields:n.value.mapValue.fields}}function WI(i,t){let n;if("targetChange"in t){t.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:kt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(v,E){return v.useProto3Json?(_e(E===void 0||typeof E=="string",58123),Vn.fromBase64String(E||"")):(_e(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Vn.fromUint8Array(E||new Uint8Array))})(i,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&(function(v){const E=v.code===void 0?ft.UNKNOWN:nw(v.code);return new Rt(E,v.message||"")})(f);n=new sw(r,l,u,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=mp(i,r.document.name),u=lr(r.document.updateTime),f=r.document.createTime?lr(r.document.createTime):jt.min(),p=new Ti({mapValue:{fields:r.document.fields}}),_=Gn.newFoundDocument(l,u,f,p),v=r.targetIds||[],E=r.removedTargetIds||[];n=new pf(v,E,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=mp(i,r.document),u=r.readTime?lr(r.readTime):jt.min(),f=Gn.newNoDocument(l,u),p=r.removedTargetIds||[];n=new pf([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=mp(i,r.document),u=r.removedTargetIds||[];n=new pf([],u,l,null)}else{if(!("filter"in t))return kt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,f=new UI(l,u),p=r.targetId;n=new iw(p,f)}}return n}function JI(i,t){let n;if(t instanceof jc)n={update:jE(i,t.key,t.value)};else if(t instanceof ew)n={delete:ng(i,t.key)};else if(t instanceof Ka)n={update:jE(i,t.key,t.data),updateMask:oO(t.fieldMask)};else{if(!(t instanceof zI))return kt(16599,{Vt:t.type});n={verify:ng(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,f){const p=f.transform;if(p instanceof Lf)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof nu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Oc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Df)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw kt(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:QI(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:kt(27497)})(i,t.precondition)),n}function $I(i,t){return i&&i.length>0?(_e(t!==void 0,14353),i.map((n=>(function(l,u){let f=l.updateTime?lr(l.updateTime):lr(u);return f.isEqual(jt.min())&&(f=lr(u)),new OI(f,l.transformResults||[])})(n,t)))):[]}function tO(i,t){return{documents:[ow(i,t.path)]}}function eO(i,t){const n={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ow(i,l);const u=(function(v){if(v.length!==0)return cw(Ps.create(v,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(v){if(v.length!==0)return v.map((E=>(function(C){return{field:Bl(C.field),direction:sO(C.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const p=tg(i,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:n,parent:l}}function nO(i){let t=XI(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){_e(r===1,65062);const E=n.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const C=uw(b);return C instanceof Ps&&kb(C)?C.getFilters():[C]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((C=>(function(U){return new Ic(Ul(U.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(C)))})(n.orderBy));let p=null;n.limit&&(p=(function(b){let C;return C=typeof b=="object"?b.value:b,Gf(C)?null:C})(n.limit));let _=null;n.startAt&&(_=(function(b){const C=!!b.before,D=b.values||[];return new Mf(D,C)})(n.startAt));let v=null;return n.endAt&&(v=(function(b){const C=!b.before,D=b.values||[];return new Mf(D,C)})(n.endAt)),TI(t,l,f,u,p,"F",_,v)}function iO(i,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return kt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function uw(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ul(n.unaryFilter.field);return fn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ul(n.unaryFilter.field);return fn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ul(n.unaryFilter.field);return fn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ul(n.unaryFilter.field);return fn.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return kt(61313);default:return kt(60726)}})(i):i.fieldFilter!==void 0?(function(n){return fn.create(Ul(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return kt(58110);default:return kt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Ps.create(n.compositeFilter.filters.map((r=>uw(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return kt(1026)}})(n.compositeFilter.op))})(i):kt(30097,{filter:i})}function sO(i){return GI[i]}function rO(i){return ZI[i]}function aO(i){return KI[i]}function Bl(i){return{fieldPath:i.canonicalString()}}function Ul(i){return On.fromServerFormat(i.fieldPath)}function cw(i){return i instanceof fn?(function(n){if(n.op==="=="){if(RE(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NAN"}};if(CE(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(RE(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NOT_NAN"}};if(CE(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bl(n.field),op:rO(n.op),value:n.value}}})(i):i instanceof Ps?(function(n){const r=n.getFilters().map((l=>cw(l)));return r.length===1?r[0]:{compositeFilter:{op:aO(n.op),filters:r}}})(i):kt(54877,{filter:i})}function oO(i){const t=[];return i.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function hw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Pa{constructor(t,n,r,l,u=jt.min(),f=jt.min(),p=Vn.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Pa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class lO{constructor(t){this.yt=t}}function uO(i){const t=nO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?$p(t,t.limit,"L"):t}class cO{constructor(){this.Cn=new hO}addToCollectionParentIndex(t,n){return this.Cn.add(n),mt.resolve()}getCollectionParents(t,n){return mt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return mt.resolve()}deleteFieldIndex(t,n){return mt.resolve()}deleteAllFieldIndexes(t){return mt.resolve()}createTargetIndexes(t,n){return mt.resolve()}getDocumentsMatchingTarget(t,n){return mt.resolve(null)}getIndexType(t,n){return mt.resolve(0)}getFieldIndexes(t,n){return mt.resolve([])}getNextCollectionGroupToUpdate(t){return mt.resolve(null)}getMinOffset(t,n){return mt.resolve(Ba.min())}getMinOffsetFromCollectionGroup(t,n){return mt.resolve(Ba.min())}updateCollectionGroup(t,n,r){return mt.resolve()}updateIndexEntries(t,n){return mt.resolve()}}class hO{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n]||new yn(De.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(t){return(this.index[t]||new yn(De.comparator)).toArray()}}const HE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fw=41943040;class vi{static withCacheSize(t){return new vi(t,vi.DEFAULT_COLLECTION_PERCENTILE,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}vi.DEFAULT_COLLECTION_PERCENTILE=10,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vi.DEFAULT=new vi(fw,vi.DEFAULT_COLLECTION_PERCENTILE,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vi.DISABLED=new vi(-1,0,0);class iu{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new iu(0)}static cr(){return new iu(-1)}}const FE="LruGarbageCollector",fO=1048576;function qE([i,t],[n,r]){const l=re(i,n);return l===0?re(t,r):l}class dO{constructor(t){this.Ir=t,this.buffer=new yn(qE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();qE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mO{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Mt(FE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hu(n)?Mt(FE,"Ignoring IndexedDB error during garbage collection: ",n):await cu(n)}await this.Vr(3e5)}))}}class pO{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return mt.resolve(qf.ce);const r=new dO(n);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Mt("LruGarbageCollector","Garbage collection skipped; disabled"),mt.resolve(HE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(Mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,l,u,f,p,_,v;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(Mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,f=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(r=b,p=Date.now(),this.removeTargets(t,r,n)))).next((b=>(u=b,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(v=Date.now(),zl()<=ce.DEBUG&&Mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(p-f)+`ms
	Removed ${u} targets in `+(_-p)+`ms
	Removed ${b} documents in `+(v-_)+`ms
Total Duration: ${v-E}ms`),mt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:b}))))}}function gO(i,t){return new pO(i,t)}class _O{constructor(){this.changes=new Ko((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Gn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?mt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class yO{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class vO{constructor(t,n,r,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(r!==null&&vc(r.mutation,l,Ui.empty(),Ne.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,ae()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=ae()){const l=ko();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,r).next((u=>{let f=oc();return u.forEach(((p,_)=>{f=f.insert(p,_.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const r=ko();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,ae())))}populateOverlays(t,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(t,n,r,l){let u=qr();const f=yc(),p=(function(){return yc()})();return n.forEach(((_,v)=>{const E=r.get(v.key);l.has(v.key)&&(E===void 0||E.mutation instanceof Ka)?u=u.insert(v.key,v):E!==void 0?(f.set(v.key,E.mutation.getFieldMask()),vc(E.mutation,v,E.mutation.getFieldMask(),Ne.now())):f.set(v.key,Ui.empty())})),this.recalculateAndSaveOverlays(t,u).next((_=>(_.forEach(((v,E)=>f.set(v,E))),n.forEach(((v,E)=>p.set(v,new yO(E,f.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,n){const r=yc();let l=new qe(((f,p)=>f-p)),u=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const p of f)p.keys().forEach((_=>{const v=n.get(_);if(v===null)return;let E=r.get(_)||Ui.empty();E=p.applyToLocalView(v,E),r.set(_,E);const b=(l.get(p.batchId)||ae()).add(_);l=l.insert(p.batchId,b)}))})).next((()=>{const f=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,E=_.value,b=Kb();E.forEach((C=>{if(!u.has(C)){const D=$b(n.get(C),r.get(C));D!==null&&b.set(C,D),u=u.add(C)}})),f.push(this.documentOverlayCache.saveOverlays(t,v,b))}return mt.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,l){return(function(f){return Vt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Hb(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,l):this.getDocumentsMatchingCollectionQuery(t,n,r,l)}getNextDocuments(t,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,l-u.size):mt.resolve(ko());let p=Mc,_=u;return f.next((v=>mt.forEach(v,((E,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),u.get(E)?mt.resolve():this.remoteDocumentCache.getEntry(t,E).next((C=>{_=_.insert(E,C)}))))).next((()=>this.populateOverlays(t,v,u))).next((()=>this.computeViews(t,_,v,ae()))).next((E=>({batchId:p,changes:Zb(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Vt(n)).next((r=>{let l=oc();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,l){const u=n.collectionGroup;let f=oc();return this.indexManager.getCollectionParents(t,u).next((p=>mt.forEach(p,(_=>{const v=(function(b,C){return new fu(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,_.child(u));return this.getDocumentsMatchingCollectionQuery(t,v,r,l).next((E=>{E.forEach(((b,C)=>{f=f.insert(b,C)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,l)))).next((f=>{u.forEach(((_,v)=>{const E=v.getKey();f.get(E)===null&&(f=f.insert(E,Gn.newInvalidDocument(E)))}));let p=oc();return f.forEach(((_,v)=>{const E=u.get(_);E!==void 0&&vc(E.mutation,v,Ui.empty(),Ne.now()),Yf(n,v)&&(p=p.insert(_,v))})),p}))}}class TO{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return mt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:lr(l.createTime)}})(n)),mt.resolve()}getNamedQuery(t,n){return mt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:uO(l.bundledQuery),readTime:lr(l.readTime)}})(n)),mt.resolve()}}class EO{constructor(){this.overlays=new qe(Vt.comparator),this.qr=new Map}getOverlay(t,n){return mt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ko();return mt.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((l,u)=>{this.St(t,n,u)})),mt.resolve()}removeOverlaysForBatchId(t,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),mt.resolve()}getOverlaysForCollection(t,n,r){const l=ko(),u=n.length+1,f=new Vt(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===u&&_.largestBatchId>r&&l.set(_.getKey(),_)}return mt.resolve(l)}getOverlaysForCollectionGroup(t,n,r,l){let u=new qe(((v,E)=>v-E));const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>r){let E=u.get(v.largestBatchId);E===null&&(E=ko(),u=u.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const p=ko(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,E)=>p.set(v,E))),!(p.size()>=l)););return mt.resolve(p)}St(t,n,r){const l=this.overlays.get(r.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new BI(n,r));let u=this.qr.get(n);u===void 0&&(u=ae(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}class SO{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(t){return mt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,mt.resolve()}}class d_{constructor(){this.Qr=new yn(Cn.$r),this.Ur=new yn(Cn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Cn(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new Cn(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new Vt(new De([])),r=new Cn(n,t),l=new Cn(n,t+1),u=[];return this.Ur.forEachInRange([r,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Vt(new De([])),r=new Cn(n,t),l=new Cn(n,t+1);let u=ae();return this.Ur.forEachInRange([r,l],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Cn(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Cn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Vt.comparator(t.key,n.key)||re(t.Yr,n.Yr)}static Kr(t,n){return re(t.Yr,n.Yr)||Vt.comparator(t.key,n.key)}}class bO{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new yn(Cn.$r)}checkEmpty(t){return mt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new kI(u,n,r,l);this.mutationQueue.push(f);for(const p of l)this.Zr=this.Zr.add(new Cn(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return mt.resolve(f)}lookupMutationBatch(t,n){return mt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,l=this.ei(r),u=l<0?0:l;return mt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(this.mutationQueue.length===0?i_:this.tr-1)}getAllMutationBatches(t){return mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Cn(n,0),l=new Cn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(f=>{const p=this.Xr(f.Yr);u.push(p)})),mt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new yn(re);return n.forEach((l=>{const u=new Cn(l,0),f=new Cn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{r=r.add(p.Yr)}))})),mt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,l=r.length+1;let u=r;Vt.isDocumentKey(u)||(u=u.child(""));const f=new Cn(new Vt(u),0);let p=new yn(re);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===l&&(p=p.add(_.Yr)),!0)}),f),mt.resolve(this.ti(p))}ti(t){const n=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){_e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return mt.forEach(n.mutations,(l=>{const u=new Cn(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new Cn(n,0),l=this.Zr.firstAfterOrEqual(r);return mt.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,mt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class wO{constructor(t){this.ri=t,this.docs=(function(){return new qe(Vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return mt.resolve(r?r.document.mutableCopy():Gn.newInvalidDocument(n))}getEntries(t,n){let r=qr();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():Gn.newInvalidDocument(l))})),mt.resolve(r)}getDocumentsMatchingQuery(t,n,r,l){let u=qr();const f=n.path,p=new Vt(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:E}}=_.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||JP(WP(E),r)<=0||(l.has(E.key)||Yf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return mt.resolve(u)}getAllFromCollectionGroup(t,n,r,l){kt(9500)}ii(t,n){return mt.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new AO(this)}getSize(t){return mt.resolve(this.size)}}class AO extends _O{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),mt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class xO{constructor(t){this.persistence=t,this.si=new Ko((n=>a_(n)),o_),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.oi=0,this._i=new d_,this.targetCount=0,this.ai=iu.ur()}forEachTarget(t,n){return this.si.forEach(((r,l)=>n(l))),mt.resolve()}getLastRemoteSnapshotVersion(t){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return mt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),mt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new iu(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,mt.resolve()}updateTargetData(t,n){return this.Pr(n),mt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,mt.resolve()}removeTargets(t,n,r){let l=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),mt.waitFor(u).next((()=>l))}getTargetCount(t){return mt.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return mt.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),mt.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(t,f))})),mt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),mt.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return mt.resolve(r)}containsKey(t,n){return mt.resolve(this._i.containsKey(n))}}class dw{constructor(t,n){this.ui={},this.overlays={},this.ci=new qf(0),this.li=!1,this.li=!0,this.hi=new SO,this.referenceDelegate=t(this),this.Pi=new xO(this),this.indexManager=new cO,this.remoteDocumentCache=(function(l){return new wO(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new lO(n),this.Ii=new TO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new EO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new bO(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){Mt("MemoryPersistence","Starting transaction:",t);const l=new CO(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,n){return mt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class CO extends tI{constructor(t){super(),this.currentSequenceNumber=t}}class m_{constructor(t){this.persistence=t,this.Ri=new d_,this.Vi=null}static mi(t){return new m_(t)}get fi(){if(this.Vi)return this.Vi;throw kt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),mt.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),mt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),mt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.fi,(r=>{const l=Vt.fromPath(r);return this.gi(t,l).next((u=>{u||n.removeEntry(l,jt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return mt.or([()=>mt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class If{constructor(t,n){this.persistence=t,this.pi=new Ko((r=>iI(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=gO(this,n)}static mi(t,n){return new If(t,n)}Ei(){}di(t){return mt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((l=>r+l))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return mt.forEach(this.pi,((r,l)=>this.br(t,r,l).next((u=>u?mt.resolve():n(l)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(f=>this.br(t,f,n).next((p=>{p||(r++,u.removeEntry(f,jt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),mt.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),mt.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),mt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),mt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=ff(t.data.value)),n}br(t,n,r){return mt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return mt.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class p_{constructor(t,n,r,l){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=l}static As(t,n){let r=ae(),l=ae();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new p_(t,n.fromCache,r,l)}}class RO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class MO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ED()?8:eI(vD())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,l){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,l,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new RO;return this.Ss(t,n,f).next((p=>{if(u.result=p,this.Vs)return this.bs(t,n,f,p.size)}))})).next((()=>u.result))}bs(t,n,r,l){return r.documentReadCount<this.fs?(zl()<=ce.DEBUG&&Mt("QueryEngine","SDK will not create cache indexes for query:",kl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),mt.resolve()):(zl()<=ce.DEBUG&&Mt("QueryEngine","Query:",kl(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(zl()<=ce.DEBUG&&Mt("QueryEngine","The SDK decides to create cache indexes for query:",kl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ar(n))):mt.resolve())}ys(t,n){if(PE(n))return mt.resolve(null);let r=ar(n);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=$p(n,null,"F"),r=ar(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const f=ae(...u);return this.ps.getDocuments(t,f).next((p=>this.indexManager.getMinOffset(t,r).next((_=>{const v=this.Ds(n,p);return this.Cs(n,v,f,_.readTime)?this.ys(t,$p(n,null,"F")):this.vs(t,v,n,_)}))))})))))}ws(t,n,r,l){return PE(n)||l.isEqual(jt.min())?mt.resolve(null):this.ps.getDocuments(t,r).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,r,l)?mt.resolve(null):(zl()<=ce.DEBUG&&Mt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),kl(n)),this.vs(t,f,n,XP(l,Mc)).next((p=>p)))}))}Ds(t,n){let r=new yn(qb(t));return n.forEach(((l,u)=>{Yf(t,u)&&(r=r.add(u))})),r}Cs(t,n,r,l){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,n,r){return zl()<=ce.DEBUG&&Mt("QueryEngine","Using full collection scan to execute query:",kl(n)),this.ps.getDocumentsMatchingQuery(t,n,Ba.min(),r)}vs(t,n,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const g_="LocalStore",LO=3e8;class DO{constructor(t,n,r,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new qe(re),this.xs=new Ko((u=>a_(u)),o_),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new vO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function PO(i,t,n,r){return new DO(i,t,n,r)}async function mw(i,t){const n=Gt(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],p=[];let _=ae();for(const v of l){f.push(v.batchId);for(const E of v.mutations)_=_.add(E.key)}for(const v of u){p.push(v.batchId);for(const E of v.mutations)_=_.add(E.key)}return n.localDocuments.getDocuments(r,_).next((v=>({Ls:v,removedBatchIds:f,addedBatchIds:p})))}))}))}function IO(i,t){const n=Gt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,v,E){const b=v.batch,C=b.keys();let D=mt.resolve();return C.forEach((U=>{D=D.next((()=>E.getEntry(_,U))).next((B=>{const G=v.docVersions.get(U);_e(G!==null,48541),B.version.compareTo(G)<0&&(b.applyToRemoteDocument(B,v),B.isValidDocument()&&(B.setReadTime(v.commitVersion),E.addEntry(B)))}))})),D.next((()=>p.mutationQueue.removeMutationBatch(_,b)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=ae();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _})(t)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function pw(i){const t=Gt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function OO(i,t){const n=Gt(i),r=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];t.targetChanges.forEach(((E,b)=>{const C=l.get(b);if(!C)return;p.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,b))));let D=C.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?D=D.withResumeToken(Vn.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,r)),l=l.insert(b,D),(function(B,G,Q){return B.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=LO?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(C,D,E)&&p.push(n.Pi.updateTargetData(u,D))}));let _=qr(),v=ae();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(VO(u,f,t.documentUpdates).next((E=>{_=E.ks,v=E.qs}))),!r.isEqual(jt.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(E)}return mt.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,_,v))).next((()=>_))})).then((u=>(n.Ms=l,u)))}function VO(i,t,n){let r=ae(),l=ae();return n.forEach((u=>r=r.add(u))),t.getEntries(i,r).next((u=>{let f=qr();return n.forEach(((p,_)=>{const v=u.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(jt.min())?(t.removeEntry(p,_.readTime),f=f.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(_),f=f.insert(p,_)):Mt(g_,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)})),{ks:f,qs:l}}))}function NO(i,t){const n=Gt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=i_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function zO(i,t){const n=Gt(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,t).next((u=>u?(l=u,mt.resolve(l)):n.Pi.allocateTargetId(r).next((f=>(l=new Pa(t,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function sg(i,t,n){const r=Gt(i),l=r.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!hu(f))throw f;Mt(g_,`Failed to update sequence numbers for target ${t}: ${f}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function GE(i,t,n){const r=Gt(i);let l=jt.min(),u=ae();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(_,v,E){const b=Gt(_),C=b.xs.get(E);return C!==void 0?mt.resolve(b.Ms.get(C)):b.Pi.getTargetData(v,E)})(r,f,ar(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,p.targetId).next((_=>{u=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,t,n?l:jt.min(),n?u:ae()))).next((p=>(kO(r,SI(t),p),{documents:p,Qs:u})))))}function kO(i,t,n){let r=i.Os.get(t)||jt.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(t,r)}class ZE{constructor(){this.activeTargetIds=RI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class BO{constructor(){this.Mo=new ZE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new ZE,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class UO{Oo(t){}shutdown(){}}const KE="ConnectivityMonitor";class YE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Mt(KE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Mt(KE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rf=null;function rg(){return rf===null?rf=(function(){return 268435456+Math.round(2147483648*Math.random())})():rf++,"0x"+rf.toString(16)}const pp="RestConnection",jO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HO{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Cf?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,n,r,l,u){const f=rg(),p=this.zo(t,n.toUriEncodedString());Mt(pp,`Sending RPC '${t}' ${f}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,u);const{host:v}=new URL(p),E=$g(v);return this.Jo(t,p,_,r,E).then((b=>(Mt(pp,`Received RPC '${t}' ${f}: `,b),b)),(b=>{throw Jl(pp,`RPC '${t}' ${f} failed with error: `,b,"url: ",p,"request:",r),b}))}Ho(t,n,r,l,u,f){return this.Go(t,n,r,l,u)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),r&&r.headers.forEach(((l,u)=>t[u]=l))}zo(t,n){const r=jO[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class FO{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Fn="WebChannelConnection";class qO extends HO{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,l,u){const f=rg();return new Promise(((p,_)=>{const v=new _b;v.setWithCredentials(!0),v.listenOnce(yb.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case hf.NO_ERROR:const b=v.getResponseJson();Mt(Fn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(b)),p(b);break;case hf.TIMEOUT:Mt(Fn,`RPC '${t}' ${f} timed out`),_(new Rt(ft.DEADLINE_EXCEEDED,"Request time out"));break;case hf.HTTP_ERROR:const C=v.getStatus();if(Mt(Fn,`RPC '${t}' ${f} failed with status:`,C,"response text:",v.getResponseText()),C>0){let D=v.getResponseJson();Array.isArray(D)&&(D=D[0]);const U=D?.error;if(U&&U.status&&U.message){const B=(function(Q){const st=Q.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(st)>=0?st:ft.UNKNOWN})(U.status);_(new Rt(B,U.message))}else _(new Rt(ft.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new Rt(ft.UNAVAILABLE,"Connection failed."));break;default:kt(9055,{l_:t,streamId:f,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{Mt(Fn,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(l);Mt(Fn,`RPC '${t}' ${f} sending request:`,l),v.send(n,"POST",E,r,15)}))}T_(t,n,r){const l=rg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=Eb(),p=Tb(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,n,r),_.encodeInitMessageHeaders=!0;const E=u.join("");Mt(Fn,`Creating RPC '${t}' stream ${l}: ${E}`,_);const b=f.createWebChannel(E,_);this.I_(b);let C=!1,D=!1;const U=new FO({Yo:G=>{D?Mt(Fn,`Not sending because RPC '${t}' stream ${l} is closed:`,G):(C||(Mt(Fn,`Opening RPC '${t}' stream ${l} transport.`),b.open(),C=!0),Mt(Fn,`RPC '${t}' stream ${l} sending:`,G),b.send(G))},Zo:()=>b.close()}),B=(G,Q,st)=>{G.listen(Q,(it=>{try{st(it)}catch(vt){setTimeout((()=>{throw vt}),0)}}))};return B(b,ac.EventType.OPEN,(()=>{D||(Mt(Fn,`RPC '${t}' stream ${l} transport opened.`),U.o_())})),B(b,ac.EventType.CLOSE,(()=>{D||(D=!0,Mt(Fn,`RPC '${t}' stream ${l} transport closed`),U.a_(),this.E_(b))})),B(b,ac.EventType.ERROR,(G=>{D||(D=!0,Jl(Fn,`RPC '${t}' stream ${l} transport errored. Name:`,G.name,"Message:",G.message),U.a_(new Rt(ft.UNAVAILABLE,"The operation could not be completed")))})),B(b,ac.EventType.MESSAGE,(G=>{if(!D){const Q=G.data[0];_e(!!Q,16349);const st=Q,it=st?.error||st[0]?.error;if(it){Mt(Fn,`RPC '${t}' stream ${l} received error:`,it);const vt=it.status;let _t=(function(P){const O=cn[P];if(O!==void 0)return nw(O)})(vt),Et=it.message;_t===void 0&&(_t=ft.INTERNAL,Et="Unknown error status: "+vt+" with message "+it.message),D=!0,U.a_(new Rt(_t,Et)),b.close()}else Mt(Fn,`RPC '${t}' stream ${l} received:`,Q),U.u_(Q)}})),B(p,vb.STAT_EVENT,(G=>{G.stat===Zp.PROXY?Mt(Fn,`RPC '${t}' stream ${l} detected buffering proxy`):G.stat===Zp.NOPROXY&&Mt(Fn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function gp(){return typeof document<"u"?document:null}function Jf(i){return new YI(i,!0)}class gw{constructor(t,n,r=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&Mt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const QE="PersistentStream";class _w{constructor(t,n,r,l,u,f,p,_){this.Mi=t,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gw(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ft.RESOURCE_EXHAUSTED?(Fr(n.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ft.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{t((()=>{const l=new Rt(ft.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Mt(QE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(Mt(QE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GO extends _w{constructor(t,n,r,l,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=WI(this.serializer,t),r=(function(u){if(!("targetChange"in u))return jt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?jt.min():f.readTime?lr(f.readTime):jt.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=ig(this.serializer),n.addTarget=(function(u,f){let p;const _=f.target;if(p=Wp(_)?{documents:tO(u,_)}:{query:eO(u,_).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=rw(u,f.resumeToken);const v=tg(u,f.expectedCount);v!==null&&(p.expectedCount=v)}else if(f.snapshotVersion.compareTo(jt.min())>0){p.readTime=Pf(u,f.snapshotVersion.toTimestamp());const v=tg(u,f.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const r=iO(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=ig(this.serializer),n.removeTarget=t,this.q_(n)}}class ZO extends _w{constructor(t,n,r,l,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return _e(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,_e(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){_e(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=$I(t.writeResults,t.commitTime),r=lr(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=ig(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>JI(this.serializer,r)))};this.q_(n)}}class KO{}class YO extends KO{constructor(t,n,r,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Rt(ft.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,eg(n,r),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Rt(ft.UNKNOWN,u.toString())}))}Ho(t,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(t,eg(n,r),l,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Rt(ft.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class QO{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fr(n),this.aa=!1):Mt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Zo="RemoteStore";class XO{constructor(t,n,r,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{Yo(this)&&(Mt(Zo,"Restarting streams for network reachability change."),await(async function(_){const v=Gt(_);v.Ea.add(4),await Fc(v),v.Ra.set("Unknown"),v.Ea.delete(4),await $f(v)})(this))}))})),this.Ra=new QO(r,l)}}async function $f(i){if(Yo(i))for(const t of i.da)await t(!0)}async function Fc(i){for(const t of i.da)await t(!1)}function yw(i,t){const n=Gt(i);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),T_(n)?v_(n):du(n).O_()&&y_(n,t))}function __(i,t){const n=Gt(i),r=du(n);n.Ia.delete(t),r.O_()&&vw(n,t),n.Ia.size===0&&(r.O_()?r.L_():Yo(n)&&n.Ra.set("Unknown"))}function y_(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(jt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}du(i).Y_(t)}function vw(i,t){i.Va.Ue(t),du(i).Z_(t)}function v_(i){i.Va=new qI({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),du(i).start(),i.Ra.ua()}function T_(i){return Yo(i)&&!du(i).x_()&&i.Ia.size>0}function Yo(i){return Gt(i).Ea.size===0}function Tw(i){i.Va=void 0}async function WO(i){i.Ra.set("Online")}async function JO(i){i.Ia.forEach(((t,n)=>{y_(i,t)}))}async function $O(i,t){Tw(i),T_(i)?(i.Ra.ha(t),v_(i)):i.Ra.set("Unknown")}async function tV(i,t,n){if(i.Ra.set("Online"),t instanceof sw&&t.state===2&&t.cause)try{await(async function(l,u){const f=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,f),l.Ia.delete(p),l.Va.removeTarget(p))})(i,t)}catch(r){Mt(Zo,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Of(i,r)}else if(t instanceof pf?i.Va.Ze(t):t instanceof iw?i.Va.st(t):i.Va.tt(t),!n.isEqual(jt.min()))try{const r=await pw(i.localStore);n.compareTo(r)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const E=u.Ia.get(v);E&&u.Ia.set(v,E.withResumeToken(_.resumeToken,f))}})),p.targetMismatches.forEach(((_,v)=>{const E=u.Ia.get(_);if(!E)return;u.Ia.set(_,E.withResumeToken(Vn.EMPTY_BYTE_STRING,E.snapshotVersion)),vw(u,_);const b=new Pa(E.target,_,v,E.sequenceNumber);y_(u,b)})),u.remoteSyncer.applyRemoteEvent(p)})(i,n)}catch(r){Mt(Zo,"Failed to raise snapshot:",r),await Of(i,r)}}async function Of(i,t,n){if(!hu(t))throw t;i.Ea.add(1),await Fc(i),i.Ra.set("Offline"),n||(n=()=>pw(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{Mt(Zo,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await $f(i)}))}function Ew(i,t){return t().catch((n=>Of(i,n,t)))}async function td(i){const t=Gt(i),n=Fa(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:i_;for(;eV(t);)try{const l=await NO(t.localStore,r);if(l===null){t.Ta.length===0&&n.L_();break}r=l.batchId,nV(t,l)}catch(l){await Of(t,l)}Sw(t)&&bw(t)}function eV(i){return Yo(i)&&i.Ta.length<10}function nV(i,t){i.Ta.push(t);const n=Fa(i);n.O_()&&n.X_&&n.ea(t.mutations)}function Sw(i){return Yo(i)&&!Fa(i).x_()&&i.Ta.length>0}function bw(i){Fa(i).start()}async function iV(i){Fa(i).ra()}async function sV(i){const t=Fa(i);for(const n of i.Ta)t.ea(n.mutations)}async function rV(i,t,n){const r=i.Ta.shift(),l=c_.from(r,t,n);await Ew(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await td(i)}async function aV(i,t){t&&Fa(i).X_&&await(async function(r,l){if((function(f){return jI(f)&&f!==ft.ABORTED})(l.code)){const u=r.Ta.shift();Fa(r).B_(),await Ew(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await td(r)}})(i,t),Sw(i)&&bw(i)}async function XE(i,t){const n=Gt(i);n.asyncQueue.verifyOperationInProgress(),Mt(Zo,"RemoteStore received new credentials");const r=Yo(n);n.Ea.add(3),await Fc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await $f(n)}async function oV(i,t){const n=Gt(i);t?(n.Ea.delete(2),await $f(n)):t||(n.Ea.add(2),await Fc(n),n.Ra.set("Unknown"))}function du(i){return i.ma||(i.ma=(function(n,r,l){const u=Gt(n);return u.sa(),new GO(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(i.datastore,i.asyncQueue,{Xo:WO.bind(null,i),t_:JO.bind(null,i),r_:$O.bind(null,i),H_:tV.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),T_(i)?v_(i):i.Ra.set("Unknown")):(await i.ma.stop(),Tw(i))}))),i.ma}function Fa(i){return i.fa||(i.fa=(function(n,r,l){const u=Gt(n);return u.sa(),new ZO(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:iV.bind(null,i),r_:aV.bind(null,i),ta:sV.bind(null,i),na:rV.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await td(i)):(await i.fa.stop(),i.Ta.length>0&&(Mt(Zo,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class E_{constructor(t,n,r,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new jo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,l,u){const f=Date.now()+r,p=new E_(t,n,f,l,u);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Rt(ft.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S_(i,t){if(Fr("AsyncQueue",`${t}: ${i}`),hu(i))return new Rt(ft.UNAVAILABLE,`${t}: ${i}`);throw i}class Yl{static emptySet(t){return new Yl(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||Vt.comparator(n.key,r.key):(n,r)=>Vt.comparator(n.key,r.key),this.keyedMap=oc(),this.sortedSet=new qe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Yl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Yl;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class WE{constructor(){this.ga=new qe(Vt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):kt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class su{constructor(t,n,r,l,u,f,p,_,v){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(t,n,r,l,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new su(t,n,Yl.emptySet(n),f,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Kf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class lV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class uV{constructor(){this.queries=JE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Gt(n),u=l.queries;l.queries=JE(),u.forEach(((f,p)=>{for(const _ of p.Sa)_.onError(r)}))})(this,new Rt(ft.ABORTED,"Firestore shutting down"))}}function JE(){return new Ko((i=>Fb(i)),Kf)}async function cV(i,t){const n=Gt(i);let r=3;const l=t.query;let u=n.queries.get(l);u?!u.ba()&&t.Da()&&(r=2):(u=new lV,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const p=S_(f,`Initialization of query '${kl(t.query)}' failed`);return void t.onError(p)}n.queries.set(l,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&b_(n)}async function hV(i,t){const n=Gt(i),r=t.query;let l=3;const u=n.queries.get(r);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fV(i,t){const n=Gt(i);let r=!1;for(const l of t){const u=l.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Fa(l)&&(r=!0);f.wa=l}}r&&b_(n)}function dV(i,t,n){const r=Gt(i),l=r.queries.get(t);if(l)for(const u of l.Sa)u.onError(n);r.queries.delete(t)}function b_(i){i.Ca.forEach((t=>{t.next()}))}var ag,$E;($E=ag||(ag={})).Ma="default",$E.Cache="cache";class mV{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new su(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=su.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ag.Cache}}class ww{constructor(t){this.key=t}}class Aw{constructor(t){this.key=t}}class pV{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ae(),this.mutatedKeys=ae(),this.eu=qb(t),this.tu=new Yl(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new WE,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,b)=>{const C=l.get(E),D=Yf(this.query,b)?b:null,U=!!C&&this.mutatedKeys.has(C.key),B=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let G=!1;C&&D?C.data.isEqual(D.data)?U!==B&&(r.track({type:3,doc:D}),G=!0):this.su(C,D)||(r.track({type:2,doc:D}),G=!0,(_&&this.eu(D,_)>0||v&&this.eu(D,v)<0)&&(p=!0)):!C&&D?(r.track({type:0,doc:D}),G=!0):C&&!D&&(r.track({type:1,doc:C}),G=!0,(_||v)&&(p=!0)),G&&(D?(f=f.add(D),u=B?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Cs:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,b)=>(function(D,U){const B=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return kt(20277,{Rt:G})}};return B(D)-B(U)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(r),l=l??!1;const p=n&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,v=_!==this.Za;return this.Za=_,f.length!==0||v?{snapshot:new su(this.query,t.tu,u,f,t.mutatedKeys,_===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new WE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=ae(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new Aw(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new ww(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=ae();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return su.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const w_="SyncEngine";class gV{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class _V{constructor(t){this.key=t,this.hu=!1}}class yV{constructor(t,n,r,l,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ko((p=>Fb(p)),Kf),this.Iu=new Map,this.Eu=new Set,this.du=new qe(Vt.comparator),this.Au=new Map,this.Ru=new d_,this.Vu={},this.mu=new Map,this.fu=iu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vV(i,t,n=!0){const r=Dw(i);let l;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await xw(r,t,n,!0),l}async function TV(i,t){const n=Dw(i);await xw(n,t,!0,!1)}async function xw(i,t,n,r){const l=await zO(i.localStore,ar(t)),u=l.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await EV(i,t,u,f==="current",l.resumeToken)),i.isPrimaryClient&&n&&yw(i.remoteStore,l),p}async function EV(i,t,n,r,l){i.pu=(b,C,D)=>(async function(B,G,Q,st){let it=G.view.ru(Q);it.Cs&&(it=await GE(B.localStore,G.query,!1).then((({documents:V})=>G.view.ru(V,it))));const vt=st&&st.targetChanges.get(G.targetId),_t=st&&st.targetMismatches.get(G.targetId)!=null,Et=G.view.applyChanges(it,B.isPrimaryClient,vt,_t);return e1(B,G.targetId,Et.au),Et.snapshot})(i,b,C,D);const u=await GE(i.localStore,t,!0),f=new pV(t,u.Qs),p=f.ru(u.documents),_=Hc.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",l),v=f.applyChanges(p,i.isPrimaryClient,_);e1(i,n,v.au);const E=new gV(t,n,f);return i.Tu.set(t,E),i.Iu.has(n)?i.Iu.get(n).push(t):i.Iu.set(n,[t]),v.snapshot}async function SV(i,t,n){const r=Gt(i),l=r.Tu.get(t),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((f=>!Kf(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await sg(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&__(r.remoteStore,l.targetId),og(r,l.targetId)})).catch(cu)):(og(r,l.targetId),await sg(r.localStore,l.targetId,!0))}async function bV(i,t){const n=Gt(i),r=n.Tu.get(t),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),__(n.remoteStore,r.targetId))}async function wV(i,t,n){const r=DV(i);try{const l=await(function(f,p){const _=Gt(f),v=Ne.now(),E=p.reduce(((D,U)=>D.add(U.key)),ae());let b,C;return _.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let U=qr(),B=ae();return _.Ns.getEntries(D,E).next((G=>{U=G,U.forEach(((Q,st)=>{st.isValidDocument()||(B=B.add(Q))}))})).next((()=>_.localDocuments.getOverlayedDocuments(D,U))).next((G=>{b=G;const Q=[];for(const st of p){const it=NI(st,b.get(st.key).overlayedDocument);it!=null&&Q.push(new Ka(st.key,it,Vb(it.value.mapValue),or.exists(!0)))}return _.mutationQueue.addMutationBatch(D,v,Q,p)})).next((G=>{C=G;const Q=G.applyToLocalDocumentSet(b,B);return _.documentOverlayCache.saveOverlays(D,G.batchId,Q)}))})).then((()=>({batchId:C.batchId,changes:Zb(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(f,p,_){let v=f.Vu[f.currentUser.toKey()];v||(v=new qe(re)),v=v.insert(p,_),f.Vu[f.currentUser.toKey()]=v})(r,l.batchId,n),await qc(r,l.changes),await td(r.remoteStore)}catch(l){const u=S_(l,"Failed to persist write");n.reject(u)}}async function Cw(i,t){const n=Gt(i);try{const r=await OO(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(_e(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?_e(f.hu,14607):l.removedDocuments.size>0&&(_e(f.hu,42227),f.hu=!1))})),await qc(n,r,t)}catch(r){await cu(r)}}function t1(i,t,n){const r=Gt(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,f)=>{const p=f.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(f,p){const _=Gt(f);_.onlineState=p;let v=!1;_.queries.forEach(((E,b)=>{for(const C of b.Sa)C.va(p)&&(v=!0)})),v&&b_(_)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function AV(i,t,n){const r=Gt(i);r.sharedClientState.updateQueryState(t,"rejected",n);const l=r.Au.get(t),u=l&&l.key;if(u){let f=new qe(Vt.comparator);f=f.insert(u,Gn.newNoDocument(u,jt.min()));const p=ae().add(u),_=new Wf(jt.min(),new Map,new qe(re),f,p);await Cw(r,_),r.du=r.du.remove(u),r.Au.delete(t),A_(r)}else await sg(r.localStore,t,!1).then((()=>og(r,t,n))).catch(cu)}async function xV(i,t){const n=Gt(i),r=t.batch.batchId;try{const l=await IO(n.localStore,t);Mw(n,r,null),Rw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qc(n,l)}catch(l){await cu(l)}}async function CV(i,t,n){const r=Gt(i);try{const l=await(function(f,p){const _=Gt(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let E;return _.mutationQueue.lookupMutationBatch(v,p).next((b=>(_e(b!==null,37113),E=b.keys(),_.mutationQueue.removeMutationBatch(v,b)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,E,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E))).next((()=>_.localDocuments.getDocuments(v,E)))}))})(r.localStore,t);Mw(r,t,n),Rw(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await qc(r,l)}catch(l){await cu(l)}}function Rw(i,t){(i.mu.get(t)||[]).forEach((n=>{n.resolve()})),i.mu.delete(t)}function Mw(i,t,n){const r=Gt(i);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function og(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const r of i.Iu.get(t))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((r=>{i.Ru.containsKey(r)||Lw(i,r)}))}function Lw(i,t){i.Eu.delete(t.path.canonicalString());const n=i.du.get(t);n!==null&&(__(i.remoteStore,n),i.du=i.du.remove(t),i.Au.delete(n),A_(i))}function e1(i,t,n){for(const r of n)r instanceof ww?(i.Ru.addReference(r.key,t),RV(i,r)):r instanceof Aw?(Mt(w_,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,t),i.Ru.containsKey(r.key)||Lw(i,r.key)):kt(19791,{wu:r})}function RV(i,t){const n=t.key,r=n.path.canonicalString();i.du.get(n)||i.Eu.has(r)||(Mt(w_,"New document in limbo: "+n),i.Eu.add(r),A_(i))}function A_(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const n=new Vt(De.fromString(t)),r=i.fu.next();i.Au.set(r,new _V(n)),i.du=i.du.insert(n,r),yw(i.remoteStore,new Pa(ar(l_(n.path)),r,"TargetPurposeLimboResolution",qf.ce))}}async function qc(i,t,n){const r=Gt(i),l=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{f.push(r.pu(_,t,n).then((v=>{if((v||n)&&r.isPrimaryClient){const E=v?!v.fromCache:n?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(v){l.push(v);const E=p_.As(_.targetId,v);u.push(E)}})))})),await Promise.all(f),r.Pu.H_(l),await(async function(_,v){const E=Gt(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>mt.forEach(v,(C=>mt.forEach(C.Es,(D=>E.persistence.referenceDelegate.addReference(b,C.targetId,D))).next((()=>mt.forEach(C.ds,(D=>E.persistence.referenceDelegate.removeReference(b,C.targetId,D)))))))))}catch(b){if(!hu(b))throw b;Mt(g_,"Failed to update sequence numbers: "+b)}for(const b of v){const C=b.targetId;if(!b.fromCache){const D=E.Ms.get(C),U=D.snapshotVersion,B=D.withLastLimboFreeSnapshotVersion(U);E.Ms=E.Ms.insert(C,B)}}})(r.localStore,u))}async function MV(i,t){const n=Gt(i);if(!n.currentUser.isEqual(t)){Mt(w_,"User change. New user:",t.toKey());const r=await mw(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((p=>{p.forEach((_=>{_.reject(new Rt(ft.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await qc(n,r.Ls)}}function LV(i,t){const n=Gt(i),r=n.Au.get(t);if(r&&r.hu)return ae().add(r.key);{let l=ae();const u=n.Iu.get(t);if(!u)return l;for(const f of u){const p=n.Tu.get(f);l=l.unionWith(p.view.nu)}return l}}function Dw(i){const t=Gt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=Cw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=AV.bind(null,t),t.Pu.H_=fV.bind(null,t.eventManager),t.Pu.yu=dV.bind(null,t.eventManager),t}function DV(i){const t=Gt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=CV.bind(null,t),t}class Vf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Jf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return PO(this.persistence,new MO,t.initialUser,this.serializer)}Cu(t){return new dw(m_.mi,this.serializer)}Du(t){return new BO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vf.provider={build:()=>new Vf};class PV extends Vf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){_e(this.persistence.referenceDelegate instanceof If,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mO(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?vi.withCacheSize(this.cacheSizeBytes):vi.DEFAULT;return new dw((r=>If.mi(r,n)),this.serializer)}}class lg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>t1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=MV.bind(null,this.syncEngine),await oV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new uV})()}createDatastore(t){const n=Jf(t.databaseInfo.databaseId),r=(function(u){return new qO(u)})(t.databaseInfo);return(function(u,f,p,_){return new YO(u,f,p,_)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,l,u,f,p){return new XO(r,l,u,f,p)})(this.localStore,this.datastore,t.asyncQueue,(n=>t1(this.syncEngine,n,0)),(function(){return YE.v()?new YE:new UO})())}createSyncEngine(t,n){return(function(l,u,f,p,_,v,E){const b=new yV(l,u,f,p,_,v);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Gt(n);Mt(Zo,"RemoteStore shutting down."),r.Ea.add(5),await Fc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lg.provider={build:()=>new lg};class IV{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Fr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const qa="FirestoreClient";class OV{constructor(t,n,r,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=qn.UNAUTHENTICATED,this.clientId=n_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{Mt(qa,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(Mt(qa,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new jo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=S_(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function _p(i,t){i.asyncQueue.verifyOperationInProgress(),Mt(qa,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async l=>{r.isEqual(l)||(await mw(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function n1(i,t){i.asyncQueue.verifyOperationInProgress();const n=await VV(i);Mt(qa,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener((r=>XE(t.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,l)=>XE(t.remoteStore,l))),i._onlineComponents=t}async function VV(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Mt(qa,"Using user provided OfflineComponentProvider");try{await _p(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===ft.FAILED_PRECONDITION||l.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Jl("Error using user provided cache. Falling back to memory cache: "+n),await _p(i,new Vf)}}else Mt(qa,"Using default OfflineComponentProvider"),await _p(i,new PV(void 0));return i._offlineComponents}async function Pw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Mt(qa,"Using user provided OnlineComponentProvider"),await n1(i,i._uninitializedComponentsProvider._online)):(Mt(qa,"Using default OnlineComponentProvider"),await n1(i,new lg))),i._onlineComponents}function NV(i){return Pw(i).then((t=>t.syncEngine))}async function i1(i){const t=await Pw(i),n=t.eventManager;return n.onListen=vV.bind(null,t.syncEngine),n.onUnlisten=SV.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=TV.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=bV.bind(null,t.syncEngine),n}function Iw(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}const s1=new Map;const Ow="firestore.googleapis.com",r1=!0;class a1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Rt(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ow,this.ssl=r1}else this.host=t.host,this.ssl=t.ssl??r1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=fw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<fO)throw new Rt(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}QP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Iw(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Rt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Rt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Rt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ed{constructor(t,n,r,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Rt(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Rt(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new BP;switch(r.type){case"firstParty":return new FP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Rt(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=s1.get(n);r&&(Mt("ComponentProvider","Removing Datastore"),s1.delete(n),r.terminate())})(this),Promise.resolve()}}function zV(i,t,n,r={}){i=Ho(i,ed);const l=$g(t),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},p=`${t}:${n}`;l&&(mD(`https://${p}`),yD("Firestore",!0)),u.host!==Ow&&u.host!==p&&Jl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:p,ssl:l,emulatorOptions:r};if(!xc(_,f)&&(i._setSettings(_),r.mockUserToken)){let v,E;if(typeof r.mockUserToken=="string")v=r.mockUserToken,E=qn.MOCK_USER;else{v=pD(r.mockUserToken,i._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Rt(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new qn(b)}i._authCredentials=new UP(new bb(v,E))}}class Qo{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Qo(this.firestore,t,this._query)}}class mn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Na(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new mn(this.firestore,t,this._key)}toJSON(){return{type:mn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Uc(n,mn._jsonSchema))return new mn(t,r||null,new Vt(De.fromString(n.referencePath)))}}mn._jsonSchemaVersion="firestore/documentReference/1.0",mn._jsonSchema={type:dn("string",mn._jsonSchemaVersion),referencePath:dn("string")};class Na extends Qo{constructor(t,n,r){super(t,n,l_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new mn(this.firestore,null,new Vt(t))}withConverter(t){return new Na(this.firestore,t,this._path)}}function Nf(i,t,...n){if(i=hr(i),wb("collection","path",t),i instanceof ed){const r=De.fromString(t,...n);return yE(r),new Na(i,null,r)}{if(!(i instanceof mn||i instanceof Na))throw new Rt(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(De.fromString(t,...n));return yE(r),new Na(i.firestore,null,r)}}function Vw(i,t,...n){if(i=hr(i),arguments.length===1&&(t=n_.newId()),wb("doc","path",t),i instanceof ed){const r=De.fromString(t,...n);return _E(r),new mn(i,null,new Vt(r))}{if(!(i instanceof mn||i instanceof Na))throw new Rt(ft.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(De.fromString(t,...n));return _E(r),new mn(i.firestore,i instanceof Na?i.converter:null,new Vt(r))}}const o1="AsyncQueue";class l1{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gw(this,"async_queue_retry"),this._c=()=>{const r=gp();r&&Mt(o1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=gp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=gp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new jo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!hu(t))throw t;Mt(o1,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Fr("INTERNAL UNHANDLED ERROR: ",u1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=E_.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&kt(47125,{Pc:u1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function u1(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}function c1(i){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Vc extends ed{constructor(t,n,r,l){super(t,n,r,l),this.type="firestore",this._queue=new l1,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new l1(t),this._firestoreClient=void 0,await t}}}function kV(i,t){const n=typeof i=="object"?i:RP(),r=typeof i=="string"?i:Cf,l=bP(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=fD("firestore");u&&zV(l,...u)}return l}function Nw(i){if(i._terminated)throw new Rt(ft.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||BV(i),i._firestoreClient}function BV(i){const t=i._freezeSettings(),n=(function(l,u,f,p){return new aI(l,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Iw(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new OV(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(i._componentsProvider))}class cs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new cs(Vn.fromBase64String(t))}catch(n){throw new Rt(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new cs(Vn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:cs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Uc(t,cs._jsonSchema))return cs.fromBase64String(t.bytes)}}cs._jsonSchemaVersion="firestore/bytes/1.0",cs._jsonSchema={type:dn("string",cs._jsonSchemaVersion),bytes:dn("string")};class nd{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Rt(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new On(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class id{constructor(t){this._methodName=t}}class ur{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Rt(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Rt(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return re(this._lat,t._lat)||re(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ur._jsonSchemaVersion}}static fromJSON(t){if(Uc(t,ur._jsonSchema))return new ur(t.latitude,t.longitude)}}ur._jsonSchemaVersion="firestore/geoPoint/1.0",ur._jsonSchema={type:dn("string",ur._jsonSchemaVersion),latitude:dn("number"),longitude:dn("number")};class cr{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:cr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Uc(t,cr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new cr(t.vectorValues);throw new Rt(ft.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cr._jsonSchemaVersion="firestore/vectorValue/1.0",cr._jsonSchema={type:dn("string",cr._jsonSchemaVersion),vectorValues:dn("object")};const UV=/^__.*__$/;class jV{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ka(t,this.data,this.fieldMask,n,this.fieldTransforms):new jc(t,this.data,n,this.fieldTransforms)}}class zw{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Ka(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function kw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw kt(40011,{Ac:i})}}class sd{constructor(t,n,r,l,u,f){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new sd({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return zf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(kw(this.Ac)&&UV.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class HV{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Jf(t)}Cc(t,n,r,l=!1){return new sd({Ac:t,methodName:n,Dc:r,path:On.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function x_(i){const t=i._freezeSettings(),n=Jf(i._databaseId);return new HV(i._databaseId,!!t.ignoreUndefinedProperties,n)}function FV(i,t,n,r,l,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,t,n,l);R_("Data must be an object, but it was:",f,r);const p=Bw(r,f);let _,v;if(u.merge)_=new Ui(f.fieldMask),v=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const C=ug(t,b,n);if(!f.contains(C))throw new Rt(ft.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);jw(E,C)||E.push(C)}_=new Ui(E),v=f.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,v=f.fieldTransforms;return new jV(new Ti(p),_,v)}class rd extends id{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof rd}}function qV(i,t,n){return new sd({Ac:3,Dc:t.settings.Dc,methodName:i._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class C_ extends id{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=qV(this,t,!0),r=this.vc.map((u=>mu(u,n))),l=new nu(r);return new PI(t.path,l)}isEqual(t){return t instanceof C_&&xc(this.vc,t.vc)}}function GV(i,t,n,r){const l=i.Cc(1,t,n);R_("Data must be an object, but it was:",l,r);const u=[],f=Ti.empty();Za(r,((_,v)=>{const E=M_(t,_,n);v=hr(v);const b=l.yc(E);if(v instanceof rd)u.push(E);else{const C=mu(v,b);C!=null&&(u.push(E),f.set(E,C))}}));const p=new Ui(u);return new zw(f,p,l.fieldTransforms)}function ZV(i,t,n,r,l,u){const f=i.Cc(1,t,n),p=[ug(t,r,n)],_=[l];if(u.length%2!=0)throw new Rt(ft.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<u.length;C+=2)p.push(ug(t,u[C])),_.push(u[C+1]);const v=[],E=Ti.empty();for(let C=p.length-1;C>=0;--C)if(!jw(v,p[C])){const D=p[C];let U=_[C];U=hr(U);const B=f.yc(D);if(U instanceof rd)v.push(D);else{const G=mu(U,B);G!=null&&(v.push(D),E.set(D,G))}}const b=new Ui(v);return new zw(E,b,f.fieldTransforms)}function KV(i,t,n,r=!1){return mu(n,i.Cc(r?4:3,t))}function mu(i,t){if(Uw(i=hr(i)))return R_("Unsupported field value:",t,i),Bw(i,t);if(i instanceof id)return(function(r,l){if(!kw(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let f=0;for(const p of r){let _=mu(p,l.wc(f));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),f++}return{arrayValue:{values:u}}})(i,t)}return(function(r,l){if((r=hr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MI(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Ne.fromDate(r);return{timestampValue:Pf(l.serializer,u)}}if(r instanceof Ne){const u=new Ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pf(l.serializer,u)}}if(r instanceof ur)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof cs)return{bytesValue:rw(l.serializer,r._byteString)};if(r instanceof mn){const u=l.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:f_(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof cr)return(function(f,p){return{mapValue:{fields:{[Ib]:{stringValue:Ob},[Rf]:{arrayValue:{values:f.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return u_(p.serializer,v)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Ff(r)}`)})(i,t)}function Bw(i,t){const n={};return Cb(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Za(i,((r,l)=>{const u=mu(l,t.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function Uw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ne||i instanceof ur||i instanceof cs||i instanceof mn||i instanceof id||i instanceof cr)}function R_(i,t,n){if(!Uw(n)||!Ab(n)){const r=Ff(n);throw r==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+r)}}function ug(i,t,n){if((t=hr(t))instanceof nd)return t._internalPath;if(typeof t=="string")return M_(i,t);throw zf("Field path arguments must be of type string or ",i,!1,void 0,n)}const YV=new RegExp("[~\\*/\\[\\]]");function M_(i,t,n){if(t.search(YV)>=0)throw zf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new nd(...t.split("."))._internalPath}catch{throw zf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function zf(i,t,n,r,l){const u=r&&!r.isEmpty(),f=l!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(u||f)&&(_+=" (found",u&&(_+=` in field ${r}`),f&&(_+=` in document ${l}`),_+=")"),new Rt(ft.INVALID_ARGUMENT,p+i+_)}function jw(i,t){return i.some((n=>n.isEqual(t)))}class Hw{constructor(t,n,r,l,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new QV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(L_("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QV extends Hw{data(){return super.data()}}function L_(i,t){return typeof t=="string"?M_(i,t):t instanceof nd?t._internalPath:t._delegate._internalPath}function XV(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Rt(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D_{}class Fw extends D_{}function qw(i,t,...n){let r=[];t instanceof D_&&r.push(t),r=r.concat(n),(function(u){const f=u.filter((_=>_ instanceof I_)).length,p=u.filter((_=>_ instanceof P_)).length;if(f>1||f>0&&p>0)throw new Rt(ft.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)i=l._apply(i);return i}class P_ extends Fw{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new P_(t,n,r)}_apply(t){const n=this._parse(t);return Zw(t._query,n),new Qo(t.firestore,t.converter,Jp(t._query,n))}_parse(t){const n=x_(t.firestore);return(function(u,f,p,_,v,E,b){let C;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new Rt(ft.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){f1(b,E);const U=[];for(const B of b)U.push(h1(_,u,B));C={arrayValue:{values:U}}}else C=h1(_,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||f1(b,E),C=KV(p,f,b,E==="in"||E==="not-in");return fn.create(v,E,C)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class I_ extends D_{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new I_(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ps.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,u){let f=l;const p=u.getFlattenedFilters();for(const _ of p)Zw(f,_),f=Jp(f,_)})(t._query,n),new Qo(t.firestore,t.converter,Jp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class O_ extends Fw{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new O_(t,n)}_apply(t){const n=(function(l,u,f){if(l.startAt!==null)throw new Rt(ft.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new Rt(ft.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ic(u,f)})(t._query,this._field,this._direction);return new Qo(t.firestore,t.converter,(function(l,u){const f=l.explicitOrderBy.concat([u]);return new fu(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,n))}}function Gw(i,t="asc"){const n=t,r=L_("orderBy",i);return O_._create(r,n)}function h1(i,t,n){if(typeof(n=hr(n))=="string"){if(n==="")throw new Rt(ft.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hb(t)&&n.indexOf("/")!==-1)throw new Rt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(De.fromString(n));if(!Vt.isDocumentKey(r))throw new Rt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xE(i,new Vt(r))}if(n instanceof mn)return xE(i,n._key);throw new Rt(ft.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ff(n)}.`)}function f1(i,t){if(!Array.isArray(i)||i.length===0)throw new Rt(ft.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Zw(i,t){const n=(function(l,u){for(const f of l)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new Rt(ft.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Rt(ft.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class WV{convertValue(t,n="none"){switch(Ha(t)){case 0:return null;case 1:return t.booleanValue;case 2:return nn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ja(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw kt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Za(t,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[Rf].arrayValue?.values?.map((r=>nn(r.doubleValue)));return new cr(n)}convertGeoPoint(t){return new ur(nn(t.latitude),nn(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Zf(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Lc(t));default:return null}}convertTimestamp(t){const n=Ua(t);return new Ne(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=De.fromString(t);_e(hw(r),9688,{name:t});const l=new Dc(r.get(1),r.get(3)),u=new Vt(r.popFirst(5));return l.isEqual(n)||Fr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function JV(i,t,n){let r;return r=i?i.toFirestore(t):t,r}class uc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fo extends Hw{constructor(t,n,r,l,u,f){super(t,n,r,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(L_("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Rt(ft.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Fo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fo._jsonSchema={type:dn("string",Fo._jsonSchemaVersion),bundleSource:dn("string","DocumentSnapshot"),bundleName:dn("string"),bundle:dn("string")};class gf extends Fo{data(t={}){return super.data(t)}}class Ql{constructor(t,n,r,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new uc(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new gf(this._firestore,this._userDataWriter,r.key,r,new uc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Rt(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((p=>{const _=new gf(l._firestore,l._userDataWriter,p.doc.key,p.doc,new uc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const _=new gf(l._firestore,l._userDataWriter,p.doc.key,p.doc,new uc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,E=-1;return p.type!==0&&(v=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:$V(p.type),doc:_,oldIndex:v,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Rt(ft.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ql._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=n_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function $V(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return kt(61501,{type:i})}}Ql._jsonSchemaVersion="firestore/querySnapshot/1.0",Ql._jsonSchema={type:dn("string",Ql._jsonSchemaVersion),bundleSource:dn("string","QuerySnapshot"),bundleName:dn("string"),bundle:dn("string")};class Kw extends WV{constructor(t){super(),this.firestore=t}convertBytes(t){return new cs(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new mn(this.firestore,null,n)}}function tN(i,t,n,...r){i=Ho(i,mn);const l=Ho(i.firestore,Vc),u=x_(l);let f;return f=typeof(t=hr(t))=="string"||t instanceof nd?ZV(u,"updateDoc",i._key,t,n,r):GV(u,"updateDoc",i._key,t),Xw(l,[f.toMutation(i._key,or.exists(!0))])}function Yw(i,t){const n=Ho(i.firestore,Vc),r=Vw(i),l=JV(i.converter,t);return Xw(n,[FV(x_(i.firestore),"addDoc",r._key,l,i.converter!==null,{}).toMutation(r._key,or.exists(!1))]).then((()=>r))}function Qw(i,...t){i=hr(i);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||c1(t[r])||(n=t[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(c1(t[r])){const _=t[r];t[r]=_.next?.bind(_),t[r+1]=_.error?.bind(_),t[r+2]=_.complete?.bind(_)}let u,f,p;if(i instanceof mn)f=Ho(i.firestore,Vc),p=l_(i._key.path),u={next:_=>{t[r]&&t[r](eN(f,i,_))},error:t[r+1],complete:t[r+2]};else{const _=Ho(i,Qo);f=Ho(_.firestore,Vc),p=_._query;const v=new Kw(f);u={next:E=>{t[r]&&t[r](new Ql(f,v,_,E))},error:t[r+1],complete:t[r+2]},XV(i._query)}return(function(v,E,b,C){const D=new IV(C),U=new mV(E,D,b);return v.asyncQueue.enqueueAndForget((async()=>cV(await i1(v),U))),()=>{D.Nu(),v.asyncQueue.enqueueAndForget((async()=>hV(await i1(v),U)))}})(Nw(f),p,l,u)}function Xw(i,t){return(function(r,l){const u=new jo;return r.asyncQueue.enqueueAndForget((async()=>wV(await NV(r),l,u))),u.promise})(Nw(i),t)}function eN(i,t,n){const r=n.docs.get(t._key),l=new Kw(i);return new Fo(i,l,t._key,r,new uc(n.hasPendingWrites,n.fromCache),t.converter)}function nN(...i){return new C_("arrayUnion",i)}(function(t,n=!0){(function(l){uu=l})(CP),Af(new Cc("firestore",((r,{instanceIdentifier:l,options:u})=>{const f=r.getProvider("app").getImmediate(),p=new Vc(new jP(r.getProvider("auth-internal")),new qP(f,r.getProvider("app-check-internal")),(function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Rt(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dc(v.options.projectId,E)})(f,l),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Kl(dE,mE,t),Kl(dE,mE,"esm2020")})();var iN="firebase",sN="12.7.0";Kl(iN,sN,"app");const rN={apiKey:"AIzaSyB3pnwgS5TcJcGFaXguc0FDKOWetPuKk2Q",authDomain:"strawbirdies-86428.firebaseapp.com",projectId:"strawbirdies-86428",storageBucket:"strawbirdies-86428.firebasestorage.app",messagingSenderId:"166360934218",appId:"1:166360934218:web:24894bc89e49953dfd83b3"},aN=db(rN),Tc=kV(aN),oN=({spot:i,onClose:t,onNavigate:n})=>{const[r,l]=dt.useState([]),[u,f]=dt.useState(""),[p,_]=dt.useState(5),[v,E]=dt.useState(!1),[b,C]=dt.useState(!1);dt.useEffect(()=>{if(!i?.id)return;const G=qw(Nf(Tc,`spots/${i.id}/reviews`),Gw("createdAt","desc")),Q=Qw(G,st=>{const it=st.docs.map(vt=>({id:vt.id,...vt.data()}));l(it)});return()=>Q()},[i?.id]);const D=async G=>{if(G.preventDefault(),!!u.trim()){E(!0);try{await Yw(Nf(Tc,`spots/${i.id}/reviews`),{text:u,rating:p,createdAt:new Date().toISOString(),userName:"Traveler"}),f("")}catch(Q){console.error("Error adding review:",Q),alert("Could not post review.")}finally{E(!1)}}},U=async G=>{const Q=G.target.files[0];if(Q){C(!0);try{const st=new FileReader;st.readAsDataURL(Q),st.onload=it=>{const vt=new Image;vt.src=it.target.result,vt.onload=async()=>{const _t=document.createElement("canvas");let Et=vt.width,V=vt.height;const P=800;Et>P&&(V*=P/Et,Et=P),_t.width=Et,_t.height=V,_t.getContext("2d").drawImage(vt,0,0,Et,V);const F=_t.toDataURL("image/jpeg",.7),k=Vw(Tc,"spots",i.id);await tN(k,{images:nN(F)}),alert("Photo added!"),C(!1)}}}catch(st){console.error("Error uploading photo:",st),alert("Failed to upload photo."),C(!1)}}};if(!i)return null;const B=i.images&&i.images.length>0?i.images:i.image?[i.image]:[];return et.jsx("div",{style:{position:"fixed",inset:0,zIndex:3e3,background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:et.jsxs(Wg.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"glass-panel",style:{width:"100%",maxWidth:"800px",height:"90vh",display:"flex",flexDirection:"column",overflow:"hidden",position:"relative",background:"#1e293b"},children:[et.jsxs("div",{style:{height:"250px",position:"relative"},children:[et.jsx(rb,{images:B,height:"100%"}),et.jsx("button",{onClick:t,style:{position:"absolute",top:16,right:16,background:"rgba(0,0,0,0.5)",border:"none",color:"white",borderRadius:"50%",width:40,height:40,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:20},children:et.jsx(TC,{size:24})}),et.jsxs("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(transparent, rgba(0,0,0,0.9))",padding:"20px",pointerEvents:"none"},children:[et.jsx("h1",{style:{margin:0,fontSize:"2rem"},children:i.name}),et.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",marginTop:"4px",color:"#fbbf24"},children:[et.jsx(cc,{fill:"currentColor",size:20}),et.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"bold"},children:i.rating||5}),et.jsxs("span",{style:{color:"#94a3b8",fontSize:"0.9rem",fontWeight:"normal"},children:["(",r.length," reviews)"]})]})]})]}),et.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:[et.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"24px"},children:[et.jsxs("button",{className:"btn-primary",style:{flex:1,display:"flex",justifyContent:"center",gap:"8px"},onClick:n,children:[et.jsx(dC,{size:18})," Navigate"]}),et.jsx("label",{className:"btn-primary",style:{flex:1,display:"flex",justifyContent:"center",gap:"8px",cursor:"pointer",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)"},children:b?et.jsx("span",{children:"Uploading..."}):et.jsxs(et.Fragment,{children:[et.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:U}),et.jsx("span",{children:"Add Photo"})]})})]}),et.jsxs("div",{style:{marginBottom:"24px"},children:[et.jsx("h3",{style:{borderBottom:"1px solid #334155",paddingBottom:"8px",marginBottom:"12px"},children:"About"}),et.jsx("p",{style:{lineHeight:"1.6",color:"#e2e8f0",fontSize:"1.05rem"},children:i.description||"No description provided."})]}),i.amenities&&Object.keys(i.amenities).length>0&&et.jsxs("div",{style:{marginBottom:"24px"},children:[et.jsx("h3",{style:{borderBottom:"1px solid #334155",paddingBottom:"8px",marginBottom:"12px"},children:"Amenities"}),et.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[i.amenities.wifi&&et.jsx(af,{icon:A1,label:"WiFi"}),i.amenities.cell_signal&&et.jsx(af,{icon:w1,label:"Cell Signal"}),i.amenities.toilet&&et.jsx(af,{icon:S1,label:"Toilet"}),i.amenities.water&&et.jsx(af,{icon:b1,label:"Water"})]})]}),et.jsxs("div",{children:[et.jsx("h3",{style:{borderBottom:"1px solid #334155",paddingBottom:"8px",marginBottom:"16px"},children:"Reviews"}),et.jsxs("form",{onSubmit:D,style:{background:"rgba(255,255,255,0.03)",padding:"16px",borderRadius:"12px",marginBottom:"24px"},children:[et.jsx("div",{style:{display:"flex",gap:"4px",marginBottom:"12px"},children:[1,2,3,4,5].map(G=>et.jsx(cc,{size:24,fill:G<=p?"#fbbf24":"none",color:G<=p?"#fbbf24":"#64748b",style:{cursor:"pointer"},onClick:()=>_(G)},G))}),et.jsxs("div",{style:{display:"flex",gap:"8px"},children:[et.jsx("input",{type:"text",placeholder:"Write a review...",value:u,onChange:G=>f(G.target.value),style:{flex:1,background:"rgba(0,0,0,0.2)",border:"1px solid #334155",padding:"12px",borderRadius:"8px",color:"white"}}),et.jsx("button",{type:"submit",disabled:v,style:{background:"var(--color-accent)",border:"none",borderRadius:"8px",padding:"0 16px",cursor:"pointer",color:"white"},children:et.jsx(pC,{size:20})})]})]}),et.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:r.length===0?et.jsx("p",{style:{color:"#94a3b8",fontStyle:"italic"},children:"No reviews yet. Be the first!"}):r.map(G=>et.jsxs("div",{style:{padding:"16px",background:"rgba(255,255,255,0.03)",borderRadius:"12px"},children:[et.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[et.jsx("span",{style:{fontWeight:"bold",color:"#e2e8f0"},children:G.userName}),et.jsx("div",{style:{display:"flex",gap:"2px"},children:[...Array(5)].map((Q,st)=>et.jsx(cc,{size:14,fill:st<G.rating?"#fbbf24":"none",color:st<G.rating?"#fbbf24":"#475569"},st))})]}),et.jsx("p",{style:{margin:0,color:"#cbd5e1",lineHeight:"1.5"},children:G.text}),et.jsx("small",{style:{color:"#64748b",display:"block",marginTop:"8px"},children:new Date(G.createdAt).toLocaleDateString()})]},G.id))})]})]})]})})},af=({icon:i,label:t})=>et.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",background:"rgba(56, 189, 248, 0.1)",color:"#38bdf8",padding:"6px 12px",borderRadius:"20px",fontSize:"0.9rem"},children:[et.jsx(i,{size:16})," ",et.jsx("span",{children:t})]}),lN=({location:i,onClose:t,onSubmit:n})=>{const[r,l]=dt.useState(!1),[u,f]=dt.useState({name:"",description:"",images:[],amenities:{}}),p=E=>new Promise((b,C)=>{const D=new FileReader;D.onload=U=>{const B=new Image;B.onload=()=>{const G=document.createElement("canvas"),Q=800,st=Q/B.width;st<1?(G.width=Q,G.height=B.height*st):(G.width=B.width,G.height=B.height),G.getContext("2d").drawImage(B,0,0,G.width,G.height),b(G.toDataURL("image/jpeg",.7))},B.onerror=C,B.src=U.target.result},D.onerror=C,D.readAsDataURL(E)}),_=async E=>{const b=Array.from(E.target.files);if(b.length!==0){l(!0);try{const C=await Promise.all(b.map(D=>p(D)));f(D=>({...D,images:[...D.images,...C]}))}catch(C){console.error("Error processing images",C),alert("Could not process some images.")}finally{l(!1)}}},v=E=>{E.preventDefault(),n({...u,location:i}),t()};return et.jsxs("div",{className:"glass-panel",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:2e3,padding:"24px",width:"90%",maxWidth:"400px",color:"white",maxHeight:"90vh",overflowY:"auto"},children:[et.jsx("h2",{style:{marginTop:0},children:"Add a New Spot"}),et.jsxs("form",{onSubmit:v,children:[et.jsxs("div",{style:{marginBottom:"16px"},children:[et.jsx("label",{style:{display:"block",marginBottom:"8px"},children:"Name"}),et.jsx("input",{type:"text",required:!0,className:"glass-panel",style:{width:"100%",padding:"8px",color:"white"},value:u.name,onChange:E=>f({...u,name:E.target.value})})]}),et.jsxs("div",{style:{marginBottom:"16px"},children:[et.jsx("label",{style:{display:"block",marginBottom:"8px"},children:"Description"}),et.jsx("textarea",{required:!0,className:"glass-panel",style:{width:"100%",padding:"8px",color:"white",minHeight:"80px",fontFamily:"inherit"},value:u.description,onChange:E=>f({...u,description:E.target.value}),placeholder:"Tell us about this spot..."})]}),et.jsxs("div",{style:{marginBottom:"16px"},children:[et.jsx("label",{style:{display:"block",marginBottom:"8px"},children:"Amenities"}),et.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:["wifi","toilet","water","cell_signal"].map(E=>et.jsxs("button",{type:"button",onClick:()=>f(b=>({...b,amenities:{...b.amenities,[E]:!b.amenities?.[E]}})),className:`glass-panel ${u.amenities?.[E]?"active":""}`,style:{padding:"8px 12px",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",background:u.amenities?.[E]?"rgba(74, 222, 128, 0.2)":"rgba(255,255,255,0.05)",border:u.amenities?.[E]?"1px solid var(--color-accent)":"1px solid transparent"},children:[E==="wifi"&&et.jsx(A1,{size:16}),E==="toilet"&&et.jsx(S1,{size:16}),E==="water"&&et.jsx(b1,{size:16}),E==="cell_signal"&&et.jsx(w1,{size:16}),et.jsx("span",{style:{textTransform:"capitalize",fontSize:"0.85rem"},children:E.replace("_"," ")})]},E))})]}),et.jsxs("div",{style:{marginBottom:"16px"},children:[et.jsx("label",{style:{display:"block",marginBottom:"8px"},children:"Photos"}),et.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"glass-panel",style:{width:"100%",padding:"8px",color:"white"},onChange:_}),r&&et.jsx("small",{style:{color:"#ccc",display:"block",marginTop:"4px"},children:"Processing images..."}),u.images.length>0&&et.jsx("div",{style:{display:"flex",gap:"8px",overflowX:"auto",marginTop:"8px",paddingBottom:"4px"},children:u.images.map((E,b)=>et.jsx("img",{src:E,alt:`Preview ${b}`,style:{width:"60px",height:"60px",objectFit:"cover",borderRadius:"4px"}},b))})]}),et.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px"},children:[et.jsx("button",{type:"button",onClick:t,style:{background:"transparent",border:"none",color:"white",cursor:"pointer"},children:"Cancel"}),et.jsx("button",{type:"submit",className:"btn-primary",disabled:r,children:r?"Processing...":"Add Spot"})]})]})]})},uN=({spots:i,onSelectSpot:t})=>et.jsxs("div",{className:"glass-panel",style:{position:"absolute",top:"80px",left:"20px",width:"260px",maxHeight:"calc(100vh - 120px)",overflowY:"auto",zIndex:1010,padding:"12px",display:"flex",flexDirection:"column",gap:"8px"},children:[et.jsxs("h3",{style:{margin:"0 0 8px 0",fontSize:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"8px"},children:["Nearby Spots (",i.length,")"]}),i.map(n=>et.jsxs("div",{onClick:()=>t(n),style:{padding:"8px",borderRadius:"8px",background:"rgba(255,255,255,0.05)",cursor:"pointer",transition:"background 0.2s"},onMouseEnter:r=>r.currentTarget.style.background="rgba(255,255,255,0.1)",onMouseLeave:r=>r.currentTarget.style.background="rgba(255,255,255,0.05)",children:[et.jsx("div",{style:{fontWeight:600,fontSize:"0.9rem",marginBottom:"4px"},children:n.name}),et.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"0.8rem",color:"var(--color-text-secondary)"},children:[et.jsx(cc,{size:12,color:"var(--color-rating)"})," ",n.rating,et.jsx("span",{children:""}),et.jsx(hC,{size:12})," ",n.type==="water"?"Water":"Camp",n.distance&&et.jsxs(et.Fragment,{children:[et.jsx("span",{children:""}),et.jsxs("span",{children:[n.distance.toFixed(1)," km"]})]})]})]},n.id))]}),cN=[{id:1,name:"Hidden Redwood Grove",location:{lat:37.75,lng:-122.45},rating:4.8,lastVerified:new Date().toISOString(),image:"https://images.unsplash.com/photo-1523987355523-c7b5b0dd90a7?auto=format&fit=crop&q=80&w=800",features:{bigRig:!1,signal:!1,level:!0,policeWarning:!1}},{id:2,name:"Coastal Pullout",location:{lat:37.8,lng:-122.5},rating:3.5,lastVerified:"2023-01-01",image:"https://images.unsplash.com/photo-1478131143081-80f7f84ca84d?auto=format&fit=crop&q=80&w=800",features:{bigRig:!0,signal:!0,level:!1,policeWarning:!0}}];function hN(){const[i,t]=dt.useState([]),[n,r]=dt.useState(null),[l,u]=dt.useState(null),[f,p]=dt.useState(!1),[_,v]=dt.useState(!1),[E,b]=dt.useState(null),[C,D]=dt.useState(null),[U,B]=dt.useState(null),[G,Q]=dt.useState(null);qo.useEffect(()=>{const P=qw(Nf(Tc,"spots"),Gw("lastVerified","desc")),O=Qw(P,F=>{const k=[];F.forEach(Z=>{k.push({id:Z.id,...Z.data()})}),t(k)},F=>{console.error("Error fetching spots:",F),i.length===0&&t(cN)});return()=>O()},[]),qo.useEffect(()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(P=>{const O={lat:P.coords.latitude,lng:P.coords.longitude};D(O),B(O)},P=>{console.error("Error getting location:",P),Q("Could not get your location. Defaulting to demo view.")}):Q("Geolocation not supported")},[]);const st=(P,O,F,k)=>{const z=(F-P)*Math.PI/180,Qt=(k-O)*Math.PI/180,xe=Math.sin(z/2)*Math.sin(z/2)+Math.cos(P*Math.PI/180)*Math.cos(F*Math.PI/180)*Math.sin(Qt/2)*Math.sin(Qt/2);return 6371*(2*Math.atan2(Math.sqrt(xe),Math.sqrt(1-xe)))},it=dt.useMemo(()=>{let P=i;if(f){const O=new Date;O.setFullYear(O.getFullYear()-1),P=P.filter(F=>new Date(F.lastVerified)>O)}return C&&(P=P.map(O=>({...O,distance:st(C.lat,C.lng,O.location.lat,O.location.lng)})).filter(O=>O.distance<=50).sort((O,F)=>O.distance-F.distance)),P},[i,f,C]),vt=P=>{if(!P||!P.location)return;const O=`https://www.google.com/maps/dir/?api=1&destination=${P.location.lat},${P.location.lng}`;window.open(O,"_blank")},_t=P=>{if(n){r(null);return}b({lat:P.latLng.lat(),lng:P.latLng.lng()}),v(!0)},Et=P=>{r(P),v(!1),P.location&&B(P.location)},V=async P=>{const O=P.images&&P.images.length>0?P.images[0]:"https://images.unsplash.com/photo-1533873984035-25970ab07461?auto=format&fit=crop&q=80&w=800",F={...P,rating:5,lastVerified:new Date().toISOString(),location:P.location,description:P.description,image:O,images:P.images||[]};try{await Yw(Nf(Tc,"spots"),F),console.log("Spot added to Firestore!")}catch(k){console.error("Error adding document: ",k),alert("Could not save to database. Check API Keys.")}};return et.jsxs("div",{style:{width:"100%",height:"100%",position:"relative"},children:[et.jsx(EC,{showVerifiedOnly:f,setShowVerifiedOnly:p}),et.jsx(uN,{spots:it,onSelectSpot:Et}),et.jsx(Jx,{markers:it,centerLocation:U,onMapClick:_t,onMarkerClick:Et}),n&&!l&&et.jsx(eD,{spot:n,onClose:()=>r(null),onNavigate:()=>vt(n),onViewDetails:()=>u(n)}),l&&et.jsx(oN,{spot:l,onClose:()=>u(null),onNavigate:()=>vt(l)}),_&&E&&et.jsx(lN,{location:E,onClose:()=>{v(!1),b(null)},onSubmit:V})]})}Sx.createRoot(document.getElementById("root")).render(et.jsx(qo.StrictMode,{children:et.jsx(hN,{})}));
