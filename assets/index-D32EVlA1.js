var mS=Object.defineProperty;var Tm=t=>{throw TypeError(t)};var pS=(t,e,n)=>e in t?mS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Cm=(t,e,n)=>pS(t,typeof e!="symbol"?e+"":e,n),wm=(t,e,n)=>e.has(t)||Tm("Cannot "+n);var Qt=(t,e,n)=>(wm(t,e,"read from private field"),n?n.call(t):e.get(t)),va=(t,e,n)=>e.has(t)?Tm("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ts=(t,e,n,i)=>(wm(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function y_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var v_={exports:{}},ac={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS=Symbol.for("react.transitional.element"),_S=Symbol.for("react.fragment");function E_(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:gS,type:t,key:i,ref:e!==void 0?e:null,props:n}}ac.Fragment=_S;ac.jsx=E_;ac.jsxs=E_;v_.exports=ac;var y=v_.exports,b_={exports:{}},U={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _h=Symbol.for("react.transitional.element"),yS=Symbol.for("react.portal"),vS=Symbol.for("react.fragment"),ES=Symbol.for("react.strict_mode"),bS=Symbol.for("react.profiler"),SS=Symbol.for("react.consumer"),TS=Symbol.for("react.context"),CS=Symbol.for("react.forward_ref"),wS=Symbol.for("react.suspense"),AS=Symbol.for("react.memo"),S_=Symbol.for("react.lazy"),RS=Symbol.for("react.activity"),Am=Symbol.iterator;function NS(t){return t===null||typeof t!="object"?null:(t=Am&&t[Am]||t["@@iterator"],typeof t=="function"?t:null)}var T_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C_=Object.assign,w_={};function ta(t,e,n){this.props=t,this.context=e,this.refs=w_,this.updater=n||T_}ta.prototype.isReactComponent={};ta.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ta.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function A_(){}A_.prototype=ta.prototype;function yh(t,e,n){this.props=t,this.context=e,this.refs=w_,this.updater=n||T_}var vh=yh.prototype=new A_;vh.constructor=yh;C_(vh,ta.prototype);vh.isPureReactComponent=!0;var Rm=Array.isArray;function Qu(){}var oe={H:null,A:null,T:null,S:null},R_=Object.prototype.hasOwnProperty;function Eh(t,e,n){var i=n.ref;return{$$typeof:_h,type:t,key:e,ref:i!==void 0?i:null,props:n}}function xS(t,e){return Eh(t.type,e,t.props)}function bh(t){return typeof t=="object"&&t!==null&&t.$$typeof===_h}function OS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Nm=/\/+/g;function Fc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?OS(""+t.key):e.toString(36)}function DS(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Qu,Qu):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function as(t,e,n,i,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var r=!1;if(t===null)r=!0;else switch(a){case"bigint":case"string":case"number":r=!0;break;case"object":switch(t.$$typeof){case _h:case yS:r=!0;break;case S_:return r=t._init,as(r(t._payload),e,n,i,s)}}if(r)return s=s(t),r=i===""?"."+Fc(t,0):i,Rm(s)?(n="",r!=null&&(n=r.replace(Nm,"$&/")+"/"),as(s,e,n,"",function(c){return c})):s!=null&&(bh(s)&&(s=xS(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(Nm,"$&/")+"/")+r)),e.push(s)),1;r=0;var l=i===""?".":i+":";if(Rm(t))for(var o=0;o<t.length;o++)i=t[o],a=l+Fc(i,o),r+=as(i,e,n,a,s);else if(o=NS(t),typeof o=="function")for(t=o.call(t),o=0;!(i=t.next()).done;)i=i.value,a=l+Fc(i,o++),r+=as(i,e,n,a,s);else if(a==="object"){if(typeof t.then=="function")return as(DS(t),e,n,i,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return r}function fl(t,e,n){if(t==null)return t;var i=[],s=0;return as(t,i,"","",function(a){return e.call(n,a,s++)}),i}function MS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xm=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},IS={map:fl,forEach:function(t,e,n){fl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fl(t,function(){e++}),e},toArray:function(t){return fl(t,function(e){return e})||[]},only:function(t){if(!bh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Activity=RS;U.Children=IS;U.Component=ta;U.Fragment=vS;U.Profiler=bS;U.PureComponent=yh;U.StrictMode=ES;U.Suspense=wS;U.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe;U.__COMPILER_RUNTIME={__proto__:null,c:function(t){return oe.H.useMemoCache(t)}};U.cache=function(t){return function(){return t.apply(null,arguments)}};U.cacheSignal=function(){return null};U.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=C_({},t.props),s=t.key;if(e!=null)for(a in e.key!==void 0&&(s=""+e.key),e)!R_.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(i[a]=e[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var r=Array(a),l=0;l<a;l++)r[l]=arguments[l+2];i.children=r}return Eh(t.type,s,i)};U.createContext=function(t){return t={$$typeof:TS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:SS,_context:t},t};U.createElement=function(t,e,n){var i,s={},a=null;if(e!=null)for(i in e.key!==void 0&&(a=""+e.key),e)R_.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=e[i]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var l=Array(r),o=0;o<r;o++)l[o]=arguments[o+2];s.children=l}if(t&&t.defaultProps)for(i in r=t.defaultProps,r)s[i]===void 0&&(s[i]=r[i]);return Eh(t,a,s)};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:CS,render:t}};U.isValidElement=bh;U.lazy=function(t){return{$$typeof:S_,_payload:{_status:-1,_result:t},_init:MS}};U.memo=function(t,e){return{$$typeof:AS,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=oe.T,n={};oe.T=n;try{var i=t(),s=oe.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Qu,xm)}catch(a){xm(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),oe.T=e}};U.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()};U.use=function(t){return oe.H.use(t)};U.useActionState=function(t,e,n){return oe.H.useActionState(t,e,n)};U.useCallback=function(t,e){return oe.H.useCallback(t,e)};U.useContext=function(t){return oe.H.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t,e){return oe.H.useDeferredValue(t,e)};U.useEffect=function(t,e){return oe.H.useEffect(t,e)};U.useEffectEvent=function(t){return oe.H.useEffectEvent(t)};U.useId=function(){return oe.H.useId()};U.useImperativeHandle=function(t,e,n){return oe.H.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return oe.H.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return oe.H.useLayoutEffect(t,e)};U.useMemo=function(t,e){return oe.H.useMemo(t,e)};U.useOptimistic=function(t,e){return oe.H.useOptimistic(t,e)};U.useReducer=function(t,e,n){return oe.H.useReducer(t,e,n)};U.useRef=function(t){return oe.H.useRef(t)};U.useState=function(t){return oe.H.useState(t)};U.useSyncExternalStore=function(t,e,n){return oe.H.useSyncExternalStore(t,e,n)};U.useTransition=function(){return oe.H.useTransition()};U.version="19.2.3";b_.exports=U;var b=b_.exports;const Sh=y_(b);var N_={exports:{}},rc={},x_={exports:{}},O_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,P){var H=R.length;R.push(P);e:for(;0<H;){var ge=H-1>>>1,Ne=R[ge];if(0<s(Ne,P))R[ge]=P,R[H]=Ne,H=ge;else break e}}function n(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var P=R[0],H=R.pop();if(H!==P){R[0]=H;e:for(var ge=0,Ne=R.length,ol=Ne>>>1;ge<ol;){var cl=2*(ge+1)-1,Yc=R[cl],Si=cl+1,ul=R[Si];if(0>s(Yc,H))Si<Ne&&0>s(ul,Yc)?(R[ge]=ul,R[Si]=H,ge=Si):(R[ge]=Yc,R[cl]=H,ge=cl);else if(Si<Ne&&0>s(ul,H))R[ge]=ul,R[Si]=H,ge=Si;else break e}}return P}function s(R,P){var H=R.sortIndex-P.sortIndex;return H!==0?H:R.id-P.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var r=Date,l=r.now();t.unstable_now=function(){return r.now()-l}}var o=[],c=[],h=1,f=null,u=3,d=!1,_=!1,E=!1,S=!1,p=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;function v(R){for(var P=n(c);P!==null;){if(P.callback===null)i(c);else if(P.startTime<=R)i(c),P.sortIndex=P.expirationTime,e(o,P);else break;P=n(c)}}function w(R){if(E=!1,v(R),!_)if(n(o)!==null)_=!0,O||(O=!0,Nn());else{var P=n(c);P!==null&&Gc(w,P.startTime-R)}}var O=!1,A=-1,N=5,M=-1;function L(){return S?!0:!(t.unstable_now()-M<N)}function dt(){if(S=!1,O){var R=t.unstable_now();M=R;var P=!0;try{e:{_=!1,E&&(E=!1,m(A),A=-1),d=!0;var H=u;try{t:{for(v(R),f=n(o);f!==null&&!(f.expirationTime>R&&L());){var ge=f.callback;if(typeof ge=="function"){f.callback=null,u=f.priorityLevel;var Ne=ge(f.expirationTime<=R);if(R=t.unstable_now(),typeof Ne=="function"){f.callback=Ne,v(R),P=!0;break t}f===n(o)&&i(o),v(R)}else i(o);f=n(o)}if(f!==null)P=!0;else{var ol=n(c);ol!==null&&Gc(w,ol.startTime-R),P=!1}}break e}finally{f=null,u=H,d=!1}P=void 0}}finally{P?Nn():O=!1}}}var Nn;if(typeof g=="function")Nn=function(){g(dt)};else if(typeof MessageChannel<"u"){var Sm=new MessageChannel,dS=Sm.port2;Sm.port1.onmessage=dt,Nn=function(){dS.postMessage(null)}}else Nn=function(){p(dt,0)};function Gc(R,P){A=p(function(){R(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return u},t.unstable_next=function(R){switch(u){case 1:case 2:case 3:var P=3;break;default:P=u}var H=u;u=P;try{return R()}finally{u=H}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(R,P){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var H=u;u=R;try{return P()}finally{u=H}},t.unstable_scheduleCallback=function(R,P,H){var ge=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ge+H:ge):H=ge,R){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=H+Ne,R={id:h++,callback:P,priorityLevel:R,startTime:H,expirationTime:Ne,sortIndex:-1},H>ge?(R.sortIndex=H,e(c,R),n(o)===null&&R===n(c)&&(E?(m(A),A=-1):E=!0,Gc(w,H-ge))):(R.sortIndex=Ne,e(o,R),_||d||(_=!0,O||(O=!0,Nn()))),R},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(R){var P=u;return function(){var H=u;u=P;try{return R.apply(this,arguments)}finally{u=H}}}})(O_);x_.exports=O_;var kS=x_.exports,D_={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LS=b;function M_(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function xn(){}var Ve={d:{f:xn,r:function(){throw Error(M_(522))},D:xn,C:xn,L:xn,m:xn,X:xn,S:xn,M:xn},p:0,findDOMNode:null},US=Symbol.for("react.portal");function zS(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:US,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Ba=LS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function lc(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ve;Ke.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(M_(299));return zS(t,e,null,n)};Ke.flushSync=function(t){var e=Ba.T,n=Ve.p;try{if(Ba.T=null,Ve.p=2,t)return t()}finally{Ba.T=e,Ve.p=n,Ve.d.f()}};Ke.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Ve.d.C(t,e))};Ke.prefetchDNS=function(t){typeof t=="string"&&Ve.d.D(t)};Ke.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=lc(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Ve.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:a}):n==="script"&&Ve.d.X(t,{crossOrigin:i,integrity:s,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ke.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=lc(e.as,e.crossOrigin);Ve.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Ve.d.M(t)};Ke.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=lc(n,e.crossOrigin);Ve.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ke.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=lc(e.as,e.crossOrigin);Ve.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Ve.d.m(t)};Ke.requestFormReset=function(t){Ve.d.r(t)};Ke.unstable_batchedUpdates=function(t,e){return t(e)};Ke.useFormState=function(t,e,n){return Ba.H.useFormState(t,e,n)};Ke.useFormStatus=function(){return Ba.H.useHostTransitionStatus()};Ke.version="19.2.3";function I_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I_)}catch(t){console.error(t)}}I_(),D_.exports=Ke;var HS=D_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Re=kS,k_=b,BS=HS;function T(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function L_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function U_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function z_(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Om(t){if(kr(t)!==t)throw Error(T(188))}function jS(t){var e=t.alternate;if(!e){if(e=kr(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Om(s),t;if(a===i)return Om(s),e;a=a.sibling}throw Error(T(188))}if(n.return!==i.return)n=s,i=a;else{for(var r=!1,l=s.child;l;){if(l===n){r=!0,n=s,i=a;break}if(l===i){r=!0,i=s,n=a;break}l=l.sibling}if(!r){for(l=a.child;l;){if(l===n){r=!0,n=a,i=s;break}if(l===i){r=!0,i=a,n=s;break}l=l.sibling}if(!r)throw Error(T(189))}}if(n.alternate!==i)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function H_(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=H_(t),e!==null)return e;t=t.sibling}return null}var ce=Object.assign,PS=Symbol.for("react.element"),hl=Symbol.for("react.transitional.element"),ka=Symbol.for("react.portal"),os=Symbol.for("react.fragment"),B_=Symbol.for("react.strict_mode"),Xu=Symbol.for("react.profiler"),j_=Symbol.for("react.consumer"),sn=Symbol.for("react.context"),Th=Symbol.for("react.forward_ref"),Wu=Symbol.for("react.suspense"),$u=Symbol.for("react.suspense_list"),Ch=Symbol.for("react.memo"),Dn=Symbol.for("react.lazy"),Zu=Symbol.for("react.activity"),qS=Symbol.for("react.memo_cache_sentinel"),Dm=Symbol.iterator;function Ea(t){return t===null||typeof t!="object"?null:(t=Dm&&t[Dm]||t["@@iterator"],typeof t=="function"?t:null)}var VS=Symbol.for("react.client.reference");function Ju(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===VS?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case os:return"Fragment";case Xu:return"Profiler";case B_:return"StrictMode";case Wu:return"Suspense";case $u:return"SuspenseList";case Zu:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ka:return"Portal";case sn:return t.displayName||"Context";case j_:return(t._context.displayName||"Context")+".Consumer";case Th:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ch:return e=t.displayName||null,e!==null?e:Ju(t.type)||"Memo";case Dn:e=t._payload,t=t._init;try{return Ju(t(e))}catch{}}return null}var La=Array.isArray,I=k_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=BS.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Mi={pending:!1,data:null,method:null,action:null},ef=[],cs=-1;function Gt(t){return{current:t}}function Ie(t){0>cs||(t.current=ef[cs],ef[cs]=null,cs--)}function ae(t,e){cs++,ef[cs]=t.current,t.current=e}var Pt=Gt(null),rr=Gt(null),Qn=Gt(null),Jl=Gt(null);function eo(t,e){switch(ae(Qn,e),ae(rr,t),ae(Pt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?zp(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=zp(e),t=r0(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ie(Pt),ae(Pt,t)}function Us(){Ie(Pt),Ie(rr),Ie(Qn)}function tf(t){t.memoizedState!==null&&ae(Jl,t);var e=Pt.current,n=r0(e,t.type);e!==n&&(ae(rr,t),ae(Pt,n))}function to(t){rr.current===t&&(Ie(Pt),Ie(rr)),Jl.current===t&&(Ie(Jl),_r._currentValue=Mi)}var Kc,Mm;function Ci(t){if(Kc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kc=e&&e[1]||"",Mm=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kc+t+Mm}var Qc=!1;function Xc(t,e){if(!t||Qc)return"";Qc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(d){var u=d}Reflect.construct(t,[],f)}else{try{f.call()}catch(d){u=d}t.call(f.prototype)}}else{try{throw Error()}catch(d){u=d}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(d){if(d&&u&&typeof d.stack=="string")return[d.stack,u.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),r=a[0],l=a[1];if(r&&l){var o=r.split(`
`),c=l.split(`
`);for(s=i=0;i<o.length&&!o[i].includes("DetermineComponentFrameRoot");)i++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(i===o.length||s===c.length)for(i=o.length-1,s=c.length-1;1<=i&&0<=s&&o[i]!==c[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==c[s]){if(i!==1||s!==1)do if(i--,s--,0>s||o[i]!==c[s]){var h=`
`+o[i].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=i&&0<=s);break}}}finally{Qc=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ci(n):""}function GS(t,e){switch(t.tag){case 26:case 27:case 5:return Ci(t.type);case 16:return Ci("Lazy");case 13:return t.child!==e&&e!==null?Ci("Suspense Fallback"):Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return Xc(t.type,!1);case 11:return Xc(t.type.render,!1);case 1:return Xc(t.type,!0);case 31:return Ci("Activity");default:return""}}function Im(t){try{var e="",n=null;do e+=GS(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var nf=Object.prototype.hasOwnProperty,wh=Re.unstable_scheduleCallback,Wc=Re.unstable_cancelCallback,YS=Re.unstable_shouldYield,FS=Re.unstable_requestPaint,rt=Re.unstable_now,KS=Re.unstable_getCurrentPriorityLevel,P_=Re.unstable_ImmediatePriority,q_=Re.unstable_UserBlockingPriority,no=Re.unstable_NormalPriority,QS=Re.unstable_LowPriority,V_=Re.unstable_IdlePriority,XS=Re.log,WS=Re.unstable_setDisableYieldValue,Lr=null,lt=null;function qn(t){if(typeof XS=="function"&&WS(t),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(Lr,t)}catch{}}var ot=Math.clz32?Math.clz32:JS,$S=Math.log,ZS=Math.LN2;function JS(t){return t>>>=0,t===0?32:31-($S(t)/ZS|0)|0}var dl=256,ml=262144,pl=4194304;function wi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oc(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var s=0,a=t.suspendedLanes,r=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~a,i!==0?s=wi(i):(r&=l,r!==0?s=wi(r):n||(n=l&~t,n!==0&&(s=wi(n))))):(l=i&~a,l!==0?s=wi(l):r!==0?s=wi(r):n||(n=i&~t,n!==0&&(s=wi(n)))),s===0?0:e!==0&&e!==s&&!(e&a)&&(a=s&-s,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:s}function Ur(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function eT(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G_(){var t=pl;return pl<<=1,!(pl&62914560)&&(pl=4194304),t}function $c(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zr(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function tT(t,e,n,i,s,a){var r=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,o=t.expirationTimes,c=t.hiddenUpdates;for(n=r&~n;0<n;){var h=31-ot(n),f=1<<h;l[h]=0,o[h]=-1;var u=c[h];if(u!==null)for(c[h]=null,h=0;h<u.length;h++){var d=u[h];d!==null&&(d.lane&=-536870913)}n&=~f}i!==0&&Y_(t,i,0),a!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=a&~(r&~e))}function Y_(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-ot(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function F_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ot(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}function K_(t,e){var n=e&-e;return n=n&42?1:Ah(n),n&(t.suspendedLanes|e)?0:n}function Ah(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Rh(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Q_(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:_0(t.type))}function km(t,e){var n=X.p;try{return X.p=t,e()}finally{X.p=n}}var yi=Math.random().toString(36).slice(2),ze="__reactFiber$"+yi,et="__reactProps$"+yi,na="__reactContainer$"+yi,sf="__reactEvents$"+yi,nT="__reactListeners$"+yi,iT="__reactHandles$"+yi,Lm="__reactResources$"+yi,Hr="__reactMarker$"+yi;function Nh(t){delete t[ze],delete t[et],delete t[sf],delete t[nT],delete t[iT]}function us(t){var e=t[ze];if(e)return e;for(var n=t.parentNode;n;){if(e=n[na]||n[ze]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qp(t);t!==null;){if(n=t[ze])return n;t=qp(t)}return e}t=n,n=t.parentNode}return null}function ia(t){if(t=t[ze]||t[na]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Ua(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(T(33))}function Ss(t){var e=t[Lm];return e||(e=t[Lm]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Me(t){t[Hr]=!0}var X_=new Set,W_={};function Qi(t,e){zs(t,e),zs(t+"Capture",e)}function zs(t,e){for(W_[t]=e,t=0;t<e.length;t++)X_.add(e[t])}var sT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Um={},zm={};function aT(t){return nf.call(zm,t)?!0:nf.call(Um,t)?!1:sT.test(t)?zm[t]=!0:(Um[t]=!0,!1)}function Dl(t,e,n){if(aT(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function gl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Xt(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rT(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,a=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(r){n=""+r,a.call(this,r)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function af(t){if(!t._valueTracker){var e=$_(t)?"checked":"value";t._valueTracker=rT(t,e,""+t[e])}}function Z_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=$_(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function io(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var lT=/[\n"\\]/g;function yt(t){return t.replace(lT,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function rf(t,e,n,i,s,a,r,l){t.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.type=r:t.removeAttribute("type"),e!=null?r==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+pt(e)):t.value!==""+pt(e)&&(t.value=""+pt(e)):r!=="submit"&&r!=="reset"||t.removeAttribute("value"),e!=null?lf(t,r,pt(e)):n!=null?lf(t,r,pt(n)):i!=null&&t.removeAttribute("value"),s==null&&a!=null&&(t.defaultChecked=!!a),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+pt(l):t.removeAttribute("name")}function J_(t,e,n,i,s,a,r,l){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){af(t);return}n=n!=null?""+pt(n):"",e=e!=null?""+pt(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.name=r),af(t)}function lf(t,e,n){e==="number"&&io(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Ts(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+pt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ey(t,e,n){if(e!=null&&(e=""+pt(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+pt(n):""}function ty(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(T(92));if(La(i)){if(1<i.length)throw Error(T(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=pt(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),af(t)}function Hs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var oT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hm(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||oT.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function ny(t,e,n){if(e!=null&&typeof e!="object")throw Error(T(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var s in e)i=e[s],e.hasOwnProperty(s)&&n[s]!==i&&Hm(t,s,i)}else for(var a in e)e.hasOwnProperty(a)&&Hm(t,a,e[a])}function xh(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ml(t){return uT.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function an(){}var of=null;function Oh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fs=null,Cs=null;function Bm(t){var e=ia(t);if(e&&(t=e.stateNode)){var n=t[et]||null;e:switch(t=e.stateNode,e.type){case"input":if(rf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=i[et]||null;if(!s)throw Error(T(90));rf(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&Z_(i)}break e;case"textarea":ey(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Ts(t,!!n.multiple,e,!1)}}}var Zc=!1;function iy(t,e,n){if(Zc)return t(e,n);Zc=!0;try{var i=t(e);return i}finally{if(Zc=!1,(fs!==null||Cs!==null)&&(Ec(),fs&&(e=fs,t=Cs,Cs=fs=null,Bm(e),t)))for(e=0;e<t.length;e++)Bm(t[e])}}function lr(t,e){var n=t.stateNode;if(n===null)return null;var i=n[et]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cf=!1;if(pn)try{var ba={};Object.defineProperty(ba,"passive",{get:function(){cf=!0}}),window.addEventListener("test",ba,ba),window.removeEventListener("test",ba,ba)}catch{cf=!1}var Vn=null,Dh=null,Il=null;function sy(){if(Il)return Il;var t,e=Dh,n=e.length,i,s="value"in Vn?Vn.value:Vn.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var r=n-t;for(i=1;i<=r&&e[n-i]===s[a-i];i++);return Il=s.slice(t,1<i?1-i:void 0)}function kl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _l(){return!0}function jm(){return!1}function tt(t){function e(n,i,s,a,r){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=r,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?_l:jm,this.isPropagationStopped=jm,this}return ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_l)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_l)},persist:function(){},isPersistent:_l}),e}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cc=tt(Xi),Br=ce({},Xi,{view:0,detail:0}),fT=tt(Br),Jc,eu,Sa,uc=ce({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sa&&(Sa&&t.type==="mousemove"?(Jc=t.screenX-Sa.screenX,eu=t.screenY-Sa.screenY):eu=Jc=0,Sa=t),Jc)},movementY:function(t){return"movementY"in t?t.movementY:eu}}),Pm=tt(uc),hT=ce({},uc,{dataTransfer:0}),dT=tt(hT),mT=ce({},Br,{relatedTarget:0}),tu=tt(mT),pT=ce({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),gT=tt(pT),_T=ce({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yT=tt(_T),vT=ce({},Xi,{data:0}),qm=tt(vT),ET={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ST={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ST[t])?!!e[t]:!1}function Mh(){return TT}var CT=ce({},Br,{key:function(t){if(t.key){var e=ET[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=kl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mh,charCode:function(t){return t.type==="keypress"?kl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wT=tt(CT),AT=ce({},uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vm=tt(AT),RT=ce({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mh}),NT=tt(RT),xT=ce({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),OT=tt(xT),DT=ce({},uc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),MT=tt(DT),IT=ce({},Xi,{newState:0,oldState:0}),kT=tt(IT),LT=[9,13,27,32],Ih=pn&&"CompositionEvent"in window,ja=null;pn&&"documentMode"in document&&(ja=document.documentMode);var UT=pn&&"TextEvent"in window&&!ja,ay=pn&&(!Ih||ja&&8<ja&&11>=ja),Gm=" ",Ym=!1;function ry(t,e){switch(t){case"keyup":return LT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ly(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hs=!1;function zT(t,e){switch(t){case"compositionend":return ly(e);case"keypress":return e.which!==32?null:(Ym=!0,Gm);case"textInput":return t=e.data,t===Gm&&Ym?null:t;default:return null}}function HT(t,e){if(hs)return t==="compositionend"||!Ih&&ry(t,e)?(t=sy(),Il=Dh=Vn=null,hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ay&&e.locale!=="ko"?null:e.data;default:return null}}var BT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BT[t.type]:e==="textarea"}function oy(t,e,n,i){fs?Cs?Cs.push(i):Cs=[i]:fs=i,e=So(e,"onChange"),0<e.length&&(n=new cc("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Pa=null,or=null;function jT(t){i0(t,0)}function fc(t){var e=Ua(t);if(Z_(e))return t}function Km(t,e){if(t==="change")return e}var cy=!1;if(pn){var nu;if(pn){var iu="oninput"in document;if(!iu){var Qm=document.createElement("div");Qm.setAttribute("oninput","return;"),iu=typeof Qm.oninput=="function"}nu=iu}else nu=!1;cy=nu&&(!document.documentMode||9<document.documentMode)}function Xm(){Pa&&(Pa.detachEvent("onpropertychange",uy),or=Pa=null)}function uy(t){if(t.propertyName==="value"&&fc(or)){var e=[];oy(e,or,t,Oh(t)),iy(jT,e)}}function PT(t,e,n){t==="focusin"?(Xm(),Pa=e,or=n,Pa.attachEvent("onpropertychange",uy)):t==="focusout"&&Xm()}function qT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fc(or)}function VT(t,e){if(t==="click")return fc(e)}function GT(t,e){if(t==="input"||t==="change")return fc(e)}function YT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ut=typeof Object.is=="function"?Object.is:YT;function cr(t,e){if(ut(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!nf.call(e,s)||!ut(t[s],e[s]))return!1}return!0}function Wm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $m(t,e){var n=Wm(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wm(n)}}function fy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=io(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=io(t.document)}return e}function kh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var FT=pn&&"documentMode"in document&&11>=document.documentMode,ds=null,uf=null,qa=null,ff=!1;function Zm(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ff||ds==null||ds!==io(i)||(i=ds,"selectionStart"in i&&kh(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),qa&&cr(qa,i)||(qa=i,i=So(uf,"onSelect"),0<i.length&&(e=new cc("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ds)))}function Ti(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ms={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionrun:Ti("Transition","TransitionRun"),transitionstart:Ti("Transition","TransitionStart"),transitioncancel:Ti("Transition","TransitionCancel"),transitionend:Ti("Transition","TransitionEnd")},su={},dy={};pn&&(dy=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function Wi(t){if(su[t])return su[t];if(!ms[t])return t;var e=ms[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dy)return su[t]=e[n];return t}var my=Wi("animationend"),py=Wi("animationiteration"),gy=Wi("animationstart"),KT=Wi("transitionrun"),QT=Wi("transitionstart"),XT=Wi("transitioncancel"),_y=Wi("transitionend"),yy=new Map,hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hf.push("scrollEnd");function Ut(t,e){yy.set(t,e),Qi(e,[t])}var so=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},mt=[],ps=0,Lh=0;function hc(){for(var t=ps,e=Lh=ps=0;e<t;){var n=mt[e];mt[e++]=null;var i=mt[e];mt[e++]=null;var s=mt[e];mt[e++]=null;var a=mt[e];if(mt[e++]=null,i!==null&&s!==null){var r=i.pending;r===null?s.next=s:(s.next=r.next,r.next=s),i.pending=s}a!==0&&vy(n,s,a)}}function dc(t,e,n,i){mt[ps++]=t,mt[ps++]=e,mt[ps++]=n,mt[ps++]=i,Lh|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Uh(t,e,n,i){return dc(t,e,n,i),ao(t)}function $i(t,e){return dc(t,null,null,e),ao(t)}function vy(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var s=!1,a=t.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(s=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,s&&e!==null&&(s=31-ot(n),t=a.hiddenUpdates,i=t[s],i===null?t[s]=[e]:i.push(e),e.lane=n|536870912),a):null}function ao(t){if(50<$a)throw $a=0,If=null,Error(T(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var gs={};function WT(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(t,e,n,i){return new WT(t,e,n,i)}function zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function un(t,e){var n=t.alternate;return n===null?(n=st(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Ey(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Ll(t,e,n,i,s,a){var r=0;if(i=t,typeof t=="function")zh(t)&&(r=1);else if(typeof t=="string")r=tC(t,n,Pt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Zu:return t=st(31,n,e,s),t.elementType=Zu,t.lanes=a,t;case os:return Ii(n.children,s,a,e);case B_:r=8,s|=24;break;case Xu:return t=st(12,n,e,s|2),t.elementType=Xu,t.lanes=a,t;case Wu:return t=st(13,n,e,s),t.elementType=Wu,t.lanes=a,t;case $u:return t=st(19,n,e,s),t.elementType=$u,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sn:r=10;break e;case j_:r=9;break e;case Th:r=11;break e;case Ch:r=14;break e;case Dn:r=16,i=null;break e}r=29,n=Error(T(130,t===null?"null":typeof t,"")),i=null}return e=st(r,n,e,s),e.elementType=t,e.type=i,e.lanes=a,e}function Ii(t,e,n,i){return t=st(7,t,i,e),t.lanes=n,t}function au(t,e,n){return t=st(6,t,null,e),t.lanes=n,t}function by(t){var e=st(18,null,null,0);return e.stateNode=t,e}function ru(t,e,n){return e=st(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Jm=new WeakMap;function vt(t,e){if(typeof t=="object"&&t!==null){var n=Jm.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Im(e)},Jm.set(t,e),e)}return{value:t,source:e,stack:Im(e)}}var _s=[],ys=0,ro=null,ur=0,gt=[],_t=0,ci=null,Ht=1,Bt="";function tn(t,e){_s[ys++]=ur,_s[ys++]=ro,ro=t,ur=e}function Sy(t,e,n){gt[_t++]=Ht,gt[_t++]=Bt,gt[_t++]=ci,ci=t;var i=Ht;t=Bt;var s=32-ot(i)-1;i&=~(1<<s),n+=1;var a=32-ot(e)+s;if(30<a){var r=s-s%5;a=(i&(1<<r)-1).toString(32),i>>=r,s-=r,Ht=1<<32-ot(e)+s|n<<s|i,Bt=a+t}else Ht=1<<a|n<<s|i,Bt=t}function Hh(t){t.return!==null&&(tn(t,1),Sy(t,1,0))}function Bh(t){for(;t===ro;)ro=_s[--ys],_s[ys]=null,ur=_s[--ys],_s[ys]=null;for(;t===ci;)ci=gt[--_t],gt[_t]=null,Bt=gt[--_t],gt[_t]=null,Ht=gt[--_t],gt[_t]=null}function Ty(t,e){gt[_t++]=Ht,gt[_t++]=Bt,gt[_t++]=ci,Ht=e.id,Bt=e.overflow,ci=t}var He=null,le=null,F=!1,Xn=null,Et=!1,df=Error(T(519));function ui(t){var e=Error(T(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fr(vt(e,t)),df}function ep(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[ze]=t,e[et]=i,n){case"dialog":q("cancel",e),q("close",e);break;case"iframe":case"object":case"embed":q("load",e);break;case"video":case"audio":for(n=0;n<pr.length;n++)q(pr[n],e);break;case"source":q("error",e);break;case"img":case"image":case"link":q("error",e),q("load",e);break;case"details":q("toggle",e);break;case"input":q("invalid",e),J_(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":q("invalid",e);break;case"textarea":q("invalid",e),ty(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||a0(e.textContent,n)?(i.popover!=null&&(q("beforetoggle",e),q("toggle",e)),i.onScroll!=null&&q("scroll",e),i.onScrollEnd!=null&&q("scrollend",e),i.onClick!=null&&(e.onclick=an),e=!0):e=!1,e||ui(t,!0)}function tp(t){for(He=t.return;He;)switch(He.tag){case 5:case 31:case 13:Et=!1;return;case 27:case 3:Et=!0;return;default:He=He.return}}function ns(t){if(t!==He)return!1;if(!F)return tp(t),F=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Hf(t.type,t.memoizedProps)),n=!n),n&&le&&ui(t),tp(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));le=Pp(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));le=Pp(t)}else e===27?(e=le,vi(t.type)?(t=qf,qf=null,le=t):le=e):le=He?Ct(t.stateNode.nextSibling):null;return!0}function zi(){le=He=null,F=!1}function lu(){var t=Xn;return t!==null&&($e===null?$e=t:$e.push.apply($e,t),Xn=null),t}function fr(t){Xn===null?Xn=[t]:Xn.push(t)}var mf=Gt(null),Zi=null,rn=null;function In(t,e,n){ae(mf,e._currentValue),e._currentValue=n}function fn(t){t._currentValue=mf.current,Ie(mf)}function pf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function gf(t,e,n,i){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){var r=s.child;a=a.firstContext;e:for(;a!==null;){var l=a;a=s;for(var o=0;o<e.length;o++)if(l.context===e[o]){a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),pf(a.return,n,t),i||(r=null);break e}a=l.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error(T(341));r.lanes|=n,a=r.alternate,a!==null&&(a.lanes|=n),pf(r,n,t),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===t){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function sa(t,e,n,i){t=null;for(var s=e,a=!1;s!==null;){if(!a){if(s.flags&524288)a=!0;else if(s.flags&262144)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error(T(387));if(r=r.memoizedProps,r!==null){var l=s.type;ut(s.pendingProps.value,r.value)||(t!==null?t.push(l):t=[l])}}else if(s===Jl.current){if(r=s.alternate,r===null)throw Error(T(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(_r):t=[_r])}s=s.return}t!==null&&gf(e,t,n,i),e.flags|=262144}function lo(t){for(t=t.firstContext;t!==null;){if(!ut(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hi(t){Zi=t,rn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Be(t){return Cy(Zi,t)}function yl(t,e){return Zi===null&&Hi(t),Cy(t,e)}function Cy(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},rn===null){if(t===null)throw Error(T(308));rn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else rn=rn.next=e;return n}var $T=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},ZT=Re.unstable_scheduleCallback,JT=Re.unstable_NormalPriority,Se={$$typeof:sn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jh(){return{controller:new $T,data:new Map,refCount:0}}function jr(t){t.refCount--,t.refCount===0&&ZT(JT,function(){t.controller.abort()})}var Va=null,_f=0,Bs=0,ws=null;function e1(t,e){if(Va===null){var n=Va=[];_f=0,Bs=fd(),ws={status:"pending",value:void 0,then:function(i){n.push(i)}}}return _f++,e.then(np,np),e}function np(){if(--_f===0&&Va!==null){ws!==null&&(ws.status="fulfilled");var t=Va;Va=null,Bs=0,ws=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function t1(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var ip=I.S;I.S=function(t,e){Hv=rt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&e1(t,e),ip!==null&&ip(t,e)};var ki=Gt(null);function Ph(){var t=ki.current;return t!==null?t:ne.pooledCache}function Ul(t,e){e===null?ae(ki,ki.current):ae(ki,e.pool)}function wy(){var t=Ph();return t===null?null:{parent:Se._currentValue,pool:t}}var aa=Error(T(460)),qh=Error(T(474)),mc=Error(T(542)),oo={then:function(){}};function sp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ay(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(an,an),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,rp(t),t;default:if(typeof e.status=="string")e.then(an,an);else{if(t=ne,t!==null&&100<t.shellSuspendCounter)throw Error(T(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=i}},function(i){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,rp(t),t}throw Li=e,aa}}function Ai(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Li=n,aa):n}}var Li=null;function ap(){if(Li===null)throw Error(T(459));var t=Li;return Li=null,t}function rp(t){if(t===aa||t===mc)throw Error(T(483))}var As=null,hr=0;function vl(t){var e=hr;return hr+=1,As===null&&(As=[]),Ay(As,t,e)}function Ta(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function El(t,e){throw e.$$typeof===PS?Error(T(525)):(t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Ry(t){function e(p,m){if(t){var g=p.deletions;g===null?(p.deletions=[m],p.flags|=16):g.push(m)}}function n(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function i(p){for(var m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(p,m){return p=un(p,m),p.index=0,p.sibling=null,p}function a(p,m,g){return p.index=g,t?(g=p.alternate,g!==null?(g=g.index,g<m?(p.flags|=67108866,m):g):(p.flags|=67108866,m)):(p.flags|=1048576,m)}function r(p){return t&&p.alternate===null&&(p.flags|=67108866),p}function l(p,m,g,v){return m===null||m.tag!==6?(m=au(g,p.mode,v),m.return=p,m):(m=s(m,g),m.return=p,m)}function o(p,m,g,v){var w=g.type;return w===os?h(p,m,g.props.children,v,g.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Dn&&Ai(w)===m.type)?(m=s(m,g.props),Ta(m,g),m.return=p,m):(m=Ll(g.type,g.key,g.props,null,p.mode,v),Ta(m,g),m.return=p,m)}function c(p,m,g,v){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=ru(g,p.mode,v),m.return=p,m):(m=s(m,g.children||[]),m.return=p,m)}function h(p,m,g,v,w){return m===null||m.tag!==7?(m=Ii(g,p.mode,v,w),m.return=p,m):(m=s(m,g),m.return=p,m)}function f(p,m,g){if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return m=au(""+m,p.mode,g),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case hl:return g=Ll(m.type,m.key,m.props,null,p.mode,g),Ta(g,m),g.return=p,g;case ka:return m=ru(m,p.mode,g),m.return=p,m;case Dn:return m=Ai(m),f(p,m,g)}if(La(m)||Ea(m))return m=Ii(m,p.mode,g,null),m.return=p,m;if(typeof m.then=="function")return f(p,vl(m),g);if(m.$$typeof===sn)return f(p,yl(p,m),g);El(p,m)}return null}function u(p,m,g,v){var w=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return w!==null?null:l(p,m,""+g,v);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case hl:return g.key===w?o(p,m,g,v):null;case ka:return g.key===w?c(p,m,g,v):null;case Dn:return g=Ai(g),u(p,m,g,v)}if(La(g)||Ea(g))return w!==null?null:h(p,m,g,v,null);if(typeof g.then=="function")return u(p,m,vl(g),v);if(g.$$typeof===sn)return u(p,m,yl(p,g),v);El(p,g)}return null}function d(p,m,g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return p=p.get(g)||null,l(m,p,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case hl:return p=p.get(v.key===null?g:v.key)||null,o(m,p,v,w);case ka:return p=p.get(v.key===null?g:v.key)||null,c(m,p,v,w);case Dn:return v=Ai(v),d(p,m,g,v,w)}if(La(v)||Ea(v))return p=p.get(g)||null,h(m,p,v,w,null);if(typeof v.then=="function")return d(p,m,g,vl(v),w);if(v.$$typeof===sn)return d(p,m,g,yl(m,v),w);El(m,v)}return null}function _(p,m,g,v){for(var w=null,O=null,A=m,N=m=0,M=null;A!==null&&N<g.length;N++){A.index>N?(M=A,A=null):M=A.sibling;var L=u(p,A,g[N],v);if(L===null){A===null&&(A=M);break}t&&A&&L.alternate===null&&e(p,A),m=a(L,m,N),O===null?w=L:O.sibling=L,O=L,A=M}if(N===g.length)return n(p,A),F&&tn(p,N),w;if(A===null){for(;N<g.length;N++)A=f(p,g[N],v),A!==null&&(m=a(A,m,N),O===null?w=A:O.sibling=A,O=A);return F&&tn(p,N),w}for(A=i(A);N<g.length;N++)M=d(A,p,N,g[N],v),M!==null&&(t&&M.alternate!==null&&A.delete(M.key===null?N:M.key),m=a(M,m,N),O===null?w=M:O.sibling=M,O=M);return t&&A.forEach(function(dt){return e(p,dt)}),F&&tn(p,N),w}function E(p,m,g,v){if(g==null)throw Error(T(151));for(var w=null,O=null,A=m,N=m=0,M=null,L=g.next();A!==null&&!L.done;N++,L=g.next()){A.index>N?(M=A,A=null):M=A.sibling;var dt=u(p,A,L.value,v);if(dt===null){A===null&&(A=M);break}t&&A&&dt.alternate===null&&e(p,A),m=a(dt,m,N),O===null?w=dt:O.sibling=dt,O=dt,A=M}if(L.done)return n(p,A),F&&tn(p,N),w;if(A===null){for(;!L.done;N++,L=g.next())L=f(p,L.value,v),L!==null&&(m=a(L,m,N),O===null?w=L:O.sibling=L,O=L);return F&&tn(p,N),w}for(A=i(A);!L.done;N++,L=g.next())L=d(A,p,N,L.value,v),L!==null&&(t&&L.alternate!==null&&A.delete(L.key===null?N:L.key),m=a(L,m,N),O===null?w=L:O.sibling=L,O=L);return t&&A.forEach(function(Nn){return e(p,Nn)}),F&&tn(p,N),w}function S(p,m,g,v){if(typeof g=="object"&&g!==null&&g.type===os&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case hl:e:{for(var w=g.key;m!==null;){if(m.key===w){if(w=g.type,w===os){if(m.tag===7){n(p,m.sibling),v=s(m,g.props.children),v.return=p,p=v;break e}}else if(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Dn&&Ai(w)===m.type){n(p,m.sibling),v=s(m,g.props),Ta(v,g),v.return=p,p=v;break e}n(p,m);break}else e(p,m);m=m.sibling}g.type===os?(v=Ii(g.props.children,p.mode,v,g.key),v.return=p,p=v):(v=Ll(g.type,g.key,g.props,null,p.mode,v),Ta(v,g),v.return=p,p=v)}return r(p);case ka:e:{for(w=g.key;m!==null;){if(m.key===w)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(p,m.sibling),v=s(m,g.children||[]),v.return=p,p=v;break e}else{n(p,m);break}else e(p,m);m=m.sibling}v=ru(g,p.mode,v),v.return=p,p=v}return r(p);case Dn:return g=Ai(g),S(p,m,g,v)}if(La(g))return _(p,m,g,v);if(Ea(g)){if(w=Ea(g),typeof w!="function")throw Error(T(150));return g=w.call(g),E(p,m,g,v)}if(typeof g.then=="function")return S(p,m,vl(g),v);if(g.$$typeof===sn)return S(p,m,yl(p,g),v);El(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint"?(g=""+g,m!==null&&m.tag===6?(n(p,m.sibling),v=s(m,g),v.return=p,p=v):(n(p,m),v=au(g,p.mode,v),v.return=p,p=v),r(p)):n(p,m)}return function(p,m,g,v){try{hr=0;var w=S(p,m,g,v);return As=null,w}catch(A){if(A===aa||A===mc)throw A;var O=st(29,A,null,p.mode);return O.lanes=v,O.return=p,O}finally{}}}var Bi=Ry(!0),Ny=Ry(!1),Mn=!1;function Vh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $n(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Q&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,e=ao(t),vy(t,null,n),e}return dc(t,i,e,n),ao(t)}function Ga(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,F_(t,n)}}function ou(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?s=a=r:a=a.next=r,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var vf=!1;function Ya(){if(vf){var t=ws;if(t!==null)throw t}}function Fa(t,e,n,i){vf=!1;var s=t.updateQueue;Mn=!1;var a=s.firstBaseUpdate,r=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var o=l,c=o.next;o.next=null,r===null?a=c:r.next=c,r=o;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==r&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=o))}if(a!==null){var f=s.baseState;r=0,h=c=o=null,l=a;do{var u=l.lane&-536870913,d=u!==l.lane;if(d?(Y&u)===u:(i&u)===u){u!==0&&u===Bs&&(vf=!0),h!==null&&(h=h.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var _=t,E=l;u=e;var S=n;switch(E.tag){case 1:if(_=E.payload,typeof _=="function"){f=_.call(S,f,u);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=E.payload,u=typeof _=="function"?_.call(S,f,u):_,u==null)break e;f=ce({},f,u);break e;case 2:Mn=!0}}u=l.callback,u!==null&&(t.flags|=64,d&&(t.flags|=8192),d=s.callbacks,d===null?s.callbacks=[u]:d.push(u))}else d={lane:u,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=d,o=f):h=h.next=d,r|=u;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;d=l,l=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);h===null&&(o=f),s.baseState=o,s.firstBaseUpdate=c,s.lastBaseUpdate=h,a===null&&(s.shared.lanes=0),hi|=r,t.lanes=r,t.memoizedState=f}}function xy(t,e){if(typeof t!="function")throw Error(T(191,t));t.call(e)}function Oy(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)xy(n[t],e)}var js=Gt(null),co=Gt(0);function lp(t,e){t=vn,ae(co,t),ae(js,e),vn=t|e.baseLanes}function Ef(){ae(co,vn),ae(js,js.current)}function Gh(){vn=co.current,Ie(js),Ie(co)}var ft=Gt(null),Tt=null;function kn(t){var e=t.alternate;ae(_e,_e.current&1),ae(ft,t),Tt===null&&(e===null||js.current!==null||e.memoizedState!==null)&&(Tt=t)}function bf(t){ae(_e,_e.current),ae(ft,t),Tt===null&&(Tt=t)}function Dy(t){t.tag===22?(ae(_e,_e.current),ae(ft,t),Tt===null&&(Tt=t)):Ln()}function Ln(){ae(_e,_e.current),ae(ft,ft.current)}function it(t){Ie(ft),Tt===t&&(Tt=null),Ie(_e)}var _e=Gt(0);function uo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||jf(n)||Pf(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gn=0,z=null,ee=null,Ee=null,fo=!1,Rs=!1,ji=!1,ho=0,dr=0,Ns=null,n1=0;function he(){throw Error(T(321))}function Yh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ut(t[n],e[n]))return!1;return!0}function Fh(t,e,n,i,s,a){return gn=a,z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,I.H=t===null||t.memoizedState===null?ov:id,ji=!1,a=n(i,s),ji=!1,Rs&&(a=Iy(e,n,i,s)),My(t),a}function My(t){I.H=mr;var e=ee!==null&&ee.next!==null;if(gn=0,Ee=ee=z=null,fo=!1,dr=0,Ns=null,e)throw Error(T(300));t===null||Te||(t=t.dependencies,t!==null&&lo(t)&&(Te=!0))}function Iy(t,e,n,i){z=t;var s=0;do{if(Rs&&(Ns=null),dr=0,Rs=!1,25<=s)throw Error(T(301));if(s+=1,Ee=ee=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}I.H=cv,a=e(n,i)}while(Rs);return a}function i1(){var t=I.H,e=t.useState()[0];return e=typeof e.then=="function"?Pr(e):e,t=t.useState()[0],(ee!==null?ee.memoizedState:null)!==t&&(z.flags|=1024),e}function Kh(){var t=ho!==0;return ho=0,t}function Qh(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Xh(t){if(fo){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}fo=!1}gn=0,Ee=ee=z=null,Rs=!1,dr=ho=0,Ns=null}function qe(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?z.memoizedState=Ee=t:Ee=Ee.next=t,Ee}function ve(){if(ee===null){var t=z.alternate;t=t!==null?t.memoizedState:null}else t=ee.next;var e=Ee===null?z.memoizedState:Ee.next;if(e!==null)Ee=e,ee=t;else{if(t===null)throw z.alternate===null?Error(T(467)):Error(T(310));ee=t,t={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ee===null?z.memoizedState=Ee=t:Ee=Ee.next=t}return Ee}function pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pr(t){var e=dr;return dr+=1,Ns===null&&(Ns=[]),t=Ay(Ns,t,e),e=z,(Ee===null?e.memoizedState:Ee.next)===null&&(e=e.alternate,I.H=e===null||e.memoizedState===null?ov:id),t}function gc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Pr(t);if(t.$$typeof===sn)return Be(t)}throw Error(T(438,String(t)))}function Wh(t){var e=null,n=z.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=z.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=pc(),z.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=qS;return e.index++,n}function _n(t,e){return typeof e=="function"?e(t):e}function zl(t){var e=ve();return $h(e,ee,t)}function $h(t,e,n){var i=t.queue;if(i===null)throw Error(T(311));i.lastRenderedReducer=n;var s=t.baseQueue,a=i.pending;if(a!==null){if(s!==null){var r=s.next;s.next=a.next,a.next=r}e.baseQueue=s=a,i.pending=null}if(a=t.baseState,s===null)t.memoizedState=a;else{e=s.next;var l=r=null,o=null,c=e,h=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(Y&f)===f:(gn&f)===f){var u=c.revertLane;if(u===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===Bs&&(h=!0);else if((gn&u)===u){c=c.next,u===Bs&&(h=!0);continue}else f={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(l=o=f,r=a):o=o.next=f,z.lanes|=u,hi|=u;f=c.action,ji&&n(a,f),a=c.hasEagerState?c.eagerState:n(a,f)}else u={lane:f,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(l=o=u,r=a):o=o.next=u,z.lanes|=f,hi|=f;c=c.next}while(c!==null&&c!==e);if(o===null?r=a:o.next=l,!ut(a,t.memoizedState)&&(Te=!0,h&&(n=ws,n!==null)))throw n;t.memoizedState=a,t.baseState=r,t.baseQueue=o,i.lastRenderedState=a}return s===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function cu(t){var e=ve(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var r=s=s.next;do a=t(a,r.action),r=r.next;while(r!==s);ut(a,e.memoizedState)||(Te=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function ky(t,e,n){var i=z,s=ve(),a=F;if(a){if(n===void 0)throw Error(T(407));n=n()}else n=e();var r=!ut((ee||s).memoizedState,n);if(r&&(s.memoizedState=n,Te=!0),s=s.queue,Zh(zy.bind(null,i,s,t),[t]),s.getSnapshot!==e||r||Ee!==null&&Ee.memoizedState.tag&1){if(i.flags|=2048,Ps(9,{destroy:void 0},Uy.bind(null,i,s,n,e),null),ne===null)throw Error(T(349));a||gn&127||Ly(i,e,n)}return n}function Ly(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=z.updateQueue,e===null?(e=pc(),z.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Uy(t,e,n,i){e.value=n,e.getSnapshot=i,Hy(e)&&By(t)}function zy(t,e,n){return n(function(){Hy(e)&&By(t)})}function Hy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ut(t,n)}catch{return!0}}function By(t){var e=$i(t,2);e!==null&&Je(e,t,2)}function Sf(t){var e=qe();if(typeof t=="function"){var n=t;if(t=n(),ji){qn(!0);try{n()}finally{qn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:t},e}function jy(t,e,n,i){return t.baseState=n,$h(t,ee,typeof i=="function"?i:_n)}function s1(t,e,n,i,s){if(yc(t))throw Error(T(485));if(t=e.action,t!==null){var a={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){a.listeners.push(r)}};I.T!==null?n(!0):a.isTransition=!1,i(a),n=e.pending,n===null?(a.next=e.pending=a,Py(e,a)):(a.next=n.next,e.pending=n.next=a)}}function Py(t,e){var n=e.action,i=e.payload,s=t.state;if(e.isTransition){var a=I.T,r={};I.T=r;try{var l=n(s,i),o=I.S;o!==null&&o(r,l),op(t,e,l)}catch(c){Tf(t,e,c)}finally{a!==null&&r.types!==null&&(a.types=r.types),I.T=a}}else try{a=n(s,i),op(t,e,a)}catch(c){Tf(t,e,c)}}function op(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){cp(t,e,i)},function(i){return Tf(t,e,i)}):cp(t,e,n)}function cp(t,e,n){e.status="fulfilled",e.value=n,qy(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Py(t,n)))}function Tf(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,qy(e),e=e.next;while(e!==i)}t.action=null}function qy(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Vy(t,e){return e}function up(t,e){if(F){var n=ne.formState;if(n!==null){e:{var i=z;if(F){if(le){t:{for(var s=le,a=Et;s.nodeType!==8;){if(!a){s=null;break t}if(s=Ct(s.nextSibling),s===null){s=null;break t}}a=s.data,s=a==="F!"||a==="F"?s:null}if(s){le=Ct(s.nextSibling),i=s.data==="F!";break e}}ui(i)}i=!1}i&&(e=n[0])}}return n=qe(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vy,lastRenderedState:e},n.queue=i,n=av.bind(null,z,i),i.dispatch=n,i=Sf(!1),a=nd.bind(null,z,!1,i.queue),i=qe(),s={state:e,dispatch:null,action:t,pending:null},i.queue=s,n=s1.bind(null,z,s,a,n),s.dispatch=n,i.memoizedState=t,[e,n,!1]}function fp(t){var e=ve();return Gy(e,ee,t)}function Gy(t,e,n){if(e=$h(t,e,Vy)[0],t=zl(_n)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Pr(e)}catch(r){throw r===aa?mc:r}else i=e;e=ve();var s=e.queue,a=s.dispatch;return n!==e.memoizedState&&(z.flags|=2048,Ps(9,{destroy:void 0},a1.bind(null,s,n),null)),[i,a,t]}function a1(t,e){t.action=e}function hp(t){var e=ve(),n=ee;if(n!==null)return Gy(e,n,t);ve(),e=e.memoizedState,n=ve();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function Ps(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=z.updateQueue,e===null&&(e=pc(),z.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Yy(){return ve().memoizedState}function Hl(t,e,n,i){var s=qe();z.flags|=t,s.memoizedState=Ps(1|e,{destroy:void 0},n,i===void 0?null:i)}function _c(t,e,n,i){var s=ve();i=i===void 0?null:i;var a=s.memoizedState.inst;ee!==null&&i!==null&&Yh(i,ee.memoizedState.deps)?s.memoizedState=Ps(e,a,n,i):(z.flags|=t,s.memoizedState=Ps(1|e,a,n,i))}function dp(t,e){Hl(8390656,8,t,e)}function Zh(t,e){_c(2048,8,t,e)}function r1(t){z.flags|=4;var e=z.updateQueue;if(e===null)e=pc(),z.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Fy(t){var e=ve().memoizedState;return r1({ref:e,nextImpl:t}),function(){if(Q&2)throw Error(T(440));return e.impl.apply(void 0,arguments)}}function Ky(t,e){return _c(4,2,t,e)}function Qy(t,e){return _c(4,4,t,e)}function Xy(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Wy(t,e,n){n=n!=null?n.concat([t]):null,_c(4,4,Xy.bind(null,e,t),n)}function Jh(){}function $y(t,e){var n=ve();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Yh(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Zy(t,e){var n=ve();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Yh(e,i[1]))return i[0];if(i=t(),ji){qn(!0);try{t()}finally{qn(!1)}}return n.memoizedState=[i,e],i}function ed(t,e,n){return n===void 0||gn&1073741824&&!(Y&261930)?t.memoizedState=e:(t.memoizedState=n,t=jv(),z.lanes|=t,hi|=t,n)}function Jy(t,e,n,i){return ut(n,e)?n:js.current!==null?(t=ed(t,n,i),ut(t,e)||(Te=!0),t):!(gn&42)||gn&1073741824&&!(Y&261930)?(Te=!0,t.memoizedState=n):(t=jv(),z.lanes|=t,hi|=t,e)}function ev(t,e,n,i,s){var a=X.p;X.p=a!==0&&8>a?a:8;var r=I.T,l={};I.T=l,nd(t,!1,e,n);try{var o=s(),c=I.S;if(c!==null&&c(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var h=t1(o,i);Ka(t,e,h,ct(t))}else Ka(t,e,i,ct(t))}catch(f){Ka(t,e,{then:function(){},status:"rejected",reason:f},ct())}finally{X.p=a,r!==null&&l.types!==null&&(r.types=l.types),I.T=r}}function l1(){}function Cf(t,e,n,i){if(t.tag!==5)throw Error(T(476));var s=tv(t).queue;ev(t,s,e,Mi,n===null?l1:function(){return nv(t),n(i)})}function tv(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Mi,baseState:Mi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:Mi},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function nv(t){var e=tv(t);e.next===null&&(e=t.alternate.memoizedState),Ka(t,e.next.queue,{},ct())}function td(){return Be(_r)}function iv(){return ve().memoizedState}function sv(){return ve().memoizedState}function o1(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=ct();t=Wn(n);var i=$n(e,t,n);i!==null&&(Je(i,e,n),Ga(i,e,n)),e={cache:jh()},t.payload=e;return}e=e.return}}function c1(t,e,n){var i=ct();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},yc(t)?rv(e,n):(n=Uh(t,e,n,i),n!==null&&(Je(n,t,i),lv(n,e,i)))}function av(t,e,n){var i=ct();Ka(t,e,n,i)}function Ka(t,e,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(yc(t))rv(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var r=e.lastRenderedState,l=a(r,n);if(s.hasEagerState=!0,s.eagerState=l,ut(l,r))return dc(t,e,s,0),ne===null&&hc(),!1}catch{}finally{}if(n=Uh(t,e,s,i),n!==null)return Je(n,t,i),lv(n,e,i),!0}return!1}function nd(t,e,n,i){if(i={lane:2,revertLane:fd(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},yc(t)){if(e)throw Error(T(479))}else e=Uh(t,n,i,2),e!==null&&Je(e,t,2)}function yc(t){var e=t.alternate;return t===z||e!==null&&e===z}function rv(t,e){Rs=fo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lv(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,F_(t,n)}}var mr={readContext:Be,use:gc,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};mr.useEffectEvent=he;var ov={readContext:Be,use:gc,useCallback:function(t,e){return qe().memoizedState=[t,e===void 0?null:e],t},useContext:Be,useEffect:dp,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Hl(4194308,4,Xy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hl(4194308,4,t,e)},useInsertionEffect:function(t,e){Hl(4,2,t,e)},useMemo:function(t,e){var n=qe();e=e===void 0?null:e;var i=t();if(ji){qn(!0);try{t()}finally{qn(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=qe();if(n!==void 0){var s=n(e);if(ji){qn(!0);try{n(e)}finally{qn(!1)}}}else s=e;return i.memoizedState=i.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},i.queue=t,t=t.dispatch=c1.bind(null,z,t),[i.memoizedState,t]},useRef:function(t){var e=qe();return t={current:t},e.memoizedState=t},useState:function(t){t=Sf(t);var e=t.queue,n=av.bind(null,z,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Jh,useDeferredValue:function(t,e){var n=qe();return ed(n,t,e)},useTransition:function(){var t=Sf(!1);return t=ev.bind(null,z,t.queue,!0,!1),qe().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=z,s=qe();if(F){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),ne===null)throw Error(T(349));Y&127||Ly(i,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,dp(zy.bind(null,i,a,t),[t]),i.flags|=2048,Ps(9,{destroy:void 0},Uy.bind(null,i,a,n,e),null),n},useId:function(){var t=qe(),e=ne.identifierPrefix;if(F){var n=Bt,i=Ht;n=(i&~(1<<32-ot(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=ho++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=n1++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:td,useFormState:up,useActionState:up,useOptimistic:function(t){var e=qe();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=nd.bind(null,z,!0,n),n.dispatch=e,[t,e]},useMemoCache:Wh,useCacheRefresh:function(){return qe().memoizedState=o1.bind(null,z)},useEffectEvent:function(t){var e=qe(),n={impl:t};return e.memoizedState=n,function(){if(Q&2)throw Error(T(440));return n.impl.apply(void 0,arguments)}}},id={readContext:Be,use:gc,useCallback:$y,useContext:Be,useEffect:Zh,useImperativeHandle:Wy,useInsertionEffect:Ky,useLayoutEffect:Qy,useMemo:Zy,useReducer:zl,useRef:Yy,useState:function(){return zl(_n)},useDebugValue:Jh,useDeferredValue:function(t,e){var n=ve();return Jy(n,ee.memoizedState,t,e)},useTransition:function(){var t=zl(_n)[0],e=ve().memoizedState;return[typeof t=="boolean"?t:Pr(t),e]},useSyncExternalStore:ky,useId:iv,useHostTransitionStatus:td,useFormState:fp,useActionState:fp,useOptimistic:function(t,e){var n=ve();return jy(n,ee,t,e)},useMemoCache:Wh,useCacheRefresh:sv};id.useEffectEvent=Fy;var cv={readContext:Be,use:gc,useCallback:$y,useContext:Be,useEffect:Zh,useImperativeHandle:Wy,useInsertionEffect:Ky,useLayoutEffect:Qy,useMemo:Zy,useReducer:cu,useRef:Yy,useState:function(){return cu(_n)},useDebugValue:Jh,useDeferredValue:function(t,e){var n=ve();return ee===null?ed(n,t,e):Jy(n,ee.memoizedState,t,e)},useTransition:function(){var t=cu(_n)[0],e=ve().memoizedState;return[typeof t=="boolean"?t:Pr(t),e]},useSyncExternalStore:ky,useId:iv,useHostTransitionStatus:td,useFormState:hp,useActionState:hp,useOptimistic:function(t,e){var n=ve();return ee!==null?jy(n,ee,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Wh,useCacheRefresh:sv};cv.useEffectEvent=Fy;function uu(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wf={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=ct(),s=Wn(i);s.payload=e,n!=null&&(s.callback=n),e=$n(t,s,i),e!==null&&(Je(e,t,i),Ga(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=ct(),s=Wn(i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=$n(t,s,i),e!==null&&(Je(e,t,i),Ga(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ct(),i=Wn(n);i.tag=2,e!=null&&(i.callback=e),e=$n(t,i,n),e!==null&&(Je(e,t,n),Ga(e,t,n))}};function mp(t,e,n,i,s,a,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,r):e.prototype&&e.prototype.isPureReactComponent?!cr(n,i)||!cr(s,a):!0}function pp(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&wf.enqueueReplaceState(e,e.state,null)}function Pi(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=ce({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}function uv(t){so(t)}function fv(t){console.error(t)}function hv(t){so(t)}function mo(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function gp(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Af(t,e,n){return n=Wn(n),n.tag=3,n.payload={element:null},n.callback=function(){mo(t,e)},n}function dv(t){return t=Wn(t),t.tag=3,t}function mv(t,e,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var a=i.value;t.payload=function(){return s(a)},t.callback=function(){gp(e,n,i)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){gp(e,n,i),typeof s!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function u1(t,e,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&sa(e,n,s,!0),n=ft.current,n!==null){switch(n.tag){case 31:case 13:return Tt===null?vo():n.alternate===null&&de===0&&(de=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===oo?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),bu(t,i,s)),!1;case 22:return n.flags|=65536,i===oo?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),bu(t,i,s)),!1}throw Error(T(435,n.tag))}return bu(t,i,s),vo(),!1}if(F)return e=ft.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,i!==df&&(t=Error(T(422),{cause:i}),fr(vt(t,n)))):(i!==df&&(e=Error(T(423),{cause:i}),fr(vt(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,i=vt(i,n),s=Af(t.stateNode,i,s),ou(t,s),de!==4&&(de=2)),!1;var a=Error(T(520),{cause:i});if(a=vt(a,n),Wa===null?Wa=[a]:Wa.push(a),de!==4&&(de=2),e===null)return!0;i=vt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=Af(n.stateNode,i,t),ou(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Zn===null||!Zn.has(a))))return n.flags|=65536,s&=-s,n.lanes|=s,s=dv(s),mv(s,t,n,i),ou(n,s),!1}n=n.return}while(n!==null);return!1}var sd=Error(T(461)),Te=!1;function Le(t,e,n,i){e.child=t===null?Ny(e,null,n,i):Bi(e,t.child,n,i)}function _p(t,e,n,i,s){n=n.render;var a=e.ref;if("ref"in i){var r={};for(var l in i)l!=="ref"&&(r[l]=i[l])}else r=i;return Hi(e),i=Fh(t,e,n,r,a,s),l=Kh(),t!==null&&!Te?(Qh(t,e,s),yn(t,e,s)):(F&&l&&Hh(e),e.flags|=1,Le(t,e,i,s),e.child)}function yp(t,e,n,i,s){if(t===null){var a=n.type;return typeof a=="function"&&!zh(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,pv(t,e,a,i,s)):(t=Ll(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!ad(t,s)){var r=a.memoizedProps;if(n=n.compare,n=n!==null?n:cr,n(r,i)&&t.ref===e.ref)return yn(t,e,s)}return e.flags|=1,t=un(a,i),t.ref=e.ref,t.return=e,e.child=t}function pv(t,e,n,i,s){if(t!==null){var a=t.memoizedProps;if(cr(a,i)&&t.ref===e.ref)if(Te=!1,e.pendingProps=i=a,ad(t,s))t.flags&131072&&(Te=!0);else return e.lanes=t.lanes,yn(t,e,s)}return Rf(t,e,n,i,s)}function gv(t,e,n,i){var s=i.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~a}else i=0,e.child=null;return vp(t,e,a,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ul(e,a!==null?a.cachePool:null),a!==null?lp(e,a):Ef(),Dy(e);else return i=e.lanes=536870912,vp(t,e,a!==null?a.baseLanes|n:n,n,i)}else a!==null?(Ul(e,a.cachePool),lp(e,a),Ln(),e.memoizedState=null):(t!==null&&Ul(e,null),Ef(),Ln());return Le(t,e,s,n),e.child}function za(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function vp(t,e,n,i,s){var a=Ph();return a=a===null?null:{parent:Se._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&Ul(e,null),Ef(),Dy(e),t!==null&&sa(t,e,i,!0),e.childLanes=s,null}function Bl(t,e){return e=po({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Ep(t,e,n){return Bi(e,t.child,null,n),t=Bl(e,e.pendingProps),t.flags|=2,it(e),e.memoizedState=null,t}function f1(t,e,n){var i=e.pendingProps,s=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(F){if(i.mode==="hidden")return t=Bl(e,i),e.lanes=536870912,za(null,t);if(bf(e),(t=le)?(t=o0(t,Et),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ci!==null?{id:Ht,overflow:Bt}:null,retryLane:536870912,hydrationErrors:null},n=by(t),n.return=e,e.child=n,He=e,le=null)):t=null,t===null)throw ui(e);return e.lanes=536870912,null}return Bl(e,i)}var a=t.memoizedState;if(a!==null){var r=a.dehydrated;if(bf(e),s)if(e.flags&256)e.flags&=-257,e=Ep(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(T(558));else if(Te||sa(t,e,n,!1),s=(n&t.childLanes)!==0,Te||s){if(i=ne,i!==null&&(r=K_(i,n),r!==0&&r!==a.retryLane))throw a.retryLane=r,$i(t,r),Je(i,t,r),sd;vo(),e=Ep(t,e,n)}else t=a.treeContext,le=Ct(r.nextSibling),He=e,F=!0,Xn=null,Et=!1,t!==null&&Ty(e,t),e=Bl(e,i),e.flags|=4096;return e}return t=un(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function jl(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(T(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Rf(t,e,n,i,s){return Hi(e),n=Fh(t,e,n,i,void 0,s),i=Kh(),t!==null&&!Te?(Qh(t,e,s),yn(t,e,s)):(F&&i&&Hh(e),e.flags|=1,Le(t,e,n,s),e.child)}function bp(t,e,n,i,s,a){return Hi(e),e.updateQueue=null,n=Iy(e,i,n,s),My(t),i=Kh(),t!==null&&!Te?(Qh(t,e,a),yn(t,e,a)):(F&&i&&Hh(e),e.flags|=1,Le(t,e,n,a),e.child)}function Sp(t,e,n,i,s){if(Hi(e),e.stateNode===null){var a=gs,r=n.contextType;typeof r=="object"&&r!==null&&(a=Be(r)),a=new n(i,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=wf,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=i,a.state=e.memoizedState,a.refs={},Vh(e),r=n.contextType,a.context=typeof r=="object"&&r!==null?Be(r):gs,a.state=e.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(uu(e,n,r,i),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&wf.enqueueReplaceState(a,a.state,null),Fa(e,i,a,s),Ya(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){a=e.stateNode;var l=e.memoizedProps,o=Pi(n,l);a.props=o;var c=a.context,h=n.contextType;r=gs,typeof h=="object"&&h!==null&&(r=Be(h));var f=n.getDerivedStateFromProps;h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l||c!==r)&&pp(e,a,i,r),Mn=!1;var u=e.memoizedState;a.state=u,Fa(e,i,a,s),Ya(),c=e.memoizedState,l||u!==c||Mn?(typeof f=="function"&&(uu(e,n,f,i),c=e.memoizedState),(o=Mn||mp(e,n,o,i,u,c,r))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),a.props=i,a.state=c,a.context=r,i=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,yf(t,e),r=e.memoizedProps,h=Pi(n,r),a.props=h,f=e.pendingProps,u=a.context,c=n.contextType,o=gs,typeof c=="object"&&c!==null&&(o=Be(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(r!==f||u!==o)&&pp(e,a,i,o),Mn=!1,u=e.memoizedState,a.state=u,Fa(e,i,a,s),Ya();var d=e.memoizedState;r!==f||u!==d||Mn||t!==null&&t.dependencies!==null&&lo(t.dependencies)?(typeof l=="function"&&(uu(e,n,l,i),d=e.memoizedState),(h=Mn||mp(e,n,h,i,u,d,o)||t!==null&&t.dependencies!==null&&lo(t.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,d,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,d,o)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||r===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=d),a.props=i,a.state=d,a.context=o,i=h):(typeof a.componentDidUpdate!="function"||r===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),i=!1)}return a=i,jl(t,e),i=(e.flags&128)!==0,a||i?(a=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&i?(e.child=Bi(e,t.child,null,s),e.child=Bi(e,null,n,s)):Le(t,e,n,s),e.memoizedState=a.state,t=e.child):t=yn(t,e,s),t}function Tp(t,e,n,i){return zi(),e.flags|=256,Le(t,e,n,i),e.child}var fu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hu(t){return{baseLanes:t,cachePool:wy()}}function du(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=at),t}function _v(t,e,n){var i=e.pendingProps,s=!1,a=(e.flags&128)!==0,r;if((r=a)||(r=t!==null&&t.memoizedState===null?!1:(_e.current&2)!==0),r&&(s=!0,e.flags&=-129),r=(e.flags&32)!==0,e.flags&=-33,t===null){if(F){if(s?kn(e):Ln(),(t=le)?(t=o0(t,Et),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ci!==null?{id:Ht,overflow:Bt}:null,retryLane:536870912,hydrationErrors:null},n=by(t),n.return=e,e.child=n,He=e,le=null)):t=null,t===null)throw ui(e);return Pf(t)?e.lanes=32:e.lanes=536870912,null}var l=i.children;return i=i.fallback,s?(Ln(),s=e.mode,l=po({mode:"hidden",children:l},s),i=Ii(i,s,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,i=e.child,i.memoizedState=hu(n),i.childLanes=du(t,r,n),e.memoizedState=fu,za(null,i)):(kn(e),Nf(e,l))}var o=t.memoizedState;if(o!==null&&(l=o.dehydrated,l!==null)){if(a)e.flags&256?(kn(e),e.flags&=-257,e=mu(t,e,n)):e.memoizedState!==null?(Ln(),e.child=t.child,e.flags|=128,e=null):(Ln(),l=i.fallback,s=e.mode,i=po({mode:"visible",children:i.children},s),l=Ii(l,s,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,Bi(e,t.child,null,n),i=e.child,i.memoizedState=hu(n),i.childLanes=du(t,r,n),e.memoizedState=fu,e=za(null,i));else if(kn(e),Pf(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var c=r.dgst;r=c,i=Error(T(419)),i.stack="",i.digest=r,fr({value:i,source:null,stack:null}),e=mu(t,e,n)}else if(Te||sa(t,e,n,!1),r=(n&t.childLanes)!==0,Te||r){if(r=ne,r!==null&&(i=K_(r,n),i!==0&&i!==o.retryLane))throw o.retryLane=i,$i(t,i),Je(r,t,i),sd;jf(l)||vo(),e=mu(t,e,n)}else jf(l)?(e.flags|=192,e.child=t.child,e=null):(t=o.treeContext,le=Ct(l.nextSibling),He=e,F=!0,Xn=null,Et=!1,t!==null&&Ty(e,t),e=Nf(e,i.children),e.flags|=4096);return e}return s?(Ln(),l=i.fallback,s=e.mode,o=t.child,c=o.sibling,i=un(o,{mode:"hidden",children:i.children}),i.subtreeFlags=o.subtreeFlags&65011712,c!==null?l=un(c,l):(l=Ii(l,s,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,za(null,i),i=e.child,l=t.child.memoizedState,l===null?l=hu(n):(s=l.cachePool,s!==null?(o=Se._currentValue,s=s.parent!==o?{parent:o,pool:o}:s):s=wy(),l={baseLanes:l.baseLanes|n,cachePool:s}),i.memoizedState=l,i.childLanes=du(t,r,n),e.memoizedState=fu,za(t.child,i)):(kn(e),n=t.child,t=n.sibling,n=un(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n)}function Nf(t,e){return e=po({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function po(t,e){return t=st(22,t,null,e),t.lanes=0,t}function mu(t,e,n){return Bi(e,t.child,null,n),t=Nf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Cp(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),pf(t.return,e,n)}function pu(t,e,n,i,s,a){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:a}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s,r.treeForkCount=a)}function yv(t,e,n){var i=e.pendingProps,s=i.revealOrder,a=i.tail;i=i.children;var r=_e.current,l=(r&2)!==0;if(l?(r=r&1|2,e.flags|=128):r&=1,ae(_e,r),Le(t,e,i,n),i=F?ur:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cp(t,n,e);else if(t.tag===19)Cp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&uo(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),pu(e,!1,s,n,a,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&uo(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}pu(e,!0,n,null,a,i);break;case"together":pu(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function yn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hi|=e.lanes,!(n&e.childLanes))if(t!==null){if(sa(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=un(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=un(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ad(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&lo(t)))}function h1(t,e,n){switch(e.tag){case 3:eo(e,e.stateNode.containerInfo),In(e,Se,t.memoizedState.cache),zi();break;case 27:case 5:tf(e);break;case 4:eo(e,e.stateNode.containerInfo);break;case 10:In(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,bf(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(kn(e),e.flags|=128,null):n&e.child.childLanes?_v(t,e,n):(kn(e),t=yn(t,e,n),t!==null?t.sibling:null);kn(e);break;case 19:var s=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(sa(t,e,n,!1),i=(n&e.childLanes)!==0),s){if(i)return yv(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ae(_e,_e.current),i)break;return null;case 22:return e.lanes=0,gv(t,e,n,e.pendingProps);case 24:In(e,Se,t.memoizedState.cache)}return yn(t,e,n)}function vv(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Te=!0;else{if(!ad(t,n)&&!(e.flags&128))return Te=!1,h1(t,e,n);Te=!!(t.flags&131072)}else Te=!1,F&&e.flags&1048576&&Sy(e,ur,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=Ai(e.elementType),e.type=t,typeof t=="function")zh(t)?(i=Pi(t,i),e.tag=1,e=Sp(null,e,t,i,n)):(e.tag=0,e=Rf(null,e,t,i,n));else{if(t!=null){var s=t.$$typeof;if(s===Th){e.tag=11,e=_p(null,e,t,i,n);break e}else if(s===Ch){e.tag=14,e=yp(null,e,t,i,n);break e}}throw e=Ju(t)||t,Error(T(306,e,""))}}return e;case 0:return Rf(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,s=Pi(i,e.pendingProps),Sp(t,e,i,s,n);case 3:e:{if(eo(e,e.stateNode.containerInfo),t===null)throw Error(T(387));i=e.pendingProps;var a=e.memoizedState;s=a.element,yf(t,e),Fa(e,i,null,n);var r=e.memoizedState;if(i=r.cache,In(e,Se,i),i!==a.cache&&gf(e,[Se],n,!0),Ya(),i=r.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:r.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=Tp(t,e,i,n);break e}else if(i!==s){s=vt(Error(T(424)),e),fr(s),e=Tp(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=Ct(t.firstChild),He=e,F=!0,Xn=null,Et=!0,n=Ny(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(zi(),i===s){e=yn(t,e,n);break e}Le(t,e,i,n)}e=e.child}return e;case 26:return jl(t,e),t===null?(n=Gp(e.type,null,e.pendingProps,null))?e.memoizedState=n:F||(n=e.type,t=e.pendingProps,i=To(Qn.current).createElement(n),i[ze]=e,i[et]=t,je(i,n,t),Me(i),e.stateNode=i):e.memoizedState=Gp(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return tf(e),t===null&&F&&(i=e.stateNode=c0(e.type,e.pendingProps,Qn.current),He=e,Et=!0,s=le,vi(e.type)?(qf=s,le=Ct(i.firstChild)):le=s),Le(t,e,e.pendingProps.children,n),jl(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&F&&((s=i=le)&&(i=q1(i,e.type,e.pendingProps,Et),i!==null?(e.stateNode=i,He=e,le=Ct(i.firstChild),Et=!1,s=!0):s=!1),s||ui(e)),tf(e),s=e.type,a=e.pendingProps,r=t!==null?t.memoizedProps:null,i=a.children,Hf(s,a)?i=null:r!==null&&Hf(s,r)&&(e.flags|=32),e.memoizedState!==null&&(s=Fh(t,e,i1,null,null,n),_r._currentValue=s),jl(t,e),Le(t,e,i,n),e.child;case 6:return t===null&&F&&((t=n=le)&&(n=V1(n,e.pendingProps,Et),n!==null?(e.stateNode=n,He=e,le=null,t=!0):t=!1),t||ui(e)),null;case 13:return _v(t,e,n);case 4:return eo(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Bi(e,null,i,n):Le(t,e,i,n),e.child;case 11:return _p(t,e,e.type,e.pendingProps,n);case 7:return Le(t,e,e.pendingProps,n),e.child;case 8:return Le(t,e,e.pendingProps.children,n),e.child;case 12:return Le(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,In(e,e.type,i.value),Le(t,e,i.children,n),e.child;case 9:return s=e.type._context,i=e.pendingProps.children,Hi(e),s=Be(s),i=i(s),e.flags|=1,Le(t,e,i,n),e.child;case 14:return yp(t,e,e.type,e.pendingProps,n);case 15:return pv(t,e,e.type,e.pendingProps,n);case 19:return yv(t,e,n);case 31:return f1(t,e,n);case 22:return gv(t,e,n,e.pendingProps);case 24:return Hi(e),i=Be(Se),t===null?(s=Ph(),s===null&&(s=ne,a=jh(),s.pooledCache=a,a.refCount++,a!==null&&(s.pooledCacheLanes|=n),s=a),e.memoizedState={parent:i,cache:s},Vh(e),In(e,Se,s)):(t.lanes&n&&(yf(t,e),Fa(e,null,null,n),Ya()),s=t.memoizedState,a=e.memoizedState,s.parent!==i?(s={parent:i,cache:i},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),In(e,Se,i)):(i=a.cache,In(e,Se,i),i!==s.cache&&gf(e,[Se],n,!0))),Le(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(T(156,e.tag))}function Wt(t){t.flags|=4}function gu(t,e,n,i,s){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(s&335544128)===s)if(t.stateNode.complete)t.flags|=8192;else if(Vv())t.flags|=8192;else throw Li=oo,qh}else t.flags&=-16777217}function wp(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!h0(e))if(Vv())t.flags|=8192;else throw Li=oo,qh}function bl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?G_():536870912,t.lanes|=e,qs|=e)}function Ca(t,e){if(!F)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function re(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function d1(t,e,n){var i=e.pendingProps;switch(Bh(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(e),null;case 1:return re(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),fn(Se),Us(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ns(e)?Wt(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lu())),re(e),null;case 26:var s=e.type,a=e.memoizedState;return t===null?(Wt(e),a!==null?(re(e),wp(e,a)):(re(e),gu(e,s,null,i,n))):a?a!==t.memoizedState?(Wt(e),re(e),wp(e,a)):(re(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&Wt(e),re(e),gu(e,s,t,i,n)),null;case 27:if(to(e),n=Qn.current,s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Wt(e);else{if(!i){if(e.stateNode===null)throw Error(T(166));return re(e),null}t=Pt.current,ns(e)?ep(e):(t=c0(s,i,n),e.stateNode=t,Wt(e))}return re(e),null;case 5:if(to(e),s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Wt(e);else{if(!i){if(e.stateNode===null)throw Error(T(166));return re(e),null}if(a=Pt.current,ns(e))ep(e);else{var r=To(Qn.current);switch(a){case 1:a=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:a=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":a=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":a=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":a=r.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?a.multiple=!0:i.size&&(a.size=i.size);break;default:a=typeof i.is=="string"?r.createElement(s,{is:i.is}):r.createElement(s)}}a[ze]=e,a[et]=i;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)a.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=a;e:switch(je(a,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Wt(e)}}return re(e),gu(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Wt(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(T(166));if(t=Qn.current,ns(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,s=He,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}t[ze]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||a0(t.nodeValue,n)),t||ui(e,!0)}else t=To(t).createTextNode(i),t[ze]=e,e.stateNode=t}return re(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=ns(e),n!==null){if(t===null){if(!i)throw Error(T(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(557));t[ze]=e}else zi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;re(e),t=!1}else n=lu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(it(e),e):(it(e),null);if(e.flags&128)throw Error(T(558))}return re(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=ns(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(T(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(T(317));s[ze]=e}else zi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;re(e),s=!1}else s=lu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(it(e),e):(it(e),null)}return it(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==s&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),bl(e,e.updateQueue),re(e),null);case 4:return Us(),t===null&&hd(e.stateNode.containerInfo),re(e),null;case 10:return fn(e.type),re(e),null;case 19:if(Ie(_e),i=e.memoizedState,i===null)return re(e),null;if(s=(e.flags&128)!==0,a=i.rendering,a===null)if(s)Ca(i,!1);else{if(de!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=uo(t),a!==null){for(e.flags|=128,Ca(i,!1),t=a.updateQueue,e.updateQueue=t,bl(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Ey(n,t),n=n.sibling;return ae(_e,_e.current&1|2),F&&tn(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&rt()>_o&&(e.flags|=128,s=!0,Ca(i,!1),e.lanes=4194304)}else{if(!s)if(t=uo(a),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,bl(e,t),Ca(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!F)return re(e),null}else 2*rt()-i.renderingStartTime>_o&&n!==536870912&&(e.flags|=128,s=!0,Ca(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=rt(),t.sibling=null,n=_e.current,ae(_e,s?n&1|2:n&1),F&&tn(e,i.treeForkCount),t):(re(e),null);case 22:case 23:return it(e),Gh(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(re(e),e.subtreeFlags&6&&(e.flags|=8192)):re(e),n=e.updateQueue,n!==null&&bl(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&Ie(ki),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),fn(Se),re(e),null;case 25:return null;case 30:return null}throw Error(T(156,e.tag))}function m1(t,e){switch(Bh(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fn(Se),Us(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return to(e),null;case 31:if(e.memoizedState!==null){if(it(e),e.alternate===null)throw Error(T(340));zi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(it(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));zi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(_e),null;case 4:return Us(),null;case 10:return fn(e.type),null;case 22:case 23:return it(e),Gh(),t!==null&&Ie(ki),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return fn(Se),null;case 25:return null;default:return null}}function Ev(t,e){switch(Bh(e),e.tag){case 3:fn(Se),Us();break;case 26:case 27:case 5:to(e);break;case 4:Us();break;case 31:e.memoizedState!==null&&it(e);break;case 13:it(e);break;case 19:Ie(_e);break;case 10:fn(e.type);break;case 22:case 23:it(e),Gh(),t!==null&&Ie(ki);break;case 24:fn(Se)}}function qr(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&t)===t){i=void 0;var a=n.create,r=n.inst;i=a(),r.destroy=i}n=n.next}while(n!==s)}}catch(l){$(e,e.return,l)}}function fi(t,e,n){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var a=s.next;i=a;do{if((i.tag&t)===t){var r=i.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,s=e;var o=n,c=l;try{c()}catch(h){$(s,o,h)}}}i=i.next}while(i!==a)}}catch(h){$(e,e.return,h)}}function bv(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Oy(e,n)}catch(i){$(t,t.return,i)}}}function Sv(t,e,n){n.props=Pi(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){$(t,e,i)}}function Qa(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(s){$(t,e,s)}}function jt(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){$(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){$(t,e,s)}else n.current=null}function Tv(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){$(t,t.return,s)}}function _u(t,e,n){try{var i=t.stateNode;U1(i,t.type,n,e),i[et]=e}catch(s){$(t,t.return,s)}}function Cv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&vi(t.type)||t.tag===4}function yu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&vi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=an));else if(i!==4&&(i===27&&vi(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(xf(t,e,n),t=t.sibling;t!==null;)xf(t,e,n),t=t.sibling}function go(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&vi(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(go(t,e,n),t=t.sibling;t!==null;)go(t,e,n),t=t.sibling}function wv(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);je(e,i,n),e[ze]=t,e[et]=n}catch(a){$(t,t.return,a)}}var nn=!1,be=!1,vu=!1,Ap=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function p1(t,e){if(t=t.containerInfo,Uf=Ro,t=hy(t),kh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var r=0,l=-1,o=-1,c=0,h=0,f=t,u=null;t:for(;;){for(var d;f!==n||s!==0&&f.nodeType!==3||(l=r+s),f!==a||i!==0&&f.nodeType!==3||(o=r+i),f.nodeType===3&&(r+=f.nodeValue.length),(d=f.firstChild)!==null;)u=f,f=d;for(;;){if(f===t)break t;if(u===n&&++c===s&&(l=r),u===a&&++h===i&&(o=r),(d=f.nextSibling)!==null)break;f=u,u=f.parentNode}f=d}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(zf={focusedElem:t,selectionRange:n},Ro=!1,Oe=e;Oe!==null;)if(e=Oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Oe=t;else for(;Oe!==null;){switch(e=Oe,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)s=t[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,s=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var _=Pi(n.type,s);t=i.getSnapshotBeforeUpdate(_,a),i.__reactInternalSnapshotBeforeUpdate=t}catch(E){$(n,n.return,E)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Bf(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Bf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(T(163))}if(t=e.sibling,t!==null){t.return=e.return,Oe=t;break}Oe=e.return}}function Av(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Zt(t,n),i&4&&qr(5,n);break;case 1:if(Zt(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(r){$(n,n.return,r)}else{var s=Pi(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(r){$(n,n.return,r)}}i&64&&bv(n),i&512&&Qa(n,n.return);break;case 3:if(Zt(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Oy(t,e)}catch(r){$(n,n.return,r)}}break;case 27:e===null&&i&4&&wv(n);case 26:case 5:Zt(t,n),e===null&&i&4&&Tv(n),i&512&&Qa(n,n.return);break;case 12:Zt(t,n);break;case 31:Zt(t,n),i&4&&xv(t,n);break;case 13:Zt(t,n),i&4&&Ov(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=C1.bind(null,n),G1(t,n))));break;case 22:if(i=n.memoizedState!==null||nn,!i){e=e!==null&&e.memoizedState!==null||be,s=nn;var a=be;nn=i,(be=e)&&!a?Jt(t,n,(n.subtreeFlags&8772)!==0):Zt(t,n),nn=s,be=a}break;case 30:break;default:Zt(t,n)}}function Rv(t){var e=t.alternate;e!==null&&(t.alternate=null,Rv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Nh(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ue=null,We=!1;function $t(t,e,n){for(n=n.child;n!==null;)Nv(t,e,n),n=n.sibling}function Nv(t,e,n){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Lr,n)}catch{}switch(n.tag){case 26:be||jt(n,e),$t(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:be||jt(n,e);var i=ue,s=We;vi(n.type)&&(ue=n.stateNode,We=!1),$t(t,e,n),Za(n.stateNode),ue=i,We=s;break;case 5:be||jt(n,e);case 6:if(i=ue,s=We,ue=null,$t(t,e,n),ue=i,We=s,ue!==null)if(We)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(n.stateNode)}catch(a){$(n,e,a)}else try{ue.removeChild(n.stateNode)}catch(a){$(n,e,a)}break;case 18:ue!==null&&(We?(t=ue,Bp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Fs(t)):Bp(ue,n.stateNode));break;case 4:i=ue,s=We,ue=n.stateNode.containerInfo,We=!0,$t(t,e,n),ue=i,We=s;break;case 0:case 11:case 14:case 15:fi(2,n,e),be||fi(4,n,e),$t(t,e,n);break;case 1:be||(jt(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Sv(n,e,i)),$t(t,e,n);break;case 21:$t(t,e,n);break;case 22:be=(i=be)||n.memoizedState!==null,$t(t,e,n),be=i;break;default:$t(t,e,n)}}function xv(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Fs(t)}catch(n){$(e,e.return,n)}}}function Ov(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fs(t)}catch(n){$(e,e.return,n)}}function g1(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Ap),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Ap),e;default:throw Error(T(435,t.tag))}}function Sl(t,e){var n=g1(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var s=w1.bind(null,t,i);i.then(s,s)}})}function Qe(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],a=t,r=e,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(vi(l.type)){ue=l.stateNode,We=!1;break e}break;case 5:ue=l.stateNode,We=!1;break e;case 3:case 4:ue=l.stateNode.containerInfo,We=!0;break e}l=l.return}if(ue===null)throw Error(T(160));Nv(a,r,s),ue=null,We=!1,a=s.alternate,a!==null&&(a.return=null),s.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Dv(e,t),e=e.sibling}var xt=null;function Dv(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Qe(e,t),Xe(t),i&4&&(fi(3,t,t.return),qr(3,t),fi(5,t,t.return));break;case 1:Qe(e,t),Xe(t),i&512&&(be||n===null||jt(n,n.return)),i&64&&nn&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=xt;if(Qe(e,t),Xe(t),i&512&&(be||n===null||jt(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":a=s.getElementsByTagName("title")[0],(!a||a[Hr]||a[ze]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=s.createElement(i),s.head.insertBefore(a,s.querySelector("head > title"))),je(a,i,n),a[ze]=t,Me(a),i=a;break e;case"link":var r=Fp("link","href",s).get(i+(n.href||""));if(r){for(var l=0;l<r.length;l++)if(a=r[l],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(l,1);break t}}a=s.createElement(i),je(a,i,n),s.head.appendChild(a);break;case"meta":if(r=Fp("meta","content",s).get(i+(n.content||""))){for(l=0;l<r.length;l++)if(a=r[l],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(l,1);break t}}a=s.createElement(i),je(a,i,n),s.head.appendChild(a);break;default:throw Error(T(468,i))}a[ze]=t,Me(a),i=a}t.stateNode=i}else Kp(s,t.type,t.stateNode);else t.stateNode=Yp(s,i,t.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?Kp(s,t.type,t.stateNode):Yp(s,i,t.memoizedProps)):i===null&&t.stateNode!==null&&_u(t,t.memoizedProps,n.memoizedProps)}break;case 27:Qe(e,t),Xe(t),i&512&&(be||n===null||jt(n,n.return)),n!==null&&i&4&&_u(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Qe(e,t),Xe(t),i&512&&(be||n===null||jt(n,n.return)),t.flags&32){s=t.stateNode;try{Hs(s,"")}catch(_){$(t,t.return,_)}}i&4&&t.stateNode!=null&&(s=t.memoizedProps,_u(t,s,n!==null?n.memoizedProps:s)),i&1024&&(vu=!0);break;case 6:if(Qe(e,t),Xe(t),i&4){if(t.stateNode===null)throw Error(T(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(_){$(t,t.return,_)}}break;case 3:if(Vl=null,s=xt,xt=Co(e.containerInfo),Qe(e,t),xt=s,Xe(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Fs(e.containerInfo)}catch(_){$(t,t.return,_)}vu&&(vu=!1,Mv(t));break;case 4:i=xt,xt=Co(t.stateNode.containerInfo),Qe(e,t),Xe(t),xt=i;break;case 12:Qe(e,t),Xe(t);break;case 31:Qe(e,t),Xe(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Sl(t,i)));break;case 13:Qe(e,t),Xe(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(vc=rt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Sl(t,i)));break;case 22:s=t.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,c=nn,h=be;if(nn=c||s,be=h||o,Qe(e,t),be=h,nn=c,Xe(t),i&8192)e:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||o||nn||be||Ri(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){o=n=e;try{if(a=o.stateNode,s)r=a.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=o.stateNode;var f=o.memoizedProps.style,u=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=u==null||typeof u=="boolean"?"":(""+u).trim()}}catch(_){$(o,o.return,_)}}}else if(e.tag===6){if(n===null){o=e;try{o.stateNode.nodeValue=s?"":o.memoizedProps}catch(_){$(o,o.return,_)}}}else if(e.tag===18){if(n===null){o=e;try{var d=o.stateNode;s?jp(d,!0):jp(o.stateNode,!1)}catch(_){$(o,o.return,_)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Sl(t,n))));break;case 19:Qe(e,t),Xe(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Sl(t,i)));break;case 30:break;case 21:break;default:Qe(e,t),Xe(t)}}function Xe(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(Cv(i)){n=i;break}i=i.return}if(n==null)throw Error(T(160));switch(n.tag){case 27:var s=n.stateNode,a=yu(t);go(t,a,s);break;case 5:var r=n.stateNode;n.flags&32&&(Hs(r,""),n.flags&=-33);var l=yu(t);go(t,l,r);break;case 3:case 4:var o=n.stateNode.containerInfo,c=yu(t);xf(t,c,o);break;default:throw Error(T(161))}}catch(h){$(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Mv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Mv(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Zt(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Av(t,e.alternate,e),e=e.sibling}function Ri(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:fi(4,e,e.return),Ri(e);break;case 1:jt(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Sv(e,e.return,n),Ri(e);break;case 27:Za(e.stateNode);case 26:case 5:jt(e,e.return),Ri(e);break;case 22:e.memoizedState===null&&Ri(e);break;case 30:Ri(e);break;default:Ri(e)}t=t.sibling}}function Jt(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,s=t,a=e,r=a.flags;switch(a.tag){case 0:case 11:case 15:Jt(s,a,n),qr(4,a);break;case 1:if(Jt(s,a,n),i=a,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(c){$(i,i.return,c)}if(i=a,s=i.updateQueue,s!==null){var l=i.stateNode;try{var o=s.shared.hiddenCallbacks;if(o!==null)for(s.shared.hiddenCallbacks=null,s=0;s<o.length;s++)xy(o[s],l)}catch(c){$(i,i.return,c)}}n&&r&64&&bv(a),Qa(a,a.return);break;case 27:wv(a);case 26:case 5:Jt(s,a,n),n&&i===null&&r&4&&Tv(a),Qa(a,a.return);break;case 12:Jt(s,a,n);break;case 31:Jt(s,a,n),n&&r&4&&xv(s,a);break;case 13:Jt(s,a,n),n&&r&4&&Ov(s,a);break;case 22:a.memoizedState===null&&Jt(s,a,n),Qa(a,a.return);break;case 30:break;default:Jt(s,a,n)}e=e.sibling}}function rd(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&jr(n))}function ld(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&jr(t))}function Nt(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Iv(t,e,n,i),e=e.sibling}function Iv(t,e,n,i){var s=e.flags;switch(e.tag){case 0:case 11:case 15:Nt(t,e,n,i),s&2048&&qr(9,e);break;case 1:Nt(t,e,n,i);break;case 3:Nt(t,e,n,i),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&jr(t)));break;case 12:if(s&2048){Nt(t,e,n,i),t=e.stateNode;try{var a=e.memoizedProps,r=a.id,l=a.onPostCommit;typeof l=="function"&&l(r,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(o){$(e,e.return,o)}}else Nt(t,e,n,i);break;case 31:Nt(t,e,n,i);break;case 13:Nt(t,e,n,i);break;case 23:break;case 22:a=e.stateNode,r=e.alternate,e.memoizedState!==null?a._visibility&2?Nt(t,e,n,i):Xa(t,e):a._visibility&2?Nt(t,e,n,i):(a._visibility|=2,rs(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),s&2048&&rd(r,e);break;case 24:Nt(t,e,n,i),s&2048&&ld(e.alternate,e);break;default:Nt(t,e,n,i)}}function rs(t,e,n,i,s){for(s=s&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,r=e,l=n,o=i,c=r.flags;switch(r.tag){case 0:case 11:case 15:rs(a,r,l,o,s),qr(8,r);break;case 23:break;case 22:var h=r.stateNode;r.memoizedState!==null?h._visibility&2?rs(a,r,l,o,s):Xa(a,r):(h._visibility|=2,rs(a,r,l,o,s)),s&&c&2048&&rd(r.alternate,r);break;case 24:rs(a,r,l,o,s),s&&c&2048&&ld(r.alternate,r);break;default:rs(a,r,l,o,s)}e=e.sibling}}function Xa(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,s=i.flags;switch(i.tag){case 22:Xa(n,i),s&2048&&rd(i.alternate,i);break;case 24:Xa(n,i),s&2048&&ld(i.alternate,i);break;default:Xa(n,i)}e=e.sibling}}var Ha=8192;function is(t,e,n){if(t.subtreeFlags&Ha)for(t=t.child;t!==null;)kv(t,e,n),t=t.sibling}function kv(t,e,n){switch(t.tag){case 26:is(t,e,n),t.flags&Ha&&t.memoizedState!==null&&nC(n,xt,t.memoizedState,t.memoizedProps);break;case 5:is(t,e,n);break;case 3:case 4:var i=xt;xt=Co(t.stateNode.containerInfo),is(t,e,n),xt=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Ha,Ha=16777216,is(t,e,n),Ha=i):is(t,e,n));break;default:is(t,e,n)}}function Lv(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function wa(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Oe=i,zv(i,t)}Lv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Uv(t),t=t.sibling}function Uv(t){switch(t.tag){case 0:case 11:case 15:wa(t),t.flags&2048&&fi(9,t,t.return);break;case 3:wa(t);break;case 12:wa(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Pl(t)):wa(t);break;default:wa(t)}}function Pl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Oe=i,zv(i,t)}Lv(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:fi(8,e,e.return),Pl(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Pl(e));break;default:Pl(e)}t=t.sibling}}function zv(t,e){for(;Oe!==null;){var n=Oe;switch(n.tag){case 0:case 11:case 15:fi(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:jr(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Oe=i;else e:for(n=t;Oe!==null;){i=Oe;var s=i.sibling,a=i.return;if(Rv(i),i===n){Oe=null;break e}if(s!==null){s.return=a,Oe=s;break e}Oe=a}}}var _1={getCacheForType:function(t){var e=Be(Se),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Be(Se).controller.signal}},y1=typeof WeakMap=="function"?WeakMap:Map,Q=0,ne=null,V=null,Y=0,W=0,nt=null,Gn=!1,ra=!1,od=!1,vn=0,de=0,hi=0,Ui=0,cd=0,at=0,qs=0,Wa=null,$e=null,Of=!1,vc=0,Hv=0,_o=1/0,yo=null,Zn=null,we=0,Jn=null,Vs=null,hn=0,Df=0,Mf=null,Bv=null,$a=0,If=null;function ct(){return Q&2&&Y!==0?Y&-Y:I.T!==null?fd():Q_()}function jv(){if(at===0)if(!(Y&536870912)||F){var t=ml;ml<<=1,!(ml&3932160)&&(ml=262144),at=t}else at=536870912;return t=ft.current,t!==null&&(t.flags|=32),at}function Je(t,e,n){(t===ne&&(W===2||W===9)||t.cancelPendingCommit!==null)&&(Gs(t,0),Yn(t,Y,at,!1)),zr(t,n),(!(Q&2)||t!==ne)&&(t===ne&&(!(Q&2)&&(Ui|=n),de===4&&Yn(t,Y,at,!1)),Yt(t))}function Pv(t,e,n){if(Q&6)throw Error(T(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Ur(t,e),s=i?b1(t,e):Eu(t,e,!0),a=i;do{if(s===0){ra&&!i&&Yn(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!v1(n)){s=Eu(t,e,!1),a=!1;continue}if(s===2){if(a=e,t.errorRecoveryDisabledLanes&a)var r=0;else r=t.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){e=r;e:{var l=t;s=Wa;var o=l.current.memoizedState.isDehydrated;if(o&&(Gs(l,r).flags|=256),r=Eu(l,r,!1),r!==2){if(od&&!o){l.errorRecoveryDisabledLanes|=a,Ui|=a,s=4;break e}a=$e,$e=s,a!==null&&($e===null?$e=a:$e.push.apply($e,a))}s=r}if(a=!1,s!==2)continue}}if(s===1){Gs(t,0),Yn(t,e,0,!0);break}e:{switch(i=t,a=s,a){case 0:case 1:throw Error(T(345));case 4:if((e&4194048)!==e)break;case 6:Yn(i,e,at,!Gn);break e;case 2:$e=null;break;case 3:case 5:break;default:throw Error(T(329))}if((e&62914560)===e&&(s=vc+300-rt(),10<s)){if(Yn(i,e,at,!Gn),oc(i,0,!0)!==0)break e;hn=e,i.timeoutHandle=l0(Rp.bind(null,i,n,$e,yo,Of,e,at,Ui,qs,Gn,a,"Throttled",-0,0),s);break e}Rp(i,n,$e,yo,Of,e,at,Ui,qs,Gn,a,null,-0,0)}}break}while(!0);Yt(t)}function Rp(t,e,n,i,s,a,r,l,o,c,h,f,u,d){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:an},kv(e,a,f);var _=(a&62914560)===a?vc-rt():(a&4194048)===a?Hv-rt():0;if(_=iC(f,_),_!==null){hn=a,t.cancelPendingCommit=_(xp.bind(null,t,e,a,n,i,s,r,l,o,h,f,null,u,d)),Yn(t,a,r,!c);return}}xp(t,e,a,n,i,s,r,l,o)}function v1(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!ut(a(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yn(t,e,n,i){e&=~cd,e&=~Ui,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var s=e;0<s;){var a=31-ot(s),r=1<<a;i[a]=-1,s&=~r}n!==0&&Y_(t,n,e)}function Ec(){return Q&6?!0:(Vr(0),!1)}function ud(){if(V!==null){if(W===0)var t=V.return;else t=V,rn=Zi=null,Xh(t),As=null,hr=0,t=V;for(;t!==null;)Ev(t.alternate,t),t=t.return;V=null}}function Gs(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,B1(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),hn=0,ud(),ne=t,V=n=un(t.current,null),Y=e,W=0,nt=null,Gn=!1,ra=Ur(t,e),od=!1,qs=at=cd=Ui=hi=de=0,$e=Wa=null,Of=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var s=31-ot(i),a=1<<s;e|=t[s],i&=~a}return vn=e,hc(),n}function qv(t,e){z=null,I.H=mr,e===aa||e===mc?(e=ap(),W=3):e===qh?(e=ap(),W=4):W=e===sd?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,nt=e,V===null&&(de=1,mo(t,vt(e,t.current)))}function Vv(){var t=ft.current;return t===null?!0:(Y&4194048)===Y?Tt===null:(Y&62914560)===Y||Y&536870912?t===Tt:!1}function Gv(){var t=I.H;return I.H=mr,t===null?mr:t}function Yv(){var t=I.A;return I.A=_1,t}function vo(){de=4,Gn||(Y&4194048)!==Y&&ft.current!==null||(ra=!0),!(hi&134217727)&&!(Ui&134217727)||ne===null||Yn(ne,Y,at,!1)}function Eu(t,e,n){var i=Q;Q|=2;var s=Gv(),a=Yv();(ne!==t||Y!==e)&&(yo=null,Gs(t,e)),e=!1;var r=de;e:do try{if(W!==0&&V!==null){var l=V,o=nt;switch(W){case 8:ud(),r=6;break e;case 3:case 2:case 9:case 6:ft.current===null&&(e=!0);var c=W;if(W=0,nt=null,vs(t,l,o,c),n&&ra){r=0;break e}break;default:c=W,W=0,nt=null,vs(t,l,o,c)}}E1(),r=de;break}catch(h){qv(t,h)}while(!0);return e&&t.shellSuspendCounter++,rn=Zi=null,Q=i,I.H=s,I.A=a,V===null&&(ne=null,Y=0,hc()),r}function E1(){for(;V!==null;)Fv(V)}function b1(t,e){var n=Q;Q|=2;var i=Gv(),s=Yv();ne!==t||Y!==e?(yo=null,_o=rt()+500,Gs(t,e)):ra=Ur(t,e);e:do try{if(W!==0&&V!==null){e=V;var a=nt;t:switch(W){case 1:W=0,nt=null,vs(t,e,a,1);break;case 2:case 9:if(sp(a)){W=0,nt=null,Np(e);break}e=function(){W!==2&&W!==9||ne!==t||(W=7),Yt(t)},a.then(e,e);break e;case 3:W=7;break e;case 4:W=5;break e;case 7:sp(a)?(W=0,nt=null,Np(e)):(W=0,nt=null,vs(t,e,a,7));break;case 5:var r=null;switch(V.tag){case 26:r=V.memoizedState;case 5:case 27:var l=V;if(r?h0(r):l.stateNode.complete){W=0,nt=null;var o=l.sibling;if(o!==null)V=o;else{var c=l.return;c!==null?(V=c,bc(c)):V=null}break t}}W=0,nt=null,vs(t,e,a,5);break;case 6:W=0,nt=null,vs(t,e,a,6);break;case 8:ud(),de=6;break e;default:throw Error(T(462))}}S1();break}catch(h){qv(t,h)}while(!0);return rn=Zi=null,I.H=i,I.A=s,Q=n,V!==null?0:(ne=null,Y=0,hc(),de)}function S1(){for(;V!==null&&!YS();)Fv(V)}function Fv(t){var e=vv(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?bc(t):V=e}function Np(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=bp(n,e,e.pendingProps,e.type,void 0,Y);break;case 11:e=bp(n,e,e.pendingProps,e.type.render,e.ref,Y);break;case 5:Xh(e);default:Ev(n,e),e=V=Ey(e,vn),e=vv(n,e,vn)}t.memoizedProps=t.pendingProps,e===null?bc(t):V=e}function vs(t,e,n,i){rn=Zi=null,Xh(e),As=null,hr=0;var s=e.return;try{if(u1(t,s,e,n,Y)){de=1,mo(t,vt(n,t.current)),V=null;return}}catch(a){if(s!==null)throw V=s,a;de=1,mo(t,vt(n,t.current)),V=null;return}e.flags&32768?(F||i===1?t=!0:ra||Y&536870912?t=!1:(Gn=t=!0,(i===2||i===9||i===3||i===6)&&(i=ft.current,i!==null&&i.tag===13&&(i.flags|=16384))),Kv(e,t)):bc(e)}function bc(t){var e=t;do{if(e.flags&32768){Kv(e,Gn);return}t=e.return;var n=d1(e.alternate,e,vn);if(n!==null){V=n;return}if(e=e.sibling,e!==null){V=e;return}V=e=t}while(e!==null);de===0&&(de=5)}function Kv(t,e){do{var n=m1(t.alternate,t);if(n!==null){n.flags&=32767,V=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){V=t;return}V=t=n}while(t!==null);de=6,V=null}function xp(t,e,n,i,s,a,r,l,o){t.cancelPendingCommit=null;do Sc();while(we!==0);if(Q&6)throw Error(T(327));if(e!==null){if(e===t.current)throw Error(T(177));if(a=e.lanes|e.childLanes,a|=Lh,tT(t,n,a,r,l,o),t===ne&&(V=ne=null,Y=0),Vs=e,Jn=t,hn=n,Df=a,Mf=s,Bv=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,A1(no,function(){return Zv(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=I.T,I.T=null,s=X.p,X.p=2,r=Q,Q|=4;try{p1(t,e,n)}finally{Q=r,X.p=s,I.T=i}}we=1,Qv(),Xv(),Wv()}}function Qv(){if(we===1){we=0;var t=Jn,e=Vs,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=I.T,I.T=null;var i=X.p;X.p=2;var s=Q;Q|=4;try{Dv(e,t);var a=zf,r=hy(t.containerInfo),l=a.focusedElem,o=a.selectionRange;if(r!==l&&l&&l.ownerDocument&&fy(l.ownerDocument.documentElement,l)){if(o!==null&&kh(l)){var c=o.start,h=o.end;if(h===void 0&&(h=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(h,l.value.length);else{var f=l.ownerDocument||document,u=f&&f.defaultView||window;if(u.getSelection){var d=u.getSelection(),_=l.textContent.length,E=Math.min(o.start,_),S=o.end===void 0?E:Math.min(o.end,_);!d.extend&&E>S&&(r=S,S=E,E=r);var p=$m(l,E),m=$m(l,S);if(p&&m&&(d.rangeCount!==1||d.anchorNode!==p.node||d.anchorOffset!==p.offset||d.focusNode!==m.node||d.focusOffset!==m.offset)){var g=f.createRange();g.setStart(p.node,p.offset),d.removeAllRanges(),E>S?(d.addRange(g),d.extend(m.node,m.offset)):(g.setEnd(m.node,m.offset),d.addRange(g))}}}}for(f=[],d=l;d=d.parentNode;)d.nodeType===1&&f.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var v=f[l];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}Ro=!!Uf,zf=Uf=null}finally{Q=s,X.p=i,I.T=n}}t.current=e,we=2}}function Xv(){if(we===2){we=0;var t=Jn,e=Vs,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=I.T,I.T=null;var i=X.p;X.p=2;var s=Q;Q|=4;try{Av(t,e.alternate,e)}finally{Q=s,X.p=i,I.T=n}}we=3}}function Wv(){if(we===4||we===3){we=0,FS();var t=Jn,e=Vs,n=hn,i=Bv;e.subtreeFlags&10256||e.flags&10256?we=5:(we=0,Vs=Jn=null,$v(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(Zn=null),Rh(n),e=e.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Lr,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=I.T,s=X.p,X.p=2,I.T=null;try{for(var a=t.onRecoverableError,r=0;r<i.length;r++){var l=i[r];a(l.value,{componentStack:l.stack})}}finally{I.T=e,X.p=s}}hn&3&&Sc(),Yt(t),s=t.pendingLanes,n&261930&&s&42?t===If?$a++:($a=0,If=t):$a=0,Vr(0)}}function $v(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,jr(e)))}function Sc(){return Qv(),Xv(),Wv(),Zv()}function Zv(){if(we!==5)return!1;var t=Jn,e=Df;Df=0;var n=Rh(hn),i=I.T,s=X.p;try{X.p=32>n?32:n,I.T=null,n=Mf,Mf=null;var a=Jn,r=hn;if(we=0,Vs=Jn=null,hn=0,Q&6)throw Error(T(331));var l=Q;if(Q|=4,Uv(a.current),Iv(a,a.current,r,n),Q=l,Vr(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Lr,a)}catch{}return!0}finally{X.p=s,I.T=i,$v(t,e)}}function Op(t,e,n){e=vt(n,e),e=Af(t.stateNode,e,2),t=$n(t,e,2),t!==null&&(zr(t,2),Yt(t))}function $(t,e,n){if(t.tag===3)Op(t,t,n);else for(;e!==null;){if(e.tag===3){Op(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Zn===null||!Zn.has(i))){t=vt(n,t),n=dv(2),i=$n(e,n,2),i!==null&&(mv(n,i,e,t),zr(i,2),Yt(i));break}}e=e.return}}function bu(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new y1;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(od=!0,s.add(n),t=T1.bind(null,t,e,n),e.then(t,t))}function T1(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ne===t&&(Y&n)===n&&(de===4||de===3&&(Y&62914560)===Y&&300>rt()-vc?!(Q&2)&&Gs(t,0):cd|=n,qs===Y&&(qs=0)),Yt(t)}function Jv(t,e){e===0&&(e=G_()),t=$i(t,e),t!==null&&(zr(t,e),Yt(t))}function C1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Jv(t,n)}function w1(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(T(314))}i!==null&&i.delete(e),Jv(t,n)}function A1(t,e){return wh(t,e)}var Eo=null,ls=null,kf=!1,bo=!1,Su=!1,Fn=0;function Yt(t){t!==ls&&t.next===null&&(ls===null?Eo=ls=t:ls=ls.next=t),bo=!0,kf||(kf=!0,N1())}function Vr(t,e){if(!Su&&bo){Su=!0;do for(var n=!1,i=Eo;i!==null;){if(t!==0){var s=i.pendingLanes;if(s===0)var a=0;else{var r=i.suspendedLanes,l=i.pingedLanes;a=(1<<31-ot(42|t)+1)-1,a&=s&~(r&~l),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,Dp(i,a))}else a=Y,a=oc(i,i===ne?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||Ur(i,a)||(n=!0,Dp(i,a));i=i.next}while(n);Su=!1}}function R1(){e0()}function e0(){bo=kf=!1;var t=0;Fn!==0&&H1()&&(t=Fn);for(var e=rt(),n=null,i=Eo;i!==null;){var s=i.next,a=t0(i,e);a===0?(i.next=null,n===null?Eo=s:n.next=s,s===null&&(ls=n)):(n=i,(t!==0||a&3)&&(bo=!0)),i=s}we!==0&&we!==5||Vr(t),Fn!==0&&(Fn=0)}function t0(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var r=31-ot(a),l=1<<r,o=s[r];o===-1?(!(l&n)||l&i)&&(s[r]=eT(l,e)):o<=e&&(t.expiredLanes|=l),a&=~l}if(e=ne,n=Y,n=oc(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(W===2||W===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Wc(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Ur(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Wc(i),Rh(n)){case 2:case 8:n=q_;break;case 32:n=no;break;case 268435456:n=V_;break;default:n=no}return i=n0.bind(null,t),n=wh(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Wc(i),t.callbackPriority=2,t.callbackNode=null,2}function n0(t,e){if(we!==0&&we!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Sc()&&t.callbackNode!==n)return null;var i=Y;return i=oc(t,t===ne?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(Pv(t,i,e),t0(t,rt()),t.callbackNode!=null&&t.callbackNode===n?n0.bind(null,t):null)}function Dp(t,e){if(Sc())return null;Pv(t,e,!0)}function N1(){j1(function(){Q&6?wh(P_,R1):e0()})}function fd(){if(Fn===0){var t=Bs;t===0&&(t=dl,dl<<=1,!(dl&261888)&&(dl=256)),Fn=t}return Fn}function Mp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ml(""+t)}function Ip(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function x1(t,e,n,i,s){if(e==="submit"&&n&&n.stateNode===s){var a=Mp((s[et]||null).action),r=i.submitter;r&&(e=(e=r[et]||null)?Mp(e.formAction):r.getAttribute("formAction"),e!==null&&(a=e,r=null));var l=new cc("action","action",null,i,s);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Fn!==0){var o=r?Ip(s,r):new FormData(s);Cf(n,{pending:!0,data:o,method:s.method,action:a},null,o)}}else typeof a=="function"&&(l.preventDefault(),o=r?Ip(s,r):new FormData(s),Cf(n,{pending:!0,data:o,method:s.method,action:a},a,o))},currentTarget:s}]})}}for(var Tu=0;Tu<hf.length;Tu++){var Cu=hf[Tu],O1=Cu.toLowerCase(),D1=Cu[0].toUpperCase()+Cu.slice(1);Ut(O1,"on"+D1)}Ut(my,"onAnimationEnd");Ut(py,"onAnimationIteration");Ut(gy,"onAnimationStart");Ut("dblclick","onDoubleClick");Ut("focusin","onFocus");Ut("focusout","onBlur");Ut(KT,"onTransitionRun");Ut(QT,"onTransitionStart");Ut(XT,"onTransitionCancel");Ut(_y,"onTransitionEnd");zs("onMouseEnter",["mouseout","mouseover"]);zs("onMouseLeave",["mouseout","mouseover"]);zs("onPointerEnter",["pointerout","pointerover"]);zs("onPointerLeave",["pointerout","pointerover"]);Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pr));function i0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var r=i.length-1;0<=r;r--){var l=i[r],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==a&&s.isPropagationStopped())break e;a=l,s.currentTarget=c;try{a(s)}catch(h){so(h)}s.currentTarget=null,a=o}else for(r=0;r<i.length;r++){if(l=i[r],o=l.instance,c=l.currentTarget,l=l.listener,o!==a&&s.isPropagationStopped())break e;a=l,s.currentTarget=c;try{a(s)}catch(h){so(h)}s.currentTarget=null,a=o}}}}function q(t,e){var n=e[sf];n===void 0&&(n=e[sf]=new Set);var i=t+"__bubble";n.has(i)||(s0(e,t,2,!1),n.add(i))}function wu(t,e,n){var i=0;e&&(i|=4),s0(n,t,i,e)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function hd(t){if(!t[Tl]){t[Tl]=!0,X_.forEach(function(n){n!=="selectionchange"&&(M1.has(n)||wu(n,!1,t),wu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tl]||(e[Tl]=!0,wu("selectionchange",!1,e))}}function s0(t,e,n,i){switch(_0(e)){case 2:var s=rC;break;case 8:s=lC;break;default:s=gd}n=s.bind(null,e,n,t),s=void 0,!cf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Au(t,e,n,i,s){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var l=i.stateNode.containerInfo;if(l===s)break;if(r===4)for(r=i.return;r!==null;){var o=r.tag;if((o===3||o===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;l!==null;){if(r=us(l),r===null)return;if(o=r.tag,o===5||o===6||o===26||o===27){i=a=r;continue e}l=l.parentNode}}i=i.return}iy(function(){var c=a,h=Oh(n),f=[];e:{var u=yy.get(t);if(u!==void 0){var d=cc,_=t;switch(t){case"keypress":if(kl(n)===0)break e;case"keydown":case"keyup":d=wT;break;case"focusin":_="focus",d=tu;break;case"focusout":_="blur",d=tu;break;case"beforeblur":case"afterblur":d=tu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Pm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=dT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=NT;break;case my:case py:case gy:d=gT;break;case _y:d=OT;break;case"scroll":case"scrollend":d=fT;break;case"wheel":d=MT;break;case"copy":case"cut":case"paste":d=yT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Vm;break;case"toggle":case"beforetoggle":d=kT}var E=(e&4)!==0,S=!E&&(t==="scroll"||t==="scrollend"),p=E?u!==null?u+"Capture":null:u;E=[];for(var m=c,g;m!==null;){var v=m;if(g=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||g===null||p===null||(v=lr(m,p),v!=null&&E.push(gr(m,v,g))),S)break;m=m.return}0<E.length&&(u=new d(u,_,null,n,h),f.push({event:u,listeners:E}))}}if(!(e&7)){e:{if(u=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",u&&n!==of&&(_=n.relatedTarget||n.fromElement)&&(us(_)||_[na]))break e;if((d||u)&&(u=h.window===h?h:(u=h.ownerDocument)?u.defaultView||u.parentWindow:window,d?(_=n.relatedTarget||n.toElement,d=c,_=_?us(_):null,_!==null&&(S=kr(_),E=_.tag,_!==S||E!==5&&E!==27&&E!==6)&&(_=null)):(d=null,_=c),d!==_)){if(E=Pm,v="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(E=Vm,v="onPointerLeave",p="onPointerEnter",m="pointer"),S=d==null?u:Ua(d),g=_==null?u:Ua(_),u=new E(v,m+"leave",d,n,h),u.target=S,u.relatedTarget=g,v=null,us(h)===c&&(E=new E(p,m+"enter",_,n,h),E.target=g,E.relatedTarget=S,v=E),S=v,d&&_)t:{for(E=I1,p=d,m=_,g=0,v=p;v;v=E(v))g++;v=0;for(var w=m;w;w=E(w))v++;for(;0<g-v;)p=E(p),g--;for(;0<v-g;)m=E(m),v--;for(;g--;){if(p===m||m!==null&&p===m.alternate){E=p;break t}p=E(p),m=E(m)}E=null}else E=null;d!==null&&kp(f,u,d,E,!1),_!==null&&S!==null&&kp(f,S,_,E,!0)}}e:{if(u=c?Ua(c):window,d=u.nodeName&&u.nodeName.toLowerCase(),d==="select"||d==="input"&&u.type==="file")var O=Km;else if(Fm(u))if(cy)O=GT;else{O=qT;var A=PT}else d=u.nodeName,!d||d.toLowerCase()!=="input"||u.type!=="checkbox"&&u.type!=="radio"?c&&xh(c.elementType)&&(O=Km):O=VT;if(O&&(O=O(t,c))){oy(f,O,n,h);break e}A&&A(t,u,c),t==="focusout"&&c&&u.type==="number"&&c.memoizedProps.value!=null&&lf(u,"number",u.value)}switch(A=c?Ua(c):window,t){case"focusin":(Fm(A)||A.contentEditable==="true")&&(ds=A,uf=c,qa=null);break;case"focusout":qa=uf=ds=null;break;case"mousedown":ff=!0;break;case"contextmenu":case"mouseup":case"dragend":ff=!1,Zm(f,n,h);break;case"selectionchange":if(FT)break;case"keydown":case"keyup":Zm(f,n,h)}var N;if(Ih)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else hs?ry(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(ay&&n.locale!=="ko"&&(hs||M!=="onCompositionStart"?M==="onCompositionEnd"&&hs&&(N=sy()):(Vn=h,Dh="value"in Vn?Vn.value:Vn.textContent,hs=!0)),A=So(c,M),0<A.length&&(M=new qm(M,t,null,n,h),f.push({event:M,listeners:A}),N?M.data=N:(N=ly(n),N!==null&&(M.data=N)))),(N=UT?zT(t,n):HT(t,n))&&(M=So(c,"onBeforeInput"),0<M.length&&(A=new qm("onBeforeInput","beforeinput",null,n,h),f.push({event:A,listeners:M}),A.data=N)),x1(f,t,c,n,h)}i0(f,e)})}function gr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function So(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,a=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||a===null||(s=lr(t,n),s!=null&&i.unshift(gr(t,s,a)),s=lr(t,e),s!=null&&i.push(gr(t,s,a))),t.tag===3)return i;t=t.return}return[]}function I1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function kp(t,e,n,i,s){for(var a=e._reactName,r=[];n!==null&&n!==i;){var l=n,o=l.alternate,c=l.stateNode;if(l=l.tag,o!==null&&o===i)break;l!==5&&l!==26&&l!==27||c===null||(o=c,s?(c=lr(n,a),c!=null&&r.unshift(gr(n,c,o))):s||(c=lr(n,a),c!=null&&r.push(gr(n,c,o)))),n=n.return}r.length!==0&&t.push({event:e,listeners:r})}var k1=/\r\n?/g,L1=/\u0000|\uFFFD/g;function Lp(t){return(typeof t=="string"?t:""+t).replace(k1,`
`).replace(L1,"")}function a0(t,e){return e=Lp(e),Lp(t)===e}function Z(t,e,n,i,s,a){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Hs(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Hs(t,""+i);break;case"className":gl(t,"class",i);break;case"tabIndex":gl(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":gl(t,n,i);break;case"style":ny(t,i,a);break;case"data":if(e!=="object"){gl(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Ml(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&Z(t,e,"name",s.name,s,null),Z(t,e,"formEncType",s.formEncType,s,null),Z(t,e,"formMethod",s.formMethod,s,null),Z(t,e,"formTarget",s.formTarget,s,null)):(Z(t,e,"encType",s.encType,s,null),Z(t,e,"method",s.method,s,null),Z(t,e,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Ml(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=an);break;case"onScroll":i!=null&&q("scroll",t);break;case"onScrollEnd":i!=null&&q("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(T(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(T(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Ml(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":q("beforetoggle",t),q("toggle",t),Dl(t,"popover",i);break;case"xlinkActuate":Xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Xt(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Xt(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Xt(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Xt(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Dl(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=cT.get(n)||n,Dl(t,n,i))}}function Lf(t,e,n,i,s,a){switch(n){case"style":ny(t,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(T(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(T(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Hs(t,i):(typeof i=="number"||typeof i=="bigint")&&Hs(t,""+i);break;case"onScroll":i!=null&&q("scroll",t);break;case"onScrollEnd":i!=null&&q("scrollend",t);break;case"onClick":i!=null&&(t.onclick=an);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!W_.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),a=t[et]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,s),typeof i=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,s);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):Dl(t,n,i)}}}function je(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":q("error",t),q("load",t);var i=!1,s=!1,a;for(a in n)if(n.hasOwnProperty(a)){var r=n[a];if(r!=null)switch(a){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(T(137,e));default:Z(t,e,a,r,n,null)}}s&&Z(t,e,"srcSet",n.srcSet,n,null),i&&Z(t,e,"src",n.src,n,null);return;case"input":q("invalid",t);var l=a=r=s=null,o=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":s=h;break;case"type":r=h;break;case"checked":o=h;break;case"defaultChecked":c=h;break;case"value":a=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(T(137,e));break;default:Z(t,e,i,h,n,null)}}J_(t,a,l,o,c,r,s,!1);return;case"select":q("invalid",t),i=r=a=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":a=l;break;case"defaultValue":r=l;break;case"multiple":i=l;default:Z(t,e,s,l,n,null)}e=a,n=r,t.multiple=!!i,e!=null?Ts(t,!!i,e,!1):n!=null&&Ts(t,!!i,n,!0);return;case"textarea":q("invalid",t),a=s=i=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":i=l;break;case"defaultValue":s=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(T(91));break;default:Z(t,e,r,l,n,null)}ty(t,i,s,a);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(i=n[o],i!=null))switch(o){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Z(t,e,o,i,n,null)}return;case"dialog":q("beforetoggle",t),q("toggle",t),q("cancel",t),q("close",t);break;case"iframe":case"object":q("load",t);break;case"video":case"audio":for(i=0;i<pr.length;i++)q(pr[i],t);break;case"image":q("error",t),q("load",t);break;case"details":q("toggle",t);break;case"embed":case"source":case"link":q("error",t),q("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(T(137,e));default:Z(t,e,c,i,n,null)}return;default:if(xh(e)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&Lf(t,e,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&Z(t,e,l,i,n,null))}function U1(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,r=null,l=null,o=null,c=null,h=null;for(d in n){var f=n[d];if(n.hasOwnProperty(d)&&f!=null)switch(d){case"checked":break;case"value":break;case"defaultValue":o=f;default:i.hasOwnProperty(d)||Z(t,e,d,null,i,f)}}for(var u in i){var d=i[u];if(f=n[u],i.hasOwnProperty(u)&&(d!=null||f!=null))switch(u){case"type":a=d;break;case"name":s=d;break;case"checked":c=d;break;case"defaultChecked":h=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(T(137,e));break;default:d!==f&&Z(t,e,u,d,i,f)}}rf(t,r,l,o,c,h,a,s);return;case"select":d=r=l=u=null;for(a in n)if(o=n[a],n.hasOwnProperty(a)&&o!=null)switch(a){case"value":break;case"multiple":d=o;default:i.hasOwnProperty(a)||Z(t,e,a,null,i,o)}for(s in i)if(a=i[s],o=n[s],i.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case"value":u=a;break;case"defaultValue":l=a;break;case"multiple":r=a;default:a!==o&&Z(t,e,s,a,i,o)}e=l,n=r,i=d,u!=null?Ts(t,!!n,u,!1):!!i!=!!n&&(e!=null?Ts(t,!!n,e,!0):Ts(t,!!n,n?[]:"",!1));return;case"textarea":d=u=null;for(l in n)if(s=n[l],n.hasOwnProperty(l)&&s!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Z(t,e,l,null,i,s)}for(r in i)if(s=i[r],a=n[r],i.hasOwnProperty(r)&&(s!=null||a!=null))switch(r){case"value":u=s;break;case"defaultValue":d=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(T(91));break;default:s!==a&&Z(t,e,r,s,i,a)}ey(t,u,d);return;case"option":for(var _ in n)if(u=n[_],n.hasOwnProperty(_)&&u!=null&&!i.hasOwnProperty(_))switch(_){case"selected":t.selected=!1;break;default:Z(t,e,_,null,i,u)}for(o in i)if(u=i[o],d=n[o],i.hasOwnProperty(o)&&u!==d&&(u!=null||d!=null))switch(o){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Z(t,e,o,u,i,d)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var E in n)u=n[E],n.hasOwnProperty(E)&&u!=null&&!i.hasOwnProperty(E)&&Z(t,e,E,null,i,u);for(c in i)if(u=i[c],d=n[c],i.hasOwnProperty(c)&&u!==d&&(u!=null||d!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(T(137,e));break;default:Z(t,e,c,u,i,d)}return;default:if(xh(e)){for(var S in n)u=n[S],n.hasOwnProperty(S)&&u!==void 0&&!i.hasOwnProperty(S)&&Lf(t,e,S,void 0,i,u);for(h in i)u=i[h],d=n[h],!i.hasOwnProperty(h)||u===d||u===void 0&&d===void 0||Lf(t,e,h,u,i,d);return}}for(var p in n)u=n[p],n.hasOwnProperty(p)&&u!=null&&!i.hasOwnProperty(p)&&Z(t,e,p,null,i,u);for(f in i)u=i[f],d=n[f],!i.hasOwnProperty(f)||u===d||u==null&&d==null||Z(t,e,f,u,i,d)}function Up(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function z1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],a=s.transferSize,r=s.initiatorType,l=s.duration;if(a&&l&&Up(r)){for(r=0,l=s.responseEnd,i+=1;i<n.length;i++){var o=n[i],c=o.startTime;if(c>l)break;var h=o.transferSize,f=o.initiatorType;h&&Up(f)&&(o=o.responseEnd,r+=h*(o<l?1:(l-c)/(o-c)))}if(--i,e+=8*(a+r)/(s.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Uf=null,zf=null;function To(t){return t.nodeType===9?t:t.ownerDocument}function zp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r0(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Hf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ru=null;function H1(){var t=window.event;return t&&t.type==="popstate"?t===Ru?!1:(Ru=t,!0):(Ru=null,!1)}var l0=typeof setTimeout=="function"?setTimeout:void 0,B1=typeof clearTimeout=="function"?clearTimeout:void 0,Hp=typeof Promise=="function"?Promise:void 0,j1=typeof queueMicrotask=="function"?queueMicrotask:typeof Hp<"u"?function(t){return Hp.resolve(null).then(t).catch(P1)}:l0;function P1(t){setTimeout(function(){throw t})}function vi(t){return t==="head"}function Bp(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(s),Fs(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Za(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Za(n);for(var a=n.firstChild;a;){var r=a.nextSibling,l=a.nodeName;a[Hr]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=r}}else n==="body"&&Za(t.ownerDocument.body);n=s}while(n);Fs(e)}function jp(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function Bf(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Bf(n),Nh(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function q1(t,e,n,i){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Hr])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=Ct(t.nextSibling),t===null)break}return null}function V1(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ct(t.nextSibling),t===null))return null;return t}function o0(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Ct(t.nextSibling),t===null))return null;return t}function jf(t){return t.data==="$?"||t.data==="$~"}function Pf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function G1(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Ct(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var qf=null;function Pp(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Ct(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function qp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function c0(t,e,n){switch(e=To(n),t){case"html":if(t=e.documentElement,!t)throw Error(T(452));return t;case"head":if(t=e.head,!t)throw Error(T(453));return t;case"body":if(t=e.body,!t)throw Error(T(454));return t;default:throw Error(T(451))}}function Za(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Nh(t)}var wt=new Map,Vp=new Set;function Co(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var wn=X.d;X.d={f:Y1,r:F1,D:K1,C:Q1,L:X1,m:W1,X:Z1,S:$1,M:J1};function Y1(){var t=wn.f(),e=Ec();return t||e}function F1(t){var e=ia(t);e!==null&&e.tag===5&&e.type==="form"?nv(e):wn.r(t)}var la=typeof document>"u"?null:document;function u0(t,e,n){var i=la;if(i&&typeof e=="string"&&e){var s=yt(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Vp.has(s)||(Vp.add(s),t={rel:t,crossOrigin:n,href:e},i.querySelector(s)===null&&(e=i.createElement("link"),je(e,"link",t),Me(e),i.head.appendChild(e)))}}function K1(t){wn.D(t),u0("dns-prefetch",t,null)}function Q1(t,e){wn.C(t,e),u0("preconnect",t,e)}function X1(t,e,n){wn.L(t,e,n);var i=la;if(i&&t&&e){var s='link[rel="preload"][as="'+yt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+yt(n.imageSizes)+'"]')):s+='[href="'+yt(t)+'"]';var a=s;switch(e){case"style":a=Ys(t);break;case"script":a=oa(t)}wt.has(a)||(t=ce({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),wt.set(a,t),i.querySelector(s)!==null||e==="style"&&i.querySelector(Gr(a))||e==="script"&&i.querySelector(Yr(a))||(e=i.createElement("link"),je(e,"link",t),Me(e),i.head.appendChild(e)))}}function W1(t,e){wn.m(t,e);var n=la;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+yt(i)+'"][href="'+yt(t)+'"]',a=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=oa(t)}if(!wt.has(a)&&(t=ce({rel:"modulepreload",href:t},e),wt.set(a,t),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Yr(a)))return}i=n.createElement("link"),je(i,"link",t),Me(i),n.head.appendChild(i)}}}function $1(t,e,n){wn.S(t,e,n);var i=la;if(i&&t){var s=Ss(i).hoistableStyles,a=Ys(t);e=e||"default";var r=s.get(a);if(!r){var l={loading:0,preload:null};if(r=i.querySelector(Gr(a)))l.loading=5;else{t=ce({rel:"stylesheet",href:t,"data-precedence":e},n),(n=wt.get(a))&&dd(t,n);var o=r=i.createElement("link");Me(o),je(o,"link",t),o._p=new Promise(function(c,h){o.onload=c,o.onerror=h}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,ql(r,e,i)}r={type:"stylesheet",instance:r,count:1,state:l},s.set(a,r)}}}function Z1(t,e){wn.X(t,e);var n=la;if(n&&t){var i=Ss(n).hoistableScripts,s=oa(t),a=i.get(s);a||(a=n.querySelector(Yr(s)),a||(t=ce({src:t,async:!0},e),(e=wt.get(s))&&md(t,e),a=n.createElement("script"),Me(a),je(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function J1(t,e){wn.M(t,e);var n=la;if(n&&t){var i=Ss(n).hoistableScripts,s=oa(t),a=i.get(s);a||(a=n.querySelector(Yr(s)),a||(t=ce({src:t,async:!0,type:"module"},e),(e=wt.get(s))&&md(t,e),a=n.createElement("script"),Me(a),je(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function Gp(t,e,n,i){var s=(s=Qn.current)?Co(s):null;if(!s)throw Error(T(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Ys(n.href),n=Ss(s).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Ys(n.href);var a=Ss(s).hoistableStyles,r=a.get(t);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,r),(a=s.querySelector(Gr(t)))&&!a._p&&(r.instance=a,r.state.loading=5),wt.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},wt.set(t,n),a||eC(s,t,n,r.state))),e&&i===null)throw Error(T(528,""));return r}if(e&&i!==null)throw Error(T(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=oa(n),n=Ss(s).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(T(444,t))}}function Ys(t){return'href="'+yt(t)+'"'}function Gr(t){return'link[rel="stylesheet"]['+t+"]"}function f0(t){return ce({},t,{"data-precedence":t.precedence,precedence:null})}function eC(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),je(e,"link",n),Me(e),t.head.appendChild(e))}function oa(t){return'[src="'+yt(t)+'"]'}function Yr(t){return"script[async]"+t}function Yp(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+yt(n.href)+'"]');if(i)return e.instance=i,Me(i),i;var s=ce({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Me(i),je(i,"style",s),ql(i,n.precedence,t),e.instance=i;case"stylesheet":s=Ys(n.href);var a=t.querySelector(Gr(s));if(a)return e.state.loading|=4,e.instance=a,Me(a),a;i=f0(n),(s=wt.get(s))&&dd(i,s),a=(t.ownerDocument||t).createElement("link"),Me(a);var r=a;return r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),je(a,"link",i),e.state.loading|=4,ql(a,n.precedence,t),e.instance=a;case"script":return a=oa(n.src),(s=t.querySelector(Yr(a)))?(e.instance=s,Me(s),s):(i=n,(s=wt.get(a))&&(i=ce({},n),md(i,s)),t=t.ownerDocument||t,s=t.createElement("script"),Me(s),je(s,"link",i),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(T(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,ql(i,n.precedence,t));return e.instance}function ql(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,a=s,r=0;r<i.length;r++){var l=i[r];if(l.dataset.precedence===e)a=l;else if(a!==s)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function dd(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function md(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Vl=null;function Fp(t,e,n){if(Vl===null){var i=new Map,s=Vl=new Map;s.set(n,i)}else s=Vl,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var a=n[s];if(!(a[Hr]||a[ze]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var r=a.getAttribute(e)||"";r=t+r;var l=i.get(r);l?l.push(a):i.set(r,[a])}}return i}function Kp(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function tC(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function h0(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function nC(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=Ys(i.href),a=e.querySelector(Gr(s));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=wo.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,Me(a);return}a=e.ownerDocument||e,i=f0(i),(s=wt.get(s))&&dd(i,s),a=a.createElement("link"),Me(a);var r=a;r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),je(a,"link",i),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=wo.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Nu=0;function iC(t,e){return t.stylesheets&&t.count===0&&Gl(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&Gl(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&Nu===0&&(Nu=62500*z1());var s=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Gl(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>Nu?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function wo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ao=null;function Gl(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ao=new Map,e.forEach(sC,t),Ao=null,wo.call(t))}function sC(t,e){if(!(e.state.loading&4)){var n=Ao.get(t);if(n)var i=n.get(null);else{n=new Map,Ao.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<s.length;a++){var r=s[a];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),i=r)}i&&n.set(null,i)}s=e.instance,r=s.getAttribute("data-precedence"),a=n.get(r)||i,a===i&&n.set(null,s),n.set(r,s),this.count++,i=wo.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),a?a.parentNode.insertBefore(s,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var _r={$$typeof:sn,Provider:null,Consumer:null,_currentValue:Mi,_currentValue2:Mi,_threadCount:0};function aC(t,e,n,i,s,a,r,l,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$c(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$c(0),this.hiddenUpdates=$c(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=a,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function d0(t,e,n,i,s,a,r,l,o,c,h,f){return t=new aC(t,e,n,r,o,c,h,f,l),e=1,a===!0&&(e|=24),a=st(3,null,null,e),t.current=a,a.stateNode=t,e=jh(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:e},Vh(a),t}function m0(t){return t?(t=gs,t):gs}function p0(t,e,n,i,s,a){s=m0(s),i.context===null?i.context=s:i.pendingContext=s,i=Wn(e),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=$n(t,i,e),n!==null&&(Je(n,t,e),Ga(n,t,e))}function Qp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function pd(t,e){Qp(t,e),(t=t.alternate)&&Qp(t,e)}function g0(t){if(t.tag===13||t.tag===31){var e=$i(t,67108864);e!==null&&Je(e,t,67108864),pd(t,67108864)}}function Xp(t){if(t.tag===13||t.tag===31){var e=ct();e=Ah(e);var n=$i(t,e);n!==null&&Je(n,t,e),pd(t,e)}}var Ro=!0;function rC(t,e,n,i){var s=I.T;I.T=null;var a=X.p;try{X.p=2,gd(t,e,n,i)}finally{X.p=a,I.T=s}}function lC(t,e,n,i){var s=I.T;I.T=null;var a=X.p;try{X.p=8,gd(t,e,n,i)}finally{X.p=a,I.T=s}}function gd(t,e,n,i){if(Ro){var s=Vf(i);if(s===null)Au(t,e,i,No,n),Wp(t,i);else if(cC(s,t,e,n,i))i.stopPropagation();else if(Wp(t,i),e&4&&-1<oC.indexOf(t)){for(;s!==null;){var a=ia(s);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var r=wi(a.pendingLanes);if(r!==0){var l=a;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var o=1<<31-ot(r);l.entanglements[1]|=o,r&=~o}Yt(a),!(Q&6)&&(_o=rt()+500,Vr(0))}}break;case 31:case 13:l=$i(a,2),l!==null&&Je(l,a,2),Ec(),pd(a,2)}if(a=Vf(i),a===null&&Au(t,e,i,No,n),a===s)break;s=a}s!==null&&i.stopPropagation()}else Au(t,e,i,null,n)}}function Vf(t){return t=Oh(t),_d(t)}var No=null;function _d(t){if(No=null,t=us(t),t!==null){var e=kr(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=U_(e),t!==null)return t;t=null}else if(n===31){if(t=z_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return No=t,null}function _0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(KS()){case P_:return 2;case q_:return 8;case no:case QS:return 32;case V_:return 268435456;default:return 32}default:return 32}}var Gf=!1,ei=null,ti=null,ni=null,yr=new Map,vr=new Map,Un=[],oC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wp(t,e){switch(t){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":yr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vr.delete(e.pointerId)}}function Aa(t,e,n,i,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},e!==null&&(e=ia(e),e!==null&&g0(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function cC(t,e,n,i,s){switch(e){case"focusin":return ei=Aa(ei,t,e,n,i,s),!0;case"dragenter":return ti=Aa(ti,t,e,n,i,s),!0;case"mouseover":return ni=Aa(ni,t,e,n,i,s),!0;case"pointerover":var a=s.pointerId;return yr.set(a,Aa(yr.get(a)||null,t,e,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,vr.set(a,Aa(vr.get(a)||null,t,e,n,i,s)),!0}return!1}function y0(t){var e=us(t.target);if(e!==null){var n=kr(e);if(n!==null){if(e=n.tag,e===13){if(e=U_(n),e!==null){t.blockedOn=e,km(t.priority,function(){Xp(n)});return}}else if(e===31){if(e=z_(n),e!==null){t.blockedOn=e,km(t.priority,function(){Xp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vf(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);of=i,n.target.dispatchEvent(i),of=null}else return e=ia(n),e!==null&&g0(e),t.blockedOn=n,!1;e.shift()}return!0}function $p(t,e,n){Yl(t)&&n.delete(e)}function uC(){Gf=!1,ei!==null&&Yl(ei)&&(ei=null),ti!==null&&Yl(ti)&&(ti=null),ni!==null&&Yl(ni)&&(ni=null),yr.forEach($p),vr.forEach($p)}function Cl(t,e){t.blockedOn===e&&(t.blockedOn=null,Gf||(Gf=!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,uC)))}var wl=null;function Zp(t){wl!==t&&(wl=t,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,function(){wl===t&&(wl=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],s=t[e+2];if(typeof i!="function"){if(_d(i||n)===null)continue;break}var a=ia(n);a!==null&&(t.splice(e,3),e-=3,Cf(a,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function Fs(t){function e(o){return Cl(o,t)}ei!==null&&Cl(ei,t),ti!==null&&Cl(ti,t),ni!==null&&Cl(ni,t),yr.forEach(e),vr.forEach(e);for(var n=0;n<Un.length;n++){var i=Un[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Un.length&&(n=Un[0],n.blockedOn===null);)y0(n),n.blockedOn===null&&Un.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],a=n[i+1],r=s[et]||null;if(typeof a=="function")r||Zp(n);else if(r){var l=null;if(a&&a.hasAttribute("formAction")){if(s=a,r=a[et]||null)l=r.formAction;else if(_d(s)!==null)continue}else l=r.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),Zp(n)}}}function v0(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(r){return s=r})},focusReset:"manual",scroll:"manual"})}function e(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),s!==null&&(s(),s=null)}}}function yd(t){this._internalRoot=t}Tc.prototype.render=yd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));var n=e.current,i=ct();p0(n,i,t,e,null,null)};Tc.prototype.unmount=yd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;p0(t.current,2,null,t,null,null),Ec(),e[na]=null}};function Tc(t){this._internalRoot=t}Tc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Q_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Un.length&&e!==0&&e<Un[n].priority;n++);Un.splice(n,0,t),n===0&&y0(t)}};var Jp=k_.version;if(Jp!=="19.2.3")throw Error(T(527,Jp,"19.2.3"));X.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=jS(e),t=t!==null?H_(t):null,t=t===null?null:t.stateNode,t};var fC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Al.isDisabled&&Al.supportsFiber)try{Lr=Al.inject(fC),lt=Al}catch{}}rc.createRoot=function(t,e){if(!L_(t))throw Error(T(299));var n=!1,i="",s=uv,a=fv,r=hv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=d0(t,1,!1,null,null,n,i,null,s,a,r,v0),t[na]=e.current,hd(t),new yd(e)};rc.hydrateRoot=function(t,e,n){if(!L_(t))throw Error(T(299));var i=!1,s="",a=uv,r=fv,l=hv,o=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),e=d0(t,1,!0,e,n??null,i,s,o,a,r,l,v0),e.context=m0(null),n=e.current,i=ct(),i=Ah(i),s=Wn(i),s.callback=null,$n(n,s,i),n=i,e.current.lanes=n,zr(e,n),Yt(e),t[na]=e.current,hd(t),new Tc(e)};rc.version="19.2.3";function E0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E0)}catch(t){console.error(t)}}E0(),N_.exports=rc;var hC=N_.exports;const dC=y_(hC);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eg="popstate";function mC(t={}){function e(i,s){let{pathname:a,search:r,hash:l}=i.location;return Yf("",{pathname:a,search:r,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Er(s)}return gC(e,n,null,t)}function fe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pC(){return Math.random().toString(36).substring(2,10)}function tg(t,e){return{usr:t.state,key:t.key,idx:e}}function Yf(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ca(e):e,state:n,key:e&&e.key||i||pC()}}function Er({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ca(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function gC(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,r=s.history,l="POP",o=null,c=h();c==null&&(c=0,r.replaceState({...r.state,idx:c},""));function h(){return(r.state||{idx:null}).idx}function f(){l="POP";let S=h(),p=S==null?null:S-c;c=S,o&&o({action:l,location:E.location,delta:p})}function u(S,p){l="PUSH";let m=Yf(E.location,S,p);c=h()+1;let g=tg(m,c),v=E.createHref(m);try{r.pushState(g,"",v)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;s.location.assign(v)}a&&o&&o({action:l,location:E.location,delta:1})}function d(S,p){l="REPLACE";let m=Yf(E.location,S,p);c=h();let g=tg(m,c),v=E.createHref(m);r.replaceState(g,"",v),a&&o&&o({action:l,location:E.location,delta:0})}function _(S){return _C(S)}let E={get action(){return l},get location(){return t(s,r)},listen(S){if(o)throw new Error("A history only accepts one active listener");return s.addEventListener(eg,f),o=S,()=>{s.removeEventListener(eg,f),o=null}},createHref(S){return e(s,S)},createURL:_,encodeLocation(S){let p=_(S);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:u,replace:d,go(S){return r.go(S)}};return E}function _C(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),fe(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Er(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function b0(t,e,n="/"){return yC(t,e,n,!1)}function yC(t,e,n,i){let s=typeof e=="string"?ca(e):e,a=En(s.pathname||"/",n);if(a==null)return null;let r=S0(t);vC(r);let l=null;for(let o=0;l==null&&o<r.length;++o){let c=OC(a);l=NC(r[o],c,i)}return l}function S0(t,e=[],n=[],i="",s=!1){let a=(r,l,o=s,c)=>{let h={relativePath:c===void 0?r.path||"":c,caseSensitive:r.caseSensitive===!0,childrenIndex:l,route:r};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(i)&&o)return;fe(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length)}let f=dn([i,h.relativePath]),u=n.concat(h);r.children&&r.children.length>0&&(fe(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),S0(r.children,e,u,f,o)),!(r.path==null&&!r.index)&&e.push({path:f,score:AC(f,r.index),routesMeta:u})};return t.forEach((r,l)=>{var o;if(r.path===""||!((o=r.path)!=null&&o.includes("?")))a(r,l);else for(let c of T0(r.path))a(r,l,!0,c)}),e}function T0(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let r=T0(i.join("/")),l=[];return l.push(...r.map(o=>o===""?a:[a,o].join("/"))),s&&l.push(...r),l.map(o=>t.startsWith("/")&&o===""?"/":o)}function vC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:RC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var EC=/^:[\w-]+$/,bC=3,SC=2,TC=1,CC=10,wC=-2,ng=t=>t==="*";function AC(t,e){let n=t.split("/"),i=n.length;return n.some(ng)&&(i+=wC),e&&(i+=SC),n.filter(s=>!ng(s)).reduce((s,a)=>s+(EC.test(a)?bC:a===""?TC:CC),i)}function RC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function NC(t,e,n=!1){let{routesMeta:i}=t,s={},a="/",r=[];for(let l=0;l<i.length;++l){let o=i[l],c=l===i.length-1,h=a==="/"?e:e.slice(a.length)||"/",f=xo({path:o.relativePath,caseSensitive:o.caseSensitive,end:c},h),u=o.route;if(!f&&c&&n&&!i[i.length-1].route.index&&(f=xo({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),r.push({params:s,pathname:dn([a,f.pathname]),pathnameBase:kC(dn([a,f.pathnameBase])),route:u}),f.pathnameBase!=="/"&&(a=dn([a,f.pathnameBase]))}return r}function xo(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=xC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],r=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce((c,{paramName:h,isOptional:f},u)=>{if(h==="*"){let _=l[u]||"";r=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const d=l[u];return f&&!d?c[h]=void 0:c[h]=(d||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:r,pattern:t}}function xC(t,e=!1,n=!0){Lt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,l,o)=>(i.push({paramName:l,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function OC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function En(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var C0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DC=t=>C0.test(t);function MC(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?ca(t):t,a;if(n)if(DC(n))a=n;else{if(n.includes("//")){let r=n;n=n.replace(/\/\/+/g,"/"),Lt(!1,`Pathnames cannot have embedded double slashes - normalizing ${r} -> ${n}`)}n.startsWith("/")?a=ig(n.substring(1),"/"):a=ig(n,e)}else a=e;return{pathname:a,search:LC(i),hash:UC(s)}}function ig(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function xu(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function w0(t){let e=IC(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function A0(t,e,n,i=!1){let s;typeof t=="string"?s=ca(t):(s={...t},fe(!s.pathname||!s.pathname.includes("?"),xu("?","pathname","search",s)),fe(!s.pathname||!s.pathname.includes("#"),xu("#","pathname","hash",s)),fe(!s.search||!s.search.includes("#"),xu("#","search","hash",s)));let a=t===""||s.pathname==="",r=a?"/":s.pathname,l;if(r==null)l=n;else{let f=e.length-1;if(!i&&r.startsWith("..")){let u=r.split("/");for(;u[0]==="..";)u.shift(),f-=1;s.pathname=u.join("/")}l=f>=0?e[f]:"/"}let o=MC(s,l),c=r&&r!=="/"&&r.endsWith("/"),h=(a||r===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(c||h)&&(o.pathname+="/"),o}var dn=t=>t.join("/").replace(/\/\/+/g,"/"),kC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,zC=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function HC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function BC(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var R0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function N0(t,e){let n=t;if(typeof n!="string"||!C0.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,s=!1;if(R0)try{let a=new URL(window.location.href),r=n.startsWith("//")?new URL(a.protocol+n):new URL(n),l=En(r.pathname,e);r.origin===a.origin&&l!=null?n=l+r.search+r.hash:s=!0}catch{Lt(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var x0=["POST","PUT","PATCH","DELETE"];new Set(x0);var jC=["GET",...x0];new Set(jC);var ua=b.createContext(null);ua.displayName="DataRouter";var Cc=b.createContext(null);Cc.displayName="DataRouterState";var PC=b.createContext(!1),O0=b.createContext({isTransitioning:!1});O0.displayName="ViewTransition";var qC=b.createContext(new Map);qC.displayName="Fetchers";var VC=b.createContext(null);VC.displayName="Await";var Rt=b.createContext(null);Rt.displayName="Navigation";var Fr=b.createContext(null);Fr.displayName="Location";var Ft=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ft.displayName="Route";var vd=b.createContext(null);vd.displayName="RouteError";var D0="REACT_ROUTER_ERROR",GC="REDIRECT",YC="ROUTE_ERROR_RESPONSE";function FC(t){if(t.startsWith(`${D0}:${GC}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function KC(t){if(t.startsWith(`${D0}:${YC}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new zC(e.status,e.statusText,e.data)}catch{}}function QC(t,{relative:e}={}){fe(Kr(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=b.useContext(Rt),{hash:s,pathname:a,search:r}=Xr(t,{relative:e}),l=a;return n!=="/"&&(l=a==="/"?n:dn([n,a])),i.createHref({pathname:l,search:r,hash:s})}function Kr(){return b.useContext(Fr)!=null}function Ei(){return fe(Kr(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Fr).location}var M0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function I0(t){b.useContext(Rt).static||b.useLayoutEffect(t)}function Qr(){let{isDataRoute:t}=b.useContext(Ft);return t?lw():XC()}function XC(){fe(Kr(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(ua),{basename:e,navigator:n}=b.useContext(Rt),{matches:i}=b.useContext(Ft),{pathname:s}=Ei(),a=JSON.stringify(w0(i)),r=b.useRef(!1);return I0(()=>{r.current=!0}),b.useCallback((o,c={})=>{if(Lt(r.current,M0),!r.current)return;if(typeof o=="number"){n.go(o);return}let h=A0(o,JSON.parse(a),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:dn([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,a,s,t])}b.createContext(null);function k0(){let{matches:t}=b.useContext(Ft),e=t[t.length-1];return e?e.params:{}}function Xr(t,{relative:e}={}){let{matches:n}=b.useContext(Ft),{pathname:i}=Ei(),s=JSON.stringify(w0(n));return b.useMemo(()=>A0(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function WC(t,e){return L0(t,e)}function L0(t,e,n,i,s){var m;fe(Kr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=b.useContext(Rt),{matches:r}=b.useContext(Ft),l=r[r.length-1],o=l?l.params:{},c=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let g=f&&f.path||"";z0(c,!f||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let u=Ei(),d;if(e){let g=typeof e=="string"?ca(e):e;fe(h==="/"||((m=g.pathname)==null?void 0:m.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${g.pathname}" was given in the \`location\` prop.`),d=g}else d=u;let _=d.pathname||"/",E=_;if(h!=="/"){let g=h.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(g.length).join("/")}let S=b0(t,{pathname:E});Lt(f||S!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),Lt(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let p=tw(S&&S.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:dn([h,a.encodeLocation?a.encodeLocation(g.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?h:dn([h,a.encodeLocation?a.encodeLocation(g.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathnameBase])})),r,n,i,s);return e&&p?b.createElement(Fr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},p):p}function $C(){let t=rw(),e=HC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},r=null;return console.error("Error handled by React Router default ErrorBoundary:",t),r=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:a},"ErrorBoundary")," or"," ",b.createElement("code",{style:a},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,r)}var ZC=b.createElement($C,null),U0=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=KC(t.digest);n&&(t=n)}let e=t!==void 0?b.createElement(Ft.Provider,{value:this.props.routeContext},b.createElement(vd.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?b.createElement(JC,{error:t},e):e}};U0.contextType=PC;var Ou=new WeakMap;function JC({children:t,error:e}){let{basename:n}=b.useContext(Rt);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=FC(e.digest);if(i){let s=Ou.get(e);if(s)throw s;let a=N0(i.location,n);if(R0&&!Ou.get(e))if(a.isExternal||i.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const r=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:i.replace}));throw Ou.set(e,r),r}return b.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function ew({routeContext:t,match:e,children:n}){let i=b.useContext(ua);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Ft.Provider,{value:t},n)}function tw(t,e=[],n=null,i=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,r=n==null?void 0:n.errors;if(r!=null){let h=a.findIndex(f=>f.route.id&&(r==null?void 0:r[f.route.id])!==void 0);fe(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,o=-1;if(n)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(o=h),f.route.id){let{loaderData:u,errors:d}=n,_=f.route.loader&&!u.hasOwnProperty(f.route.id)&&(!d||d[f.route.id]===void 0);if(f.route.lazy||_){l=!0,o>=0?a=a.slice(0,o+1):a=[a[0]];break}}}let c=n&&i?(h,f)=>{var u,d;i(h,{location:n.location,params:((d=(u=n.matches)==null?void 0:u[0])==null?void 0:d.params)??{},unstable_pattern:BC(n.matches),errorInfo:f})}:void 0;return a.reduceRight((h,f,u)=>{let d,_=!1,E=null,S=null;n&&(d=r&&f.route.id?r[f.route.id]:void 0,E=f.route.errorElement||ZC,l&&(o<0&&u===0?(z0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):o===u&&(_=!0,S=f.route.hydrateFallbackElement||null)));let p=e.concat(a.slice(0,u+1)),m=()=>{let g;return d?g=E:_?g=S:f.route.Component?g=b.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=h,b.createElement(ew,{match:f,routeContext:{outlet:h,matches:p,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||u===0)?b.createElement(U0,{location:n.location,revalidation:n.revalidation,component:E,error:d,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0},onError:c}):m()},null)}function Ed(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nw(t){let e=b.useContext(ua);return fe(e,Ed(t)),e}function iw(t){let e=b.useContext(Cc);return fe(e,Ed(t)),e}function sw(t){let e=b.useContext(Ft);return fe(e,Ed(t)),e}function bd(t){let e=sw(t),n=e.matches[e.matches.length-1];return fe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function aw(){return bd("useRouteId")}function rw(){var i;let t=b.useContext(vd),e=iw("useRouteError"),n=bd("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function lw(){let{router:t}=nw("useNavigate"),e=bd("useNavigate"),n=b.useRef(!1);return I0(()=>{n.current=!0}),b.useCallback(async(s,a={})=>{Lt(n.current,M0),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var sg={};function z0(t,e,n){!e&&!sg[t]&&(sg[t]=!0,Lt(!1,n))}b.memo(ow);function ow({routes:t,future:e,state:n,onError:i}){return L0(t,void 0,n,i,e)}function Ni(t){fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cw({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:a=!1,unstable_useTransitions:r}){fe(!Kr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),o=b.useMemo(()=>({basename:l,navigator:s,static:a,unstable_useTransitions:r,future:{}}),[l,s,a,r]);typeof n=="string"&&(n=ca(n));let{pathname:c="/",search:h="",hash:f="",state:u=null,key:d="default"}=n,_=b.useMemo(()=>{let E=En(c,l);return E==null?null:{location:{pathname:E,search:h,hash:f,state:u,key:d},navigationType:i}},[l,c,h,f,u,d,i]);return Lt(_!=null,`<Router basename="${l}"> is not able to match the URL "${c}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:b.createElement(Rt.Provider,{value:o},b.createElement(Fr.Provider,{children:e,value:_}))}function uw({children:t,location:e}){return WC(Ff(t),e)}function Ff(t,e=[]){let n=[];return b.Children.forEach(t,(i,s)=>{if(!b.isValidElement(i))return;let a=[...e,s];if(i.type===b.Fragment){n.push.apply(n,Ff(i.props.children,a));return}fe(i.type===Ni,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let r={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(r.children=Ff(i.props.children,a)),n.push(r)}),n}var Fl="get",Kl="application/x-www-form-urlencoded";function wc(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function fw(t){return wc(t)&&t.tagName.toLowerCase()==="button"}function hw(t){return wc(t)&&t.tagName.toLowerCase()==="form"}function dw(t){return wc(t)&&t.tagName.toLowerCase()==="input"}function mw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pw(t,e){return t.button===0&&(!e||e==="_self")&&!mw(t)}var Rl=null;function gw(){if(Rl===null)try{new FormData(document.createElement("form"),0),Rl=!1}catch{Rl=!0}return Rl}var _w=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Du(t){return t!=null&&!_w.has(t)?(Lt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kl}"`),null):t}function yw(t,e){let n,i,s,a,r;if(hw(t)){let l=t.getAttribute("action");i=l?En(l,e):null,n=t.getAttribute("method")||Fl,s=Du(t.getAttribute("enctype"))||Kl,a=new FormData(t)}else if(fw(t)||dw(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=t.getAttribute("formaction")||l.getAttribute("action");if(i=o?En(o,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Fl,s=Du(t.getAttribute("formenctype"))||Du(l.getAttribute("enctype"))||Kl,a=new FormData(l,t),!gw()){let{name:c,type:h,value:f}=t;if(h==="image"){let u=c?`${c}.`:"";a.append(`${u}x`,"0"),a.append(`${u}y`,"0")}else c&&a.append(c,f)}}else{if(wc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fl,i=null,s=Kl,r=t}return a&&s==="text/plain"&&(r=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sd(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vw(t,e,n,i){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${i}`:s.pathname=`${s.pathname}.${i}`:s.pathname==="/"?s.pathname=`_root.${i}`:e&&En(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function Ew(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bw(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Sw(t,e,n){let i=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let r=await Ew(a,n);return r.links?r.links():[]}return[]}));return Aw(i.flat(1).filter(bw).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function ag(t,e,n,i,s,a){let r=(o,c)=>n[c]?o.route.id!==n[c].route.id:!0,l=(o,c)=>{var h;return n[c].pathname!==o.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==o.params["*"]};return a==="assets"?e.filter((o,c)=>r(o,c)||l(o,c)):a==="data"?e.filter((o,c)=>{var f;let h=i.routes[o.route.id];if(!h||!h.hasLoader)return!1;if(r(o,c)||l(o,c))return!0;if(o.route.shouldRevalidate){let u=o.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:o.params,defaultShouldRevalidate:!0});if(typeof u=="boolean")return u}return!0}):[]}function Tw(t,e,{includeHydrateFallback:n}={}){return Cw(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function Cw(t){return[...new Set(t)]}function ww(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Aw(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let a=JSON.stringify(ww(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function H0(){let t=b.useContext(ua);return Sd(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Rw(){let t=b.useContext(Cc);return Sd(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Td=b.createContext(void 0);Td.displayName="FrameworkContext";function B0(){let t=b.useContext(Td);return Sd(t,"You must render this element inside a <HydratedRouter> element"),t}function Nw(t,e){let n=b.useContext(Td),[i,s]=b.useState(!1),[a,r]=b.useState(!1),{onFocus:l,onBlur:o,onMouseEnter:c,onMouseLeave:h,onTouchStart:f}=e,u=b.useRef(null);b.useEffect(()=>{if(t==="render"&&r(!0),t==="viewport"){let E=p=>{p.forEach(m=>{r(m.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return u.current&&S.observe(u.current),()=>{S.disconnect()}}},[t]),b.useEffect(()=>{if(i){let E=setTimeout(()=>{r(!0)},100);return()=>{clearTimeout(E)}}},[i]);let d=()=>{s(!0)},_=()=>{s(!1),r(!1)};return n?t!=="intent"?[a,u,{}]:[a,u,{onFocus:Ra(l,d),onBlur:Ra(o,_),onMouseEnter:Ra(c,d),onMouseLeave:Ra(h,_),onTouchStart:Ra(f,d)}]:[!1,u,{}]}function Ra(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function xw({page:t,...e}){let{router:n}=H0(),i=b.useMemo(()=>b0(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?b.createElement(Dw,{page:t,matches:i,...e}):null}function Ow(t){let{manifest:e,routeModules:n}=B0(),[i,s]=b.useState([]);return b.useEffect(()=>{let a=!1;return Sw(t,e,n).then(r=>{a||s(r)}),()=>{a=!0}},[t,e,n]),i}function Dw({page:t,matches:e,...n}){let i=Ei(),{future:s,manifest:a,routeModules:r}=B0(),{basename:l}=H0(),{loaderData:o,matches:c}=Rw(),h=b.useMemo(()=>ag(t,e,c,a,i,"data"),[t,e,c,a,i]),f=b.useMemo(()=>ag(t,e,c,a,i,"assets"),[t,e,c,a,i]),u=b.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let E=new Set,S=!1;if(e.forEach(m=>{var v;let g=a.routes[m.route.id];!g||!g.hasLoader||(!h.some(w=>w.route.id===m.route.id)&&m.route.id in o&&((v=r[m.route.id])!=null&&v.shouldRevalidate)||g.hasClientLoader?S=!0:E.add(m.route.id))}),E.size===0)return[];let p=vw(t,l,s.unstable_trailingSlashAwareDataRequests,"data");return S&&E.size>0&&p.searchParams.set("_routes",e.filter(m=>E.has(m.route.id)).map(m=>m.route.id).join(",")),[p.pathname+p.search]},[l,s.unstable_trailingSlashAwareDataRequests,o,i,a,h,e,t,r]),d=b.useMemo(()=>Tw(f,a),[f,a]),_=Ow(f);return b.createElement(b.Fragment,null,u.map(E=>b.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),d.map(E=>b.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),_.map(({key:E,link:S})=>b.createElement("link",{key:E,nonce:n.nonce,...S})))}function Mw(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Iw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Iw&&(window.__reactRouterVersion="7.12.0")}catch{}function kw({basename:t,children:e,unstable_useTransitions:n,window:i}){let s=b.useRef();s.current==null&&(s.current=mC({window:i,v5Compat:!0}));let a=s.current,[r,l]=b.useState({action:a.action,location:a.location}),o=b.useCallback(c=>{n===!1?l(c):b.startTransition(()=>l(c))},[n]);return b.useLayoutEffect(()=>a.listen(o),[a,o]),b.createElement(cw,{basename:t,children:e,location:r.location,navigationType:r.action,navigator:a,unstable_useTransitions:n})}var j0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P0=b.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:r,state:l,target:o,to:c,preventScrollReset:h,viewTransition:f,unstable_defaultShouldRevalidate:u,...d},_){let{basename:E,unstable_useTransitions:S}=b.useContext(Rt),p=typeof c=="string"&&j0.test(c),m=N0(c,E);c=m.to;let g=QC(c,{relative:s}),[v,w,O]=Nw(i,d),A=Hw(c,{replace:r,state:l,target:o,preventScrollReset:h,relative:s,viewTransition:f,unstable_defaultShouldRevalidate:u,unstable_useTransitions:S});function N(L){e&&e(L),L.defaultPrevented||A(L)}let M=b.createElement("a",{...d,...O,href:m.absoluteURL||g,onClick:m.isExternal||a?e:N,ref:Mw(_,w),target:o,"data-discover":!p&&n==="render"?"true":void 0});return v&&!p?b.createElement(b.Fragment,null,M,b.createElement(xw,{page:g})):M});P0.displayName="Link";var Lw=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:r,viewTransition:l,children:o,...c},h){let f=Xr(r,{relative:c.relative}),u=Ei(),d=b.useContext(Cc),{navigator:_,basename:E}=b.useContext(Rt),S=d!=null&&Vw(f)&&l===!0,p=_.encodeLocation?_.encodeLocation(f).pathname:f.pathname,m=u.pathname,g=d&&d.navigation&&d.navigation.location?d.navigation.location.pathname:null;n||(m=m.toLowerCase(),g=g?g.toLowerCase():null,p=p.toLowerCase()),g&&E&&(g=En(g,E)||g);const v=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let w=m===p||!s&&m.startsWith(p)&&m.charAt(v)==="/",O=g!=null&&(g===p||!s&&g.startsWith(p)&&g.charAt(p.length)==="/"),A={isActive:w,isPending:O,isTransitioning:S},N=w?e:void 0,M;typeof i=="function"?M=i(A):M=[i,w?"active":null,O?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(A):a;return b.createElement(P0,{...c,"aria-current":N,className:M,ref:h,style:L,to:r,viewTransition:l},typeof o=="function"?o(A):o)});Lw.displayName="NavLink";var Uw=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:a,method:r=Fl,action:l,onSubmit:o,relative:c,preventScrollReset:h,viewTransition:f,unstable_defaultShouldRevalidate:u,...d},_)=>{let{unstable_useTransitions:E}=b.useContext(Rt),S=Pw(),p=qw(l,{relative:c}),m=r.toLowerCase()==="get"?"get":"post",g=typeof l=="string"&&j0.test(l),v=w=>{if(o&&o(w),w.defaultPrevented)return;w.preventDefault();let O=w.nativeEvent.submitter,A=(O==null?void 0:O.getAttribute("formmethod"))||r,N=()=>S(O||w.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:s,state:a,relative:c,preventScrollReset:h,viewTransition:f,unstable_defaultShouldRevalidate:u});E&&n!==!1?b.startTransition(()=>N()):N()};return b.createElement("form",{ref:_,method:m,action:p,onSubmit:i?o:v,...d,"data-discover":!g&&t==="render"?"true":void 0})});Uw.displayName="Form";function zw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q0(t){let e=b.useContext(ua);return fe(e,zw(t)),e}function Hw(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:r,unstable_defaultShouldRevalidate:l,unstable_useTransitions:o}={}){let c=Qr(),h=Ei(),f=Xr(t,{relative:a});return b.useCallback(u=>{if(pw(u,e)){u.preventDefault();let d=n!==void 0?n:Er(h)===Er(f),_=()=>c(t,{replace:d,state:i,preventScrollReset:s,relative:a,viewTransition:r,unstable_defaultShouldRevalidate:l});o?b.startTransition(()=>_()):_()}},[h,c,f,n,i,e,t,s,a,r,l,o])}var Bw=0,jw=()=>`__${String(++Bw)}__`;function Pw(){let{router:t}=q0("useSubmit"),{basename:e}=b.useContext(Rt),n=aw(),i=t.fetch,s=t.navigate;return b.useCallback(async(a,r={})=>{let{action:l,method:o,encType:c,formData:h,body:f}=yw(a,e);if(r.navigate===!1){let u=r.fetcherKey||jw();await i(u,n,r.action||l,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||o,formEncType:r.encType||c,flushSync:r.flushSync})}else await s(r.action||l,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||o,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[i,s,e,n])}function qw(t,{relative:e}={}){let{basename:n}=b.useContext(Rt),i=b.useContext(Ft);fe(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...Xr(t||".",{relative:e})},r=Ei();if(t==null){a.search=r.search;let l=new URLSearchParams(a.search),o=l.getAll("index");if(o.some(h=>h==="")){l.delete("index"),o.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:dn([n,a.pathname])),Er(a)}function Vw(t,{relative:e}={}){let n=b.useContext(O0);fe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=q0("useViewTransitionState"),s=Xr(t,{relative:e});if(!n.isTransitioning)return!1;let a=En(n.currentLocation.pathname,i)||n.currentLocation.pathname,r=En(n.nextLocation.pathname,i)||n.nextLocation.pathname;return xo(s.pathname,r)!=null||xo(s.pathname,a)!=null}const Gw=()=>{};var rg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C=function(t,e){if(!t)throw fa(e)},fa=function(t){return new Error("Firebase Database ("+V0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Yw=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],r=t[n++],l=t[n++],o=((s&7)<<18|(a&63)<<12|(r&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(o>>10)),e[i++]=String.fromCharCode(56320+(o&1023))}else{const a=t[n++],r=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|r&63)}}return e.join("")},Cd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const a=t[s],r=s+1<t.length,l=r?t[s+1]:0,o=s+2<t.length,c=o?t[s+2]:0,h=a>>2,f=(a&3)<<4|l>>4;let u=(l&15)<<2|c>>6,d=c&63;o||(d=64,r||(u=64)),i.push(n[h],n[f],n[u],n[d])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(G0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Yw(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||l==null||c==null||f==null)throw new Fw;const u=a<<2|l>>4;if(i.push(u),c!==64){const d=l<<4&240|c>>2;if(i.push(d),f!==64){const _=c<<6&192|f;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Fw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y0=function(t){const e=G0(t);return Cd.encodeByteArray(e,!0)},Oo=function(t){return Y0(t).replace(/\./g,"")},Do=function(t){try{return Cd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t){return F0(void 0,t)}function F0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Qw(n)||(t[n]=F0(t[n],e[n]));return t}function Qw(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=()=>Xw().__FIREBASE_DEFAULTS__,$w=()=>{if(typeof process>"u"||typeof rg>"u")return;const t=rg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Zw=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Do(t[1]);return e&&JSON.parse(e)},wd=()=>{try{return Gw()||Ww()||$w()||Zw()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},K0=t=>{var e,n;return(n=(e=wd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Jw=t=>{const e=K0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Q0=()=>{var t;return(t=wd())==null?void 0:t.config},X0=t=>{var e;return(e=wd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function W0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const r={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Oo(JSON.stringify(n)),Oo(JSON.stringify(r)),""].join(".")}const Ja={};function tA(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ja))Ja[e]?t.emulator.push(e):t.prod.push(e);return t}function nA(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let lg=!1;function $0(t,e){if(typeof window>"u"||typeof document>"u"||!ha(window.location.host)||Ja[t]===e||Ja[t]||lg)return;Ja[t]=e;function n(u){return`__firebase__banner__${u}`}const i="__firebase__banner",a=tA().prod.length>0;function r(){const u=document.getElementById(i);u&&u.remove()}function l(u){u.style.display="flex",u.style.background="#7faaf0",u.style.position="fixed",u.style.bottom="5px",u.style.left="5px",u.style.padding=".5em",u.style.borderRadius="5px",u.style.alignItems="center"}function o(u,d){u.setAttribute("width","24"),u.setAttribute("id",d),u.setAttribute("height","24"),u.setAttribute("viewBox","0 0 24 24"),u.setAttribute("fill","none"),u.style.marginLeft="-6px"}function c(){const u=document.createElement("span");return u.style.cursor="pointer",u.style.marginLeft="16px",u.style.fontSize="24px",u.innerHTML=" &times;",u.onclick=()=>{lg=!0,r()},u}function h(u,d){u.setAttribute("id",d),u.innerText="Learn more",u.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",u.setAttribute("target","__blank"),u.style.paddingLeft="5px",u.style.textDecoration="underline"}function f(){const u=nA(i),d=n("text"),_=document.getElementById(d)||document.createElement("span"),E=n("learnmore"),S=document.getElementById(E)||document.createElement("a"),p=n("preprendIcon"),m=document.getElementById(p)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(u.created){const g=u.element;l(g),h(S,E);const v=c();o(m,p),g.append(m,_,S,v),document.body.appendChild(g)}a?(_.innerText="Preview backend disconnected.",m.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(m.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ad(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function iA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Z0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aA(){const t=Fe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rA(){return V0.NODE_ADMIN===!0}function lA(){try{return typeof indexedDB=="object"}catch{return!1}}function oA(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="FirebaseError";class bi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=cA,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$r.prototype.create)}}class $r{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],r=a?uA(a,i):"Error",l=`${this.serviceName}: ${r} (${s}).`;return new bi(s,l,i)}}function uA(t,e){return t.replace(fA,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const fA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t){return JSON.parse(t)}function Ae(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=function(t){let e={},n={},i={},s="";try{const a=t.split(".");e=br(Do(a[0])||""),n=br(Do(a[1])||""),s=a[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},hA=function(t){const e=J0(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},dA=function(t){const e=J0(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ks(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Kf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mo(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function qi(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const a=t[s],r=e[s];if(og(a)&&og(r)){if(!qi(a,r))return!1}else if(a!==r)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function og(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)i[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)i[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const u=i[f-3]^i[f-8]^i[f-14]^i[f-16];i[f]=(u<<1|u>>>31)&4294967295}let s=this.chain_[0],a=this.chain_[1],r=this.chain_[2],l=this.chain_[3],o=this.chain_[4],c,h;for(let f=0;f<80;f++){f<40?f<20?(c=l^a&(r^l),h=1518500249):(c=a^r^l,h=1859775393):f<60?(c=a&r|l&(a|r),h=2400959708):(c=a^r^l,h=3395469782);const u=(s<<5|s>>>27)+c+o+h+i[f]&4294967295;o=l,l=r,r=(a<<30|a>>>2)&4294967295,a=s,s=u}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+r&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+o&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const a=this.buf_;let r=this.inbuf_;for(;s<n;){if(r===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(a[r]=e.charCodeAt(s),++r,++s,r===this.blockSize){this.compress_(a),r=0;break}}else for(;s<n;)if(a[r]=e[s],++r,++s,r===this.blockSize){this.compress_(a),r=0;break}}this.inbuf_=r,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let a=24;a>=0;a-=8)e[i]=this.chain_[s]>>a&255,++i;return e}}function pA(t,e){const n=new gA(t,e);return n.subscribe.bind(n)}class gA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");_A(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Mu),s.error===void 0&&(s.error=Mu),s.complete===void 0&&(s.complete=Mu);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _A(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Mu(){}function Ac(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const a=s-55296;i++,C(i<t.length,"Surrogate pair missing trail surrogate.");const r=t.charCodeAt(i)-56320;s=65536+(a<<10)+r}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Rc=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t){return t&&t._delegate?t._delegate:t}class Vi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Wr;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bA(e))try{this.getOrInitializeService({instanceIdentifier:xi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xi){return this.instances.has(e)}getOptions(e=xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);i===l&&r.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:EA(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=xi){return this.component?this.component.multipleInstances?e:xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EA(t){return t===xi?void 0:t}function bA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(J||(J={}));const TA={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},CA=J.INFO,wA={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},AA=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=wA[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rd{constructor(e){this.name=e,this._logLevel=CA,this._logHandler=AA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in J))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...e),this._logHandler(this,J.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...e),this._logHandler(this,J.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,J.INFO,...e),this._logHandler(this,J.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,J.WARN,...e),this._logHandler(this,J.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...e),this._logHandler(this,J.ERROR,...e)}}const RA=(t,e)=>e.some(n=>t instanceof n);let cg,ug;function NA(){return cg||(cg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xA(){return ug||(ug=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eE=new WeakMap,Qf=new WeakMap,tE=new WeakMap,Iu=new WeakMap,Nd=new WeakMap;function OA(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",r)},a=()=>{n(ii(t.result)),s()},r=()=>{i(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",r)});return e.then(n=>{n instanceof IDBCursor&&eE.set(n,t)}).catch(()=>{}),Nd.set(e,t),e}function DA(t){if(Qf.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",r),t.removeEventListener("abort",r)},a=()=>{n(),s()},r=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",r),t.addEventListener("abort",r)});Qf.set(t,e)}let Xf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ii(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MA(t){Xf=t(Xf)}function IA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(ku(this),e,...n);return tE.set(i,e.sort?e.sort():[e]),ii(i)}:xA().includes(t)?function(...e){return t.apply(ku(this),e),ii(eE.get(this))}:function(...e){return ii(t.apply(ku(this),e))}}function kA(t){return typeof t=="function"?IA(t):(t instanceof IDBTransaction&&DA(t),RA(t,NA())?new Proxy(t,Xf):t)}function ii(t){if(t instanceof IDBRequest)return OA(t);if(Iu.has(t))return Iu.get(t);const e=kA(t);return e!==t&&(Iu.set(t,e),Nd.set(e,t)),e}const ku=t=>Nd.get(t);function LA(t,e,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const r=indexedDB.open(t,e),l=ii(r);return i&&r.addEventListener("upgradeneeded",o=>{i(ii(r.result),o.oldVersion,o.newVersion,ii(r.transaction),o)}),n&&r.addEventListener("blocked",o=>n(o.oldVersion,o.newVersion,o)),l.then(o=>{a&&o.addEventListener("close",()=>a()),s&&o.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const UA=["get","getKey","getAll","getAllKeys","count"],zA=["put","add","delete","clear"],Lu=new Map;function fg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lu.get(e))return Lu.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=zA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||UA.includes(n)))return;const a=async function(r,...l){const o=this.transaction(r,s?"readwrite":"readonly");let c=o.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&o.done]))[0]};return Lu.set(e,a),a}MA(t=>({...t,get:(e,n,i)=>fg(e,n)||t.get(e,n,i),has:(e,n)=>!!fg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function BA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wf="@firebase/app",hg="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn=new Rd("@firebase/app"),jA="@firebase/app-compat",PA="@firebase/analytics-compat",qA="@firebase/analytics",VA="@firebase/app-check-compat",GA="@firebase/app-check",YA="@firebase/auth",FA="@firebase/auth-compat",KA="@firebase/database",QA="@firebase/data-connect",XA="@firebase/database-compat",WA="@firebase/functions",$A="@firebase/functions-compat",ZA="@firebase/installations",JA="@firebase/installations-compat",eR="@firebase/messaging",tR="@firebase/messaging-compat",nR="@firebase/performance",iR="@firebase/performance-compat",sR="@firebase/remote-config",aR="@firebase/remote-config-compat",rR="@firebase/storage",lR="@firebase/storage-compat",oR="@firebase/firestore",cR="@firebase/ai",uR="@firebase/firestore-compat",fR="firebase",hR="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="[DEFAULT]",dR={[Wf]:"fire-core",[jA]:"fire-core-compat",[qA]:"fire-analytics",[PA]:"fire-analytics-compat",[GA]:"fire-app-check",[VA]:"fire-app-check-compat",[YA]:"fire-auth",[FA]:"fire-auth-compat",[KA]:"fire-rtdb",[QA]:"fire-data-connect",[XA]:"fire-rtdb-compat",[WA]:"fire-fn",[$A]:"fire-fn-compat",[ZA]:"fire-iid",[JA]:"fire-iid-compat",[eR]:"fire-fcm",[tR]:"fire-fcm-compat",[nR]:"fire-perf",[iR]:"fire-perf-compat",[sR]:"fire-rc",[aR]:"fire-rc-compat",[rR]:"fire-gcs",[lR]:"fire-gcs-compat",[oR]:"fire-fst",[uR]:"fire-fst-compat",[cR]:"fire-vertex","fire-js":"fire-js",[fR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new Map,mR=new Map,Zf=new Map;function dg(t,e){try{t.container.addComponent(e)}catch(n){bn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qs(t){const e=t.name;if(Zf.has(e))return bn.debug(`There were multiple attempts to register component ${e}.`),!1;Zf.set(e,t);for(const n of Io.values())dg(n,t);for(const n of mR.values())dg(n,t);return!0}function xd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ot(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},si=new $r("app","Firebase",pR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=hR;function nE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:$f,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw si.create("bad-app-name",{appName:String(s)});if(n||(n=Q0()),!n)throw si.create("no-options");const a=Io.get(s);if(a){if(qi(n,a.options)&&qi(i,a.config))return a;throw si.create("duplicate-app",{appName:s})}const r=new SA(s);for(const o of Zf.values())r.addComponent(o);const l=new gR(n,i,r);return Io.set(s,l),l}function iE(t=$f){const e=Io.get(t);if(!e&&t===$f&&Q0())return nE();if(!e)throw si.create("no-app",{appName:t});return e}function ai(t,e,n){let i=dR[t]??t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const r=[`Unable to register library "${i}" with version "${e}":`];s&&r.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&r.push("and"),a&&r.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bn.warn(r.join(" "));return}Qs(new Vi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="firebase-heartbeat-database",yR=1,Sr="firebase-heartbeat-store";let Uu=null;function sE(){return Uu||(Uu=LA(_R,yR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sr)}catch(n){console.warn(n)}}}}).catch(t=>{throw si.create("idb-open",{originalErrorMessage:t.message})})),Uu}async function vR(t){try{const n=(await sE()).transaction(Sr),i=await n.objectStore(Sr).get(aE(t));return await n.done,i}catch(e){if(e instanceof bi)bn.warn(e.message);else{const n=si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bn.warn(n.message)}}}async function mg(t,e){try{const i=(await sE()).transaction(Sr,"readwrite");await i.objectStore(Sr).put(e,aE(t)),await i.done}catch(n){if(n instanceof bi)bn.warn(n.message);else{const i=si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bn.warn(i.message)}}}function aE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=1024,bR=30;class SR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=pg();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(r=>r.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>bR){const r=wR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){bn.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pg(),{heartbeatsToSend:i,unsentEntries:s}=TR(this._heartbeatsCache.heartbeats),a=Oo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return bn.warn(n),""}}}function pg(){return new Date().toISOString().substring(0,10)}function TR(t,e=ER){const n=[];let i=t.slice();for(const s of t){const a=n.find(r=>r.agent===s.agent);if(a){if(a.dates.push(s.date),gg(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),gg(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class CR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lA()?oA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return mg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return mg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function gg(t){return Oo(JSON.stringify({version:2,heartbeats:t})).length}function wR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t){Qs(new Vi("platform-logger",e=>new HA(e),"PRIVATE")),Qs(new Vi("heartbeat",e=>new SR(e),"PRIVATE")),ai(Wf,hg,t),ai(Wf,hg,"esm2020"),ai("fire-js","")}AR("");function rE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RR=rE,lE=new $r("auth","Firebase",rE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=new Rd("@firebase/auth");function NR(t,...e){ko.logLevel<=J.WARN&&ko.warn(`Auth (${ma}): ${t}`,...e)}function Ql(t,...e){ko.logLevel<=J.ERROR&&ko.error(`Auth (${ma}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t,...e){throw Od(t,...e)}function qt(t,...e){return Od(t,...e)}function oE(t,e,n){const i={...RR(),[e]:n};return new $r("auth","Firebase",i).create(e,{appName:t.name})}function ri(t){return oE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Od(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return lE.create(t,...e)}function k(t,e,...n){if(!t)throw Od(e,...n)}function ln(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ql(e),new Error(e)}function Tn(t,e){t||ln(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function xR(){return _g()==="http:"||_g()==="https:"}function _g(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xR()||sA()||"connection"in navigator)?navigator.onLine:!0}function DR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tn(n>e,"Short delay should be less than long delay!"),this.isMobile=Ad()||Z0()}get(){return OR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t,e){Tn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kR=new Zr(3e4,6e4);function Nc(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function pa(t,e,n,i,s={}){return uE(t,s,async()=>{let a={},r={};i&&(e==="GET"?r=i:a={body:JSON.stringify(i)});const l=da({key:t.config.apiKey,...r}).slice(1),o=await t._getAdditionalHeaders();o["Content-Type"]="application/json",t.languageCode&&(o["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:o,...a};return iA()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&ha(t.emulatorConfig.host)&&(c.credentials="include"),cE.fetch()(await hE(t,t.config.apiHost,n,l),c)})}async function uE(t,e,n){t._canInitEmulator=!1;const i={...MR,...e};try{const s=new LR(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const r=await a.json();if("needConfirmation"in r)throw Nl(t,"account-exists-with-different-credential",r);if(a.ok&&!("errorMessage"in r))return r;{const l=a.ok?r.errorMessage:r.error.message,[o,c]=l.split(" : ");if(o==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nl(t,"credential-already-in-use",r);if(o==="EMAIL_EXISTS")throw Nl(t,"email-already-in-use",r);if(o==="USER_DISABLED")throw Nl(t,"user-disabled",r);const h=i[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw oE(t,h,c);Sn(t,h)}}catch(s){if(s instanceof bi)throw s;Sn(t,"network-request-failed",{message:String(s)})}}async function fE(t,e,n,i,s={}){const a=await pa(t,e,n,i,s);return"mfaPendingCredential"in a&&Sn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function hE(t,e,n,i){const s=`${e}${n}?${i}`,a=t,r=a.config.emulator?Dd(t.config,s):`${t.config.apiScheme}://${s}`;return IR.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(r).toString():r}class LR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(qt(this.auth,"network-request-failed")),kR.get())})}}function Nl(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=qt(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(t,e){return pa(t,"POST","/v1/accounts:delete",e)}async function Lo(t,e){return pa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zR(t,e=!1){const n=ht(t),i=await n.getIdToken(e),s=Md(i);k(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,r=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:er(zu(s.auth_time)),issuedAtTime:er(zu(s.iat)),expirationTime:er(zu(s.exp)),signInProvider:r||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function zu(t){return Number(t)*1e3}function Md(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Ql("JWT malformed, contained fewer than 3 sections"),null;try{const s=Do(n);return s?JSON.parse(s):(Ql("Failed to decode base64 JWT payload"),null)}catch(s){return Ql("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function yg(t){const e=Md(t);return k(e,"internal-error"),k(typeof e.exp<"u","internal-error"),k(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tr(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof bi&&HR(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function HR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=er(this.lastLoginAt),this.creationTime=er(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(t){var f;const e=t.auth,n=await t.getIdToken(),i=await Tr(t,Lo(e,{idToken:n}));k(i==null?void 0:i.users.length,e,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=(f=s.providerUserInfo)!=null&&f.length?dE(s.providerUserInfo):[],r=PR(t.providerData,a),l=t.isAnonymous,o=!(t.email&&s.passwordHash)&&!(r!=null&&r.length),c=l?o:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new eh(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function jR(t){const e=ht(t);await Uo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PR(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function dE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(t,e){const n=await uE(t,{},async()=>{const i=da({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,r=await hE(t,s,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:l,body:i};return t.emulatorConfig&&ha(t.emulatorConfig.host)&&(o.credentials="include"),cE.fetch()(r,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VR(t,e){return pa(t,"POST","/v2/accounts:revokeToken",Nc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(typeof e.idToken<"u","internal-error"),k(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){k(e.length!==0,"internal-error");const n=yg(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(k(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await qR(e,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,r=new xs;return i&&(k(typeof i=="string","internal-error",{appName:e}),r.refreshToken=i),s&&(k(typeof s=="string","internal-error",{appName:e}),r.accessToken=s),a&&(k(typeof a=="number","internal-error",{appName:e}),r.expirationTime=a),r}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xs,this.toJSON())}_performRefresh(){return ln("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t,e){k(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mt{constructor({uid:e,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new BR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new eh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Tr(this,this.stsTokenManager.getToken(this.auth,e));return k(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zR(this,e)}reload(){return jR(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Uo(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ot(this.auth.app))return Promise.reject(ri(this.auth));const e=await this.getIdToken();return await Tr(this,UR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,r=n.photoURL??void 0,l=n.tenantId??void 0,o=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:u,isAnonymous:d,providerData:_,stsTokenManager:E}=n;k(f&&E,e,"internal-error");const S=xs.fromJSON(this.name,E);k(typeof f=="string",e,"internal-error"),On(i,e.name),On(s,e.name),k(typeof u=="boolean",e,"internal-error"),k(typeof d=="boolean",e,"internal-error"),On(a,e.name),On(r,e.name),On(l,e.name),On(o,e.name),On(c,e.name),On(h,e.name);const p=new Mt({uid:f,auth:e,email:s,emailVerified:u,displayName:i,isAnonymous:d,photoURL:r,phoneNumber:a,tenantId:l,stsTokenManager:S,createdAt:c,lastLoginAt:h});return _&&Array.isArray(_)&&(p.providerData=_.map(m=>({...m}))),o&&(p._redirectEventId=o),p}static async _fromIdTokenResponse(e,n,i=!1){const s=new xs;s.updateFromServerResponse(n);const a=new Mt({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Uo(a),a}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];k(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?dE(s.providerUserInfo):[],r=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),l=new xs;l.updateFromIdToken(i);const o=new Mt({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:r}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new eh(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(o,c),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=new Map;function on(t){Tn(t instanceof Function,"Expected a class definition");let e=vg.get(t);return e?(Tn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vg.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mE.type="NONE";const Eg=mE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(t,e,n){return`firebase:${t}:${e}:${n}`}class Os{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=Xl(this.userKey,s.apiKey,a),this.fullPersistenceKey=Xl("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lo(this.auth,{idToken:e}).catch(()=>{});return n?Mt._fromGetAccountInfoResponse(this.auth,n,e):null}return Mt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Os(on(Eg),e,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=s[0]||on(Eg);const r=Xl(i,e.config.apiKey,e.name);let l=null;for(const c of n)try{const h=await c._get(r);if(h){let f;if(typeof h=="string"){const u=await Lo(e,{idToken:h}).catch(()=>{});if(!u)break;f=await Mt._fromGetAccountInfoResponse(e,u,h)}else f=Mt._fromJSON(e,h);c!==a&&(l=f),a=c;break}}catch{}const o=s.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!o.length?new Os(a,e,i):(a=o[0],l&&await a._set(r,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(r)}catch{}})),new Os(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EE(e))return"Blackberry";if(bE(e))return"Webos";if(gE(e))return"Safari";if((e.includes("chrome/")||_E(e))&&!e.includes("edge/"))return"Chrome";if(vE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function pE(t=Fe()){return/firefox\//i.test(t)}function gE(t=Fe()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _E(t=Fe()){return/crios\//i.test(t)}function yE(t=Fe()){return/iemobile/i.test(t)}function vE(t=Fe()){return/android/i.test(t)}function EE(t=Fe()){return/blackberry/i.test(t)}function bE(t=Fe()){return/webos/i.test(t)}function Id(t=Fe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GR(t=Fe()){var e;return Id(t)&&!!((e=window.navigator)!=null&&e.standalone)}function YR(){return aA()&&document.documentMode===10}function SE(t=Fe()){return Id(t)||vE(t)||bE(t)||EE(t)||/windows phone/i.test(t)||yE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t,e=[]){let n;switch(t){case"Browser":n=bg(Fe());break;case"Worker":n=`${bg(Fe())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ma}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((r,l)=>{try{const o=e(a);r(o)}catch(o){l(o)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(t,e={}){return pa(t,"GET","/v2/passwordPolicy",Nc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=6;class XR{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??QR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sg(this),this.idTokenSubscription=new Sg(this),this.beforeStateQueue=new FR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=on(n)),this._initializationPromise=this.queue(async()=>{var i,s,a;if(!this._deleted&&(this.persistenceManager=await Os.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lo(this,{idToken:e}),i=await Mt._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Ot(this.app)){const r=this.app.settings.authIdToken;return r?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(r).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=i==null?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);(!r||r===l)&&(o!=null&&o.user)&&(i=o.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(r){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(r))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return k(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uo(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ot(this.app))return Promise.reject(ri(this));const n=e?ht(e):null;return n&&k(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&k(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ot(this.app)?Promise.reject(ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ot(this.app)?Promise.reject(ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(on(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KR(this),n=new XR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $r("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await VR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&on(e)||this._popupRedirectResolver;k(n,this,"argument-error"),this.redirectPersistenceManager=await Os.create(this,[on(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let r=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(k(l,this,"internal-error"),l.then(()=>{r||a(this.currentUser)}),typeof n=="function"){const o=e.addObserver(n,i,s);return()=>{r=!0,o()}}else{const o=e.addObserver(n);return()=>{r=!0,o()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(Ot(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&NR(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function xc(t){return ht(t)}class Sg{constructor(e){this.auth=e,this.observer=null,this.addObserver=pA(n=>this.observer=n)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $R(t){kd=t}function ZR(t){return kd.loadJS(t)}function JR(){return kd.gapiScript}function eN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(t,e){const n=xd(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(qi(a,e??{}))return s;Sn(s,"already-initialized")}return n.initialize({options:e})}function nN(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(on);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function iN(t,e,n){const i=xc(t);k(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,a=CE(e),{host:r,port:l}=sN(e),o=l===null?"":`:${l}`,c={url:`${a}//${r}${o}/`},h=Object.freeze({host:r,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){k(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),k(qi(c,i.config.emulator)&&qi(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,ha(r)?(W0(`${a}//${r}${o}`),$0("Auth",!0)):aN()}function CE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sN(t){const e=CE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:Tg(i.substr(a.length+1))}}else{const[a,r]=i.split(":");return{host:a,port:Tg(r)}}}function Tg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ln("not implemented")}_getIdTokenResponse(e){return ln("not implemented")}_linkToIdToken(e,n){return ln("not implemented")}_getReauthenticationResolver(e){return ln("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ds(t,e){return fE(t,"POST","/v1/accounts:signInWithIdp",Nc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="http://localhost";class Gi extends wE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Gi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Sn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...a}=n;if(!i||!s)return null;const r=new Gi(i,s);return r.idToken=a.idToken||void 0,r.accessToken=a.accessToken||void 0,r.secret=a.secret,r.nonce=a.nonce,r.pendingToken=a.pendingToken||null,r}_getIdTokenResponse(e){const n=this.buildRequest();return Ds(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ds(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ds(e,n)}buildRequest(){const e={requestUri:rN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=da(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends AE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn extends Jr{constructor(){super("facebook.com")}static credential(e){return Gi._fromParams({providerId:zn.PROVIDER_ID,signInMethod:zn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zn.credentialFromTaggedObject(e)}static credentialFromError(e){return zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zn.credential(e.oauthAccessToken)}catch{return null}}}zn.FACEBOOK_SIGN_IN_METHOD="facebook.com";zn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn extends Jr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Gi._fromParams({providerId:Hn.PROVIDER_ID,signInMethod:Hn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hn.credentialFromTaggedObject(e)}static credentialFromError(e){return Hn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Hn.credential(n,i)}catch{return null}}}Hn.GOOGLE_SIGN_IN_METHOD="google.com";Hn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn extends Jr{constructor(){super("github.com")}static credential(e){return Gi._fromParams({providerId:Bn.PROVIDER_ID,signInMethod:Bn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bn.credentialFromTaggedObject(e)}static credentialFromError(e){return Bn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bn.credential(e.oauthAccessToken)}catch{return null}}}Bn.GITHUB_SIGN_IN_METHOD="github.com";Bn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn extends Jr{constructor(){super("twitter.com")}static credential(e,n){return Gi._fromParams({providerId:jn.PROVIDER_ID,signInMethod:jn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return jn.credentialFromTaggedObject(e)}static credentialFromError(e){return jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return jn.credential(n,i)}catch{return null}}}jn.TWITTER_SIGN_IN_METHOD="twitter.com";jn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(t,e){return fE(t,"POST","/v1/accounts:signUp",Nc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const a=await Mt._fromIdTokenResponse(e,i,s),r=Cg(i);return new di({user:a,providerId:r,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=Cg(i);return new di({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function Cg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(t){var s;if(Ot(t.app))return Promise.reject(ri(t));const e=xc(t);if(await e._initializationPromise,(s=e.currentUser)!=null&&s.isAnonymous)return new di({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await lN(e,{returnSecureToken:!0}),i=await di._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends bi{constructor(e,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,zo.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new zo(e,n,i,s)}}function RE(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?zo._fromErrorAndOperation(t,a,e,i):a})}async function cN(t,e,n=!1){const i=await Tr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return di._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(t,e,n=!1){const{auth:i}=t;if(Ot(i.app))return Promise.reject(ri(i));const s="reauthenticate";try{const a=await Tr(t,RE(i,s,e,t),n);k(a.idToken,i,"internal-error");const r=Md(a.idToken);k(r,i,"internal-error");const{sub:l}=r;return k(t.uid===l,i,"user-mismatch"),di._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Sn(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(t,e,n=!1){if(Ot(t.app))return Promise.reject(ri(t));const i="signIn",s=await RE(t,i,e),a=await di._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(a.user),a}function hN(t,e,n,i){return ht(t).onIdTokenChanged(e,n,i)}function dN(t,e,n){return ht(t).beforeAuthStateChanged(e,n)}function mN(t,e,n,i){return ht(t).onAuthStateChanged(e,n,i)}const Ho="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ho,"1"),this.storage.removeItem(Ho),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=1e3,gN=10;class xE extends NE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((r,l,o)=>{this.notifyListeners(r,o)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const r=this.storage.getItem(i);!n&&this.localCache[i]===r||this.notifyListeners(i,r)},a=this.storage.getItem(i);YR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,gN):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},pN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xE.type="LOCAL";const _N=xE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE extends NE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}OE.type="SESSION";const DE=OE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Oc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:a}=n.data,r=this.handlersMap[s];if(!(r!=null&&r.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(r).map(async c=>c(n.origin,a)),o=await yN(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:o})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,r;return new Promise((l,o)=>{const c=Ld("",20);s.port1.start();const h=setTimeout(()=>{o(new Error("unsupported_event"))},i);r={messageChannel:s,onMessage(f){const u=f;if(u.data.eventId===c)switch(u.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(u.data.response);break;default:clearTimeout(h),clearTimeout(a),o(new Error("invalid_response"));break}}},this.handlers.add(r),s.port1.addEventListener("message",r.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{r&&this.removeMessageHandler(r)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return window}function EN(t){Vt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(){return typeof Vt().WorkerGlobalScope<"u"&&typeof Vt().importScripts=="function"}async function bN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function TN(){return ME()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="firebaseLocalStorageDb",CN=1,Bo="firebaseLocalStorage",kE="fbase_key";class el{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dc(t,e){return t.transaction([Bo],e?"readwrite":"readonly").objectStore(Bo)}function wN(){const t=indexedDB.deleteDatabase(IE);return new el(t).toPromise()}function th(){const t=indexedDB.open(IE,CN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Bo,{keyPath:kE})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Bo)?e(i):(i.close(),await wN(),e(await th()))})})}async function wg(t,e,n){const i=Dc(t,!0).put({[kE]:e,value:n});return new el(i).toPromise()}async function AN(t,e){const n=Dc(t,!1).get(e),i=await new el(n).toPromise();return i===void 0?null:i.value}function Ag(t,e){const n=Dc(t,!0).delete(e);return new el(n).toPromise()}const RN=800,NN=3;class LE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await th(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>NN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ME()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oc._getInstance(TN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await bN(),!this.activeServiceWorker)return;this.sender=new vN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await th();return await wg(e,Ho,"1"),await Ag(e,Ho),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>wg(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>AN(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ag(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Dc(s,!1).getAll();return new el(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LE.type="LOCAL";const xN=LE;new Zr(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t,e){return e?on(e):(k(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends wE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ds(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ds(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ds(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DN(t){return fN(t.auth,new Ud(t),t.bypassAuthState)}function MN(t){const{auth:e,user:n}=t;return k(n,e,"internal-error"),uN(n,new Ud(t),t.bypassAuthState)}async function IN(t){const{auth:e,user:n}=t;return k(n,e,"internal-error"),cN(n,new Ud(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,n,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:r,type:l}=e;if(r){this.reject(r);return}const o={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(o))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DN;case"linkViaPopup":case"linkViaRedirect":return IN;case"reauthViaPopup":case"reauthViaRedirect":return MN;default:Sn(this.auth,"internal-error")}}resolve(e){Tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=new Zr(2e3,1e4);class Es extends UE{constructor(e,n,i,s,a){super(e,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,Es.currentPopupAction&&Es.currentPopupAction.cancel(),Es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return k(e,this.auth,"internal-error"),e}async onExecution(){Tn(this.filter.length===1,"Popup operations only handle one event");const e=Ld();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kN.get())};e()}}Es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="pendingRedirect",Wl=new Map;class UN extends UE{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Wl.get(this.auth._key());if(!e){try{const i=await zN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Wl.set(this.auth._key(),e)}return this.bypassAuthState||Wl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zN(t,e){const n=jN(e),i=BN(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function HN(t,e){Wl.set(t._key(),e)}function BN(t){return on(t._redirectPersistence)}function jN(t){return Xl(LN,t.config.apiKey,t.name)}async function PN(t,e,n=!1){if(Ot(t.app))return Promise.reject(ri(t));const i=xc(t),s=ON(i,e),r=await new UN(i,s,n).execute();return r&&!n&&(delete r.user._redirectEventId,await i._persistUserIfCurrent(r.user),await i._setRedirectUser(null,e)),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=10*60*1e3;class VN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!zE(e)){const s=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(qt(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rg(e))}saveEventToCache(e){this.cachedEventUids.add(Rg(e)),this.lastProcessedEventTime=Date.now()}}function Rg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(t,e={}){return pa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KN=/^https?/;async function QN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await YN(t);for(const n of e)try{if(XN(n))return}catch{}Sn(t,"unauthorized-domain")}function XN(t){const e=Jf(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return r.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&r.hostname===i}if(!KN.test(n))return!1;if(FN.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=new Zr(3e4,6e4);function Ng(){const t=Vt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $N(t){return new Promise((e,n)=>{var s,a,r;function i(){Ng(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ng(),n(qt(t,"network-request-failed"))},timeout:WN.get()})}if((a=(s=Vt().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((r=Vt().gapi)!=null&&r.load)i();else{const l=eN("iframefcb");return Vt()[l]=()=>{gapi.load?i():n(qt(t,"network-request-failed"))},ZR(`${JR()}?onload=${l}`).catch(o=>n(o))}}).catch(e=>{throw $l=null,e})}let $l=null;function ZN(t){return $l=$l||$N(t),$l}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=new Zr(5e3,15e3),ex="__/auth/iframe",tx="emulator/auth/iframe",nx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ix=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sx(t){const e=t.config;k(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Dd(e,tx):`https://${t.config.authDomain}/${ex}`,i={apiKey:e.apiKey,appName:t.name,v:ma},s=ix.get(t.config.apiHost);s&&(i.eid=s);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${da(i).slice(1)}`}async function ax(t){const e=await ZN(t),n=Vt().gapi;return k(n,t,"internal-error"),e.open({where:document.body,url:sx(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nx,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const r=qt(t,"network-request-failed"),l=Vt().setTimeout(()=>{a(r)},JN.get());function o(){Vt().clearTimeout(l),s(i)}i.ping(o).then(o,()=>{a(r)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lx=500,ox=600,cx="_blank",ux="http://localhost";class xg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fx(t,e,n,i=lx,s=ox){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),r=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const o={...rx,width:i.toString(),height:s.toString(),top:a,left:r},c=Fe().toLowerCase();n&&(l=_E(c)?cx:n),pE(c)&&(e=e||ux,o.scrollbars="yes");const h=Object.entries(o).reduce((u,[d,_])=>`${u}${d}=${_},`,"");if(GR(c)&&l!=="_self")return hx(e||"",l),new xg(null);const f=window.open(e||"",l,h);k(f,t,"popup-blocked");try{f.focus()}catch{}return new xg(f)}function hx(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="__/auth/handler",mx="emulator/auth/handler",px=encodeURIComponent("fac");async function Og(t,e,n,i,s,a){k(t.config.authDomain,t,"auth-domain-config-required"),k(t.config.apiKey,t,"invalid-api-key");const r={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ma,eventId:s};if(e instanceof AE){e.setDefaultLanguage(t.languageCode),r.providerId=e.providerId||"",Kf(e.getCustomParameters())||(r.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))r[h]=f}if(e instanceof Jr){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(r.scopes=h.join(","))}t.tenantId&&(r.tid=t.tenantId);const l=r;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const o=await t._getAppCheckToken(),c=o?`#${px}=${encodeURIComponent(o)}`:"";return`${gx(t)}?${da(l).slice(1)}${c}`}function gx({config:t}){return t.emulator?Dd(t,mx):`https://${t.authDomain}/${dx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu="webStorageSupport";class _x{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DE,this._completeRedirectFn=PN,this._overrideRedirectResult=HN}async _openPopup(e,n,i,s){var r;Tn((r=this.eventManagers[e._key()])==null?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await Og(e,n,i,Jf(),s);return fx(e,a,Ld())}async _openRedirect(e,n,i,s){await this._originValidation(e);const a=await Og(e,n,i,Jf(),s);return EN(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Tn(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await ax(e),i=new VN(e);return n.register("authEvent",s=>(k(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hu,{type:Hu},s=>{var r;const a=(r=s==null?void 0:s[0])==null?void 0:r[Hu];a!==void 0&&n(!!a),Sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SE()||gE()||Id()}}const yx=_x;var Dg="@firebase/auth",Mg="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bx(t){Qs(new Vi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:r,authDomain:l}=i.options;k(r&&!r.includes(":"),"invalid-api-key",{appName:i.name});const o={apiKey:r,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TE(t)},c=new WR(i,s,a,o);return nN(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Qs(new Vi("auth-internal",e=>{const n=xc(e.getProvider("auth").getImmediate());return(i=>new vx(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ai(Dg,Mg,Ex(t)),ai(Dg,Mg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=5*60,Tx=X0("authIdTokenMaxAge")||Sx;let Ig=null;const Cx=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Tx)return;const s=n==null?void 0:n.token;Ig!==s&&(Ig=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function wx(t=iE()){const e=xd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tN(t,{popupRedirectResolver:yx,persistence:[xN,_N,DE]}),i=X0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const r=Cx(a.toString());dN(n,r,()=>r(n.currentUser)),hN(n,l=>r(l))}}const s=K0("auth");return s&&iN(n,`http://${s}`),n}function Ax(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}$R({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const a=qt("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",Ax().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bx("Browser");var Rx="firebase",Nx="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai(Rx,Nx,"app");var kg={};const Lg="@firebase/database",Ug="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HE="";function xx(t){HE=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ae(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:br(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Kt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Ox(e)}}catch{}return new Dx},Di=BE("localStorage"),Mx=BE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new Rd("@firebase/database"),Ix=function(){let t=1;return function(){return t++}}(),jE=function(t){const e=yA(t),n=new mA;n.update(e);const i=n.digest();return Cd.encodeByteArray(i)},tl=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=tl.apply(null,i):typeof i=="object"?e+=Ae(i):e+=i,e+=" "}return e};let tr=null,zg=!0;const kx=function(t,e){C(!0,"Can't turn on custom loggers persistently."),Ms.logLevel=J.VERBOSE,tr=Ms.log.bind(Ms)},Ue=function(...t){if(zg===!0&&(zg=!1,tr===null&&Mx.get("logging_enabled")===!0&&kx()),tr){const e=tl.apply(null,t);tr(e)}},nl=function(t){return function(...e){Ue(t,...e)}},nh=function(...t){const e="FIREBASE INTERNAL ERROR: "+tl(...t);Ms.error(e)},Cn=function(...t){const e=`FIREBASE FATAL ERROR: ${tl(...t)}`;throw Ms.error(e),new Error(e)},Ye=function(...t){const e="FIREBASE WARNING: "+tl(...t);Ms.warn(e)},Lx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ye("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},zd=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Ux=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Xs="[MIN_NAME]",Yi="[MAX_NAME]",Ji=function(t,e){if(t===e)return 0;if(t===Xs||e===Yi)return-1;if(e===Xs||t===Yi)return 1;{const n=Hg(t),i=Hg(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},zx=function(t,e){return t===e?0:t<e?-1:1},Na=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ae(e))},Hd=function(t){if(typeof t!="object"||t===null)return Ae(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Ae(e[i]),n+=":",n+=Hd(t[e[i]]);return n+="}",n},PE=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function Pe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const qE=function(t){C(!zd(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,a,r,l,o;t===0?(a=0,r=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),i),a=l+i,r=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(a=0,r=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(o=n;o;o-=1)c.push(r%2?1:0),r=Math.floor(r/2);for(o=e;o;o-=1)c.push(a%2?1:0),a=Math.floor(a/2);c.push(s?1:0),c.reverse();const h=c.join("");let f="";for(o=0;o<64;o+=8){let u=parseInt(h.substr(o,8),2).toString(16);u.length===1&&(u="0"+u),f=f+u}return f.toLowerCase()},Hx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Bx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function jx(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const Px=new RegExp("^-?(0*)\\d{1,10}$"),qx=-2147483648,Vx=2147483647,Hg=function(t){if(Px.test(t)){const e=Number(t);if(e>=qx&&e<=Vx)return e}return null},ga=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ye("Exception was thrown by user callback.",n),e},Math.floor(0))}},Gx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},nr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Ot(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Ye(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ue("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ye(e)}}class Zl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Zl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="5",VE="v",GE="s",YE="r",FE="f",KE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,QE="ls",XE="p",ih="ac",WE="websocket",$E="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,n,i,s,a=!1,r="",l=!1,o=!1,c=null){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=a,this.persistenceKey=r,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=o,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Di.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Di.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Kx(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function JE(t,e,n){C(typeof e=="string","typeof type must == string"),C(typeof n=="object","typeof params must == object");let i;if(e===WE)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===$E)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Kx(t)&&(n.ns=t.namespace);const s=[];return Pe(n,(a,r)=>{s.push(a+"="+r)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.counters_={}}incrementCounter(e,n=1){Kt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Kw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu={},ju={};function jd(t){const e=t.toString();return Bu[e]||(Bu[e]=new Qx),Bu[e]}function Xx(t,e){const n=t.toString();return ju[n]||(ju[n]=e()),ju[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&ga(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="start",$x="close",Zx="pLPCommand",Jx="pRTLPCB",eb="id",tb="pw",nb="ser",eO="cb",tO="seg",nO="ts",iO="d",sO="dframe",ib=1870,sb=30,aO=ib-sb,rO=25e3,lO=3e4;class bs{constructor(e,n,i,s,a,r,l){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=a,this.transportSessionId=r,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nl(e),this.stats_=jd(n),this.urlFn=o=>(this.appCheckToken&&(o[ih]=this.appCheckToken),JE(n,$E,o))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Wx(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(lO)),Ux(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Pd((...a)=>{const[r,l,o,c,h]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,r===Bg)this.id=l,this.password=o;else if(r===$x)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+r)},(...a)=>{const[r,l]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(r,l)},()=>{this.onClosed_()},this.urlFn);const i={};i[Bg]="t",i[nb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[eO]=this.scriptTagHolder.uniqueCallbackIdentifier),i[VE]=Bd,this.transportSessionId&&(i[GE]=this.transportSessionId),this.lastSessionId&&(i[QE]=this.lastSessionId),this.applicationId&&(i[XE]=this.applicationId),this.appCheckToken&&(i[ih]=this.appCheckToken),typeof location<"u"&&location.hostname&&KE.test(location.hostname)&&(i[YE]=FE);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){bs.forceAllow_=!0}static forceDisallow(){bs.forceDisallow_=!0}static isAvailable(){return bs.forceAllow_?!0:!bs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Hx()&&!Bx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ae(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Y0(n),s=PE(i,aO);for(let a=0;a<s.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[sO]="t",i[eb]=e,i[tb]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ae(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Pd{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Ix(),window[Zx+this.uniqueCallbackIdentifier]=e,window[Jx+this.uniqueCallbackIdentifier]=n,this.myIFrame=Pd.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(l){Ue("frame writing exception"),l.stack&&Ue(l.stack),Ue(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ue("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[eb]=this.myID,e[tb]=this.myPW,e[nb]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+sb+i.length<=ib;){const r=this.pendingSegs.shift();i=i+"&"+tO+s+"="+r.seg+"&"+nO+s+"="+r.ts+"&"+iO+s+"="+r.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(rO)),a=()=>{clearTimeout(s),i()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Ue("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=16384,cO=45e3;let jo=null;typeof MozWebSocket<"u"?jo=MozWebSocket:typeof WebSocket<"u"&&(jo=WebSocket);class Dt{constructor(e,n,i,s,a,r,l){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nl(this.connId),this.stats_=jd(n),this.connURL=Dt.connectionURL_(n,r,l,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,a){const r={};return r[VE]=Bd,typeof location<"u"&&location.hostname&&KE.test(location.hostname)&&(r[YE]=FE),n&&(r[GE]=n),i&&(r[QE]=i),s&&(r[ih]=s),a&&(r[XE]=a),JE(e,WE,r)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Di.set("previous_websocket_failure",!0);try{let i;rA(),this.mySock=new jo(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Dt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&jo!==null&&!Dt.forceDisallow_}static previouslyFailed(){return Di.isInMemoryStorage||Di.get("previous_websocket_failure")===!0}markConnectionHealthy(){Di.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=br(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(C(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Ae(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=PE(n,oO);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(cO))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Dt.responsesRequiredToBeHealthy=2;Dt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{static get ALL_TRANSPORTS(){return[bs,Dt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Dt&&Dt.isAvailable();let i=n&&!Dt.previouslyFailed();if(e.webSocketOnly&&(n||Ye("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Dt];else{const s=this.transports_=[];for(const a of Cr.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);Cr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Cr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=6e4,fO=5e3,hO=10*1024,dO=100*1024,Pu="t",jg="d",mO="s",Pg="r",pO="e",qg="o",Vg="a",Gg="n",Yg="p",gO="h";class _O{constructor(e,n,i,s,a,r,l,o,c,h){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=a,this.onMessage_=r,this.onReady_=l,this.onDisconnect_=o,this.onKill_=c,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nl("c:"+this.id+":"),this.transportManager_=new Cr(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=nr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>dO?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>hO?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Pu in e){const n=e[Pu];n===Vg?this.upgradeIfSecondaryHealthy_():n===Pg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===qg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Na("t",e),i=Na("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Yg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Vg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Gg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Na("t",e),i=Na("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Na(Pu,e);if(jg in e){const i=e[jg];if(n===gO){const s={...i};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Gg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===mO?this.onConnectionShutdown_(i):n===Pg?this.onReset_(i):n===pO?nh("Server Error: "+i):n===qg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):nh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Bd!==i&&Ye("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),nr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(uO))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):nr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(fO))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Yg,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Di.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.allowedEvents_=e,this.listeners_={},C(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let a=0;a<s.length;a++)if(s[a].callback===n&&(!i||i===s[a].context)){s.splice(a,1);return}}validateEventType_(e){C(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends rb{static getInstance(){return new Po}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ad()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return C(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=32,Kg=768;class te{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function K(){return new te("")}function B(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function mi(t){return t.pieces_.length-t.pieceNum_}function se(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new te(t.pieces_,e)}function qd(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function yO(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function wr(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function lb(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new te(e,0)}function me(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof te)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new te(n,0)}function G(t){return t.pieceNum_>=t.pieces_.length}function Ge(t,e){const n=B(t),i=B(e);if(n===null)return e;if(n===i)return Ge(se(t),se(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function vO(t,e){const n=wr(t,0),i=wr(e,0);for(let s=0;s<n.length&&s<i.length;s++){const a=Ji(n[s],i[s]);if(a!==0)return a}return n.length===i.length?0:n.length<i.length?-1:1}function Vd(t,e){if(mi(t)!==mi(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function bt(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(mi(t)>mi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class EO{constructor(e,n){this.errorPrefix_=n,this.parts_=wr(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Rc(this.parts_[i]);ob(this)}}function bO(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Rc(e),ob(t)}function SO(t){const e=t.parts_.pop();t.byteLength_-=Rc(e),t.parts_.length>0&&(t.byteLength_-=1)}function ob(t){if(t.byteLength_>Kg)throw new Error(t.errorPrefix_+"has a key path longer than "+Kg+" bytes ("+t.byteLength_+").");if(t.parts_.length>Fg)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Fg+") or object contains a cycle "+Oi(t))}function Oi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends rb{static getInstance(){return new Gd}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return C(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=1e3,TO=60*5*1e3,Qg=30*1e3,CO=1.3,wO=3e4,AO="server_kill",Xg=3;class mn extends ab{constructor(e,n,i,s,a,r,l,o){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=r,this.appCheckTokenProvider_=l,this.authOverride_=o,this.id=mn.nextPersistentConnectionId_++,this.log_=nl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xa,this.maxReconnectDelay_=TO,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Gd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Po.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,a={r:s,a:e,b:n};this.log_(Ae(a)),C(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new Wr,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:r=>{const l=r.d;r.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,i,s){this.initConnection_();const a=e._queryIdentifier,r=e._path.toString();this.log_("Listen called for "+r+" "+a),this.listens.has(r)||this.listens.set(r,new Map),C(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),C(!this.listens.get(r).has(a),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(r).set(a,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const a={p:i},r="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(r,a,l=>{const o=l.d,c=l.s;mn.warnOnListenWarnings_(o,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(c,o))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Kt(e,"w")){const i=Ks(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();Ye(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||dA(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Qg)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=hA(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const a=s.s,r=s.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),C(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const a={p:e},r="n";s&&(a.q=i,a.t=s),this.sendRequest(r,a)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const a={p:n,d:i};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,r=>{s&&setTimeout(()=>{s(r.s,r.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,a){this.initConnection_();const r={p:n,d:i};a!==void 0&&(r.h=a),this.outstandingPuts_.push({action:e,request:r,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const a=i.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ae(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):nh("Unrecognized action received from server: "+Ae(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){C(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xa,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=xa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>wO&&(this.reconnectDelay_=xa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*CO)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+mn.nextConnectionId_++,a=this.lastSessionId;let r=!1,l=null;const o=function(){l?l.close():(r=!0,i())},c=function(f){C(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:o,sendRequest:c};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,u]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);r?Ue("getToken() completed but was canceled"):(Ue("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=u&&u.token,l=new _O(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,d=>{Ye(d+" ("+this.repoInfo_.toString()+")"),this.interrupt(AO)},a))}catch(f){this.log_("Failed to get token: "+f),r||(this.repoInfo_.nodeAdmin&&Ye(f),o())}}}interrupt(e){Ue("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ue("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Kf(this.interruptReasons_)&&(this.reconnectDelay_=xa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(a=>Hd(a)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new te(e).toString();let s;if(this.listens.has(i)){const a=this.listens.get(i);s=a.get(n),a.delete(n),a.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){Ue("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Xg&&(this.reconnectDelay_=Qg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ue("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Xg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+HE.replace(/\./g,"-")]=1,Ad()?e["framework.cordova"]=1:Z0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Po.getInstance().currentlyOnline();return Kf(this.interruptReasons_)&&e}}mn.nextPersistentConnectionId_=0;mn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new j(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new j(Xs,e),s=new j(Xs,n);return this.compare(i,s)!==0}minPost(){return j.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl;class cb extends Mc{static get __EMPTY_NODE(){return xl}static set __EMPTY_NODE(e){xl=e}compare(e,n){return Ji(e.name,n.name)}isDefinedOn(e){throw fa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return j.MIN}maxPost(){return new j(Yi,xl)}makePost(e,n){return C(typeof e=="string","KeyIndex indexValue must always be a string."),new j(e,xl)}toString(){return".key"}}const Is=new cb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n,i,s,a=null){this.isReverse_=s,this.resultGenerator_=a,this.nodeStack_=[];let r=1;for(;!e.isEmpty();)if(e=e,r=n?i(e.key,n):1,s&&(r*=-1),r<0)this.isReverse_?e=e.left:e=e.right;else if(r===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class De{constructor(e,n,i,s,a){this.key=e,this.value=n,this.color=i??De.RED,this.left=s??Ze.EMPTY_NODE,this.right=a??Ze.EMPTY_NODE}copy(e,n,i,s,a){return new De(e??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const a=i(e,s.key);return a<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):a===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ze.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Ze.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,De.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,De.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}De.RED=!0;De.BLACK=!1;class RO{copy(e,n,i,s,a){return this}insert(e,n,i){return new De(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ze{constructor(e,n=Ze.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ze(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,De.BLACK,null,null))}remove(e){return new Ze(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,De.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ol(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ol(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ol(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ol(this.root_,null,this.comparator_,!0,e)}}Ze.EMPTY_NODE=new RO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(t,e){return Ji(t.name,e.name)}function Yd(t,e){return Ji(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh;function xO(t){sh=t}const ub=function(t){return typeof t=="number"?"number:"+qE(t):"string:"+t},fb=function(t){if(t.isLeafNode()){const e=t.val();C(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Kt(e,".sv"),"Priority must be a string or number.")}else C(t===sh||t.isEmpty(),"priority of unexpected type.");C(t===sh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wg;class xe{static set __childrenNodeConstructor(e){Wg=e}static get __childrenNodeConstructor(){return Wg}constructor(e,n=xe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,C(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),fb(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new xe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:xe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return G(e)?this:B(e)===".priority"?this.priorityNode_:xe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:xe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=B(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(C(i!==".priority"||mi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,xe.__childrenNodeConstructor.EMPTY_NODE.updateChild(se(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ub(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=qE(this.value_):e+=this.value_,this.lazyHash_=jE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===xe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof xe.__childrenNodeConstructor?-1:(C(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=xe.VALUE_TYPE_ORDER.indexOf(n),a=xe.VALUE_TYPE_ORDER.indexOf(i);return C(s>=0,"Unknown leaf type: "+n),C(a>=0,"Unknown leaf type: "+i),s===a?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}xe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hb,db;function OO(t){hb=t}function DO(t){db=t}class MO extends Mc{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),a=i.compareTo(s);return a===0?Ji(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return j.MIN}maxPost(){return new j(Yi,new xe("[PRIORITY-POST]",db))}makePost(e,n){const i=hb(e);return new j(n,new xe("[PRIORITY-POST]",i))}toString(){return".priority"}}const pe=new MO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=Math.log(2);class kO{constructor(e){const n=a=>parseInt(Math.log(a)/IO,10),i=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const qo=function(t,e,n,i){t.sort(e);const s=function(o,c){const h=c-o;let f,u;if(h===0)return null;if(h===1)return f=t[o],u=n?n(f):f,new De(u,f.node,De.BLACK,null,null);{const d=parseInt(h/2,10)+o,_=s(o,d),E=s(d+1,c);return f=t[d],u=n?n(f):f,new De(u,f.node,De.BLACK,_,E)}},a=function(o){let c=null,h=null,f=t.length;const u=function(_,E){const S=f-_,p=f;f-=_;const m=s(S+1,p),g=t[S],v=n?n(g):g;d(new De(v,g.node,E,null,m))},d=function(_){c?(c.left=_,c=_):(h=_,c=_)};for(let _=0;_<o.count;++_){const E=o.nextBitIsOne(),S=Math.pow(2,o.count-(_+1));E?u(S,De.BLACK):(u(S,De.BLACK),u(S,De.RED))}return h},r=new kO(t.length),l=a(r);return new Ze(i||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu;const ss={};class cn{static get Default(){return C(ss&&pe,"ChildrenNode.ts has not been loaded"),qu=qu||new cn({".priority":ss},{".priority":pe}),qu}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Ks(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ze?n:null}hasIndex(e){return Kt(this.indexSet_,e.toString())}addIndex(e,n){C(e!==Is,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const a=n.getIterator(j.Wrap);let r=a.getNext();for(;r;)s=s||e.isDefinedOn(r.node),i.push(r),r=a.getNext();let l;s?l=qo(i,e.getCompare()):l=ss;const o=e.toString(),c={...this.indexSet_};c[o]=e;const h={...this.indexes_};return h[o]=l,new cn(h,c)}addToIndexes(e,n){const i=Mo(this.indexes_,(s,a)=>{const r=Ks(this.indexSet_,a);if(C(r,"Missing index implementation for "+a),s===ss)if(r.isDefinedOn(e.node)){const l=[],o=n.getIterator(j.Wrap);let c=o.getNext();for(;c;)c.name!==e.name&&l.push(c),c=o.getNext();return l.push(e),qo(l,r.getCompare())}else return ss;else{const l=n.get(e.name);let o=s;return l&&(o=o.remove(new j(e.name,l))),o.insert(e,e.node)}});return new cn(i,this.indexSet_)}removeFromIndexes(e,n){const i=Mo(this.indexes_,s=>{if(s===ss)return s;{const a=n.get(e.name);return a?s.remove(new j(e.name,a)):s}});return new cn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oa;class D{static get EMPTY_NODE(){return Oa||(Oa=new D(new Ze(Yd),null,cn.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&fb(this.priorityNode_),this.children_.isEmpty()&&C(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Oa}updatePriority(e){return this.children_.isEmpty()?this:new D(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Oa:n}}getChild(e){const n=B(e);return n===null?this:this.getImmediateChild(n).getChild(se(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(C(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new j(e,n);let s,a;n.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(i,this.children_));const r=s.isEmpty()?Oa:this.priorityNode_;return new D(s,r,a)}}updateChild(e,n){const i=B(e);if(i===null)return n;{C(B(e)!==".priority"||mi(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(se(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,a=!0;if(this.forEachChild(pe,(r,l)=>{n[r]=l.val(e),i++,a&&D.INTEGER_REGEXP_.test(r)?s=Math.max(s,Number(r)):a=!1}),!e&&a&&s<2*i){const r=[];for(const l in n)r[l]=n[l];return r}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+ub(this.getPriority().val())+":"),this.forEachChild(pe,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":jE(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const a=s.getPredecessorKey(new j(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new j(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new j(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,j.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,j.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)>0;)s.getNext(),a=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===il?-1:0}withIndex(e){if(e===Is||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new D(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Is||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(pe),s=n.getIterator(pe);let a=i.getNext(),r=s.getNext();for(;a&&r;){if(a.name!==r.name||!a.node.equals(r.node))return!1;a=i.getNext(),r=s.getNext()}return a===null&&r===null}else return!1;else return!1}}resolveIndex_(e){return e===Is?null:this.indexMap_.get(e.toString())}}D.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class LO extends D{constructor(){super(new Ze(Yd),D.EMPTY_NODE,cn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return D.EMPTY_NODE}isEmpty(){return!1}}const il=new LO;Object.defineProperties(j,{MIN:{value:new j(Xs,D.EMPTY_NODE)},MAX:{value:new j(Yi,il)}});cb.__EMPTY_NODE=D.EMPTY_NODE;xe.__childrenNodeConstructor=D;xO(il);DO(il);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=!0;function Ce(t,e=null){if(t===null)return D.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),C(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new xe(n,Ce(e))}if(!(t instanceof Array)&&UO){const n=[];let i=!1;if(Pe(t,(r,l)=>{if(r.substring(0,1)!=="."){const o=Ce(l);o.isEmpty()||(i=i||!o.getPriority().isEmpty(),n.push(new j(r,o)))}}),n.length===0)return D.EMPTY_NODE;const a=qo(n,NO,r=>r.name,Yd);if(i){const r=qo(n,pe.getCompare());return new D(a,Ce(e),new cn({".priority":r},{".priority":pe}))}else return new D(a,Ce(e),cn.Default)}else{let n=D.EMPTY_NODE;return Pe(t,(i,s)=>{if(Kt(t,i)&&i.substring(0,1)!=="."){const a=Ce(s);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(i,a))}}),n.updatePriority(Ce(e))}}OO(Ce);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO extends Mc{constructor(e){super(),this.indexPath_=e,C(!G(e)&&B(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),a=i.compareTo(s);return a===0?Ji(e.name,n.name):a}makePost(e,n){const i=Ce(e),s=D.EMPTY_NODE.updateChild(this.indexPath_,i);return new j(n,s)}maxPost(){const e=D.EMPTY_NODE.updateChild(this.indexPath_,il);return new j(Yi,e)}toString(){return wr(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO extends Mc{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Ji(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return j.MIN}maxPost(){return j.MAX}makePost(e,n){const i=Ce(e);return new j(n,i)}toString(){return".value"}}const BO=new HO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(t){return{type:"value",snapshotNode:t}}function Ws(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ar(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Rr(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function jO(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e){this.index_=e}updateChild(e,n,i,s,a,r){C(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(i.getChild(s))&&l.isEmpty()===i.isEmpty()||(r!=null&&(i.isEmpty()?e.hasChild(n)?r.trackChildChange(Ar(n,l)):C(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?r.trackChildChange(Ws(n,i)):r.trackChildChange(Rr(n,i,l))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(pe,(s,a)=>{n.hasChild(s)||i.trackChildChange(Ar(s,a))}),n.isLeafNode()||n.forEachChild(pe,(s,a)=>{if(e.hasChild(s)){const r=e.getImmediateChild(s);r.equals(a)||i.trackChildChange(Rr(s,a,r))}else i.trackChildChange(Ws(s,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?D.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.indexedFilter_=new Fd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Nr.getStartPost_(e),this.endPost_=Nr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,a,r){return this.matches(new j(n,i))||(i=D.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,a,r)}updateFullNode(e,n,i){n.isLeafNode()&&(n=D.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(D.EMPTY_NODE);const a=this;return n.forEachChild(pe,(r,l)=>{a.matches(new j(r,l))||(s=s.updateImmediateChild(r,D.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Nr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,a,r){return this.rangedFilter_.matches(new j(n,i))||(i=D.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,a,r):this.fullLimitUpdateChild_(e,n,i,a,r)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=D.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=D.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let r=0;for(;a.hasNext()&&r<this.limit_;){const l=a.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),r++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(D.EMPTY_NODE);let a;this.reverse_?a=s.getReverseIterator(this.index_):a=s.getIterator(this.index_);let r=0;for(;a.hasNext();){const l=a.getNext();r<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?r++:s=s.updateImmediateChild(l.name,D.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,a){let r;if(this.reverse_){const f=this.index_.getCompare();r=(u,d)=>f(d,u)}else r=this.index_.getCompare();const l=e;C(l.numChildren()===this.limit_,"");const o=new j(n,i),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(o);if(l.hasChild(n)){const f=l.getImmediateChild(n);let u=s.getChildAfterChild(this.index_,c,this.reverse_);for(;u!=null&&(u.name===n||l.hasChild(u.name));)u=s.getChildAfterChild(this.index_,u,this.reverse_);const d=u==null?1:r(u,o);if(h&&!i.isEmpty()&&d>=0)return a!=null&&a.trackChildChange(Rr(n,i,f)),l.updateImmediateChild(n,i);{a!=null&&a.trackChildChange(Ar(n,f));const E=l.updateImmediateChild(n,D.EMPTY_NODE);return u!=null&&this.rangedFilter_.matches(u)?(a!=null&&a.trackChildChange(Ws(u.name,u.node)),E.updateImmediateChild(u.name,u.node)):E}}else return i.isEmpty()?e:h&&r(c,o)>=0?(a!=null&&(a.trackChildChange(Ar(c.name,c.node)),a.trackChildChange(Ws(n,i))),l.updateImmediateChild(n,i).updateImmediateChild(c.name,D.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return C(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return C(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xs}hasEnd(){return this.endSet_}getIndexEndValue(){return C(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return C(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return C(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pe}copy(){const e=new Kd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function qO(t){return t.loadsAllData()?new Fd(t.getIndex()):t.hasLimit()?new PO(t):new Nr(t)}function $g(t){const e={};if(t.isDefault())return e;let n;if(t.index_===pe?n="$priority":t.index_===BO?n="$value":t.index_===Is?n="$key":(C(t.index_ instanceof zO,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ae(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Ae(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Ae(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Ae(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Ae(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Zg(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==pe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends ab{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(C(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=nl("p:rest:"),this.listens_={}}listen(e,n,i,s){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const r=Vo.getListenId_(e,i),l={};this.listens_[r]=l;const o=$g(e._queryParams);this.restRequest_(a+".json",o,(c,h)=>{let f=h;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(a,f,!1,i),Ks(this.listens_,r)===l){let u;c?c===401?u="permission_denied":u="rest_error:"+c:u="ok",s(u,null)}})}unlisten(e,n){const i=Vo.getListenId_(e,n);delete this.listens_[i]}get(e){const n=$g(e._queryParams),i=e._path.toString(),s=new Wr;return this.restRequest_(i+".json",n,(a,r)=>{let l=r;a===404&&(l=null,a=null),a===null?(this.onDataUpdate_(i,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,a])=>{s&&s.accessToken&&(n.auth=s.accessToken),a&&a.token&&(n.ac=a.token);const r=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+da(n);this.log_("Sending REST request for "+r);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&l.readyState===4){this.log_("REST Response for "+r+" received. status:",l.status,"response:",l.responseText);let o=null;if(l.status>=200&&l.status<300){try{o=br(l.responseText)}catch{Ye("Failed to parse JSON response for "+r+": "+l.responseText)}i(null,o)}else l.status!==401&&l.status!==404&&Ye("Got unsuccessful REST response for "+r+" Status: "+l.status),i(l.status);i=null}},l.open("GET",r,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.rootNode_=D.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(){return{value:null,children:new Map}}function pb(t,e,n){if(G(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=B(e);t.children.has(i)||t.children.set(i,Go());const s=t.children.get(i);e=se(e),pb(s,e,n)}}function ah(t,e,n){t.value!==null?n(e,t.value):GO(t,(i,s)=>{const a=new te(e.toString()+"/"+i);ah(s,a,n)})}function GO(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Pe(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg=10*1e3,FO=30*1e3,KO=5*60*1e3;class QO{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new YO(e);const i=Jg+(FO-Jg)*Math.random();nr(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Pe(e,(s,a)=>{a>0&&Kt(this.statsToReport_,s)&&(n[s]=a,i=!0)}),i&&this.server_.reportStats(n),nr(this.reportStats_.bind(this),Math.floor(Math.random()*2*KO))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(It||(It={}));function Qd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Xd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Wd(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=It.ACK_USER_WRITE,this.source=Qd()}operationForChild(e){if(G(this.path)){if(this.affectedTree.value!=null)return C(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new te(e));return new Yo(K(),n,this.revert)}}else return C(B(this.path)===e,"operationForChild called for unrelated child."),new Yo(se(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n){this.source=e,this.path=n,this.type=It.LISTEN_COMPLETE}operationForChild(e){return G(this.path)?new xr(this.source,K()):new xr(this.source,se(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=It.OVERWRITE}operationForChild(e){return G(this.path)?new Fi(this.source,K(),this.snap.getImmediateChild(e)):new Fi(this.source,se(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=It.MERGE}operationForChild(e){if(G(this.path)){const n=this.children.subtree(new te(e));return n.isEmpty()?null:n.value?new Fi(this.source,K(),n.value):new $s(this.source,K(),n)}else return C(B(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new $s(this.source,se(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(G(e))return this.isFullyInitialized()&&!this.filtered_;const n=B(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function WO(t,e,n,i){const s=[],a=[];return e.forEach(r=>{r.type==="child_changed"&&t.index_.indexedValueChanged(r.oldSnap,r.snapshotNode)&&a.push(jO(r.childName,r.snapshotNode))}),Da(t,s,"child_removed",e,i,n),Da(t,s,"child_added",e,i,n),Da(t,s,"child_moved",a,i,n),Da(t,s,"child_changed",e,i,n),Da(t,s,"value",e,i,n),s}function Da(t,e,n,i,s,a){const r=i.filter(l=>l.type===n);r.sort((l,o)=>ZO(t,l,o)),r.forEach(l=>{const o=$O(t,l,a);s.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(o,t.query_))})})}function $O(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function ZO(t,e,n){if(e.childName==null||n.childName==null)throw fa("Should only compare child_ events.");const i=new j(e.childName,e.snapshotNode),s=new j(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t,e){return{eventCache:t,serverCache:e}}function ir(t,e,n,i){return Ic(new pi(e,n,i),t.serverCache)}function gb(t,e,n,i){return Ic(t.eventCache,new pi(e,n,i))}function Fo(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ki(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vu;const JO=()=>(Vu||(Vu=new Ze(zx)),Vu);class ie{static fromObject(e){let n=new ie(null);return Pe(e,(i,s)=>{n=n.set(new te(i),s)}),n}constructor(e,n=JO()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:K(),value:this.value};if(G(e))return null;{const i=B(e),s=this.children.get(i);if(s!==null){const a=s.findRootMostMatchingPathAndValue(se(e),n);return a!=null?{path:me(new te(i),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(G(e))return this;{const n=B(e),i=this.children.get(n);return i!==null?i.subtree(se(e)):new ie(null)}}set(e,n){if(G(e))return new ie(n,this.children);{const i=B(e),a=(this.children.get(i)||new ie(null)).set(se(e),n),r=this.children.insert(i,a);return new ie(this.value,r)}}remove(e){if(G(e))return this.children.isEmpty()?new ie(null):new ie(null,this.children);{const n=B(e),i=this.children.get(n);if(i){const s=i.remove(se(e));let a;return s.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,s),this.value===null&&a.isEmpty()?new ie(null):new ie(this.value,a)}else return this}}get(e){if(G(e))return this.value;{const n=B(e),i=this.children.get(n);return i?i.get(se(e)):null}}setTree(e,n){if(G(e))return n;{const i=B(e),a=(this.children.get(i)||new ie(null)).setTree(se(e),n);let r;return a.isEmpty()?r=this.children.remove(i):r=this.children.insert(i,a),new ie(this.value,r)}}fold(e){return this.fold_(K(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,a)=>{i[s]=a.fold_(me(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,K(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(G(e))return null;{const a=B(e),r=this.children.get(a);return r?r.findOnPath_(se(e),me(n,a),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,K(),n)}foreachOnPath_(e,n,i){if(G(e))return this;{this.value&&i(n,this.value);const s=B(e),a=this.children.get(s);return a?a.foreachOnPath_(se(e),me(n,s),i):new ie(null)}}foreach(e){this.foreach_(K(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(me(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.writeTree_=e}static empty(){return new kt(new ie(null))}}function sr(t,e,n){if(G(e))return new kt(new ie(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let a=i.value;const r=Ge(s,e);return a=a.updateChild(r,n),new kt(t.writeTree_.set(s,a))}else{const s=new ie(n),a=t.writeTree_.setTree(e,s);return new kt(a)}}}function rh(t,e,n){let i=t;return Pe(n,(s,a)=>{i=sr(i,me(e,s),a)}),i}function e_(t,e){if(G(e))return kt.empty();{const n=t.writeTree_.setTree(e,new ie(null));return new kt(n)}}function lh(t,e){return es(t,e)!=null}function es(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ge(n.path,e)):null}function t_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(pe,(i,s)=>{e.push(new j(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new j(i,s.value))}),e}function li(t,e){if(G(e))return t;{const n=es(t,e);return n!=null?new kt(new ie(n)):new kt(t.writeTree_.subtree(e))}}function oh(t){return t.writeTree_.isEmpty()}function Zs(t,e){return _b(K(),t.writeTree_,e)}function _b(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,a)=>{s===".priority"?(C(a.value!==null,"Priority writes must always be leaf nodes"),i=a.value):n=_b(me(t,s),a,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(me(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t,e){return bb(e,t)}function e2(t,e,n,i,s){C(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=sr(t.visibleWrites,e,n)),t.lastWriteId=i}function t2(t,e,n,i){C(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=rh(t.visibleWrites,e,n),t.lastWriteId=i}function n2(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function i2(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);C(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,a=!1,r=t.allWrites.length-1;for(;s&&r>=0;){const l=t.allWrites[r];l.visible&&(r>=n&&s2(l,i.path)?s=!1:bt(i.path,l.path)&&(a=!0)),r--}if(s){if(a)return a2(t),!0;if(i.snap)t.visibleWrites=e_(t.visibleWrites,i.path);else{const l=i.children;Pe(l,o=>{t.visibleWrites=e_(t.visibleWrites,me(i.path,o))})}return!0}else return!1}function s2(t,e){if(t.snap)return bt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&bt(me(t.path,n),e))return!0;return!1}function a2(t){t.visibleWrites=yb(t.allWrites,r2,K()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function r2(t){return t.visible}function yb(t,e,n){let i=kt.empty();for(let s=0;s<t.length;++s){const a=t[s];if(e(a)){const r=a.path;let l;if(a.snap)bt(n,r)?(l=Ge(n,r),i=sr(i,l,a.snap)):bt(r,n)&&(l=Ge(r,n),i=sr(i,K(),a.snap.getChild(l)));else if(a.children){if(bt(n,r))l=Ge(n,r),i=rh(i,l,a.children);else if(bt(r,n))if(l=Ge(r,n),G(l))i=rh(i,K(),a.children);else{const o=Ks(a.children,B(l));if(o){const c=o.getChild(se(l));i=sr(i,K(),c)}}}else throw fa("WriteRecord should have .snap or .children")}}return i}function vb(t,e,n,i,s){if(!i&&!s){const a=es(t.visibleWrites,e);if(a!=null)return a;{const r=li(t.visibleWrites,e);if(oh(r))return n;if(n==null&&!lh(r,K()))return null;{const l=n||D.EMPTY_NODE;return Zs(r,l)}}}else{const a=li(t.visibleWrites,e);if(!s&&oh(a))return n;if(!s&&n==null&&!lh(a,K()))return null;{const r=function(c){return(c.visible||s)&&(!i||!~i.indexOf(c.writeId))&&(bt(c.path,e)||bt(e,c.path))},l=yb(t.allWrites,r,e),o=n||D.EMPTY_NODE;return Zs(l,o)}}}function l2(t,e,n){let i=D.EMPTY_NODE;const s=es(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(pe,(a,r)=>{i=i.updateImmediateChild(a,r)}),i;if(n){const a=li(t.visibleWrites,e);return n.forEachChild(pe,(r,l)=>{const o=Zs(li(a,new te(r)),l);i=i.updateImmediateChild(r,o)}),t_(a).forEach(r=>{i=i.updateImmediateChild(r.name,r.node)}),i}else{const a=li(t.visibleWrites,e);return t_(a).forEach(r=>{i=i.updateImmediateChild(r.name,r.node)}),i}}function o2(t,e,n,i,s){C(i||s,"Either existingEventSnap or existingServerSnap must exist");const a=me(e,n);if(lh(t.visibleWrites,a))return null;{const r=li(t.visibleWrites,a);return oh(r)?s.getChild(n):Zs(r,s.getChild(n))}}function c2(t,e,n,i){const s=me(e,n),a=es(t.visibleWrites,s);if(a!=null)return a;if(i.isCompleteForChild(n)){const r=li(t.visibleWrites,s);return Zs(r,i.getNode().getImmediateChild(n))}else return null}function u2(t,e){return es(t.visibleWrites,e)}function f2(t,e,n,i,s,a,r){let l;const o=li(t.visibleWrites,e),c=es(o,K());if(c!=null)l=c;else if(n!=null)l=Zs(o,n);else return[];if(l=l.withIndex(r),!l.isEmpty()&&!l.isLeafNode()){const h=[],f=r.getCompare(),u=a?l.getReverseIteratorFrom(i,r):l.getIteratorFrom(i,r);let d=u.getNext();for(;d&&h.length<s;)f(d,i)!==0&&h.push(d),d=u.getNext();return h}else return[]}function h2(){return{visibleWrites:kt.empty(),allWrites:[],lastWriteId:-1}}function Ko(t,e,n,i){return vb(t.writeTree,t.treePath,e,n,i)}function $d(t,e){return l2(t.writeTree,t.treePath,e)}function n_(t,e,n,i){return o2(t.writeTree,t.treePath,e,n,i)}function Qo(t,e){return u2(t.writeTree,me(t.treePath,e))}function d2(t,e,n,i,s,a){return f2(t.writeTree,t.treePath,e,n,i,s,a)}function Zd(t,e,n){return c2(t.writeTree,t.treePath,e,n)}function Eb(t,e){return bb(me(t.treePath,e),t.writeTree)}function bb(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;C(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),C(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const a=s.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(i,Rr(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(i,Ar(i,s.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(i,Ws(i,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(i,Rr(i,e.snapshotNode,s.oldSnap));else throw fa("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const Sb=new p2;class Jd{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new pi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Zd(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ki(this.viewCache_),a=d2(this.writes_,s,n,1,i,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t){return{filter:t}}function _2(t,e){C(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),C(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function y2(t,e,n,i,s){const a=new m2;let r,l;if(n.type===It.OVERWRITE){const c=n;c.source.fromUser?r=ch(t,e,c.path,c.snap,i,s,a):(C(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!G(c.path),r=Xo(t,e,c.path,c.snap,i,s,l,a))}else if(n.type===It.MERGE){const c=n;c.source.fromUser?r=E2(t,e,c.path,c.children,i,s,a):(C(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),r=uh(t,e,c.path,c.children,i,s,l,a))}else if(n.type===It.ACK_USER_WRITE){const c=n;c.revert?r=T2(t,e,c.path,i,s,a):r=b2(t,e,c.path,c.affectedTree,i,s,a)}else if(n.type===It.LISTEN_COMPLETE)r=S2(t,e,n.path,i,a);else throw fa("Unknown operation type: "+n.type);const o=a.getChanges();return v2(e,r,o),{viewCache:r,changes:o}}function v2(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=Fo(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&n.push(mb(Fo(e)))}}function Tb(t,e,n,i,s,a){const r=e.eventCache;if(Qo(i,n)!=null)return e;{let l,o;if(G(n))if(C(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Ki(e),h=c instanceof D?c:D.EMPTY_NODE,f=$d(i,h);l=t.filter.updateFullNode(e.eventCache.getNode(),f,a)}else{const c=Ko(i,Ki(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,a)}else{const c=B(n);if(c===".priority"){C(mi(n)===1,"Can't have a priority with additional path components");const h=r.getNode();o=e.serverCache.getNode();const f=n_(i,n,h,o);f!=null?l=t.filter.updatePriority(h,f):l=r.getNode()}else{const h=se(n);let f;if(r.isCompleteForChild(c)){o=e.serverCache.getNode();const u=n_(i,n,r.getNode(),o);u!=null?f=r.getNode().getImmediateChild(c).updateChild(h,u):f=r.getNode().getImmediateChild(c)}else f=Zd(i,c,e.serverCache);f!=null?l=t.filter.updateChild(r.getNode(),c,f,h,s,a):l=r.getNode()}}return ir(e,l,r.isFullyInitialized()||G(n),t.filter.filtersNodes())}}function Xo(t,e,n,i,s,a,r,l){const o=e.serverCache;let c;const h=r?t.filter:t.filter.getIndexedFilter();if(G(n))c=h.updateFullNode(o.getNode(),i,null);else if(h.filtersNodes()&&!o.isFiltered()){const d=o.getNode().updateChild(n,i);c=h.updateFullNode(o.getNode(),d,null)}else{const d=B(n);if(!o.isCompleteForPath(n)&&mi(n)>1)return e;const _=se(n),S=o.getNode().getImmediateChild(d).updateChild(_,i);d===".priority"?c=h.updatePriority(o.getNode(),S):c=h.updateChild(o.getNode(),d,S,_,Sb,null)}const f=gb(e,c,o.isFullyInitialized()||G(n),h.filtersNodes()),u=new Jd(s,f,a);return Tb(t,f,n,s,u,l)}function ch(t,e,n,i,s,a,r){const l=e.eventCache;let o,c;const h=new Jd(s,e,a);if(G(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,r),o=ir(e,c,!0,t.filter.filtersNodes());else{const f=B(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),o=ir(e,c,l.isFullyInitialized(),l.isFiltered());else{const u=se(n),d=l.getNode().getImmediateChild(f);let _;if(G(u))_=i;else{const E=h.getCompleteChild(f);E!=null?qd(u)===".priority"&&E.getChild(lb(u)).isEmpty()?_=E:_=E.updateChild(u,i):_=D.EMPTY_NODE}if(d.equals(_))o=e;else{const E=t.filter.updateChild(l.getNode(),f,_,u,h,r);o=ir(e,E,l.isFullyInitialized(),t.filter.filtersNodes())}}}return o}function i_(t,e){return t.eventCache.isCompleteForChild(e)}function E2(t,e,n,i,s,a,r){let l=e;return i.foreach((o,c)=>{const h=me(n,o);i_(e,B(h))&&(l=ch(t,l,h,c,s,a,r))}),i.foreach((o,c)=>{const h=me(n,o);i_(e,B(h))||(l=ch(t,l,h,c,s,a,r))}),l}function s_(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function uh(t,e,n,i,s,a,r,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let o=e,c;G(n)?c=i:c=new ie(null).setTree(n,i);const h=e.serverCache.getNode();return c.children.inorderTraversal((f,u)=>{if(h.hasChild(f)){const d=e.serverCache.getNode().getImmediateChild(f),_=s_(t,d,u);o=Xo(t,o,new te(f),_,s,a,r,l)}}),c.children.inorderTraversal((f,u)=>{const d=!e.serverCache.isCompleteForChild(f)&&u.value===null;if(!h.hasChild(f)&&!d){const _=e.serverCache.getNode().getImmediateChild(f),E=s_(t,_,u);o=Xo(t,o,new te(f),E,s,a,r,l)}}),o}function b2(t,e,n,i,s,a,r){if(Qo(s,n)!=null)return e;const l=e.serverCache.isFiltered(),o=e.serverCache;if(i.value!=null){if(G(n)&&o.isFullyInitialized()||o.isCompleteForPath(n))return Xo(t,e,n,o.getNode().getChild(n),s,a,l,r);if(G(n)){let c=new ie(null);return o.getNode().forEachChild(Is,(h,f)=>{c=c.set(new te(h),f)}),uh(t,e,n,c,s,a,l,r)}else return e}else{let c=new ie(null);return i.foreach((h,f)=>{const u=me(n,h);o.isCompleteForPath(u)&&(c=c.set(h,o.getNode().getChild(u)))}),uh(t,e,n,c,s,a,l,r)}}function S2(t,e,n,i,s){const a=e.serverCache,r=gb(e,a.getNode(),a.isFullyInitialized()||G(n),a.isFiltered());return Tb(t,r,n,i,Sb,s)}function T2(t,e,n,i,s,a){let r;if(Qo(i,n)!=null)return e;{const l=new Jd(i,e,s),o=e.eventCache.getNode();let c;if(G(n)||B(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Ko(i,Ki(e));else{const f=e.serverCache.getNode();C(f instanceof D,"serverChildren would be complete if leaf node"),h=$d(i,f)}h=h,c=t.filter.updateFullNode(o,h,a)}else{const h=B(n);let f=Zd(i,h,e.serverCache);f==null&&e.serverCache.isCompleteForChild(h)&&(f=o.getImmediateChild(h)),f!=null?c=t.filter.updateChild(o,h,f,se(n),l,a):e.eventCache.getNode().hasChild(h)?c=t.filter.updateChild(o,h,D.EMPTY_NODE,se(n),l,a):c=o,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(r=Ko(i,Ki(e)),r.isLeafNode()&&(c=t.filter.updateFullNode(c,r,a)))}return r=e.serverCache.isFullyInitialized()||Qo(i,K())!=null,ir(e,c,r,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new Fd(i.getIndex()),a=qO(i);this.processor_=g2(a);const r=n.serverCache,l=n.eventCache,o=s.updateFullNode(D.EMPTY_NODE,r.getNode(),null),c=a.updateFullNode(D.EMPTY_NODE,l.getNode(),null),h=new pi(o,r.isFullyInitialized(),s.filtersNodes()),f=new pi(c,l.isFullyInitialized(),a.filtersNodes());this.viewCache_=Ic(f,h),this.eventGenerator_=new XO(this.query_)}get query(){return this.query_}}function w2(t){return t.viewCache_.serverCache.getNode()}function A2(t){return Fo(t.viewCache_)}function R2(t,e){const n=Ki(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!G(e)&&!n.getImmediateChild(B(e)).isEmpty())?n.getChild(e):null}function a_(t){return t.eventRegistrations_.length===0}function N2(t,e){t.eventRegistrations_.push(e)}function r_(t,e,n){const i=[];if(n){C(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(a=>{const r=a.createCancelEvent(n,s);r&&i.push(r)})}if(e){let s=[];for(let a=0;a<t.eventRegistrations_.length;++a){const r=t.eventRegistrations_[a];if(!r.matches(e))s.push(r);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function l_(t,e,n,i){e.type===It.MERGE&&e.source.queryId!==null&&(C(Ki(t.viewCache_),"We should always have a full cache before handling merges"),C(Fo(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,a=y2(t.processor_,s,e,n,i);return _2(t.processor_,a.viewCache),C(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,Cb(t,a.changes,a.viewCache.eventCache.getNode(),null)}function x2(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(pe,(a,r)=>{i.push(Ws(a,r))}),n.isFullyInitialized()&&i.push(mb(n.getNode())),Cb(t,i,n.getNode(),e)}function Cb(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return WO(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo;class wb{constructor(){this.views=new Map}}function O2(t){C(!Wo,"__referenceConstructor has already been defined"),Wo=t}function D2(){return C(Wo,"Reference.ts has not been loaded"),Wo}function M2(t){return t.views.size===0}function em(t,e,n,i){const s=e.source.queryId;if(s!==null){const a=t.views.get(s);return C(a!=null,"SyncTree gave us an op for an invalid query."),l_(a,e,n,i)}else{let a=[];for(const r of t.views.values())a=a.concat(l_(r,e,n,i));return a}}function Ab(t,e,n,i,s){const a=e._queryIdentifier,r=t.views.get(a);if(!r){let l=Ko(n,s?i:null),o=!1;l?o=!0:i instanceof D?(l=$d(n,i),o=!1):(l=D.EMPTY_NODE,o=!1);const c=Ic(new pi(l,o,!1),new pi(i,s,!1));return new C2(e,c)}return r}function I2(t,e,n,i,s,a){const r=Ab(t,e,i,s,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,r),N2(r,n),x2(r,n)}function k2(t,e,n,i){const s=e._queryIdentifier,a=[];let r=[];const l=gi(t);if(s==="default")for(const[o,c]of t.views.entries())r=r.concat(r_(c,n,i)),a_(c)&&(t.views.delete(o),c.query._queryParams.loadsAllData()||a.push(c.query));else{const o=t.views.get(s);o&&(r=r.concat(r_(o,n,i)),a_(o)&&(t.views.delete(s),o.query._queryParams.loadsAllData()||a.push(o.query)))}return l&&!gi(t)&&a.push(new(D2())(e._repo,e._path)),{removed:a,events:r}}function Rb(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function oi(t,e){let n=null;for(const i of t.views.values())n=n||R2(i,e);return n}function Nb(t,e){if(e._queryParams.loadsAllData())return Lc(t);{const i=e._queryIdentifier;return t.views.get(i)}}function xb(t,e){return Nb(t,e)!=null}function gi(t){return Lc(t)!=null}function Lc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o;function L2(t){C(!$o,"__referenceConstructor has already been defined"),$o=t}function U2(){return C($o,"Reference.ts has not been loaded"),$o}let z2=1;class o_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ie(null),this.pendingWriteTree_=h2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ob(t,e,n,i,s){return e2(t.pendingWriteTree_,e,n,i,s),s?_a(t,new Fi(Qd(),e,n)):[]}function H2(t,e,n,i){t2(t.pendingWriteTree_,e,n,i);const s=ie.fromObject(n);return _a(t,new $s(Qd(),e,s))}function Kn(t,e,n=!1){const i=n2(t.pendingWriteTree_,e);if(i2(t.pendingWriteTree_,e)){let a=new ie(null);return i.snap!=null?a=a.set(K(),!0):Pe(i.children,r=>{a=a.set(new te(r),!0)}),_a(t,new Yo(i.path,a,n))}else return[]}function sl(t,e,n){return _a(t,new Fi(Xd(),e,n))}function B2(t,e,n){const i=ie.fromObject(n);return _a(t,new $s(Xd(),e,i))}function j2(t,e){return _a(t,new xr(Xd(),e))}function P2(t,e,n){const i=nm(t,n);if(i){const s=im(i),a=s.path,r=s.queryId,l=Ge(a,e),o=new xr(Wd(r),l);return sm(t,a,o)}else return[]}function Zo(t,e,n,i,s=!1){const a=e._path,r=t.syncPointTree_.get(a);let l=[];if(r&&(e._queryIdentifier==="default"||xb(r,e))){const o=k2(r,e,n,i);M2(r)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const c=o.removed;if(l=o.events,!s){const h=c.findIndex(u=>u._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(a,(u,d)=>gi(d));if(h&&!f){const u=t.syncPointTree_.subtree(a);if(!u.isEmpty()){const d=G2(u);for(let _=0;_<d.length;++_){const E=d[_],S=E.query,p=kb(t,E);t.listenProvider_.startListening(ar(S),Or(t,S),p.hashFn,p.onComplete)}}}!f&&c.length>0&&!i&&(h?t.listenProvider_.stopListening(ar(e),null):c.forEach(u=>{const d=t.queryToTagMap.get(Uc(u));t.listenProvider_.stopListening(ar(u),d)}))}Y2(t,c)}return l}function Db(t,e,n,i){const s=nm(t,i);if(s!=null){const a=im(s),r=a.path,l=a.queryId,o=Ge(r,e),c=new Fi(Wd(l),o,n);return sm(t,r,c)}else return[]}function q2(t,e,n,i){const s=nm(t,i);if(s){const a=im(s),r=a.path,l=a.queryId,o=Ge(r,e),c=ie.fromObject(n),h=new $s(Wd(l),o,c);return sm(t,r,h)}else return[]}function fh(t,e,n,i=!1){const s=e._path;let a=null,r=!1;t.syncPointTree_.foreachOnPath(s,(u,d)=>{const _=Ge(u,s);a=a||oi(d,_),r=r||gi(d)});let l=t.syncPointTree_.get(s);l?(r=r||gi(l),a=a||oi(l,K())):(l=new wb,t.syncPointTree_=t.syncPointTree_.set(s,l));let o;a!=null?o=!0:(o=!1,a=D.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((d,_)=>{const E=oi(_,K());E&&(a=a.updateImmediateChild(d,E))}));const c=xb(l,e);if(!c&&!e._queryParams.loadsAllData()){const u=Uc(e);C(!t.queryToTagMap.has(u),"View does not exist, but we have a tag");const d=F2();t.queryToTagMap.set(u,d),t.tagToQueryMap.set(d,u)}const h=kc(t.pendingWriteTree_,s);let f=I2(l,e,n,h,a,o);if(!c&&!r&&!i){const u=Nb(l,e);f=f.concat(K2(t,e,u))}return f}function tm(t,e,n){const s=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(r,l)=>{const o=Ge(r,e),c=oi(l,o);if(c)return c});return vb(s,e,a,n,!0)}function V2(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(c,h)=>{const f=Ge(c,n);i=i||oi(h,f)});let s=t.syncPointTree_.get(n);s?i=i||oi(s,K()):(s=new wb,t.syncPointTree_=t.syncPointTree_.set(n,s));const a=i!=null,r=a?new pi(i,!0,!1):null,l=kc(t.pendingWriteTree_,e._path),o=Ab(s,e,l,a?r.getNode():D.EMPTY_NODE,a);return A2(o)}function _a(t,e){return Mb(e,t.syncPointTree_,null,kc(t.pendingWriteTree_,K()))}function Mb(t,e,n,i){if(G(t.path))return Ib(t,e,n,i);{const s=e.get(K());n==null&&s!=null&&(n=oi(s,K()));let a=[];const r=B(t.path),l=t.operationForChild(r),o=e.children.get(r);if(o&&l){const c=n?n.getImmediateChild(r):null,h=Eb(i,r);a=a.concat(Mb(l,o,c,h))}return s&&(a=a.concat(em(s,t,i,n))),a}}function Ib(t,e,n,i){const s=e.get(K());n==null&&s!=null&&(n=oi(s,K()));let a=[];return e.children.inorderTraversal((r,l)=>{const o=n?n.getImmediateChild(r):null,c=Eb(i,r),h=t.operationForChild(r);h&&(a=a.concat(Ib(h,l,o,c)))}),s&&(a=a.concat(em(s,t,i,n))),a}function kb(t,e){const n=e.query,i=Or(t,n);return{hashFn:()=>(w2(e)||D.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?P2(t,n._path,i):j2(t,n._path);{const a=jx(s,n);return Zo(t,n,null,a)}}}}function Or(t,e){const n=Uc(e);return t.queryToTagMap.get(n)}function Uc(t){return t._path.toString()+"$"+t._queryIdentifier}function nm(t,e){return t.tagToQueryMap.get(e)}function im(t){const e=t.indexOf("$");return C(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new te(t.substr(0,e))}}function sm(t,e,n){const i=t.syncPointTree_.get(e);C(i,"Missing sync point for query tag that we're tracking");const s=kc(t.pendingWriteTree_,e);return em(i,n,s,null)}function G2(t){return t.fold((e,n,i)=>{if(n&&gi(n))return[Lc(n)];{let s=[];return n&&(s=Rb(n)),Pe(i,(a,r)=>{s=s.concat(r)}),s}})}function ar(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(U2())(t._repo,t._path):t}function Y2(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=Uc(i),a=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(a)}}}function F2(){return z2++}function K2(t,e,n){const i=e._path,s=Or(t,e),a=kb(t,n),r=t.listenProvider_.startListening(ar(e),s,a.hashFn,a.onComplete),l=t.syncPointTree_.subtree(i);if(s)C(!gi(l.value),"If we're adding a query, it shouldn't be shadowed");else{const o=l.fold((c,h,f)=>{if(!G(c)&&h&&gi(h))return[Lc(h).query];{let u=[];return h&&(u=u.concat(Rb(h).map(d=>d.query))),Pe(f,(d,_)=>{u=u.concat(_)}),u}});for(let c=0;c<o.length;++c){const h=o[c];t.listenProvider_.stopListening(ar(h),Or(t,h))}}return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new am(n)}node(){return this.node_}}class rm{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=me(this.path_,e);return new rm(this.syncTree_,n)}node(){return tm(this.syncTree_,this.path_)}}const Q2=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},c_=function(t,e,n){if(!t||typeof t!="object")return t;if(C(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return X2(t[".sv"],e,n);if(typeof t[".sv"]=="object")return W2(t[".sv"],e);C(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},X2=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:C(!1,"Unexpected server value: "+t)}},W2=function(t,e,n){t.hasOwnProperty("increment")||C(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&C(!1,"Unexpected increment value: "+i);const s=e.node();if(C(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const r=s.getValue();return typeof r!="number"?i:r+i},Lb=function(t,e,n,i){return lm(e,new rm(n,t),i)},Ub=function(t,e,n){return lm(t,new am(e),n)};function lm(t,e,n){const i=t.getPriority().val(),s=c_(i,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const r=t,l=c_(r.getValue(),e,n);return l!==r.getValue()||s!==r.getPriority().val()?new xe(l,Ce(s)):t}else{const r=t;return a=r,s!==r.getPriority().val()&&(a=a.updatePriority(new xe(s))),r.forEachChild(pe,(l,o)=>{const c=lm(o,e.getImmediateChild(l),n);c!==o&&(a=a.updateImmediateChild(l,c))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function cm(t,e){let n=e instanceof te?e:new te(e),i=t,s=B(n);for(;s!==null;){const a=Ks(i.node.children,s)||{children:{},childCount:0};i=new om(s,i,a),n=se(n),s=B(n)}return i}function ya(t){return t.node.value}function zb(t,e){t.node.value=e,hh(t)}function Hb(t){return t.node.childCount>0}function $2(t){return ya(t)===void 0&&!Hb(t)}function zc(t,e){Pe(t.node.children,(n,i)=>{e(new om(n,t,i))})}function Bb(t,e,n,i){n&&e(t),zc(t,s=>{Bb(s,e,!0)})}function Z2(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function al(t){return new te(t.parent===null?t.name:al(t.parent)+"/"+t.name)}function hh(t){t.parent!==null&&J2(t.parent,t.name,t)}function J2(t,e,n){const i=$2(n),s=Kt(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,hh(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,hh(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=/[\[\].#$\/\u0000-\u001F\u007F]/,tD=/[\[\].#$\u0000-\u001F\u007F]/,Gu=10*1024*1024,um=function(t){return typeof t=="string"&&t.length!==0&&!eD.test(t)},jb=function(t){return typeof t=="string"&&t.length!==0&&!tD.test(t)},nD=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),jb(t)},iD=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!zd(t)||t&&typeof t=="object"&&Kt(t,".sv")},sD=function(t,e,n,i){Hc(Ac(t,"value"),e,n)},Hc=function(t,e,n){const i=n instanceof te?new EO(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Oi(i));if(typeof e=="function")throw new Error(t+"contains a function "+Oi(i)+" with contents = "+e.toString());if(zd(e))throw new Error(t+"contains "+e.toString()+" "+Oi(i));if(typeof e=="string"&&e.length>Gu/3&&Rc(e)>Gu)throw new Error(t+"contains a string greater than "+Gu+" utf8 bytes "+Oi(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,a=!1;if(Pe(e,(r,l)=>{if(r===".value")s=!0;else if(r!==".priority"&&r!==".sv"&&(a=!0,!um(r)))throw new Error(t+" contains an invalid key ("+r+") "+Oi(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);bO(i,r),Hc(t,l,i),SO(i)}),s&&a)throw new Error(t+' contains ".value" child '+Oi(i)+" in addition to actual children.")}},aD=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const a=wr(i);for(let r=0;r<a.length;r++)if(!(a[r]===".priority"&&r===a.length-1)){if(!um(a[r]))throw new Error(t+"contains an invalid key ("+a[r]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(vO);let s=null;for(n=0;n<e.length;n++){if(i=e[n],s!==null&&bt(s,i))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}},rD=function(t,e,n,i){const s=Ac(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const a=[];Pe(e,(r,l)=>{const o=new te(r);if(Hc(s,l,me(n,o)),qd(o)===".priority"&&!iD(l))throw new Error(s+"contains an invalid value for '"+o.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(o)}),aD(s,a)},Pb=function(t,e,n,i){if(!jb(n))throw new Error(Ac(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},lD=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Pb(t,e,n)},oD=function(t,e){if(B(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},cD=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!um(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!nD(n))throw new Error(Ac(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Bc(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],a=s.getPath();n!==null&&!Vd(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(s)}n&&t.eventLists_.push(n)}function qb(t,e,n){Bc(t,n),Vb(t,i=>Vd(i,e))}function At(t,e,n){Bc(t,n),Vb(t,i=>bt(i,e)||bt(e,i))}function Vb(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const a=s.path;e(a)?(fD(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function fD(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();tr&&Ue("event: "+n.toString()),ga(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="repo_interrupt",dD=25;class mD{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new uD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Go(),this.transactionQueueTree_=new om,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function pD(t,e,n){if(t.stats_=jd(t.repoInfo_),t.forceRestClient_||Gx())t.server_=new Vo(t.repoInfo_,(i,s,a,r)=>{u_(t,i,s,a,r)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>f_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ae(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new mn(t.repoInfo_,e,(i,s,a,r)=>{u_(t,i,s,a,r)},i=>{f_(t,i)},i=>{_D(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=Xx(t.repoInfo_,()=>new QO(t.stats_,t.server_)),t.infoData_=new VO,t.infoSyncTree_=new o_({startListening:(i,s,a,r)=>{let l=[];const o=t.infoData_.getNode(i._path);return o.isEmpty()||(l=sl(t.infoSyncTree_,i._path,o),setTimeout(()=>{r("ok")},0)),l},stopListening:()=>{}}),fm(t,"connected",!1),t.serverSyncTree_=new o_({startListening:(i,s,a,r)=>(t.server_.listen(i,a,s,(l,o)=>{const c=r(l,o);At(t.eventQueue_,i._path,c)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function gD(t){const n=t.infoData_.getNode(new te(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function jc(t){return Q2({timestamp:gD(t)})}function u_(t,e,n,i,s){t.dataUpdateCount++;const a=new te(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let r=[];if(s)if(i){const o=Mo(n,c=>Ce(c));r=q2(t.serverSyncTree_,a,o,s)}else{const o=Ce(n);r=Db(t.serverSyncTree_,a,o,s)}else if(i){const o=Mo(n,c=>Ce(c));r=B2(t.serverSyncTree_,a,o)}else{const o=Ce(n);r=sl(t.serverSyncTree_,a,o)}let l=a;r.length>0&&(l=Js(t,a)),At(t.eventQueue_,l,r)}function f_(t,e){fm(t,"connected",e),e===!1&&bD(t)}function _D(t,e){Pe(e,(n,i)=>{fm(t,n,i)})}function fm(t,e,n){const i=new te("/.info/"+e),s=Ce(n);t.infoData_.updateSnapshot(i,s);const a=sl(t.infoSyncTree_,i,s);At(t.eventQueue_,i,a)}function hm(t){return t.nextWriteId_++}function yD(t,e,n){const i=V2(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(s=>{const a=Ce(s).withIndex(e._queryParams.getIndex());fh(t.serverSyncTree_,e,n,!0);let r;if(e._queryParams.loadsAllData())r=sl(t.serverSyncTree_,e._path,a);else{const l=Or(t.serverSyncTree_,e);r=Db(t.serverSyncTree_,e._path,a,l)}return At(t.eventQueue_,e._path,r),Zo(t.serverSyncTree_,e,n,null,!0),a},s=>(rl(t,"get for query "+Ae(e)+" failed: "+s),Promise.reject(new Error(s))))}function vD(t,e,n,i,s){rl(t,"set",{path:e.toString(),value:n,priority:i});const a=jc(t),r=Ce(n,i),l=tm(t.serverSyncTree_,e),o=Ub(r,l,a),c=hm(t),h=Ob(t.serverSyncTree_,e,o,c,!0);Bc(t.eventQueue_,h),t.server_.put(e.toString(),r.val(!0),(u,d)=>{const _=u==="ok";_||Ye("set at "+e+" failed: "+u);const E=Kn(t.serverSyncTree_,c,!_);At(t.eventQueue_,e,E),dh(t,s,u,d)});const f=mm(t,e);Js(t,f),At(t.eventQueue_,f,[])}function ED(t,e,n,i){rl(t,"update",{path:e.toString(),value:n});let s=!0;const a=jc(t),r={};if(Pe(n,(l,o)=>{s=!1,r[l]=Lb(me(e,l),Ce(o),t.serverSyncTree_,a)}),s)Ue("update() called with empty data.  Don't do anything."),dh(t,i,"ok",void 0);else{const l=hm(t),o=H2(t.serverSyncTree_,e,r,l);Bc(t.eventQueue_,o),t.server_.merge(e.toString(),n,(c,h)=>{const f=c==="ok";f||Ye("update at "+e+" failed: "+c);const u=Kn(t.serverSyncTree_,l,!f),d=u.length>0?Js(t,e):e;At(t.eventQueue_,d,u),dh(t,i,c,h)}),Pe(n,c=>{const h=mm(t,me(e,c));Js(t,h)}),At(t.eventQueue_,e,[])}}function bD(t){rl(t,"onDisconnectEvents");const e=jc(t),n=Go();ah(t.onDisconnect_,K(),(s,a)=>{const r=Lb(s,a,t.serverSyncTree_,e);pb(n,s,r)});let i=[];ah(n,K(),(s,a)=>{i=i.concat(sl(t.serverSyncTree_,s,a));const r=mm(t,s);Js(t,r)}),t.onDisconnect_=Go(),At(t.eventQueue_,K(),i)}function SD(t,e,n){let i;B(e._path)===".info"?i=fh(t.infoSyncTree_,e,n):i=fh(t.serverSyncTree_,e,n),qb(t.eventQueue_,e._path,i)}function Gb(t,e,n){let i;B(e._path)===".info"?i=Zo(t.infoSyncTree_,e,n):i=Zo(t.serverSyncTree_,e,n),qb(t.eventQueue_,e._path,i)}function TD(t){t.persistentConnection_&&t.persistentConnection_.interrupt(hD)}function rl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ue(n,...e)}function dh(t,e,n,i){e&&ga(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let a=s;i&&(a+=": "+i);const r=new Error(a);r.code=s,e(r)}})}function Yb(t,e,n){return tm(t.serverSyncTree_,e,n)||D.EMPTY_NODE}function dm(t,e=t.transactionQueueTree_){if(e||Pc(t,e),ya(e)){const n=Kb(t,e);C(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&CD(t,al(e),n)}else Hb(e)&&zc(e,n=>{dm(t,n)})}function CD(t,e,n){const i=n.map(c=>c.currentWriteId),s=Yb(t,e,i);let a=s;const r=s.hash();for(let c=0;c<n.length;c++){const h=n[c];C(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=Ge(e,h.path);a=a.updateChild(f,h.currentOutputSnapshotRaw)}const l=a.val(!0),o=e;t.server_.put(o.toString(),l,c=>{rl(t,"transaction put response",{path:o.toString(),status:c});let h=[];if(c==="ok"){const f=[];for(let u=0;u<n.length;u++)n[u].status=2,h=h.concat(Kn(t.serverSyncTree_,n[u].currentWriteId)),n[u].onComplete&&f.push(()=>n[u].onComplete(null,!0,n[u].currentOutputSnapshotResolved)),n[u].unwatcher();Pc(t,cm(t.transactionQueueTree_,e)),dm(t,t.transactionQueueTree_),At(t.eventQueue_,e,h);for(let u=0;u<f.length;u++)ga(f[u])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Ye("transaction at "+o.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}Js(t,e)}},r)}function Js(t,e){const n=Fb(t,e),i=al(n),s=Kb(t,n);return wD(t,s,i),i}function wD(t,e,n){if(e.length===0)return;const i=[];let s=[];const r=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const o=e[l],c=Ge(n,o.path);let h=!1,f;if(C(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),o.status===4)h=!0,f=o.abortReason,s=s.concat(Kn(t.serverSyncTree_,o.currentWriteId,!0));else if(o.status===0)if(o.retryCount>=dD)h=!0,f="maxretry",s=s.concat(Kn(t.serverSyncTree_,o.currentWriteId,!0));else{const u=Yb(t,o.path,r);o.currentInputSnapshot=u;const d=e[l].update(u.val());if(d!==void 0){Hc("transaction failed: Data returned ",d,o.path);let _=Ce(d);typeof d=="object"&&d!=null&&Kt(d,".priority")||(_=_.updatePriority(u.getPriority()));const S=o.currentWriteId,p=jc(t),m=Ub(_,u,p);o.currentOutputSnapshotRaw=_,o.currentOutputSnapshotResolved=m,o.currentWriteId=hm(t),r.splice(r.indexOf(S),1),s=s.concat(Ob(t.serverSyncTree_,o.path,m,o.currentWriteId,o.applyLocally)),s=s.concat(Kn(t.serverSyncTree_,S,!0))}else h=!0,f="nodata",s=s.concat(Kn(t.serverSyncTree_,o.currentWriteId,!0))}At(t.eventQueue_,n,s),s=[],h&&(e[l].status=2,function(u){setTimeout(u,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(f==="nodata"?i.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):i.push(()=>e[l].onComplete(new Error(f),!1,null))))}Pc(t,t.transactionQueueTree_);for(let l=0;l<i.length;l++)ga(i[l]);dm(t,t.transactionQueueTree_)}function Fb(t,e){let n,i=t.transactionQueueTree_;for(n=B(e);n!==null&&ya(i)===void 0;)i=cm(i,n),e=se(e),n=B(e);return i}function Kb(t,e){const n=[];return Qb(t,e,n),n.sort((i,s)=>i.order-s.order),n}function Qb(t,e,n){const i=ya(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);zc(e,s=>{Qb(t,s,n)})}function Pc(t,e){const n=ya(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,zb(e,n.length>0?n:void 0)}zc(e,i=>{Pc(t,i)})}function mm(t,e){const n=al(Fb(t,e)),i=cm(t.transactionQueueTree_,e);return Z2(i,s=>{Yu(t,s)}),Yu(t,i),Bb(i,s=>{Yu(t,s)}),n}function Yu(t,e){const n=ya(e);if(n){const i=[];let s=[],a=-1;for(let r=0;r<n.length;r++)n[r].status===3||(n[r].status===1?(C(a===r-1,"All SENT items should be at beginning of queue."),a=r,n[r].status=3,n[r].abortReason="set"):(C(n[r].status===0,"Unexpected transaction status in abort"),n[r].unwatcher(),s=s.concat(Kn(t.serverSyncTree_,n[r].currentWriteId,!0)),n[r].onComplete&&i.push(n[r].onComplete.bind(null,new Error("set"),!1,null))));a===-1?zb(e,void 0):n.length=a+1,At(t.eventQueue_,al(e),s);for(let r=0;r<i.length;r++)ga(i[r])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function RD(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ye(`Invalid query segment '${n}' in query '${t}'`)}return e}const h_=function(t,e){const n=ND(t),i=n.namespace;n.domain==="firebase.com"&&Cn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Cn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Lx();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ZE(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new te(n.pathString)}},ND=function(t){let e="",n="",i="",s="",a="",r=!0,l="https",o=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let h=t.indexOf("/");h===-1&&(h=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(s=AD(t.substring(h,f)));const u=RD(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(r=l==="https"||l==="wss",o=parseInt(e.substring(c+1),10)):c=e.length;const d=e.slice(0,c);if(d.toLowerCase()==="localhost")n="localhost";else if(d.split(".").length<=2)n=d;else{const _=e.indexOf(".");i=e.substring(0,_).toLowerCase(),n=e.substring(_+1),a=i}"ns"in u&&(a=u.ns)}return{host:e,port:o,domain:n,subdomain:i,secure:r,scheme:l,pathString:s,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ae(this.snapshot.exportVal())}}class OD{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return C(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return G(this._path)?null:qd(this._path)}get ref(){return new An(this._repo,this._path)}get _queryIdentifier(){const e=Zg(this._queryParams),n=Hd(e);return n==="{}"?"default":n}get _queryObject(){return Zg(this._queryParams)}isEqual(e){if(e=ht(e),!(e instanceof gm))return!1;const n=this._repo===e._repo,i=Vd(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+yO(this._path)}}class An extends gm{constructor(e,n){super(e,n,new Kd,!1)}get parent(){const e=lb(this._path);return e===null?null:new An(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Dr{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new te(e),i=mh(this.ref,e);return new Dr(this._node.getChild(n),i,pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new Dr(s,mh(this.ref,i),pe)))}hasChild(e){const n=new te(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ma(t,e){return t=ht(t),t._checkNotDeleted("ref"),e!==void 0?mh(t._root,e):t._root}function mh(t,e){return t=ht(t),B(t._path)===null?lD("child","path",e):Pb("child","path",e),new An(t._repo,me(t._path,e))}function d_(t,e){t=ht(t),oD("set",t._path),sD("set",e,t._path);const n=new Wr;return vD(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function DD(t,e){rD("update",e,t._path);const n=new Wr;return ED(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function MD(t){t=ht(t);const e=new pm(()=>{}),n=new ll(e);return yD(t._repo,t,n).then(i=>new Dr(i,new An(t._repo,t._path),t._queryParams.getIndex()))}class ll{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new xD("value",this,new Dr(e.snapshotNode,new An(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new OD(this,e,n):null}matches(e){return e instanceof ll?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function ID(t,e,n,i,s){const a=new pm(n,void 0),r=new ll(a);return SD(t._repo,t,r),()=>Gb(t._repo,t,r)}function kD(t,e,n,i){return ID(t,"value",e)}function LD(t,e,n){let i=null;const s=n?new pm(n):null;i=new ll(s),Gb(t._repo,t,i)}O2(An);L2(An);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="FIREBASE_DATABASE_EMULATOR_HOST",ph={};let zD=!1;function HD(t,e,n,i){const s=e.lastIndexOf(":"),a=e.substring(0,s),r=ha(a);t.repoInfo_=new ZE(e,r,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function BD(t,e,n,i,s){let a=i||t.options.databaseURL;a===void 0&&(t.options.projectId||Cn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ue("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let r=h_(a,s),l=r.repoInfo,o;typeof process<"u"&&kg&&(o=kg[UD]),o?(a=`http://${o}?ns=${l.namespace}`,r=h_(a,s),l=r.repoInfo):r.repoInfo.secure;const c=new Fx(t.name,t.options,e);cD("Invalid Firebase Database URL",r),G(r.path)||Cn("Database URL must point to the root of a Firebase Database (not including a child path).");const h=PD(l,t,c,new Yx(t,n));return new qD(h,t)}function jD(t,e){const n=ph[e];(!n||n[t.key]!==t)&&Cn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),TD(t),delete n[t.key]}function PD(t,e,n,i){let s=ph[e.name];s||(s={},ph[e.name]=s);let a=s[t.toURLString()];return a&&Cn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new mD(t,zD,n,i),s[t.toURLString()]=a,a}class qD{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(pD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new An(this._repo,K())),this._rootInternal}_delete(){return this._rootInternal!==null&&(jD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Cn("Cannot call "+e+" on a deleted database.")}}function VD(t=iE(),e){const n=xd(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=Jw("database");i&&GD(n,...i)}return n}function GD(t,e,n,i={}){t=ht(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,a=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&qi(i,a.repoInfo_.emulatorOptions))return;Cn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let r;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&Cn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new Zl(Zl.OWNER);else if(i.mockUserToken){const l=typeof i.mockUserToken=="string"?i.mockUserToken:eA(i.mockUserToken,t.app.options.projectId);r=new Zl(l)}ha(e)&&(W0(e),$0("Database",!0)),HD(a,s,i,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t){xx(ma),Qs(new Vi("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return BD(i,s,a,n)},"PUBLIC").setMultipleInstances(!0)),ai(Lg,Ug,t),ai(Lg,Ug,"esm2020")}mn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};mn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};YD();const Xb={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",databaseURL:""},FD=!!Xb.apiKey;let Jo=null,zt=null;try{FD?(Jo=nE(Xb),zt=VD(Jo),console.log("Firebase initialized successfully")):console.warn("Firebase configuration missing. Using Mock Mode.")}catch(t){console.error("Firebase initialization failed:",t)}let en=null;if(Jo)try{en=wx(Jo)}catch{console.warn("Auth initialization failed, falling back to mock")}const m_={uid:"mock-user-"+Math.floor(Math.random()*1e4),isAnonymous:!0,displayName:"Guest"},gh={signIn:async()=>{if(!en)return console.log("Mock SignIn successful"),await new Promise(t=>setTimeout(t,500)),m_;try{return(await oN(en)).user}catch(t){throw console.error("Error signing in anonymously:",t),t}},onAuthStateChange:t=>en?mN(en,t):(t(null),()=>{}),getCurrentUser:()=>en?en.currentUser:m_,signOut:()=>en?en.signOut():Promise.resolve()},Ia=()=>{try{return JSON.parse(localStorage.getItem("web-hitster-rooms")||"{}")}catch{return{}}},Fu=t=>{localStorage.setItem("web-hitster-rooms",JSON.stringify(t))},ec={createRoom:async t=>{const e=KD(),n={hostId:t.uid,status:"LOBBY",createdAt:Date.now(),players:{[t.uid]:{id:t.uid,name:"Host",score:0,isHost:!0}}};if(zt){const i=Ma(zt,`rooms/${e}`);await d_(i,n)}else{const i=Ia();i[e]=n,Fu(i),console.log("Mock Room Created:",e)}return e},joinRoom:async(t,e,n)=>{if(zt){const i=Ma(zt,`rooms/${t}`),s=await MD(i);if(!s.exists())throw new Error("Room not found");const a=s.val(),r=Ma(zt,`rooms/${t}/players/${e.uid}`);return await d_(r,{id:e.uid,name:n,score:0,isHost:!1}),a}else{const i=Ia(),s=i[t];if(!s)throw new Error("Room not found (Mock)");return s.players[e.uid]={id:e.uid,name:n,score:0,isHost:!1},Fu(i),s}},subscribeToRoom:(t,e)=>{if(zt){const n=Ma(zt,`rooms/${t}`),i=kD(n,s=>{const a=s.val();a&&e(a)});return()=>LD(n,"value",i)}else{const n=setInterval(()=>{const a=Ia()[t];a&&e(a)},500),i=Ia()[t];return i&&e(i),()=>clearInterval(n)}},startGame:async t=>{if(zt){const e=Ma(zt,`rooms/${t}`);await DD(e,{status:"PLAYING"})}else{const e=Ia();e[t]&&(e[t].status="PLAYING",Fu(e))}}};function KD(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ";let e="";for(let n=0;n<4;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),p_=t=>{const e=XD(t);return e.charAt(0).toUpperCase()+e.slice(1)},Wb=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),WD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $D={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:a,iconNode:r,...l},o)=>b.createElement("svg",{ref:o,...$D,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:Wb("lucide",s),...!a&&!WD(l)&&{"aria-hidden":"true"},...l},[...r.map(([c,h])=>b.createElement(c,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=(t,e)=>{const n=b.forwardRef(({className:i,...s},a)=>b.createElement(ZD,{ref:a,iconNode:e,className:Wb(`lucide-${QD(p_(t))}`,`lucide-${t}`,i),...s}));return n.displayName=p_(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],eM=Rn("check",JD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nM=Rn("circle-check-big",tM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],sM=Rn("circle-x",iM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],rM=Rn("copy",aM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],oM=Rn("house",lM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],uM=Rn("music",cM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],_m=Rn("play",fM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],dM=Rn("trophy",hM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$b=Rn("users",mM),pM="modulepreload",gM=function(t){return"/"+t},g_={},_M=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));s=Promise.allSettled(n.map(o=>{if(o=gM(o),o in g_)return;g_[o]=!0;const c=o.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":pM,c||(f.as="script"),f.crossOrigin="",f.href=o,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((u,d)=>{f.addEventListener("load",u),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})}))}function a(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return s.then(r=>{for(const l of r||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},Zb={credentialsUpdated:"CredentialsUpdatedMessage"};class ke extends Error{constructor(n,i){super(n,i);Cm(this,"errorCode");Object.setPrototypeOf(this,ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ke),this.name="TidalError",this.errorCode=n}}class tc extends ke{constructor(e,n){super(e,n),Object.setPrototypeOf(this,tc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tc),this.name="IllegalArgumentError"}}class Mr extends ke{constructor(e,n){super(e,n),Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mr),this.name="NetworkError"}}class _i extends ke{constructor(e,n){super(e,n),Object.setPrototypeOf(this,_i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_i),this.name="RetryableError"}}var Pn,ks,Ls,Ir;class yM{constructor(e){va(this,Pn);va(this,ks,!1);va(this,Ls);va(this,Ir);ts(this,Ir,new URL(e)),this.synchronize()}now(e=Date.now()){return!Qt(this,Ls)||!Qt(this,Pn)?(console.warn("TrueTime is not yet synchronized"),e):Qt(this,Ls)+(e-Qt(this,Pn))}async synchronize(){if(!(Qt(this,Pn)&&Math.abs(Date.now()-Qt(this,Pn))<36e5||Qt(this,ks))){ts(this,ks,!0);try{const e=await fetch(Qt(this,Ir));e.ok&&e.headers.has("date")&&(ts(this,Ls,new Date(e.headers.get("date")).getTime()),ts(this,Pn,Date.now()))}catch(e){console.error(e)}ts(this,ks,!1)}}timestamp(e,n){let i;if(n){if(i=performance.getEntriesByName(e).find(s=>"detail"in s&&s.detail===n),!i)throw new ReferenceError(`There is no performance entry named "${e}" with detail "${n}"`)}else i=performance.getEntriesByName(e).pop();return i?i.startTime:void 0}}Pn=new WeakMap,ks=new WeakMap,Ls=new WeakMap,Ir=new WeakMap;const ym=new yM("https://api.tidal.com/v1/ping");class nc extends ke{constructor(e,n){super(e,n),Object.setPrototypeOf(this,nc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nc),this.name="AuthenticationError"}}class ic extends ke{constructor(e,n){super(e,n),Object.setPrototypeOf(this,ic.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic),this.name="TokenResponseError"}}class ea extends ke{constructor(e,n){super(e,n),Object.setPrototypeOf(this,ea.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ea),this.name="UnexpectedError"}}const ye={authenticationError:"A0000",illegalArgumentError:"A0007",initError:"A0001",networkError:"A0002",retryableError:"A0003",storageError:"A0004",tokenResponseError:"A0005",unexpectedError:"A0006"},Ku="AuthDB";function vM(t){return String.fromCharCode(...new Uint8Array(t))}function EM(t){const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0,s=t.length;i<s;i++)n[i]=t.charCodeAt(i);return n}const St={getItem:t=>{const e=globalThis.localStorage.getItem(`${Ku}/${t}`);return e?EM(e):void 0},removeItem:t=>{globalThis.localStorage.removeItem(`${Ku}/${t}`)},setItem:(t,e)=>{globalThis.localStorage.setItem(`${Ku}/${t}`,vM(e))}},Jb=t=>{const e=new TextEncoder;return globalThis.crypto.subtle.importKey("raw",e.encode(t),{name:"PBKDF2"},!1,["deriveBits","deriveKey"])},eS=(t,e)=>globalThis.crypto.subtle.deriveKey({hash:"SHA-256",iterations:1e5,name:"PBKDF2",salt:e},t,{length:256,name:"AES-KW"},!0,["wrapKey","unwrapKey"]),bM=async(t,e)=>{const n=await Jb(e);return eS(n,t)},SM=t=>new TextEncoder().encode(t),TM=t=>new TextDecoder().decode(t),CM=async({keyToWrap:t,password:e,salt:n})=>{const i=await Jb(e),s=await eS(i,n);return globalThis.crypto.subtle.wrapKey("raw",t,s,"AES-KW")},tS=async({password:t,salt:e,wrappedKeyBuffer:n})=>{const i=await bM(e,t);return globalThis.crypto.subtle.unwrapKey("raw",n,i,"AES-KW","AES-CTR",!0,["encrypt","decrypt"])},wM=({content:t,counter:e,key:n})=>globalThis.crypto.subtle.encrypt({counter:e,length:64,name:"AES-CTR"},n,t),AM=({counter:t,encryptedCredentials:e,key:n})=>globalThis.crypto.subtle.decrypt({counter:t,length:64,name:"AES-CTR"},n,e),RM=()=>globalThis.crypto.subtle.generateKey({length:256,name:"AES-CTR"},!0,["encrypt","decrypt"]),NM=async({password:t,storageKey:e})=>{const n=await RM(),i=globalThis.crypto.getRandomValues(new Uint8Array(16)),s=globalThis.crypto.getRandomValues(new Uint8Array(16)),a=await CM({keyToWrap:n,password:t,salt:s});try{St.setItem(`${e}Counter`,i),St.setItem(`${e}Salt`,s),St.setItem(`${e}Key`,a)}catch(r){throw new ke(ye.storageError,{cause:r})}},nS=t=>({counter:St.getItem(`${t}Counter`),encryptedCredentials:St.getItem(`${t}Data`),salt:St.getItem(`${t}Salt`),wrappedKey:St.getItem(`${t}Key`)}),iS=async t=>{const{counter:e,encryptedCredentials:n,salt:i,wrappedKey:s}=nS(t);if(n&&e&&s&&i)try{const a=await tS({password:t,salt:i,wrappedKeyBuffer:s}),r=await AM({counter:e,encryptedCredentials:n,key:a});return JSON.parse(TM(r))}catch{throw new ke(ye.storageError)}else return NM({password:t,storageKey:t})},xM=async t=>{const n={...await iS(t.credentialsStorageKey),...t},{counter:i,salt:s,wrappedKey:a}=nS(t.credentialsStorageKey);if(!a||!i||!s)throw new ke(ye.storageError);try{const r=await tS({password:n.credentialsStorageKey,salt:s,wrappedKeyBuffer:a}),l=await wM({content:SM(JSON.stringify(n)),counter:i,key:r});St.setItem(`${n.credentialsStorageKey}Data`,l)}catch(r){throw new ke(ye.storageError,{cause:r})}},OM=t=>{St.removeItem(`${t}Data`),St.removeItem(`${t}Counter`),St.removeItem(`${t}Salt`),St.removeItem(`${t}Key`)},DM=async t=>{if(t.status===0)return new Mr(ye.networkError);if(t.status>=400&&t.status<500)return new ea(ye.unexpectedError);if(t.status>=500&&t.status<600)return new _i(ye.retryableError);const{error:e}=await t.json();return new ic(ye.tokenResponseError,{cause:e})},vm=async({body:t,credentials:e})=>{const{options:n,url:i}=sS({body:t,credentials:e,path:"oauth2/token"}),s=await aS({request:()=>globalThis.fetch(i,n),retry:a=>a.status>=500&&a.status<600});return s.ok?s:await DM(s)},sS=({body:t,credentials:e,path:n})=>{const i=`${e.tidalAuthServiceBaseUri}${n}`;return{options:{body:new URLSearchParams(t).toString(),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST"},url:i}},aS=async({delayInMs:t=500,request:e,retry:n})=>{let i=1;const s=()=>i>32;for(;!s();){await new Promise(l=>setTimeout(l,i*t));const a=await e();if(i*=2,!n(a)||s())return a}throw new ea(ye.unexpectedError)},MM=async t=>{const e=new TextEncoder().encode(t),n=await globalThis.crypto.subtle.digest("SHA-256",e),i=new Uint8Array(n),s=i.byteLength;let a="";for(let r=0;r<s;r+=1)a+=String.fromCharCode(i[r]);return globalThis.btoa(a)},rS=t=>t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),IM=()=>{const t=new Uint8Array(100);return rS(btoa(globalThis.crypto.getRandomValues(t).toString())).slice(0,128)},x={pending:!1,pendingPromises:[]},kM="https://login.tidal.com/",LM="https://auth.tidal.com/v1/",UM=["11003","6001","11001","11002","11101"],zM=t=>globalThis.addEventListener("authEventBus",t),lS=t=>{const e=new CustomEvent("authEventBus",{detail:t});globalThis.dispatchEvent(e)},HM=t=>{lS({payload:t,type:Zb.credentialsUpdated})},oS=async({clientId:t,clientSecret:e,clientUniqueKey:n,credentialsStorageKey:i,scopes:s,tidalAuthServiceBaseUri:a,tidalLoginServiceBaseUri:r})=>{const l=await iS(i),o={...l,clientId:t,...e&&{clientSecret:e},clientUniqueKey:n,credentialsStorageKey:i,previousClientSecret:l==null?void 0:l.clientSecret,scopes:s??[],tidalAuthServiceBaseUri:a??(l==null?void 0:l.tidalAuthServiceBaseUri)??LM,tidalLoginServiceBaseUri:r??(l==null?void 0:l.tidalLoginServiceBaseUri)??kM};await bm(o),await ym.synchronize()},cS=async({loginConfig:t,redirectUri:e})=>{if(!x.credentials)throw new ke(ye.initError);const n=IM(),i=await MM(n);await bm({...x.credentials,codeChallenge:n,redirectUri:e});const s={...t,client_id:x.credentials.clientId,...x.credentials.clientUniqueKey&&{client_unique_key:x.credentials.clientUniqueKey},code_challenge:rS(i),code_challenge_method:"S256",redirect_uri:e,response_type:"code",scope:x.credentials.scopes.join(" ")},a=new URLSearchParams(s).toString();return`${x.credentials.tidalLoginServiceBaseUri}authorize?${a}`},uS=async t=>{var f,u,d;if(!((f=x.credentials)!=null&&f.credentialsStorageKey)||!((u=x.credentials)!=null&&u.codeChallenge)||!((d=x.credentials)!=null&&d.redirectUri))throw new ke(ye.initError);const{clientId:e,clientSecret:n,clientUniqueKey:i,codeChallenge:s,redirectUri:a,scopes:r}=x.credentials,l=Object.fromEntries(new URLSearchParams(t));if(!l.code)throw new nc(ye.authenticationError);const o={client_id:e,...i&&{client_unique_key:i},...n&&{client_secret:n},code:l.code,code_verifier:s,grant_type:"authorization_code",redirect_uri:a,scope:r.join(" ")},c=await vm({body:o,credentials:x.credentials});if(c instanceof Error)throw c;const h=await c.json();await qc(h)},sc=()=>{var t;lS({type:Zb.credentialsUpdated}),(t=x.credentials)!=null&&t.credentialsStorageKey&&OM(x.credentials.credentialsStorageKey),delete x.credentials,delete x.limitedDeviceResponse},BM=async()=>{var t;if((t=x.credentials)!=null&&t.refreshToken){const e={...x.credentials.clientSecret&&{client_secret:x.credentials.clientSecret},client_id:x.credentials.clientId,grant_type:"refresh_token",refresh_token:x.credentials.refreshToken,scope:x.credentials.scopes.join(" ")},n=await vm({body:e,credentials:x.credentials});if(n instanceof Error)return n;const i=await n.json();return qc(i)}else return Em()},jM=async()=>{var t;if((t=x.credentials)!=null&&t.refreshToken){const e={...x.credentials.clientSecret&&{client_secret:x.credentials.clientSecret},client_id:x.credentials.clientId,grant_type:"update_client",refresh_token:x.credentials.refreshToken,scope:x.credentials.scopes.join(" ")},{options:n,url:i}=sS({body:e,credentials:x.credentials,path:"oauth2/token"}),s=await aS({request:()=>globalThis.fetch(i,n),retry:r=>r.status>=400&&r.status<600});if(!s.ok)throw s.status===0?new Mr(ye.networkError):new _i(ye.retryableError);const a=await s.json();return qc(a)}else{if(x.credentials){const e=await Em();if(e&&"token"in e)return x.credentials.previousClientSecret=x.credentials.clientSecret,e;throw new _i(ye.retryableError)}throw new ke(ye.unexpectedError)}},Em=async()=>{var t;if((t=x.credentials)!=null&&t.clientSecret){const e={client_id:x.credentials.clientId,client_secret:x.credentials.clientSecret,grant_type:"client_credentials"},n=await vm({body:e,credentials:x.credentials});if(n instanceof Error)return n;const i=await n.json();return qc(i)}},PM=async t=>(x.pending&&await new Promise(e=>{x.pendingPromises.push(e)}),qM(t).finally(()=>{const e=x.pendingPromises.shift();e&&e(),x.pending=!1})),qM=async t=>{if(x.credentials){x.pending=!0;const{accessToken:e}=x.credentials,n=60*1e3;if(e){const i=x.credentials.scopes.every(l=>{var o;return(o=e.grantedScopes)==null?void 0:o.includes(l)});if(x.credentials.clientUniqueKey!==e.clientUniqueKey||e.userId&&i===!1)throw sc(),new tc(ye.illegalArgumentError);if(x.credentials.clientId!==(e==null?void 0:e.clientId)||!!(x.credentials.previousClientSecret&&x.credentials.previousClientSecret!==x.credentials.clientSecret)){const l=await jM();if(l&&"token"in l)return l;throw new _i(ye.retryableError)}if(!!!(t&&UM.includes(t))&&e.expires&&e.expires>ym.now()+n)return e;const r=await BM();if(r&&"token"in r)return r;if(r instanceof ea)throw sc(),r;if(r instanceof _i)throw r}else if(x.credentials.clientSecret){const i=await Em();if(i&&"token"in i)return i;if(i instanceof Error)throw i}else return{clientId:x.credentials.clientId,requestedScopes:x.credentials.scopes}}throw new ke(ye.initError)},bm=t=>{x.credentials=t;const e={...x.credentials.accessToken,clientId:x.credentials.clientId,requestedScopes:x.credentials.scopes};return HM(e),xM(x.credentials)},qc=async t=>{var r,l;if(!x.credentials)throw new ke(ye.initError);const{clientId:e,clientUniqueKey:n,scopes:i}=x.credentials,s=(r=t.scope)!=null&&r.length?(l=t.scope)==null?void 0:l.split(" "):[],a={clientId:e,clientUniqueKey:n,expires:ym.now()+t.expires_in*1e3,grantedScopes:s,requestedScopes:i,token:t.access_token,...t.user_id&&{userId:t.user_id.toString()}};return await bm({...x.credentials,accessToken:a,...t.refresh_token&&{refreshToken:t.refresh_token}}),a},Vc={bus:zM,getCredentials:PM},VM=Object.freeze(Object.defineProperty({__proto__:null,authErrorCodeMap:ye,credentialsProvider:Vc,finalizeLogin:uS,init:oS,initializeLogin:cS,logout:sc},Symbol.toStringTag,{value:"Module"})),fS=async()=>{try{await oS({clientId:"KGztvO6qzZCJMKoN",credentialsStorageKey:"tidal_credentials"}),console.log("Tidal Auth initialized")}catch(t){console.error("Failed to initialize Tidal Auth",t)}},GM=async()=>{const t="https://strawbirdies.com/tidal-callback",{initializeLogin:e}=await _M(async()=>{const{initializeLogin:i}=await Promise.resolve().then(()=>VM);return{initializeLogin:i}},[]),n=await e({redirectUri:t});window.location.href=n},YM=async()=>{try{const t=await Vc.getCredentials();if(!t||!t.accessToken)throw new Error("No access token available");return{Authorization:`Bearer ${t.accessToken}`,"Content-Type":"application/vnd.tidal.v1+json"}}catch(t){throw console.error("Error getting Tidal access token",t),t}},hS=async(t,e=["TRACKS"])=>{const n=await YM(),i=new URL("https://openapi.tidal.com/search");i.searchParams.append("query",t),i.searchParams.append("type",e.join(",")),i.searchParams.append("limit",10);const s=await fetch(i.toString(),{method:"GET",headers:n});if(!s.ok)throw new Error(`Tidal Search failed: ${s.statusText}`);return await s.json()};function FM(){const t=Qr(),[e,n]=b.useState(""),[i,s]=b.useState(""),[a,r]=b.useState(!1),[l,o]=b.useState(!1),[c,h]=b.useState(null),[f,u]=b.useState(!1);b.useEffect(()=>{(async()=>{try{const S=await Vc.getCredentials();S&&S.accessToken&&u(!0)}catch{}})()},[]);const d=async()=>{o(!0),h(null);try{const E=await gh.signIn(),S=await ec.createRoom(E);t(`/lobby/${S}`)}catch(E){console.error(E),h("Failed to create room. check console.")}finally{o(!1)}},_=async E=>{if(E.preventDefault(),!(!e||!i)){o(!0),h(null);try{const S=await gh.signIn();await ec.joinRoom(e.toUpperCase(),S,i),t(`/lobby/${e.toUpperCase()}`)}catch(S){console.error(S),h(S.message||"Failed to join room.")}finally{o(!1)}}};return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 flex flex-col items-center justify-center p-4 text-white",children:y.jsxs("div",{className:"max-w-md w-full bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-white/20",children:[y.jsxs("div",{className:"flex flex-col items-center mb-8",children:[y.jsx("div",{className:"bg-gradient-to-tr from-pink-500 to-orange-400 p-4 rounded-full mb-4 shadow-lg shadow-pink-500/20",children:y.jsx(uM,{className:"w-12 h-12 text-white"})}),y.jsx("h1",{className:"text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-pink-300 to-orange-200",children:"Web-Hitster"}),y.jsx("p",{className:"text-white/60 mt-2 text-center",children:"The Timeline Music Game"})]}),c&&y.jsx("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 p-3 rounded-lg mb-6 text-sm text-center",children:c}),y.jsx("div",{className:"mb-8",children:f?y.jsxs("button",{disabled:!0,className:"w-full bg-emerald-500/20 text-emerald-300 font-bold py-3 rounded-xl border border-emerald-500/50 flex items-center justify-center gap-3 cursor-default",children:[y.jsx(eM,{className:"w-5 h-5"}),"Tidal Connected"]}):y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:GM,className:"w-full bg-black text-white font-bold py-3 rounded-xl border border-white/20 hover:bg-zinc-900 transition-all flex items-center justify-center gap-3",children:[y.jsx("img",{src:"https://tidal.com/favicon.ico",alt:"Tidal",className:"w-5 h-5"}),"Connect Tidal Account"]}),y.jsx("p",{className:"text-xs text-white/40 text-center mt-2",children:"Required to play music snippets"})]})}),a?y.jsxs("form",{onSubmit:_,className:"space-y-4 animate-in fade-in slide-in-from-bottom-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1",children:"Room Code"}),y.jsx("input",{type:"text",placeholder:"ABCD",maxLength:4,value:e,onChange:E=>n(E.target.value.toUpperCase()),className:"w-full bg-black/20 border border-white/20 rounded-xl px-4 py-3 text-2xl font-mono text-center tracking-widest focus:outline-none focus:ring-2 focus:ring-pink-500 placeholder-white/20 text-white uppercase"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1",children:"Your Name"}),y.jsx("input",{type:"text",placeholder:"Enter your name",value:i,onChange:E=>s(E.target.value),className:"w-full bg-black/20 border border-white/20 rounded-xl px-4 py-3 text-lg focus:outline-none focus:ring-2 focus:ring-pink-500 placeholder-white/20 text-white"})]}),y.jsxs("div",{className:"flex gap-3 mt-6",children:[y.jsx("button",{type:"button",onClick:()=>r(!1),className:"flex-1 bg-white/5 border border-white/10 text-white py-3 rounded-xl hover:bg-white/10 transition-colors",children:"Back"}),y.jsx("button",{type:"submit",disabled:l||!e||!i,className:"flex-[2] bg-gradient-to-r from-pink-500 to-orange-500 text-white font-bold py-3 rounded-xl hover:opacity-90 transition-opacity shadow-lg shadow-pink-500/25 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Joining...":"Join Game"})]})]}):y.jsxs("div",{className:"space-y-4",children:[y.jsx("button",{onClick:d,disabled:l,className:"w-full bg-white text-purple-900 font-bold py-4 rounded-xl hover:bg-gray-100 transition-all transform hover:scale-[1.02] flex items-center justify-center gap-3 shadow-lg",children:l?"Creating...":y.jsxs(y.Fragment,{children:[y.jsx(_m,{className:"w-5 h-5 fill-current"}),"Start New Game"]})}),y.jsxs("button",{onClick:()=>r(!0),className:"w-full bg-white/5 border border-white/10 text-white font-medium py-4 rounded-xl hover:bg-white/10 transition-all flex items-center justify-center gap-3",children:[y.jsx($b,{className:"w-5 h-5"}),"Join Existing Game"]})]})]})})}function KM(){const{roomId:t}=k0(),e=Qr(),[n,i]=b.useState(null),[s,a]=b.useState(null),[r,l]=b.useState(!0);b.useEffect(()=>{const u=gh.getCurrentUser();if(!u){e("/");return}a(u);const d=ec.subscribeToRoom(t,_=>{i(_),l(!1),_.status==="PLAYING"&&e(`/game/${t}`)});return()=>d()},[t,e]);const o=async()=>{try{await ec.startGame(t)}catch(u){console.error("Failed to start game:",u)}},c=()=>{navigator.clipboard.writeText(t)};if(r)return y.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-white",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})});if(!n)return y.jsx("div",{className:"text-white text-center pt-20",children:"Room not found"});const h=Object.values(n.players||{}),f=n.hostId===(s==null?void 0:s.uid);return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 p-4 font-sans text-white",children:y.jsxs("div",{className:"max-w-2xl mx-auto pt-10",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("p",{className:"text-white/60 uppercase tracking-widest text-sm mb-2",children:"Room Code"}),y.jsxs("div",{onClick:c,className:"inline-flex items-center gap-4 bg-white/10 border border-white/20 rounded-2xl px-8 py-4 cursor-pointer hover:bg-white/20 transition-colors",children:[y.jsx("span",{className:"text-6xl font-mono font-bold tracking-wider",children:t}),y.jsx(rM,{className:"w-6 h-6 text-white/50"})]}),y.jsx("p",{className:"text-white/40 text-xs mt-2",children:"Click to copy code"})]}),y.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-8 border border-white/10 mb-8",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[y.jsx($b,{className:"w-6 h-6 text-pink-400"}),"Players (",h.length,")"]}),f&&y.jsx("span",{className:"px-3 py-1 bg-pink-500/20 text-pink-300 text-xs font-bold rounded-full uppercase tracking-wider",children:"You are Host"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(u=>y.jsxs("div",{className:"flex items-center gap-4 bg-white/5 rounded-xl p-4 border border-white/5",children:[y.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg
                  ${u.isHost?"bg-gradient-to-tr from-pink-500 to-orange-400":"bg-slate-700"}
                `,children:u.name.charAt(0).toUpperCase()}),y.jsxs("div",{children:[y.jsx("div",{className:"font-bold",children:u.name}),u.isHost&&y.jsx("div",{className:"text-xs text-white/50",children:"Host"})]})]},u.id))})]}),f?y.jsxs("button",{onClick:o,className:"w-full bg-gradient-to-r from-pink-500 to-orange-500 text-white font-bold py-5 rounded-2xl hover:opacity-90 transition-all transform hover:scale-[1.01] shadow-xl shadow-pink-500/20 flex items-center justify-center gap-3 text-xl",children:[y.jsx(_m,{className:"fill-current w-6 h-6"}),"Start Game"]}):y.jsx("div",{className:"text-center text-white/50 animate-pulse",children:"Waiting for host to start..."})]})})}const QM=[{id:"1",name:"Billie Jean",artist:"Michael Jackson",year:1982,image:"https://upload.wikimedia.org/wikipedia/en/5/55/Michael_Jackson_-_Thriller.png"},{id:"2",name:"Smells Like Teen Spirit",artist:"Nirvana",year:1991,image:"https://upload.wikimedia.org/wikipedia/en/3/32/Nirvana-Smells_Like_Teen_Spirit.jpg"},{id:"3",name:"Hey Ya!",artist:"OutKast",year:2003,image:"https://upload.wikimedia.org/wikipedia/en/1/1e/OutKast_-_Hey_Ya%21_cover.jpg"},{id:"4",name:"Bohemian Rhapsody",artist:"Queen",year:1975,image:"https://upload.wikimedia.org/wikipedia/en/9/9f/Bohemian_Rhapsody.png"},{id:"5",name:"Uptown Funk",artist:"Mark Ronson ft. Bruno Mars",year:2014,image:"https://upload.wikimedia.org/wikipedia/en/a/ad/Mark_Ronson_-_Uptown_Funk_%28feat._Bruno_Mars%29_%28Official_Single_Cover%29.png"},{id:"6",name:"Blinding Lights",artist:"The Weeknd",year:2019,image:"https://upload.wikimedia.org/wikipedia/en/e/e6/The_Weeknd_-_Blinding_Lights.png"},{id:"7",name:"Rolling in the Deep",artist:"Adele",year:2010,image:"https://upload.wikimedia.org/wikipedia/en/7/74/Adele_-_Rolling_in_the_Deep.png"},{id:"8",name:"I Want to Hold Your Hand",artist:"The Beatles",year:1963,image:"https://upload.wikimedia.org/wikipedia/en/b/bf/I_want_to_hold_your_hand_single.png"},{id:"9",name:"Like a Prayer",artist:"Madonna",year:1989,image:"https://upload.wikimedia.org/wikipedia/en/2/27/Like_a_prayer_single.jpg"},{id:"10",name:"Wannabe",artist:"Spice Girls",year:1996,image:"https://upload.wikimedia.org/wikipedia/en/a/a5/Spice_Girls_-_Wannabe_cover.png"}],XM={getPlaylistTracks:async()=>(await new Promise(t=>setTimeout(t,800)),[...QM].sort(()=>Math.random()-.5)),playTrack:async t=>(console.log(`Playing mock track ${t}`),!0)},WM=()=>{const{roomId:t}=k0(),e=Qr(),[n,i]=b.useState([]),[s,a]=b.useState([]),[r,l]=b.useState(null),[o,c]=b.useState("loading"),[h,f]=b.useState(0),[u,d]=b.useState(null);b.useEffect(()=>{(async()=>{const g=[...await XM.getPlaylistTracks()].sort(()=>Math.random()-.5),v=g.pop(),w=g.pop();a([v]),l(w),i(g),c("playing")})()},[]);const _=async p=>{var m,g;try{const v=`${p.name} ${p.artist}`;console.log("Searching Tidal for:",v);const w=await hS(v),O=((m=w.items)==null?void 0:m[0])||((g=w.tracks)==null?void 0:g[0]);O&&O.url?window.open(O.url,"_blank"):(console.warn("No Tidal track found or no URL"),alert("Could not find this track on Tidal automatically."))}catch(v){console.error("Playback error:",v),alert("Playback failed. Please ensure you are logged into Tidal if required.")}},E=p=>{if(o!=="playing")return;const m=p>0?s[p-1]:null,g=p<s.length?s[p]:null,v=m?m.year:-1/0,w=g?g.year:1/0;if(r.year>=v&&r.year<=w){f(N=>N+1),d({type:"correct",index:p});const A=[...s];A.splice(p,0,r),setTimeout(()=>{a(A),d(null),S()},1e3)}else{let A=0;for(let N=0;N<=s.length;N++){const M=N>0?s[N-1].year:-1/0,L=N<s.length?s[N].year:1/0;if(r.year>=M&&r.year<=L){A=N;break}}d({type:"wrong",correctIndex:A}),c("gameEnd")}},S=()=>{if(n.length===0){c("gameEnd");return}const p=n.pop();i([...n]),l(p),c("playing")};return o==="loading"?y.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-white",children:"Loading..."}):o==="gameEnd"?y.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-white p-4",children:y.jsxs("div",{className:"bg-slate-900 p-8 rounded-2xl max-w-md w-full text-center border border-slate-800",children:[y.jsx(dM,{className:`w-16 h-16 mx-auto mb-6 ${h>5?"text-yellow-500":"text-slate-500"}`}),y.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Game Over!"}),y.jsx("p",{className:"text-slate-400 mb-8",children:(u==null?void 0:u.type)==="wrong"?"Wrong placement!":"You cleared the deck!"}),(u==null?void 0:u.type)==="wrong"&&r&&y.jsxs("div",{className:"mb-6 bg-red-500/10 border border-red-500/50 p-4 rounded-xl",children:[y.jsx("p",{className:"text-sm text-red-200 mb-2",children:"The song was from"}),y.jsx("p",{className:"text-2xl font-bold text-white",children:r.year}),y.jsxs("p",{className:"text-sm opacity-75",children:[r.name," - ",r.artist]})]}),y.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mb-8",children:[y.jsx("span",{className:"text-slate-400 text-sm uppercase tracking-wider",children:"Top Score"}),y.jsx("div",{className:"text-5xl font-bold text-purple-400 mt-2",children:h})]}),y.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-xl mb-4",children:"Play Again"}),y.jsxs("button",{onClick:()=>e("/"),className:"w-full bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 px-6 rounded-xl flex items-center justify-center gap-2",children:[y.jsx(oM,{className:"w-5 h-5"})," Home"]})]})}):y.jsxs("div",{className:"min-h-screen bg-slate-950 text-white p-4 flex flex-col items-center overflow-x-hidden",children:[y.jsxs("div",{className:"w-full max-w-5xl flex justify-between items-center mb-8 pt-4",children:[y.jsxs("div",{className:"text-purple-400 font-bold text-xl",children:["Score: ",h]}),y.jsxs("div",{className:"text-slate-400 text-sm",children:["Deck: ",n.length]})]}),y.jsx("div",{className:`mb-12 transition-all duration-500 ${u?"opacity-0 translate-y-10":"opacity-100"}`,children:y.jsxs("div",{className:"bg-slate-900 border-2 border-purple-500 p-8 rounded-xl w-64 shadow-2xl shadow-purple-900/20 text-center flex flex-col items-center justify-center min-h-[300px] relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-900/50 to-purple-900/50 -z-10"}),y.jsx("div",{className:"w-32 h-32 bg-black rounded-full shadow-xl flex items-center justify-center animate-spin-slow mb-6 border-4 border-slate-800",children:y.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center",children:y.jsx("div",{className:"w-3 h-3 bg-black rounded-full"})})}),y.jsx("h2",{className:"font-bold text-xl mb-4 text-purple-200",children:"Mystery Track"}),y.jsxs("button",{onClick:()=>_(r),className:"bg-green-500 hover:bg-green-400 text-black font-bold py-3 px-8 rounded-full flex items-center gap-2 transform transition-all hover:scale-105 shadow-lg shadow-green-500/20",children:[y.jsx(_m,{className:"fill-current w-5 h-5"})," Play"]}),y.jsx("p",{className:"text-xs text-slate-500 mt-6",children:"Listen to guess the year!"})]})}),y.jsx("div",{className:"w-full max-w-6xl overflow-x-auto pb-12 flex items-center justify-center min-h-[300px] px-8",children:y.jsxs("div",{className:"flex items-center gap-2",children:[s.map((p,m)=>y.jsxs(Sh.Fragment,{children:[y.jsx(__,{index:m,onClick:()=>E(m),isActive:!u,isCurrentFeedback:(u==null?void 0:u.index)===m||(u==null?void 0:u.correctIndex)===m,feedbackType:(u==null?void 0:u.index)===m?u.type:(u==null?void 0:u.correctIndex)===m?"hint":null}),y.jsxs("div",{className:"relative group",children:[y.jsxs("div",{className:"bg-slate-800 p-3 rounded-lg w-40 text-center border border-slate-700 transition-all hover:-translate-y-2",children:[y.jsx("img",{src:p.image,alt:p.name,className:"w-full h-32 object-cover rounded-md mb-2 opacity-75 group-hover:opacity-100"}),y.jsx("h3",{className:"font-bold text-xs truncate",children:p.name}),y.jsx("p",{className:"text-slate-400 text-[10px] truncate mb-1",children:p.artist}),y.jsx("div",{className:"font-bold text-xl text-yellow-400",children:p.year})]}),y.jsx("div",{className:"absolute top-1/2 -right-4 w-4 h-[2px] bg-slate-700 -z-10"})]})]},p.id)),y.jsx(__,{index:s.length,onClick:()=>E(s.length),isActive:!u,isCurrentFeedback:(u==null?void 0:u.index)===s.length||(u==null?void 0:u.correctIndex)===s.length,feedbackType:(u==null?void 0:u.index)===s.length?u.type:(u==null?void 0:u.correctIndex)===s.length?"hint":null})]})}),y.jsx("div",{className:"text-center text-slate-500 text-sm mt-auto pb-4",children:"Scroll to view full timeline  Click + to place the card"})]})},__=({index:t,onClick:e,isActive:n,isCurrentFeedback:i,feedbackType:s})=>{let a="w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 mx-2 ";if(i){if(s==="correct")return y.jsx("div",{className:a+"bg-green-500 scale-125 shadow-lg shadow-green-500/50",children:y.jsx(nM,{className:"text-white w-6 h-6"})});if(s==="wrong")return y.jsx("div",{className:a+"bg-red-500 scale-125 shadow-lg shadow-red-500/50",children:y.jsx(sM,{className:"text-white w-6 h-6"})});if(s==="hint")return y.jsx("div",{className:a+"bg-yellow-500/20 border-2 border-yellow-500 animate-pulse",children:y.jsx("div",{className:"text-yellow-500 font-bold text-xs text-center",children:"Here"})})}return n?y.jsx("button",{onClick:e,className:`${a} bg-slate-800/50 hover:bg-purple-600 hover:scale-110 border-2 border-dashed border-slate-600 hover:border-purple-400 group`,children:y.jsx("span",{className:"text-slate-500 group-hover:text-white font-bold text-xl",children:"+"})}):y.jsx("div",{className:"w-4 mx-1"})},$M=()=>{const t=Qr();return console.log("TidalCallback Component MOUNTED"),b.useEffect(()=>{(async()=>{try{await uS(window.location.search),console.log("Tidal login successful"),t("/")}catch(n){console.error("Tidal login failed",n),t("/")}})()},[t]),y.jsx("div",{className:"flex items-center justify-center min-h-screen bg-black text-white",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h2",{className:"text-xl font-bold mb-4",children:"Finalizing login..."}),y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-400 mx-auto"})]})})},ZM=()=>{const[t,e]=b.useState(""),[n,i]=b.useState(null),[s,a]=b.useState(null),[r,l]=b.useState(null);b.useEffect(()=>{fS(),(async()=>{try{const u=await Vc.getCredentials();u&&u.accessToken&&l({loggedIn:!0})}catch{}})()},[]);const o=async()=>{try{const f=await cS({redirectUri:"https://strawbirdies.com/tidal-callback"});f&&(window.location.href=f)}catch(f){console.error("Login initialization failed",f),a("Failed to start login: "+f.message)}},c=async f=>{f.preventDefault(),a(null);try{const u=await hS(t);i(u)}catch(u){a(u.message)}},h=async()=>{await sc(),l(null)};return y.jsxs("div",{className:"min-h-screen bg-neutral-900 text-white p-8",children:[y.jsx("h1",{className:"text-3xl font-bold mb-8 text-cyan-400",children:"Tidal API Integration Demo"}),r?y.jsxs("div",{children:[y.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[y.jsx("span",{className:"text-green-400 text-sm",children:" Authenticated"}),y.jsx("button",{onClick:h,className:"text-xs text-gray-500 hover:text-white",children:"Logout"})]}),y.jsxs("form",{onSubmit:c,className:"mb-8 flex gap-4",children:[y.jsx("input",{type:"text",value:t,onChange:f=>e(f.target.value),placeholder:"Search for an artist or track...",className:"flex-1 bg-neutral-800 border border-neutral-700 rounded-lg px-4 py-2 focus:outline-none focus:border-cyan-500 transition-colors"}),y.jsx("button",{type:"submit",className:"bg-cyan-500 hover:bg-cyan-600 text-black font-bold py-2 px-6 rounded-lg transition-colors",children:"Search"})]}),s&&y.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-4 rounded-lg mb-8",children:s}),n&&y.jsxs("div",{className:"space-y-8",children:[n.tracks&&y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-300",children:"Tracks"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.tracks.items.slice(0,6).map(f=>y.jsxs("div",{className:"bg-neutral-800 p-4 rounded-lg hover:bg-neutral-700 transition-colors",children:[y.jsx("div",{className:"font-bold truncate",children:f.title}),y.jsx("div",{className:"text-sm text-gray-400 truncate",children:f.artist.name})]},f.id))})]}),y.jsxs("div",{className:"text-xs text-gray-600 mt-8",children:["Raw Output:",y.jsx("pre",{className:"mt-2 p-4 bg-black rounded overflow-auto max-h-60",children:JSON.stringify(n,null,2)})]})]})]}):y.jsxs("div",{className:"text-center py-20",children:[y.jsx("p",{className:"mb-4 text-gray-400",children:"Please authenticate to continue"}),y.jsx("button",{onClick:o,className:"bg-cyan-500 hover:bg-cyan-600 text-black font-bold py-2 px-6 rounded-full transition-colors",children:"Log in with Tidal"})]})]})};function JM(){return y.jsxs(y.Fragment,{children:[y.jsx(eI,{}),y.jsxs(uw,{children:[y.jsx(Ni,{path:"/",element:y.jsx(FM,{})}),y.jsx(Ni,{path:"/lobby/:roomId",element:y.jsx(KM,{})}),y.jsx(Ni,{path:"/game/:roomId",element:y.jsx(WM,{})}),y.jsx(Ni,{path:"/tidal-callback",element:y.jsx($M,{})}),y.jsx(Ni,{path:"/tidal-demo",element:y.jsx(ZM,{})}),y.jsx(Ni,{path:"*",element:y.jsxs("div",{className:"text-white p-10",children:["404: Route Not Found: ",window.location.pathname]})})]})]})}function eI(){const t=Ei();return Sh.useEffect(()=>{console.log("Current Route Path:",t.pathname),console.log("Full URL:",window.location.href)},[t]),null}fS().then(()=>{dC.createRoot(document.getElementById("root")).render(y.jsx(Sh.StrictMode,{children:y.jsx(kw,{children:y.jsx(JM,{})})}))});
