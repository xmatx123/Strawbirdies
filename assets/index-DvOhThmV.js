import{h as cS,g as uS,I as fS,_ as u_,G as hS,f as dS}from"./index-BN722jHt-dG3f1Axa.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function f_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var h_={exports:{}},Jo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS=Symbol.for("react.transitional.element"),mS=Symbol.for("react.fragment");function d_(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:pS,type:t,key:i,ref:e!==void 0?e:null,props:n}}Jo.Fragment=mS;Jo.jsx=d_;Jo.jsxs=d_;h_.exports=Jo;var y=h_.exports,p_={exports:{}},U={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh=Symbol.for("react.transitional.element"),gS=Symbol.for("react.portal"),_S=Symbol.for("react.fragment"),yS=Symbol.for("react.strict_mode"),vS=Symbol.for("react.profiler"),bS=Symbol.for("react.consumer"),ES=Symbol.for("react.context"),SS=Symbol.for("react.forward_ref"),TS=Symbol.for("react.suspense"),CS=Symbol.for("react.memo"),m_=Symbol.for("react.lazy"),wS=Symbol.for("react.activity"),vp=Symbol.iterator;function AS(t){return t===null||typeof t!="object"?null:(t=vp&&t[vp]||t["@@iterator"],typeof t=="function"?t:null)}var g_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},__=Object.assign,y_={};function Ws(t,e,n){this.props=t,this.context=e,this.refs=y_,this.updater=n||g_}Ws.prototype.isReactComponent={};Ws.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ws.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function v_(){}v_.prototype=Ws.prototype;function hh(t,e,n){this.props=t,this.context=e,this.refs=y_,this.updater=n||g_}var dh=hh.prototype=new v_;dh.constructor=hh;__(dh,Ws.prototype);dh.isPureReactComponent=!0;var bp=Array.isArray;function Pu(){}var oe={H:null,A:null,T:null,S:null},b_=Object.prototype.hasOwnProperty;function ph(t,e,n){var i=n.ref;return{$$typeof:fh,type:t,key:e,ref:i!==void 0?i:null,props:n}}function RS(t,e){return ph(t.type,e,t.props)}function mh(t){return typeof t=="object"&&t!==null&&t.$$typeof===fh}function NS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ep=/\/+/g;function Bc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NS(""+t.key):e.toString(36)}function xS(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Pu,Pu):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function ns(t,e,n,i,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var r=!1;if(t===null)r=!0;else switch(a){case"bigint":case"string":case"number":r=!0;break;case"object":switch(t.$$typeof){case fh:case gS:r=!0;break;case m_:return r=t._init,ns(r(t._payload),e,n,i,s)}}if(r)return s=s(t),r=i===""?"."+Bc(t,0):i,bp(s)?(n="",r!=null&&(n=r.replace(Ep,"$&/")+"/"),ns(s,e,n,"",function(c){return c})):s!=null&&(mh(s)&&(s=RS(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(Ep,"$&/")+"/")+r)),e.push(s)),1;r=0;var l=i===""?".":i+":";if(bp(t))for(var o=0;o<t.length;o++)i=t[o],a=l+Bc(i,o),r+=ns(i,e,n,a,s);else if(o=AS(t),typeof o=="function")for(t=o.call(t),o=0;!(i=t.next()).done;)i=i.value,a=l+Bc(i,o++),r+=ns(i,e,n,a,s);else if(a==="object"){if(typeof t.then=="function")return ns(xS(t),e,n,i,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return r}function al(t,e,n){if(t==null)return t;var i=[],s=0;return ns(t,i,"","",function(a){return e.call(n,a,s++)}),i}function OS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Sp=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},DS={map:al,forEach:function(t,e,n){al(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return al(t,function(){e++}),e},toArray:function(t){return al(t,function(e){return e})||[]},only:function(t){if(!mh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Activity=wS;U.Children=DS;U.Component=Ws;U.Fragment=_S;U.Profiler=vS;U.PureComponent=hh;U.StrictMode=yS;U.Suspense=TS;U.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe;U.__COMPILER_RUNTIME={__proto__:null,c:function(t){return oe.H.useMemoCache(t)}};U.cache=function(t){return function(){return t.apply(null,arguments)}};U.cacheSignal=function(){return null};U.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=__({},t.props),s=t.key;if(e!=null)for(a in e.key!==void 0&&(s=""+e.key),e)!b_.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(i[a]=e[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var r=Array(a),l=0;l<a;l++)r[l]=arguments[l+2];i.children=r}return ph(t.type,s,i)};U.createContext=function(t){return t={$$typeof:ES,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:bS,_context:t},t};U.createElement=function(t,e,n){var i,s={},a=null;if(e!=null)for(i in e.key!==void 0&&(a=""+e.key),e)b_.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=e[i]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var l=Array(r),o=0;o<r;o++)l[o]=arguments[o+2];s.children=l}if(t&&t.defaultProps)for(i in r=t.defaultProps,r)s[i]===void 0&&(s[i]=r[i]);return ph(t,a,s)};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:SS,render:t}};U.isValidElement=mh;U.lazy=function(t){return{$$typeof:m_,_payload:{_status:-1,_result:t},_init:OS}};U.memo=function(t,e){return{$$typeof:CS,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=oe.T,n={};oe.T=n;try{var i=t(),s=oe.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Pu,Sp)}catch(a){Sp(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),oe.T=e}};U.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()};U.use=function(t){return oe.H.use(t)};U.useActionState=function(t,e,n){return oe.H.useActionState(t,e,n)};U.useCallback=function(t,e){return oe.H.useCallback(t,e)};U.useContext=function(t){return oe.H.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t,e){return oe.H.useDeferredValue(t,e)};U.useEffect=function(t,e){return oe.H.useEffect(t,e)};U.useEffectEvent=function(t){return oe.H.useEffectEvent(t)};U.useId=function(){return oe.H.useId()};U.useImperativeHandle=function(t,e,n){return oe.H.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return oe.H.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return oe.H.useLayoutEffect(t,e)};U.useMemo=function(t,e){return oe.H.useMemo(t,e)};U.useOptimistic=function(t,e){return oe.H.useOptimistic(t,e)};U.useReducer=function(t,e,n){return oe.H.useReducer(t,e,n)};U.useRef=function(t){return oe.H.useRef(t)};U.useState=function(t){return oe.H.useState(t)};U.useSyncExternalStore=function(t,e,n){return oe.H.useSyncExternalStore(t,e,n)};U.useTransition=function(){return oe.H.useTransition()};U.version="19.2.3";p_.exports=U;var E=p_.exports;const gh=f_(E);var E_={exports:{}},ec={},S_={exports:{}},T_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,P){var H=R.length;R.push(P);e:for(;0<H;){var ge=H-1>>>1,Ne=R[ge];if(0<s(Ne,P))R[ge]=P,R[H]=Ne,H=ge;else break e}}function n(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var P=R[0],H=R.pop();if(H!==P){R[0]=H;e:for(var ge=0,Ne=R.length,nl=Ne>>>1;ge<nl;){var il=2*(ge+1)-1,Hc=R[il],bi=il+1,sl=R[bi];if(0>s(Hc,H))bi<Ne&&0>s(sl,Hc)?(R[ge]=sl,R[bi]=H,ge=bi):(R[ge]=Hc,R[il]=H,ge=il);else if(bi<Ne&&0>s(sl,H))R[ge]=sl,R[bi]=H,ge=bi;else break e}}return P}function s(R,P){var H=R.sortIndex-P.sortIndex;return H!==0?H:R.id-P.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var r=Date,l=r.now();t.unstable_now=function(){return r.now()-l}}var o=[],c=[],h=1,f=null,u=3,p=!1,_=!1,b=!1,S=!1,m=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;function v(R){for(var P=n(c);P!==null;){if(P.callback===null)i(c);else if(P.startTime<=R)i(c),P.sortIndex=P.expirationTime,e(o,P);else break;P=n(c)}}function w(R){if(b=!1,v(R),!_)if(n(o)!==null)_=!0,D||(D=!0,Rn());else{var P=n(c);P!==null&&zc(w,P.startTime-R)}}var D=!1,A=-1,N=5,I=-1;function L(){return S?!0:!(t.unstable_now()-I<N)}function dt(){if(S=!1,D){var R=t.unstable_now();I=R;var P=!0;try{e:{_=!1,b&&(b=!1,d(A),A=-1),p=!0;var H=u;try{t:{for(v(R),f=n(o);f!==null&&!(f.expirationTime>R&&L());){var ge=f.callback;if(typeof ge=="function"){f.callback=null,u=f.priorityLevel;var Ne=ge(f.expirationTime<=R);if(R=t.unstable_now(),typeof Ne=="function"){f.callback=Ne,v(R),P=!0;break t}f===n(o)&&i(o),v(R)}else i(o);f=n(o)}if(f!==null)P=!0;else{var nl=n(c);nl!==null&&zc(w,nl.startTime-R),P=!1}}break e}finally{f=null,u=H,p=!1}P=void 0}}finally{P?Rn():D=!1}}}var Rn;if(typeof g=="function")Rn=function(){g(dt)};else if(typeof MessageChannel<"u"){var yp=new MessageChannel,oS=yp.port2;yp.port1.onmessage=dt,Rn=function(){oS.postMessage(null)}}else Rn=function(){m(dt,0)};function zc(R,P){A=m(function(){R(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return u},t.unstable_next=function(R){switch(u){case 1:case 2:case 3:var P=3;break;default:P=u}var H=u;u=P;try{return R()}finally{u=H}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(R,P){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var H=u;u=R;try{return P()}finally{u=H}},t.unstable_scheduleCallback=function(R,P,H){var ge=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ge+H:ge):H=ge,R){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=H+Ne,R={id:h++,callback:P,priorityLevel:R,startTime:H,expirationTime:Ne,sortIndex:-1},H>ge?(R.sortIndex=H,e(c,R),n(o)===null&&R===n(c)&&(b?(d(A),A=-1):b=!0,zc(w,H-ge))):(R.sortIndex=Ne,e(o,R),_||p||(_=!0,D||(D=!0,Rn()))),R},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(R){var P=u;return function(){var H=u;u=P;try{return R.apply(this,arguments)}finally{u=H}}}})(T_);S_.exports=T_;var IS=S_.exports,C_={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MS=E;function w_(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Nn(){}var qe={d:{f:Nn,r:function(){throw Error(w_(522))},D:Nn,C:Nn,L:Nn,m:Nn,X:Nn,S:Nn,M:Nn},p:0,findDOMNode:null},kS=Symbol.for("react.portal");function LS(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kS,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var ka=MS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function tc(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=qe;Ke.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(w_(299));return LS(t,e,null,n)};Ke.flushSync=function(t){var e=ka.T,n=qe.p;try{if(ka.T=null,qe.p=2,t)return t()}finally{ka.T=e,qe.p=n,qe.d.f()}};Ke.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,qe.d.C(t,e))};Ke.prefetchDNS=function(t){typeof t=="string"&&qe.d.D(t)};Ke.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=tc(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?qe.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:a}):n==="script"&&qe.d.X(t,{crossOrigin:i,integrity:s,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ke.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=tc(e.as,e.crossOrigin);qe.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&qe.d.M(t)};Ke.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=tc(n,e.crossOrigin);qe.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ke.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=tc(e.as,e.crossOrigin);qe.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else qe.d.m(t)};Ke.requestFormReset=function(t){qe.d.r(t)};Ke.unstable_batchedUpdates=function(t,e){return t(e)};Ke.useFormState=function(t,e,n){return ka.H.useFormState(t,e,n)};Ke.useFormStatus=function(){return ka.H.useHostTransitionStatus()};Ke.version="19.2.3";function A_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A_)}catch(t){console.error(t)}}A_(),C_.exports=Ke;var US=C_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Re=IS,R_=E,zS=US;function T(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function N_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function x_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function O_(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Tp(t){if(Nr(t)!==t)throw Error(T(188))}function HS(t){var e=t.alternate;if(!e){if(e=Nr(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Tp(s),t;if(a===i)return Tp(s),e;a=a.sibling}throw Error(T(188))}if(n.return!==i.return)n=s,i=a;else{for(var r=!1,l=s.child;l;){if(l===n){r=!0,n=s,i=a;break}if(l===i){r=!0,i=s,n=a;break}l=l.sibling}if(!r){for(l=a.child;l;){if(l===n){r=!0,n=a,i=s;break}if(l===i){r=!0,i=a,n=s;break}l=l.sibling}if(!r)throw Error(T(189))}}if(n.alternate!==i)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function D_(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=D_(t),e!==null)return e;t=t.sibling}return null}var ce=Object.assign,BS=Symbol.for("react.element"),rl=Symbol.for("react.transitional.element"),xa=Symbol.for("react.portal"),as=Symbol.for("react.fragment"),I_=Symbol.for("react.strict_mode"),Vu=Symbol.for("react.profiler"),M_=Symbol.for("react.consumer"),nn=Symbol.for("react.context"),_h=Symbol.for("react.forward_ref"),qu=Symbol.for("react.suspense"),Gu=Symbol.for("react.suspense_list"),yh=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),Yu=Symbol.for("react.activity"),jS=Symbol.for("react.memo_cache_sentinel"),Cp=Symbol.iterator;function ma(t){return t===null||typeof t!="object"?null:(t=Cp&&t[Cp]||t["@@iterator"],typeof t=="function"?t:null)}var PS=Symbol.for("react.client.reference");function Fu(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===PS?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case as:return"Fragment";case Vu:return"Profiler";case I_:return"StrictMode";case qu:return"Suspense";case Gu:return"SuspenseList";case Yu:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case xa:return"Portal";case nn:return t.displayName||"Context";case M_:return(t._context.displayName||"Context")+".Consumer";case _h:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yh:return e=t.displayName||null,e!==null?e:Fu(t.type)||"Memo";case On:e=t._payload,t=t._init;try{return Fu(t(e))}catch{}}return null}var Oa=Array.isArray,M=R_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=zS.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oi={pending:!1,data:null,method:null,action:null},Ku=[],rs=-1;function Gt(t){return{current:t}}function Me(t){0>rs||(t.current=Ku[rs],Ku[rs]=null,rs--)}function ae(t,e){rs++,Ku[rs]=t.current,t.current=e}var Pt=Gt(null),tr=Gt(null),Fn=Gt(null),Kl=Gt(null);function Ql(t,e){switch(ae(Fn,e),ae(tr,t),ae(Pt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Om(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Om(e),t=Jv(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Me(Pt),ae(Pt,t)}function Ds(){Me(Pt),Me(tr),Me(Fn)}function Qu(t){t.memoizedState!==null&&ae(Kl,t);var e=Pt.current,n=Jv(e,t.type);e!==n&&(ae(tr,t),ae(Pt,n))}function Xl(t){tr.current===t&&(Me(Pt),Me(tr)),Kl.current===t&&(Me(Kl),hr._currentValue=Oi)}var jc,wp;function Si(t){if(jc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jc=e&&e[1]||"",wp=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jc+t+wp}var Pc=!1;function Vc(t,e){if(!t||Pc)return"";Pc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var u=p}Reflect.construct(t,[],f)}else{try{f.call()}catch(p){u=p}t.call(f.prototype)}}else{try{throw Error()}catch(p){u=p}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&u&&typeof p.stack=="string")return[p.stack,u.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),r=a[0],l=a[1];if(r&&l){var o=r.split(`
`),c=l.split(`
`);for(s=i=0;i<o.length&&!o[i].includes("DetermineComponentFrameRoot");)i++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(i===o.length||s===c.length)for(i=o.length-1,s=c.length-1;1<=i&&0<=s&&o[i]!==c[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==c[s]){if(i!==1||s!==1)do if(i--,s--,0>s||o[i]!==c[s]){var h=`
`+o[i].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=i&&0<=s);break}}}finally{Pc=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Si(n):""}function VS(t,e){switch(t.tag){case 26:case 27:case 5:return Si(t.type);case 16:return Si("Lazy");case 13:return t.child!==e&&e!==null?Si("Suspense Fallback"):Si("Suspense");case 19:return Si("SuspenseList");case 0:case 15:return Vc(t.type,!1);case 11:return Vc(t.type.render,!1);case 1:return Vc(t.type,!0);case 31:return Si("Activity");default:return""}}function Ap(t){try{var e="",n=null;do e+=VS(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Xu=Object.prototype.hasOwnProperty,vh=Re.unstable_scheduleCallback,qc=Re.unstable_cancelCallback,qS=Re.unstable_shouldYield,GS=Re.unstable_requestPaint,rt=Re.unstable_now,YS=Re.unstable_getCurrentPriorityLevel,k_=Re.unstable_ImmediatePriority,L_=Re.unstable_UserBlockingPriority,Wl=Re.unstable_NormalPriority,FS=Re.unstable_LowPriority,U_=Re.unstable_IdlePriority,KS=Re.log,QS=Re.unstable_setDisableYieldValue,xr=null,lt=null;function jn(t){if(typeof KS=="function"&&QS(t),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(xr,t)}catch{}}var ot=Math.clz32?Math.clz32:$S,XS=Math.log,WS=Math.LN2;function $S(t){return t>>>=0,t===0?32:31-(XS(t)/WS|0)|0}var ll=256,ol=262144,cl=4194304;function Ti(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function nc(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var s=0,a=t.suspendedLanes,r=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~a,i!==0?s=Ti(i):(r&=l,r!==0?s=Ti(r):n||(n=l&~t,n!==0&&(s=Ti(n))))):(l=i&~a,l!==0?s=Ti(l):r!==0?s=Ti(r):n||(n=i&~t,n!==0&&(s=Ti(n)))),s===0?0:e!==0&&e!==s&&!(e&a)&&(a=s&-s,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:s}function Or(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function ZS(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z_(){var t=cl;return cl<<=1,!(cl&62914560)&&(cl=4194304),t}function Gc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Dr(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function JS(t,e,n,i,s,a){var r=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,o=t.expirationTimes,c=t.hiddenUpdates;for(n=r&~n;0<n;){var h=31-ot(n),f=1<<h;l[h]=0,o[h]=-1;var u=c[h];if(u!==null)for(c[h]=null,h=0;h<u.length;h++){var p=u[h];p!==null&&(p.lane&=-536870913)}n&=~f}i!==0&&H_(t,i,0),a!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=a&~(r&~e))}function H_(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-ot(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function B_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ot(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}function j_(t,e){var n=e&-e;return n=n&42?1:bh(n),n&(t.suspendedLanes|e)?0:n}function bh(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Eh(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function P_(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:u0(t.type))}function Rp(t,e){var n=X.p;try{return X.p=t,e()}finally{X.p=n}}var gi=Math.random().toString(36).slice(2),ze="__reactFiber$"+gi,et="__reactProps$"+gi,$s="__reactContainer$"+gi,Wu="__reactEvents$"+gi,eT="__reactListeners$"+gi,tT="__reactHandles$"+gi,Np="__reactResources$"+gi,Ir="__reactMarker$"+gi;function Sh(t){delete t[ze],delete t[et],delete t[Wu],delete t[eT],delete t[tT]}function ls(t){var e=t[ze];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$s]||n[ze]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Lm(t);t!==null;){if(n=t[ze])return n;t=Lm(t)}return e}t=n,n=t.parentNode}return null}function Zs(t){if(t=t[ze]||t[$s]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Da(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(T(33))}function vs(t){var e=t[Np];return e||(e=t[Np]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ie(t){t[Ir]=!0}var V_=new Set,q_={};function Fi(t,e){Is(t,e),Is(t+"Capture",e)}function Is(t,e){for(q_[t]=e,t=0;t<e.length;t++)V_.add(e[t])}var nT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xp={},Op={};function iT(t){return Xu.call(Op,t)?!0:Xu.call(xp,t)?!1:nT.test(t)?Op[t]=!0:(xp[t]=!0,!1)}function wl(t,e,n){if(iT(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function ul(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Qt(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function mt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function G_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sT(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,a=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(r){n=""+r,a.call(this,r)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $u(t){if(!t._valueTracker){var e=G_(t)?"checked":"value";t._valueTracker=sT(t,e,""+t[e])}}function Y_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=G_(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function $l(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var aT=/[\n"\\]/g;function yt(t){return t.replace(aT,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Zu(t,e,n,i,s,a,r,l){t.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.type=r:t.removeAttribute("type"),e!=null?r==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+mt(e)):t.value!==""+mt(e)&&(t.value=""+mt(e)):r!=="submit"&&r!=="reset"||t.removeAttribute("value"),e!=null?Ju(t,r,mt(e)):n!=null?Ju(t,r,mt(n)):i!=null&&t.removeAttribute("value"),s==null&&a!=null&&(t.defaultChecked=!!a),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+mt(l):t.removeAttribute("name")}function F_(t,e,n,i,s,a,r,l){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){$u(t);return}n=n!=null?""+mt(n):"",e=e!=null?""+mt(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.name=r),$u(t)}function Ju(t,e,n){e==="number"&&$l(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function bs(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+mt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function K_(t,e,n){if(e!=null&&(e=""+mt(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+mt(n):""}function Q_(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(T(92));if(Oa(i)){if(1<i.length)throw Error(T(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=mt(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),$u(t)}function Ms(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var rT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dp(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||rT.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function X_(t,e,n){if(e!=null&&typeof e!="object")throw Error(T(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var s in e)i=e[s],e.hasOwnProperty(s)&&n[s]!==i&&Dp(t,s,i)}else for(var a in e)e.hasOwnProperty(a)&&Dp(t,a,e[a])}function Th(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Al(t){return oT.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function sn(){}var ef=null;function Ch(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var os=null,Es=null;function Ip(t){var e=Zs(t);if(e&&(t=e.stateNode)){var n=t[et]||null;e:switch(t=e.stateNode,e.type){case"input":if(Zu(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=i[et]||null;if(!s)throw Error(T(90));Zu(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&Y_(i)}break e;case"textarea":K_(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&bs(t,!!n.multiple,e,!1)}}}var Yc=!1;function W_(t,e,n){if(Yc)return t(e,n);Yc=!0;try{var i=t(e);return i}finally{if(Yc=!1,(os!==null||Es!==null)&&(pc(),os&&(e=os,t=Es,Es=os=null,Ip(e),t)))for(e=0;e<t.length;e++)Ip(t[e])}}function nr(t,e){var n=t.stateNode;if(n===null)return null;var i=n[et]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tf=!1;if(pn)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){tf=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{tf=!1}var Pn=null,wh=null,Rl=null;function $_(){if(Rl)return Rl;var t,e=wh,n=e.length,i,s="value"in Pn?Pn.value:Pn.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var r=n-t;for(i=1;i<=r&&e[n-i]===s[a-i];i++);return Rl=s.slice(t,1<i?1-i:void 0)}function Nl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fl(){return!0}function Mp(){return!1}function tt(t){function e(n,i,s,a,r){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=r,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?fl:Mp,this.isPropagationStopped=Mp,this}return ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fl)},persist:function(){},isPersistent:fl}),e}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ic=tt(Ki),Mr=ce({},Ki,{view:0,detail:0}),cT=tt(Mr),Fc,Kc,_a,sc=ce({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ah,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_a&&(_a&&t.type==="mousemove"?(Fc=t.screenX-_a.screenX,Kc=t.screenY-_a.screenY):Kc=Fc=0,_a=t),Fc)},movementY:function(t){return"movementY"in t?t.movementY:Kc}}),kp=tt(sc),uT=ce({},sc,{dataTransfer:0}),fT=tt(uT),hT=ce({},Mr,{relatedTarget:0}),Qc=tt(hT),dT=ce({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),pT=tt(dT),mT=ce({},Ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gT=tt(mT),_T=ce({},Ki,{data:0}),Lp=tt(_T),yT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ET(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bT[t])?!!e[t]:!1}function Ah(){return ET}var ST=ce({},Mr,{key:function(t){if(t.key){var e=yT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ah,charCode:function(t){return t.type==="keypress"?Nl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),TT=tt(ST),CT=ce({},sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Up=tt(CT),wT=ce({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ah}),AT=tt(wT),RT=ce({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),NT=tt(RT),xT=ce({},sc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),OT=tt(xT),DT=ce({},Ki,{newState:0,oldState:0}),IT=tt(DT),MT=[9,13,27,32],Rh=pn&&"CompositionEvent"in window,La=null;pn&&"documentMode"in document&&(La=document.documentMode);var kT=pn&&"TextEvent"in window&&!La,Z_=pn&&(!Rh||La&&8<La&&11>=La),zp=" ",Hp=!1;function J_(t,e){switch(t){case"keyup":return MT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ey(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cs=!1;function LT(t,e){switch(t){case"compositionend":return ey(e);case"keypress":return e.which!==32?null:(Hp=!0,zp);case"textInput":return t=e.data,t===zp&&Hp?null:t;default:return null}}function UT(t,e){if(cs)return t==="compositionend"||!Rh&&J_(t,e)?(t=$_(),Rl=wh=Pn=null,cs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Z_&&e.locale!=="ko"?null:e.data;default:return null}}var zT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zT[t.type]:e==="textarea"}function ty(t,e,n,i){os?Es?Es.push(i):Es=[i]:os=i,e=go(e,"onChange"),0<e.length&&(n=new ic("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ua=null,ir=null;function HT(t){Wv(t,0)}function ac(t){var e=Da(t);if(Y_(e))return t}function jp(t,e){if(t==="change")return e}var ny=!1;if(pn){var Xc;if(pn){var Wc="oninput"in document;if(!Wc){var Pp=document.createElement("div");Pp.setAttribute("oninput","return;"),Wc=typeof Pp.oninput=="function"}Xc=Wc}else Xc=!1;ny=Xc&&(!document.documentMode||9<document.documentMode)}function Vp(){Ua&&(Ua.detachEvent("onpropertychange",iy),ir=Ua=null)}function iy(t){if(t.propertyName==="value"&&ac(ir)){var e=[];ty(e,ir,t,Ch(t)),W_(HT,e)}}function BT(t,e,n){t==="focusin"?(Vp(),Ua=e,ir=n,Ua.attachEvent("onpropertychange",iy)):t==="focusout"&&Vp()}function jT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ac(ir)}function PT(t,e){if(t==="click")return ac(e)}function VT(t,e){if(t==="input"||t==="change")return ac(e)}function qT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ut=typeof Object.is=="function"?Object.is:qT;function sr(t,e){if(ut(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Xu.call(e,s)||!ut(t[s],e[s]))return!1}return!0}function qp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gp(t,e){var n=qp(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qp(n)}}function sy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ay(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=$l(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$l(t.document)}return e}function Nh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var GT=pn&&"documentMode"in document&&11>=document.documentMode,us=null,nf=null,za=null,sf=!1;function Yp(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sf||us==null||us!==$l(i)||(i=us,"selectionStart"in i&&Nh(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),za&&sr(za,i)||(za=i,i=go(nf,"onSelect"),0<i.length&&(e=new ic("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=us)))}function Ei(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fs={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionrun:Ei("Transition","TransitionRun"),transitionstart:Ei("Transition","TransitionStart"),transitioncancel:Ei("Transition","TransitionCancel"),transitionend:Ei("Transition","TransitionEnd")},$c={},ry={};pn&&(ry=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function Qi(t){if($c[t])return $c[t];if(!fs[t])return t;var e=fs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ry)return $c[t]=e[n];return t}var ly=Qi("animationend"),oy=Qi("animationiteration"),cy=Qi("animationstart"),YT=Qi("transitionrun"),FT=Qi("transitionstart"),KT=Qi("transitioncancel"),uy=Qi("transitionend"),fy=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function Ut(t,e){fy.set(t,e),Fi(e,[t])}var Zl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},pt=[],hs=0,xh=0;function rc(){for(var t=hs,e=xh=hs=0;e<t;){var n=pt[e];pt[e++]=null;var i=pt[e];pt[e++]=null;var s=pt[e];pt[e++]=null;var a=pt[e];if(pt[e++]=null,i!==null&&s!==null){var r=i.pending;r===null?s.next=s:(s.next=r.next,r.next=s),i.pending=s}a!==0&&hy(n,s,a)}}function lc(t,e,n,i){pt[hs++]=t,pt[hs++]=e,pt[hs++]=n,pt[hs++]=i,xh|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Oh(t,e,n,i){return lc(t,e,n,i),Jl(t)}function Xi(t,e){return lc(t,null,null,e),Jl(t)}function hy(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var s=!1,a=t.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(s=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,s&&e!==null&&(s=31-ot(n),t=a.hiddenUpdates,i=t[s],i===null?t[s]=[e]:i.push(e),e.lane=n|536870912),a):null}function Jl(t){if(50<Fa)throw Fa=0,Af=null,Error(T(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ds={};function QT(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(t,e,n,i){return new QT(t,e,n,i)}function Dh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cn(t,e){var n=t.alternate;return n===null?(n=st(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function dy(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function xl(t,e,n,i,s,a){var r=0;if(i=t,typeof t=="function")Dh(t)&&(r=1);else if(typeof t=="string")r=J1(t,n,Pt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Yu:return t=st(31,n,e,s),t.elementType=Yu,t.lanes=a,t;case as:return Di(n.children,s,a,e);case I_:r=8,s|=24;break;case Vu:return t=st(12,n,e,s|2),t.elementType=Vu,t.lanes=a,t;case qu:return t=st(13,n,e,s),t.elementType=qu,t.lanes=a,t;case Gu:return t=st(19,n,e,s),t.elementType=Gu,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nn:r=10;break e;case M_:r=9;break e;case _h:r=11;break e;case yh:r=14;break e;case On:r=16,i=null;break e}r=29,n=Error(T(130,t===null?"null":typeof t,"")),i=null}return e=st(r,n,e,s),e.elementType=t,e.type=i,e.lanes=a,e}function Di(t,e,n,i){return t=st(7,t,i,e),t.lanes=n,t}function Zc(t,e,n){return t=st(6,t,null,e),t.lanes=n,t}function py(t){var e=st(18,null,null,0);return e.stateNode=t,e}function Jc(t,e,n){return e=st(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Fp=new WeakMap;function vt(t,e){if(typeof t=="object"&&t!==null){var n=Fp.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Ap(e)},Fp.set(t,e),e)}return{value:t,source:e,stack:Ap(e)}}var ps=[],ms=0,eo=null,ar=0,gt=[],_t=0,li=null,Ht=1,Bt="";function en(t,e){ps[ms++]=ar,ps[ms++]=eo,eo=t,ar=e}function my(t,e,n){gt[_t++]=Ht,gt[_t++]=Bt,gt[_t++]=li,li=t;var i=Ht;t=Bt;var s=32-ot(i)-1;i&=~(1<<s),n+=1;var a=32-ot(e)+s;if(30<a){var r=s-s%5;a=(i&(1<<r)-1).toString(32),i>>=r,s-=r,Ht=1<<32-ot(e)+s|n<<s|i,Bt=a+t}else Ht=1<<a|n<<s|i,Bt=t}function Ih(t){t.return!==null&&(en(t,1),my(t,1,0))}function Mh(t){for(;t===eo;)eo=ps[--ms],ps[ms]=null,ar=ps[--ms],ps[ms]=null;for(;t===li;)li=gt[--_t],gt[_t]=null,Bt=gt[--_t],gt[_t]=null,Ht=gt[--_t],gt[_t]=null}function gy(t,e){gt[_t++]=Ht,gt[_t++]=Bt,gt[_t++]=li,Ht=e.id,Bt=e.overflow,li=t}var He=null,le=null,F=!1,Kn=null,bt=!1,rf=Error(T(519));function oi(t){var e=Error(T(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rr(vt(e,t)),rf}function Kp(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[ze]=t,e[et]=i,n){case"dialog":V("cancel",e),V("close",e);break;case"iframe":case"object":case"embed":V("load",e);break;case"video":case"audio":for(n=0;n<ur.length;n++)V(ur[n],e);break;case"source":V("error",e);break;case"img":case"image":case"link":V("error",e),V("load",e);break;case"details":V("toggle",e);break;case"input":V("invalid",e),F_(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":V("invalid",e);break;case"textarea":V("invalid",e),Q_(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||Zv(e.textContent,n)?(i.popover!=null&&(V("beforetoggle",e),V("toggle",e)),i.onScroll!=null&&V("scroll",e),i.onScrollEnd!=null&&V("scrollend",e),i.onClick!=null&&(e.onclick=sn),e=!0):e=!1,e||oi(t,!0)}function Qp(t){for(He=t.return;He;)switch(He.tag){case 5:case 31:case 13:bt=!1;return;case 27:case 3:bt=!0;return;default:He=He.return}}function Ji(t){if(t!==He)return!1;if(!F)return Qp(t),F=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Df(t.type,t.memoizedProps)),n=!n),n&&le&&oi(t),Qp(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));le=km(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));le=km(t)}else e===27?(e=le,_i(t.type)?(t=Lf,Lf=null,le=t):le=e):le=He?Ct(t.stateNode.nextSibling):null;return!0}function Li(){le=He=null,F=!1}function eu(){var t=Kn;return t!==null&&($e===null?$e=t:$e.push.apply($e,t),Kn=null),t}function rr(t){Kn===null?Kn=[t]:Kn.push(t)}var lf=Gt(null),Wi=null,an=null;function In(t,e,n){ae(lf,e._currentValue),e._currentValue=n}function un(t){t._currentValue=lf.current,Me(lf)}function of(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function cf(t,e,n,i){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){var r=s.child;a=a.firstContext;e:for(;a!==null;){var l=a;a=s;for(var o=0;o<e.length;o++)if(l.context===e[o]){a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),of(a.return,n,t),i||(r=null);break e}a=l.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error(T(341));r.lanes|=n,a=r.alternate,a!==null&&(a.lanes|=n),of(r,n,t),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===t){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function Js(t,e,n,i){t=null;for(var s=e,a=!1;s!==null;){if(!a){if(s.flags&524288)a=!0;else if(s.flags&262144)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error(T(387));if(r=r.memoizedProps,r!==null){var l=s.type;ut(s.pendingProps.value,r.value)||(t!==null?t.push(l):t=[l])}}else if(s===Kl.current){if(r=s.alternate,r===null)throw Error(T(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(hr):t=[hr])}s=s.return}t!==null&&cf(e,t,n,i),e.flags|=262144}function to(t){for(t=t.firstContext;t!==null;){if(!ut(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ui(t){Wi=t,an=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Be(t){return _y(Wi,t)}function hl(t,e){return Wi===null&&Ui(t),_y(t,e)}function _y(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},an===null){if(t===null)throw Error(T(308));an=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else an=an.next=e;return n}var XT=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},WT=Re.unstable_scheduleCallback,$T=Re.unstable_NormalPriority,Se={$$typeof:nn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kh(){return{controller:new XT,data:new Map,refCount:0}}function kr(t){t.refCount--,t.refCount===0&&WT($T,function(){t.controller.abort()})}var Ha=null,uf=0,ks=0,Ss=null;function ZT(t,e){if(Ha===null){var n=Ha=[];uf=0,ks=ad(),Ss={status:"pending",value:void 0,then:function(i){n.push(i)}}}return uf++,e.then(Xp,Xp),e}function Xp(){if(--uf===0&&Ha!==null){Ss!==null&&(Ss.status="fulfilled");var t=Ha;Ha=null,ks=0,Ss=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function JT(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var Wp=M.S;M.S=function(t,e){Dv=rt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&ZT(t,e),Wp!==null&&Wp(t,e)};var Ii=Gt(null);function Lh(){var t=Ii.current;return t!==null?t:ne.pooledCache}function Ol(t,e){e===null?ae(Ii,Ii.current):ae(Ii,e.pool)}function yy(){var t=Lh();return t===null?null:{parent:Se._currentValue,pool:t}}var ea=Error(T(460)),Uh=Error(T(474)),oc=Error(T(542)),no={then:function(){}};function $p(t){return t=t.status,t==="fulfilled"||t==="rejected"}function vy(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(sn,sn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Jp(t),t;default:if(typeof e.status=="string")e.then(sn,sn);else{if(t=ne,t!==null&&100<t.shellSuspendCounter)throw Error(T(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=i}},function(i){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Jp(t),t}throw Mi=e,ea}}function Ci(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Mi=n,ea):n}}var Mi=null;function Zp(){if(Mi===null)throw Error(T(459));var t=Mi;return Mi=null,t}function Jp(t){if(t===ea||t===oc)throw Error(T(483))}var Ts=null,lr=0;function dl(t){var e=lr;return lr+=1,Ts===null&&(Ts=[]),vy(Ts,t,e)}function ya(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function pl(t,e){throw e.$$typeof===BS?Error(T(525)):(t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function by(t){function e(m,d){if(t){var g=m.deletions;g===null?(m.deletions=[d],m.flags|=16):g.push(d)}}function n(m,d){if(!t)return null;for(;d!==null;)e(m,d),d=d.sibling;return null}function i(m){for(var d=new Map;m!==null;)m.key!==null?d.set(m.key,m):d.set(m.index,m),m=m.sibling;return d}function s(m,d){return m=cn(m,d),m.index=0,m.sibling=null,m}function a(m,d,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<d?(m.flags|=67108866,d):g):(m.flags|=67108866,d)):(m.flags|=1048576,d)}function r(m){return t&&m.alternate===null&&(m.flags|=67108866),m}function l(m,d,g,v){return d===null||d.tag!==6?(d=Zc(g,m.mode,v),d.return=m,d):(d=s(d,g),d.return=m,d)}function o(m,d,g,v){var w=g.type;return w===as?h(m,d,g.props.children,v,g.key):d!==null&&(d.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===On&&Ci(w)===d.type)?(d=s(d,g.props),ya(d,g),d.return=m,d):(d=xl(g.type,g.key,g.props,null,m.mode,v),ya(d,g),d.return=m,d)}function c(m,d,g,v){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=Jc(g,m.mode,v),d.return=m,d):(d=s(d,g.children||[]),d.return=m,d)}function h(m,d,g,v,w){return d===null||d.tag!==7?(d=Di(g,m.mode,v,w),d.return=m,d):(d=s(d,g),d.return=m,d)}function f(m,d,g){if(typeof d=="string"&&d!==""||typeof d=="number"||typeof d=="bigint")return d=Zc(""+d,m.mode,g),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case rl:return g=xl(d.type,d.key,d.props,null,m.mode,g),ya(g,d),g.return=m,g;case xa:return d=Jc(d,m.mode,g),d.return=m,d;case On:return d=Ci(d),f(m,d,g)}if(Oa(d)||ma(d))return d=Di(d,m.mode,g,null),d.return=m,d;if(typeof d.then=="function")return f(m,dl(d),g);if(d.$$typeof===nn)return f(m,hl(m,d),g);pl(m,d)}return null}function u(m,d,g,v){var w=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return w!==null?null:l(m,d,""+g,v);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case rl:return g.key===w?o(m,d,g,v):null;case xa:return g.key===w?c(m,d,g,v):null;case On:return g=Ci(g),u(m,d,g,v)}if(Oa(g)||ma(g))return w!==null?null:h(m,d,g,v,null);if(typeof g.then=="function")return u(m,d,dl(g),v);if(g.$$typeof===nn)return u(m,d,hl(m,g),v);pl(m,g)}return null}function p(m,d,g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return m=m.get(g)||null,l(d,m,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case rl:return m=m.get(v.key===null?g:v.key)||null,o(d,m,v,w);case xa:return m=m.get(v.key===null?g:v.key)||null,c(d,m,v,w);case On:return v=Ci(v),p(m,d,g,v,w)}if(Oa(v)||ma(v))return m=m.get(g)||null,h(d,m,v,w,null);if(typeof v.then=="function")return p(m,d,g,dl(v),w);if(v.$$typeof===nn)return p(m,d,g,hl(d,v),w);pl(d,v)}return null}function _(m,d,g,v){for(var w=null,D=null,A=d,N=d=0,I=null;A!==null&&N<g.length;N++){A.index>N?(I=A,A=null):I=A.sibling;var L=u(m,A,g[N],v);if(L===null){A===null&&(A=I);break}t&&A&&L.alternate===null&&e(m,A),d=a(L,d,N),D===null?w=L:D.sibling=L,D=L,A=I}if(N===g.length)return n(m,A),F&&en(m,N),w;if(A===null){for(;N<g.length;N++)A=f(m,g[N],v),A!==null&&(d=a(A,d,N),D===null?w=A:D.sibling=A,D=A);return F&&en(m,N),w}for(A=i(A);N<g.length;N++)I=p(A,m,N,g[N],v),I!==null&&(t&&I.alternate!==null&&A.delete(I.key===null?N:I.key),d=a(I,d,N),D===null?w=I:D.sibling=I,D=I);return t&&A.forEach(function(dt){return e(m,dt)}),F&&en(m,N),w}function b(m,d,g,v){if(g==null)throw Error(T(151));for(var w=null,D=null,A=d,N=d=0,I=null,L=g.next();A!==null&&!L.done;N++,L=g.next()){A.index>N?(I=A,A=null):I=A.sibling;var dt=u(m,A,L.value,v);if(dt===null){A===null&&(A=I);break}t&&A&&dt.alternate===null&&e(m,A),d=a(dt,d,N),D===null?w=dt:D.sibling=dt,D=dt,A=I}if(L.done)return n(m,A),F&&en(m,N),w;if(A===null){for(;!L.done;N++,L=g.next())L=f(m,L.value,v),L!==null&&(d=a(L,d,N),D===null?w=L:D.sibling=L,D=L);return F&&en(m,N),w}for(A=i(A);!L.done;N++,L=g.next())L=p(A,m,N,L.value,v),L!==null&&(t&&L.alternate!==null&&A.delete(L.key===null?N:L.key),d=a(L,d,N),D===null?w=L:D.sibling=L,D=L);return t&&A.forEach(function(Rn){return e(m,Rn)}),F&&en(m,N),w}function S(m,d,g,v){if(typeof g=="object"&&g!==null&&g.type===as&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case rl:e:{for(var w=g.key;d!==null;){if(d.key===w){if(w=g.type,w===as){if(d.tag===7){n(m,d.sibling),v=s(d,g.props.children),v.return=m,m=v;break e}}else if(d.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===On&&Ci(w)===d.type){n(m,d.sibling),v=s(d,g.props),ya(v,g),v.return=m,m=v;break e}n(m,d);break}else e(m,d);d=d.sibling}g.type===as?(v=Di(g.props.children,m.mode,v,g.key),v.return=m,m=v):(v=xl(g.type,g.key,g.props,null,m.mode,v),ya(v,g),v.return=m,m=v)}return r(m);case xa:e:{for(w=g.key;d!==null;){if(d.key===w)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){n(m,d.sibling),v=s(d,g.children||[]),v.return=m,m=v;break e}else{n(m,d);break}else e(m,d);d=d.sibling}v=Jc(g,m.mode,v),v.return=m,m=v}return r(m);case On:return g=Ci(g),S(m,d,g,v)}if(Oa(g))return _(m,d,g,v);if(ma(g)){if(w=ma(g),typeof w!="function")throw Error(T(150));return g=w.call(g),b(m,d,g,v)}if(typeof g.then=="function")return S(m,d,dl(g),v);if(g.$$typeof===nn)return S(m,d,hl(m,g),v);pl(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint"?(g=""+g,d!==null&&d.tag===6?(n(m,d.sibling),v=s(d,g),v.return=m,m=v):(n(m,d),v=Zc(g,m.mode,v),v.return=m,m=v),r(m)):n(m,d)}return function(m,d,g,v){try{lr=0;var w=S(m,d,g,v);return Ts=null,w}catch(A){if(A===ea||A===oc)throw A;var D=st(29,A,null,m.mode);return D.lanes=v,D.return=m,D}finally{}}}var zi=by(!0),Ey=by(!1),Dn=!1;function zh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Q&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,e=Jl(t),hy(t,null,n),e}return lc(t,i,e,n),Jl(t)}function Ba(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,B_(t,n)}}function tu(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?s=a=r:a=a.next=r,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var hf=!1;function ja(){if(hf){var t=Ss;if(t!==null)throw t}}function Pa(t,e,n,i){hf=!1;var s=t.updateQueue;Dn=!1;var a=s.firstBaseUpdate,r=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var o=l,c=o.next;o.next=null,r===null?a=c:r.next=c,r=o;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==r&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=o))}if(a!==null){var f=s.baseState;r=0,h=c=o=null,l=a;do{var u=l.lane&-536870913,p=u!==l.lane;if(p?(Y&u)===u:(i&u)===u){u!==0&&u===ks&&(hf=!0),h!==null&&(h=h.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var _=t,b=l;u=e;var S=n;switch(b.tag){case 1:if(_=b.payload,typeof _=="function"){f=_.call(S,f,u);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=b.payload,u=typeof _=="function"?_.call(S,f,u):_,u==null)break e;f=ce({},f,u);break e;case 2:Dn=!0}}u=l.callback,u!==null&&(t.flags|=64,p&&(t.flags|=8192),p=s.callbacks,p===null?s.callbacks=[u]:p.push(u))}else p={lane:u,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=p,o=f):h=h.next=p,r|=u;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);h===null&&(o=f),s.baseState=o,s.firstBaseUpdate=c,s.lastBaseUpdate=h,a===null&&(s.shared.lanes=0),ui|=r,t.lanes=r,t.memoizedState=f}}function Sy(t,e){if(typeof t!="function")throw Error(T(191,t));t.call(e)}function Ty(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Sy(n[t],e)}var Ls=Gt(null),io=Gt(0);function em(t,e){t=yn,ae(io,t),ae(Ls,e),yn=t|e.baseLanes}function df(){ae(io,yn),ae(Ls,Ls.current)}function Hh(){yn=io.current,Me(Ls),Me(io)}var ft=Gt(null),Tt=null;function Mn(t){var e=t.alternate;ae(_e,_e.current&1),ae(ft,t),Tt===null&&(e===null||Ls.current!==null||e.memoizedState!==null)&&(Tt=t)}function pf(t){ae(_e,_e.current),ae(ft,t),Tt===null&&(Tt=t)}function Cy(t){t.tag===22?(ae(_e,_e.current),ae(ft,t),Tt===null&&(Tt=t)):kn()}function kn(){ae(_e,_e.current),ae(ft,ft.current)}function it(t){Me(ft),Tt===t&&(Tt=null),Me(_e)}var _e=Gt(0);function so(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Mf(n)||kf(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mn=0,z=null,ee=null,be=null,ao=!1,Cs=!1,Hi=!1,ro=0,or=0,ws=null,e1=0;function he(){throw Error(T(321))}function Bh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ut(t[n],e[n]))return!1;return!0}function jh(t,e,n,i,s,a){return mn=a,z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,M.H=t===null||t.memoizedState===null?tv:$h,Hi=!1,a=n(i,s),Hi=!1,Cs&&(a=Ay(e,n,i,s)),wy(t),a}function wy(t){M.H=cr;var e=ee!==null&&ee.next!==null;if(mn=0,be=ee=z=null,ao=!1,or=0,ws=null,e)throw Error(T(300));t===null||Te||(t=t.dependencies,t!==null&&to(t)&&(Te=!0))}function Ay(t,e,n,i){z=t;var s=0;do{if(Cs&&(ws=null),or=0,Cs=!1,25<=s)throw Error(T(301));if(s+=1,be=ee=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}M.H=nv,a=e(n,i)}while(Cs);return a}function t1(){var t=M.H,e=t.useState()[0];return e=typeof e.then=="function"?Lr(e):e,t=t.useState()[0],(ee!==null?ee.memoizedState:null)!==t&&(z.flags|=1024),e}function Ph(){var t=ro!==0;return ro=0,t}function Vh(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function qh(t){if(ao){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}ao=!1}mn=0,be=ee=z=null,Cs=!1,or=ro=0,ws=null}function Ve(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?z.memoizedState=be=t:be=be.next=t,be}function ve(){if(ee===null){var t=z.alternate;t=t!==null?t.memoizedState:null}else t=ee.next;var e=be===null?z.memoizedState:be.next;if(e!==null)be=e,ee=t;else{if(t===null)throw z.alternate===null?Error(T(467)):Error(T(310));ee=t,t={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},be===null?z.memoizedState=be=t:be=be.next=t}return be}function cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lr(t){var e=or;return or+=1,ws===null&&(ws=[]),t=vy(ws,t,e),e=z,(be===null?e.memoizedState:be.next)===null&&(e=e.alternate,M.H=e===null||e.memoizedState===null?tv:$h),t}function uc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Lr(t);if(t.$$typeof===nn)return Be(t)}throw Error(T(438,String(t)))}function Gh(t){var e=null,n=z.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=z.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=cc(),z.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=jS;return e.index++,n}function gn(t,e){return typeof e=="function"?e(t):e}function Dl(t){var e=ve();return Yh(e,ee,t)}function Yh(t,e,n){var i=t.queue;if(i===null)throw Error(T(311));i.lastRenderedReducer=n;var s=t.baseQueue,a=i.pending;if(a!==null){if(s!==null){var r=s.next;s.next=a.next,a.next=r}e.baseQueue=s=a,i.pending=null}if(a=t.baseState,s===null)t.memoizedState=a;else{e=s.next;var l=r=null,o=null,c=e,h=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(Y&f)===f:(mn&f)===f){var u=c.revertLane;if(u===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===ks&&(h=!0);else if((mn&u)===u){c=c.next,u===ks&&(h=!0);continue}else f={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(l=o=f,r=a):o=o.next=f,z.lanes|=u,ui|=u;f=c.action,Hi&&n(a,f),a=c.hasEagerState?c.eagerState:n(a,f)}else u={lane:f,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(l=o=u,r=a):o=o.next=u,z.lanes|=f,ui|=f;c=c.next}while(c!==null&&c!==e);if(o===null?r=a:o.next=l,!ut(a,t.memoizedState)&&(Te=!0,h&&(n=Ss,n!==null)))throw n;t.memoizedState=a,t.baseState=r,t.baseQueue=o,i.lastRenderedState=a}return s===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function nu(t){var e=ve(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var r=s=s.next;do a=t(a,r.action),r=r.next;while(r!==s);ut(a,e.memoizedState)||(Te=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function Ry(t,e,n){var i=z,s=ve(),a=F;if(a){if(n===void 0)throw Error(T(407));n=n()}else n=e();var r=!ut((ee||s).memoizedState,n);if(r&&(s.memoizedState=n,Te=!0),s=s.queue,Fh(Oy.bind(null,i,s,t),[t]),s.getSnapshot!==e||r||be!==null&&be.memoizedState.tag&1){if(i.flags|=2048,Us(9,{destroy:void 0},xy.bind(null,i,s,n,e),null),ne===null)throw Error(T(349));a||mn&127||Ny(i,e,n)}return n}function Ny(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=z.updateQueue,e===null?(e=cc(),z.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xy(t,e,n,i){e.value=n,e.getSnapshot=i,Dy(e)&&Iy(t)}function Oy(t,e,n){return n(function(){Dy(e)&&Iy(t)})}function Dy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ut(t,n)}catch{return!0}}function Iy(t){var e=Xi(t,2);e!==null&&Je(e,t,2)}function mf(t){var e=Ve();if(typeof t=="function"){var n=t;if(t=n(),Hi){jn(!0);try{n()}finally{jn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:t},e}function My(t,e,n,i){return t.baseState=n,Yh(t,ee,typeof i=="function"?i:gn)}function n1(t,e,n,i,s){if(hc(t))throw Error(T(485));if(t=e.action,t!==null){var a={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){a.listeners.push(r)}};M.T!==null?n(!0):a.isTransition=!1,i(a),n=e.pending,n===null?(a.next=e.pending=a,ky(e,a)):(a.next=n.next,e.pending=n.next=a)}}function ky(t,e){var n=e.action,i=e.payload,s=t.state;if(e.isTransition){var a=M.T,r={};M.T=r;try{var l=n(s,i),o=M.S;o!==null&&o(r,l),tm(t,e,l)}catch(c){gf(t,e,c)}finally{a!==null&&r.types!==null&&(a.types=r.types),M.T=a}}else try{a=n(s,i),tm(t,e,a)}catch(c){gf(t,e,c)}}function tm(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){nm(t,e,i)},function(i){return gf(t,e,i)}):nm(t,e,n)}function nm(t,e,n){e.status="fulfilled",e.value=n,Ly(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,ky(t,n)))}function gf(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,Ly(e),e=e.next;while(e!==i)}t.action=null}function Ly(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Uy(t,e){return e}function im(t,e){if(F){var n=ne.formState;if(n!==null){e:{var i=z;if(F){if(le){t:{for(var s=le,a=bt;s.nodeType!==8;){if(!a){s=null;break t}if(s=Ct(s.nextSibling),s===null){s=null;break t}}a=s.data,s=a==="F!"||a==="F"?s:null}if(s){le=Ct(s.nextSibling),i=s.data==="F!";break e}}oi(i)}i=!1}i&&(e=n[0])}}return n=Ve(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uy,lastRenderedState:e},n.queue=i,n=Zy.bind(null,z,i),i.dispatch=n,i=mf(!1),a=Wh.bind(null,z,!1,i.queue),i=Ve(),s={state:e,dispatch:null,action:t,pending:null},i.queue=s,n=n1.bind(null,z,s,a,n),s.dispatch=n,i.memoizedState=t,[e,n,!1]}function sm(t){var e=ve();return zy(e,ee,t)}function zy(t,e,n){if(e=Yh(t,e,Uy)[0],t=Dl(gn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Lr(e)}catch(r){throw r===ea?oc:r}else i=e;e=ve();var s=e.queue,a=s.dispatch;return n!==e.memoizedState&&(z.flags|=2048,Us(9,{destroy:void 0},i1.bind(null,s,n),null)),[i,a,t]}function i1(t,e){t.action=e}function am(t){var e=ve(),n=ee;if(n!==null)return zy(e,n,t);ve(),e=e.memoizedState,n=ve();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function Us(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=z.updateQueue,e===null&&(e=cc(),z.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Hy(){return ve().memoizedState}function Il(t,e,n,i){var s=Ve();z.flags|=t,s.memoizedState=Us(1|e,{destroy:void 0},n,i===void 0?null:i)}function fc(t,e,n,i){var s=ve();i=i===void 0?null:i;var a=s.memoizedState.inst;ee!==null&&i!==null&&Bh(i,ee.memoizedState.deps)?s.memoizedState=Us(e,a,n,i):(z.flags|=t,s.memoizedState=Us(1|e,a,n,i))}function rm(t,e){Il(8390656,8,t,e)}function Fh(t,e){fc(2048,8,t,e)}function s1(t){z.flags|=4;var e=z.updateQueue;if(e===null)e=cc(),z.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function By(t){var e=ve().memoizedState;return s1({ref:e,nextImpl:t}),function(){if(Q&2)throw Error(T(440));return e.impl.apply(void 0,arguments)}}function jy(t,e){return fc(4,2,t,e)}function Py(t,e){return fc(4,4,t,e)}function Vy(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qy(t,e,n){n=n!=null?n.concat([t]):null,fc(4,4,Vy.bind(null,e,t),n)}function Kh(){}function Gy(t,e){var n=ve();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Bh(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Yy(t,e){var n=ve();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Bh(e,i[1]))return i[0];if(i=t(),Hi){jn(!0);try{t()}finally{jn(!1)}}return n.memoizedState=[i,e],i}function Qh(t,e,n){return n===void 0||mn&1073741824&&!(Y&261930)?t.memoizedState=e:(t.memoizedState=n,t=Mv(),z.lanes|=t,ui|=t,n)}function Fy(t,e,n,i){return ut(n,e)?n:Ls.current!==null?(t=Qh(t,n,i),ut(t,e)||(Te=!0),t):!(mn&42)||mn&1073741824&&!(Y&261930)?(Te=!0,t.memoizedState=n):(t=Mv(),z.lanes|=t,ui|=t,e)}function Ky(t,e,n,i,s){var a=X.p;X.p=a!==0&&8>a?a:8;var r=M.T,l={};M.T=l,Wh(t,!1,e,n);try{var o=s(),c=M.S;if(c!==null&&c(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var h=JT(o,i);Va(t,e,h,ct(t))}else Va(t,e,i,ct(t))}catch(f){Va(t,e,{then:function(){},status:"rejected",reason:f},ct())}finally{X.p=a,r!==null&&l.types!==null&&(r.types=l.types),M.T=r}}function a1(){}function _f(t,e,n,i){if(t.tag!==5)throw Error(T(476));var s=Qy(t).queue;Ky(t,s,e,Oi,n===null?a1:function(){return Xy(t),n(i)})}function Qy(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Oi,baseState:Oi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:Oi},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Xy(t){var e=Qy(t);e.next===null&&(e=t.alternate.memoizedState),Va(t,e.next.queue,{},ct())}function Xh(){return Be(hr)}function Wy(){return ve().memoizedState}function $y(){return ve().memoizedState}function r1(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=ct();t=Qn(n);var i=Xn(e,t,n);i!==null&&(Je(i,e,n),Ba(i,e,n)),e={cache:kh()},t.payload=e;return}e=e.return}}function l1(t,e,n){var i=ct();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},hc(t)?Jy(e,n):(n=Oh(t,e,n,i),n!==null&&(Je(n,t,i),ev(n,e,i)))}function Zy(t,e,n){var i=ct();Va(t,e,n,i)}function Va(t,e,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(hc(t))Jy(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var r=e.lastRenderedState,l=a(r,n);if(s.hasEagerState=!0,s.eagerState=l,ut(l,r))return lc(t,e,s,0),ne===null&&rc(),!1}catch{}finally{}if(n=Oh(t,e,s,i),n!==null)return Je(n,t,i),ev(n,e,i),!0}return!1}function Wh(t,e,n,i){if(i={lane:2,revertLane:ad(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},hc(t)){if(e)throw Error(T(479))}else e=Oh(t,n,i,2),e!==null&&Je(e,t,2)}function hc(t){var e=t.alternate;return t===z||e!==null&&e===z}function Jy(t,e){Cs=ao=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ev(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,B_(t,n)}}var cr={readContext:Be,use:uc,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};cr.useEffectEvent=he;var tv={readContext:Be,use:uc,useCallback:function(t,e){return Ve().memoizedState=[t,e===void 0?null:e],t},useContext:Be,useEffect:rm,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Il(4194308,4,Vy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Il(4194308,4,t,e)},useInsertionEffect:function(t,e){Il(4,2,t,e)},useMemo:function(t,e){var n=Ve();e=e===void 0?null:e;var i=t();if(Hi){jn(!0);try{t()}finally{jn(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Ve();if(n!==void 0){var s=n(e);if(Hi){jn(!0);try{n(e)}finally{jn(!1)}}}else s=e;return i.memoizedState=i.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},i.queue=t,t=t.dispatch=l1.bind(null,z,t),[i.memoizedState,t]},useRef:function(t){var e=Ve();return t={current:t},e.memoizedState=t},useState:function(t){t=mf(t);var e=t.queue,n=Zy.bind(null,z,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Kh,useDeferredValue:function(t,e){var n=Ve();return Qh(n,t,e)},useTransition:function(){var t=mf(!1);return t=Ky.bind(null,z,t.queue,!0,!1),Ve().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=z,s=Ve();if(F){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),ne===null)throw Error(T(349));Y&127||Ny(i,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,rm(Oy.bind(null,i,a,t),[t]),i.flags|=2048,Us(9,{destroy:void 0},xy.bind(null,i,a,n,e),null),n},useId:function(){var t=Ve(),e=ne.identifierPrefix;if(F){var n=Bt,i=Ht;n=(i&~(1<<32-ot(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=ro++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=e1++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Xh,useFormState:im,useActionState:im,useOptimistic:function(t){var e=Ve();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Wh.bind(null,z,!0,n),n.dispatch=e,[t,e]},useMemoCache:Gh,useCacheRefresh:function(){return Ve().memoizedState=r1.bind(null,z)},useEffectEvent:function(t){var e=Ve(),n={impl:t};return e.memoizedState=n,function(){if(Q&2)throw Error(T(440));return n.impl.apply(void 0,arguments)}}},$h={readContext:Be,use:uc,useCallback:Gy,useContext:Be,useEffect:Fh,useImperativeHandle:qy,useInsertionEffect:jy,useLayoutEffect:Py,useMemo:Yy,useReducer:Dl,useRef:Hy,useState:function(){return Dl(gn)},useDebugValue:Kh,useDeferredValue:function(t,e){var n=ve();return Fy(n,ee.memoizedState,t,e)},useTransition:function(){var t=Dl(gn)[0],e=ve().memoizedState;return[typeof t=="boolean"?t:Lr(t),e]},useSyncExternalStore:Ry,useId:Wy,useHostTransitionStatus:Xh,useFormState:sm,useActionState:sm,useOptimistic:function(t,e){var n=ve();return My(n,ee,t,e)},useMemoCache:Gh,useCacheRefresh:$y};$h.useEffectEvent=By;var nv={readContext:Be,use:uc,useCallback:Gy,useContext:Be,useEffect:Fh,useImperativeHandle:qy,useInsertionEffect:jy,useLayoutEffect:Py,useMemo:Yy,useReducer:nu,useRef:Hy,useState:function(){return nu(gn)},useDebugValue:Kh,useDeferredValue:function(t,e){var n=ve();return ee===null?Qh(n,t,e):Fy(n,ee.memoizedState,t,e)},useTransition:function(){var t=nu(gn)[0],e=ve().memoizedState;return[typeof t=="boolean"?t:Lr(t),e]},useSyncExternalStore:Ry,useId:Wy,useHostTransitionStatus:Xh,useFormState:am,useActionState:am,useOptimistic:function(t,e){var n=ve();return ee!==null?My(n,ee,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Gh,useCacheRefresh:$y};nv.useEffectEvent=By;function iu(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yf={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=ct(),s=Qn(i);s.payload=e,n!=null&&(s.callback=n),e=Xn(t,s,i),e!==null&&(Je(e,t,i),Ba(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=ct(),s=Qn(i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Xn(t,s,i),e!==null&&(Je(e,t,i),Ba(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ct(),i=Qn(n);i.tag=2,e!=null&&(i.callback=e),e=Xn(t,i,n),e!==null&&(Je(e,t,n),Ba(e,t,n))}};function lm(t,e,n,i,s,a,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,r):e.prototype&&e.prototype.isPureReactComponent?!sr(n,i)||!sr(s,a):!0}function om(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&yf.enqueueReplaceState(e,e.state,null)}function Bi(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=ce({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}function iv(t){Zl(t)}function sv(t){console.error(t)}function av(t){Zl(t)}function lo(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function cm(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function vf(t,e,n){return n=Qn(n),n.tag=3,n.payload={element:null},n.callback=function(){lo(t,e)},n}function rv(t){return t=Qn(t),t.tag=3,t}function lv(t,e,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var a=i.value;t.payload=function(){return s(a)},t.callback=function(){cm(e,n,i)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){cm(e,n,i),typeof s!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function o1(t,e,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&Js(e,n,s,!0),n=ft.current,n!==null){switch(n.tag){case 31:case 13:return Tt===null?ho():n.alternate===null&&de===0&&(de=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===no?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),pu(t,i,s)),!1;case 22:return n.flags|=65536,i===no?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),pu(t,i,s)),!1}throw Error(T(435,n.tag))}return pu(t,i,s),ho(),!1}if(F)return e=ft.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,i!==rf&&(t=Error(T(422),{cause:i}),rr(vt(t,n)))):(i!==rf&&(e=Error(T(423),{cause:i}),rr(vt(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,i=vt(i,n),s=vf(t.stateNode,i,s),tu(t,s),de!==4&&(de=2)),!1;var a=Error(T(520),{cause:i});if(a=vt(a,n),Ya===null?Ya=[a]:Ya.push(a),de!==4&&(de=2),e===null)return!0;i=vt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=vf(n.stateNode,i,t),tu(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Wn===null||!Wn.has(a))))return n.flags|=65536,s&=-s,n.lanes|=s,s=rv(s),lv(s,t,n,i),tu(n,s),!1}n=n.return}while(n!==null);return!1}var Zh=Error(T(461)),Te=!1;function Le(t,e,n,i){e.child=t===null?Ey(e,null,n,i):zi(e,t.child,n,i)}function um(t,e,n,i,s){n=n.render;var a=e.ref;if("ref"in i){var r={};for(var l in i)l!=="ref"&&(r[l]=i[l])}else r=i;return Ui(e),i=jh(t,e,n,r,a,s),l=Ph(),t!==null&&!Te?(Vh(t,e,s),_n(t,e,s)):(F&&l&&Ih(e),e.flags|=1,Le(t,e,i,s),e.child)}function fm(t,e,n,i,s){if(t===null){var a=n.type;return typeof a=="function"&&!Dh(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,ov(t,e,a,i,s)):(t=xl(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!Jh(t,s)){var r=a.memoizedProps;if(n=n.compare,n=n!==null?n:sr,n(r,i)&&t.ref===e.ref)return _n(t,e,s)}return e.flags|=1,t=cn(a,i),t.ref=e.ref,t.return=e,e.child=t}function ov(t,e,n,i,s){if(t!==null){var a=t.memoizedProps;if(sr(a,i)&&t.ref===e.ref)if(Te=!1,e.pendingProps=i=a,Jh(t,s))t.flags&131072&&(Te=!0);else return e.lanes=t.lanes,_n(t,e,s)}return bf(t,e,n,i,s)}function cv(t,e,n,i){var s=i.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~a}else i=0,e.child=null;return hm(t,e,a,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ol(e,a!==null?a.cachePool:null),a!==null?em(e,a):df(),Cy(e);else return i=e.lanes=536870912,hm(t,e,a!==null?a.baseLanes|n:n,n,i)}else a!==null?(Ol(e,a.cachePool),em(e,a),kn(),e.memoizedState=null):(t!==null&&Ol(e,null),df(),kn());return Le(t,e,s,n),e.child}function Ia(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function hm(t,e,n,i,s){var a=Lh();return a=a===null?null:{parent:Se._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&Ol(e,null),df(),Cy(e),t!==null&&Js(t,e,i,!0),e.childLanes=s,null}function Ml(t,e){return e=oo({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function dm(t,e,n){return zi(e,t.child,null,n),t=Ml(e,e.pendingProps),t.flags|=2,it(e),e.memoizedState=null,t}function c1(t,e,n){var i=e.pendingProps,s=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(F){if(i.mode==="hidden")return t=Ml(e,i),e.lanes=536870912,Ia(null,t);if(pf(e),(t=le)?(t=t0(t,bt),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:li!==null?{id:Ht,overflow:Bt}:null,retryLane:536870912,hydrationErrors:null},n=py(t),n.return=e,e.child=n,He=e,le=null)):t=null,t===null)throw oi(e);return e.lanes=536870912,null}return Ml(e,i)}var a=t.memoizedState;if(a!==null){var r=a.dehydrated;if(pf(e),s)if(e.flags&256)e.flags&=-257,e=dm(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(T(558));else if(Te||Js(t,e,n,!1),s=(n&t.childLanes)!==0,Te||s){if(i=ne,i!==null&&(r=j_(i,n),r!==0&&r!==a.retryLane))throw a.retryLane=r,Xi(t,r),Je(i,t,r),Zh;ho(),e=dm(t,e,n)}else t=a.treeContext,le=Ct(r.nextSibling),He=e,F=!0,Kn=null,bt=!1,t!==null&&gy(e,t),e=Ml(e,i),e.flags|=4096;return e}return t=cn(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function kl(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(T(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function bf(t,e,n,i,s){return Ui(e),n=jh(t,e,n,i,void 0,s),i=Ph(),t!==null&&!Te?(Vh(t,e,s),_n(t,e,s)):(F&&i&&Ih(e),e.flags|=1,Le(t,e,n,s),e.child)}function pm(t,e,n,i,s,a){return Ui(e),e.updateQueue=null,n=Ay(e,i,n,s),wy(t),i=Ph(),t!==null&&!Te?(Vh(t,e,a),_n(t,e,a)):(F&&i&&Ih(e),e.flags|=1,Le(t,e,n,a),e.child)}function mm(t,e,n,i,s){if(Ui(e),e.stateNode===null){var a=ds,r=n.contextType;typeof r=="object"&&r!==null&&(a=Be(r)),a=new n(i,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=yf,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=i,a.state=e.memoizedState,a.refs={},zh(e),r=n.contextType,a.context=typeof r=="object"&&r!==null?Be(r):ds,a.state=e.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(iu(e,n,r,i),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&yf.enqueueReplaceState(a,a.state,null),Pa(e,i,a,s),ja(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){a=e.stateNode;var l=e.memoizedProps,o=Bi(n,l);a.props=o;var c=a.context,h=n.contextType;r=ds,typeof h=="object"&&h!==null&&(r=Be(h));var f=n.getDerivedStateFromProps;h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l||c!==r)&&om(e,a,i,r),Dn=!1;var u=e.memoizedState;a.state=u,Pa(e,i,a,s),ja(),c=e.memoizedState,l||u!==c||Dn?(typeof f=="function"&&(iu(e,n,f,i),c=e.memoizedState),(o=Dn||lm(e,n,o,i,u,c,r))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),a.props=i,a.state=c,a.context=r,i=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,ff(t,e),r=e.memoizedProps,h=Bi(n,r),a.props=h,f=e.pendingProps,u=a.context,c=n.contextType,o=ds,typeof c=="object"&&c!==null&&(o=Be(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(r!==f||u!==o)&&om(e,a,i,o),Dn=!1,u=e.memoizedState,a.state=u,Pa(e,i,a,s),ja();var p=e.memoizedState;r!==f||u!==p||Dn||t!==null&&t.dependencies!==null&&to(t.dependencies)?(typeof l=="function"&&(iu(e,n,l,i),p=e.memoizedState),(h=Dn||lm(e,n,h,i,u,p,o)||t!==null&&t.dependencies!==null&&to(t.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,p,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,p,o)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||r===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),a.props=i,a.state=p,a.context=o,i=h):(typeof a.componentDidUpdate!="function"||r===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),i=!1)}return a=i,kl(t,e),i=(e.flags&128)!==0,a||i?(a=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&i?(e.child=zi(e,t.child,null,s),e.child=zi(e,null,n,s)):Le(t,e,n,s),e.memoizedState=a.state,t=e.child):t=_n(t,e,s),t}function gm(t,e,n,i){return Li(),e.flags|=256,Le(t,e,n,i),e.child}var su={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function au(t){return{baseLanes:t,cachePool:yy()}}function ru(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=at),t}function uv(t,e,n){var i=e.pendingProps,s=!1,a=(e.flags&128)!==0,r;if((r=a)||(r=t!==null&&t.memoizedState===null?!1:(_e.current&2)!==0),r&&(s=!0,e.flags&=-129),r=(e.flags&32)!==0,e.flags&=-33,t===null){if(F){if(s?Mn(e):kn(),(t=le)?(t=t0(t,bt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:li!==null?{id:Ht,overflow:Bt}:null,retryLane:536870912,hydrationErrors:null},n=py(t),n.return=e,e.child=n,He=e,le=null)):t=null,t===null)throw oi(e);return kf(t)?e.lanes=32:e.lanes=536870912,null}var l=i.children;return i=i.fallback,s?(kn(),s=e.mode,l=oo({mode:"hidden",children:l},s),i=Di(i,s,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,i=e.child,i.memoizedState=au(n),i.childLanes=ru(t,r,n),e.memoizedState=su,Ia(null,i)):(Mn(e),Ef(e,l))}var o=t.memoizedState;if(o!==null&&(l=o.dehydrated,l!==null)){if(a)e.flags&256?(Mn(e),e.flags&=-257,e=lu(t,e,n)):e.memoizedState!==null?(kn(),e.child=t.child,e.flags|=128,e=null):(kn(),l=i.fallback,s=e.mode,i=oo({mode:"visible",children:i.children},s),l=Di(l,s,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,zi(e,t.child,null,n),i=e.child,i.memoizedState=au(n),i.childLanes=ru(t,r,n),e.memoizedState=su,e=Ia(null,i));else if(Mn(e),kf(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var c=r.dgst;r=c,i=Error(T(419)),i.stack="",i.digest=r,rr({value:i,source:null,stack:null}),e=lu(t,e,n)}else if(Te||Js(t,e,n,!1),r=(n&t.childLanes)!==0,Te||r){if(r=ne,r!==null&&(i=j_(r,n),i!==0&&i!==o.retryLane))throw o.retryLane=i,Xi(t,i),Je(r,t,i),Zh;Mf(l)||ho(),e=lu(t,e,n)}else Mf(l)?(e.flags|=192,e.child=t.child,e=null):(t=o.treeContext,le=Ct(l.nextSibling),He=e,F=!0,Kn=null,bt=!1,t!==null&&gy(e,t),e=Ef(e,i.children),e.flags|=4096);return e}return s?(kn(),l=i.fallback,s=e.mode,o=t.child,c=o.sibling,i=cn(o,{mode:"hidden",children:i.children}),i.subtreeFlags=o.subtreeFlags&65011712,c!==null?l=cn(c,l):(l=Di(l,s,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,Ia(null,i),i=e.child,l=t.child.memoizedState,l===null?l=au(n):(s=l.cachePool,s!==null?(o=Se._currentValue,s=s.parent!==o?{parent:o,pool:o}:s):s=yy(),l={baseLanes:l.baseLanes|n,cachePool:s}),i.memoizedState=l,i.childLanes=ru(t,r,n),e.memoizedState=su,Ia(t.child,i)):(Mn(e),n=t.child,t=n.sibling,n=cn(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n)}function Ef(t,e){return e=oo({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function oo(t,e){return t=st(22,t,null,e),t.lanes=0,t}function lu(t,e,n){return zi(e,t.child,null,n),t=Ef(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _m(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),of(t.return,e,n)}function ou(t,e,n,i,s,a){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:a}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s,r.treeForkCount=a)}function fv(t,e,n){var i=e.pendingProps,s=i.revealOrder,a=i.tail;i=i.children;var r=_e.current,l=(r&2)!==0;if(l?(r=r&1|2,e.flags|=128):r&=1,ae(_e,r),Le(t,e,i,n),i=F?ar:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_m(t,n,e);else if(t.tag===19)_m(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&so(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ou(e,!1,s,n,a,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&so(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ou(e,!0,n,null,a,i);break;case"together":ou(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function _n(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ui|=e.lanes,!(n&e.childLanes))if(t!==null){if(Js(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=cn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=cn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Jh(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&to(t)))}function u1(t,e,n){switch(e.tag){case 3:Ql(e,e.stateNode.containerInfo),In(e,Se,t.memoizedState.cache),Li();break;case 27:case 5:Qu(e);break;case 4:Ql(e,e.stateNode.containerInfo);break;case 10:In(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,pf(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Mn(e),e.flags|=128,null):n&e.child.childLanes?uv(t,e,n):(Mn(e),t=_n(t,e,n),t!==null?t.sibling:null);Mn(e);break;case 19:var s=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(Js(t,e,n,!1),i=(n&e.childLanes)!==0),s){if(i)return fv(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ae(_e,_e.current),i)break;return null;case 22:return e.lanes=0,cv(t,e,n,e.pendingProps);case 24:In(e,Se,t.memoizedState.cache)}return _n(t,e,n)}function hv(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Te=!0;else{if(!Jh(t,n)&&!(e.flags&128))return Te=!1,u1(t,e,n);Te=!!(t.flags&131072)}else Te=!1,F&&e.flags&1048576&&my(e,ar,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=Ci(e.elementType),e.type=t,typeof t=="function")Dh(t)?(i=Bi(t,i),e.tag=1,e=mm(null,e,t,i,n)):(e.tag=0,e=bf(null,e,t,i,n));else{if(t!=null){var s=t.$$typeof;if(s===_h){e.tag=11,e=um(null,e,t,i,n);break e}else if(s===yh){e.tag=14,e=fm(null,e,t,i,n);break e}}throw e=Fu(t)||t,Error(T(306,e,""))}}return e;case 0:return bf(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,s=Bi(i,e.pendingProps),mm(t,e,i,s,n);case 3:e:{if(Ql(e,e.stateNode.containerInfo),t===null)throw Error(T(387));i=e.pendingProps;var a=e.memoizedState;s=a.element,ff(t,e),Pa(e,i,null,n);var r=e.memoizedState;if(i=r.cache,In(e,Se,i),i!==a.cache&&cf(e,[Se],n,!0),ja(),i=r.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:r.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=gm(t,e,i,n);break e}else if(i!==s){s=vt(Error(T(424)),e),rr(s),e=gm(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=Ct(t.firstChild),He=e,F=!0,Kn=null,bt=!0,n=Ey(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Li(),i===s){e=_n(t,e,n);break e}Le(t,e,i,n)}e=e.child}return e;case 26:return kl(t,e),t===null?(n=zm(e.type,null,e.pendingProps,null))?e.memoizedState=n:F||(n=e.type,t=e.pendingProps,i=_o(Fn.current).createElement(n),i[ze]=e,i[et]=t,je(i,n,t),Ie(i),e.stateNode=i):e.memoizedState=zm(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Qu(e),t===null&&F&&(i=e.stateNode=n0(e.type,e.pendingProps,Fn.current),He=e,bt=!0,s=le,_i(e.type)?(Lf=s,le=Ct(i.firstChild)):le=s),Le(t,e,e.pendingProps.children,n),kl(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&F&&((s=i=le)&&(i=j1(i,e.type,e.pendingProps,bt),i!==null?(e.stateNode=i,He=e,le=Ct(i.firstChild),bt=!1,s=!0):s=!1),s||oi(e)),Qu(e),s=e.type,a=e.pendingProps,r=t!==null?t.memoizedProps:null,i=a.children,Df(s,a)?i=null:r!==null&&Df(s,r)&&(e.flags|=32),e.memoizedState!==null&&(s=jh(t,e,t1,null,null,n),hr._currentValue=s),kl(t,e),Le(t,e,i,n),e.child;case 6:return t===null&&F&&((t=n=le)&&(n=P1(n,e.pendingProps,bt),n!==null?(e.stateNode=n,He=e,le=null,t=!0):t=!1),t||oi(e)),null;case 13:return uv(t,e,n);case 4:return Ql(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=zi(e,null,i,n):Le(t,e,i,n),e.child;case 11:return um(t,e,e.type,e.pendingProps,n);case 7:return Le(t,e,e.pendingProps,n),e.child;case 8:return Le(t,e,e.pendingProps.children,n),e.child;case 12:return Le(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,In(e,e.type,i.value),Le(t,e,i.children,n),e.child;case 9:return s=e.type._context,i=e.pendingProps.children,Ui(e),s=Be(s),i=i(s),e.flags|=1,Le(t,e,i,n),e.child;case 14:return fm(t,e,e.type,e.pendingProps,n);case 15:return ov(t,e,e.type,e.pendingProps,n);case 19:return fv(t,e,n);case 31:return c1(t,e,n);case 22:return cv(t,e,n,e.pendingProps);case 24:return Ui(e),i=Be(Se),t===null?(s=Lh(),s===null&&(s=ne,a=kh(),s.pooledCache=a,a.refCount++,a!==null&&(s.pooledCacheLanes|=n),s=a),e.memoizedState={parent:i,cache:s},zh(e),In(e,Se,s)):(t.lanes&n&&(ff(t,e),Pa(e,null,null,n),ja()),s=t.memoizedState,a=e.memoizedState,s.parent!==i?(s={parent:i,cache:i},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),In(e,Se,i)):(i=a.cache,In(e,Se,i),i!==s.cache&&cf(e,[Se],n,!0))),Le(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(T(156,e.tag))}function Xt(t){t.flags|=4}function cu(t,e,n,i,s){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(s&335544128)===s)if(t.stateNode.complete)t.flags|=8192;else if(Uv())t.flags|=8192;else throw Mi=no,Uh}else t.flags&=-16777217}function ym(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!a0(e))if(Uv())t.flags|=8192;else throw Mi=no,Uh}function ml(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?z_():536870912,t.lanes|=e,zs|=e)}function va(t,e){if(!F)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function re(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function f1(t,e,n){var i=e.pendingProps;switch(Mh(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(e),null;case 1:return re(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),un(Se),Ds(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ji(e)?Xt(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,eu())),re(e),null;case 26:var s=e.type,a=e.memoizedState;return t===null?(Xt(e),a!==null?(re(e),ym(e,a)):(re(e),cu(e,s,null,i,n))):a?a!==t.memoizedState?(Xt(e),re(e),ym(e,a)):(re(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&Xt(e),re(e),cu(e,s,t,i,n)),null;case 27:if(Xl(e),n=Fn.current,s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Xt(e);else{if(!i){if(e.stateNode===null)throw Error(T(166));return re(e),null}t=Pt.current,Ji(e)?Kp(e):(t=n0(s,i,n),e.stateNode=t,Xt(e))}return re(e),null;case 5:if(Xl(e),s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Xt(e);else{if(!i){if(e.stateNode===null)throw Error(T(166));return re(e),null}if(a=Pt.current,Ji(e))Kp(e);else{var r=_o(Fn.current);switch(a){case 1:a=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:a=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":a=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":a=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":a=r.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?a.multiple=!0:i.size&&(a.size=i.size);break;default:a=typeof i.is=="string"?r.createElement(s,{is:i.is}):r.createElement(s)}}a[ze]=e,a[et]=i;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)a.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=a;e:switch(je(a,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Xt(e)}}return re(e),cu(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Xt(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(T(166));if(t=Fn.current,Ji(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,s=He,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}t[ze]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Zv(t.nodeValue,n)),t||oi(e,!0)}else t=_o(t).createTextNode(i),t[ze]=e,e.stateNode=t}return re(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=Ji(e),n!==null){if(t===null){if(!i)throw Error(T(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(557));t[ze]=e}else Li(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;re(e),t=!1}else n=eu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(it(e),e):(it(e),null);if(e.flags&128)throw Error(T(558))}return re(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=Ji(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(T(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(T(317));s[ze]=e}else Li(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;re(e),s=!1}else s=eu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(it(e),e):(it(e),null)}return it(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==s&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),ml(e,e.updateQueue),re(e),null);case 4:return Ds(),t===null&&rd(e.stateNode.containerInfo),re(e),null;case 10:return un(e.type),re(e),null;case 19:if(Me(_e),i=e.memoizedState,i===null)return re(e),null;if(s=(e.flags&128)!==0,a=i.rendering,a===null)if(s)va(i,!1);else{if(de!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=so(t),a!==null){for(e.flags|=128,va(i,!1),t=a.updateQueue,e.updateQueue=t,ml(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)dy(n,t),n=n.sibling;return ae(_e,_e.current&1|2),F&&en(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&rt()>uo&&(e.flags|=128,s=!0,va(i,!1),e.lanes=4194304)}else{if(!s)if(t=so(a),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,ml(e,t),va(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!F)return re(e),null}else 2*rt()-i.renderingStartTime>uo&&n!==536870912&&(e.flags|=128,s=!0,va(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=rt(),t.sibling=null,n=_e.current,ae(_e,s?n&1|2:n&1),F&&en(e,i.treeForkCount),t):(re(e),null);case 22:case 23:return it(e),Hh(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(re(e),e.subtreeFlags&6&&(e.flags|=8192)):re(e),n=e.updateQueue,n!==null&&ml(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&Me(Ii),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),un(Se),re(e),null;case 25:return null;case 30:return null}throw Error(T(156,e.tag))}function h1(t,e){switch(Mh(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return un(Se),Ds(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Xl(e),null;case 31:if(e.memoizedState!==null){if(it(e),e.alternate===null)throw Error(T(340));Li()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(it(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));Li()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(_e),null;case 4:return Ds(),null;case 10:return un(e.type),null;case 22:case 23:return it(e),Hh(),t!==null&&Me(Ii),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return un(Se),null;case 25:return null;default:return null}}function dv(t,e){switch(Mh(e),e.tag){case 3:un(Se),Ds();break;case 26:case 27:case 5:Xl(e);break;case 4:Ds();break;case 31:e.memoizedState!==null&&it(e);break;case 13:it(e);break;case 19:Me(_e);break;case 10:un(e.type);break;case 22:case 23:it(e),Hh(),t!==null&&Me(Ii);break;case 24:un(Se)}}function Ur(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&t)===t){i=void 0;var a=n.create,r=n.inst;i=a(),r.destroy=i}n=n.next}while(n!==s)}}catch(l){$(e,e.return,l)}}function ci(t,e,n){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var a=s.next;i=a;do{if((i.tag&t)===t){var r=i.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,s=e;var o=n,c=l;try{c()}catch(h){$(s,o,h)}}}i=i.next}while(i!==a)}}catch(h){$(e,e.return,h)}}function pv(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Ty(e,n)}catch(i){$(t,t.return,i)}}}function mv(t,e,n){n.props=Bi(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){$(t,e,i)}}function qa(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(s){$(t,e,s)}}function jt(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){$(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){$(t,e,s)}else n.current=null}function gv(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){$(t,t.return,s)}}function uu(t,e,n){try{var i=t.stateNode;k1(i,t.type,n,e),i[et]=e}catch(s){$(t,t.return,s)}}function _v(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&_i(t.type)||t.tag===4}function fu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_v(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&_i(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sn));else if(i!==4&&(i===27&&_i(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Sf(t,e,n),t=t.sibling;t!==null;)Sf(t,e,n),t=t.sibling}function co(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&_i(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(co(t,e,n),t=t.sibling;t!==null;)co(t,e,n),t=t.sibling}function yv(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);je(e,i,n),e[ze]=t,e[et]=n}catch(a){$(t,t.return,a)}}var tn=!1,Ee=!1,hu=!1,vm=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function d1(t,e){if(t=t.containerInfo,xf=Eo,t=ay(t),Nh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var r=0,l=-1,o=-1,c=0,h=0,f=t,u=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(l=r+s),f!==a||i!==0&&f.nodeType!==3||(o=r+i),f.nodeType===3&&(r+=f.nodeValue.length),(p=f.firstChild)!==null;)u=f,f=p;for(;;){if(f===t)break t;if(u===n&&++c===s&&(l=r),u===a&&++h===i&&(o=r),(p=f.nextSibling)!==null)break;f=u,u=f.parentNode}f=p}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Of={focusedElem:t,selectionRange:n},Eo=!1,Oe=e;Oe!==null;)if(e=Oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Oe=t;else for(;Oe!==null;){switch(e=Oe,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)s=t[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,s=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var _=Bi(n.type,s);t=i.getSnapshotBeforeUpdate(_,a),i.__reactInternalSnapshotBeforeUpdate=t}catch(b){$(n,n.return,b)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)If(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":If(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(T(163))}if(t=e.sibling,t!==null){t.return=e.return,Oe=t;break}Oe=e.return}}function vv(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:$t(t,n),i&4&&Ur(5,n);break;case 1:if($t(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(r){$(n,n.return,r)}else{var s=Bi(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(r){$(n,n.return,r)}}i&64&&pv(n),i&512&&qa(n,n.return);break;case 3:if($t(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Ty(t,e)}catch(r){$(n,n.return,r)}}break;case 27:e===null&&i&4&&yv(n);case 26:case 5:$t(t,n),e===null&&i&4&&gv(n),i&512&&qa(n,n.return);break;case 12:$t(t,n);break;case 31:$t(t,n),i&4&&Sv(t,n);break;case 13:$t(t,n),i&4&&Tv(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=S1.bind(null,n),V1(t,n))));break;case 22:if(i=n.memoizedState!==null||tn,!i){e=e!==null&&e.memoizedState!==null||Ee,s=tn;var a=Ee;tn=i,(Ee=e)&&!a?Zt(t,n,(n.subtreeFlags&8772)!==0):$t(t,n),tn=s,Ee=a}break;case 30:break;default:$t(t,n)}}function bv(t){var e=t.alternate;e!==null&&(t.alternate=null,bv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Sh(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ue=null,We=!1;function Wt(t,e,n){for(n=n.child;n!==null;)Ev(t,e,n),n=n.sibling}function Ev(t,e,n){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(xr,n)}catch{}switch(n.tag){case 26:Ee||jt(n,e),Wt(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ee||jt(n,e);var i=ue,s=We;_i(n.type)&&(ue=n.stateNode,We=!1),Wt(t,e,n),Ka(n.stateNode),ue=i,We=s;break;case 5:Ee||jt(n,e);case 6:if(i=ue,s=We,ue=null,Wt(t,e,n),ue=i,We=s,ue!==null)if(We)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(n.stateNode)}catch(a){$(n,e,a)}else try{ue.removeChild(n.stateNode)}catch(a){$(n,e,a)}break;case 18:ue!==null&&(We?(t=ue,Im(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Ps(t)):Im(ue,n.stateNode));break;case 4:i=ue,s=We,ue=n.stateNode.containerInfo,We=!0,Wt(t,e,n),ue=i,We=s;break;case 0:case 11:case 14:case 15:ci(2,n,e),Ee||ci(4,n,e),Wt(t,e,n);break;case 1:Ee||(jt(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&mv(n,e,i)),Wt(t,e,n);break;case 21:Wt(t,e,n);break;case 22:Ee=(i=Ee)||n.memoizedState!==null,Wt(t,e,n),Ee=i;break;default:Wt(t,e,n)}}function Sv(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ps(t)}catch(n){$(e,e.return,n)}}}function Tv(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ps(t)}catch(n){$(e,e.return,n)}}function p1(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new vm),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new vm),e;default:throw Error(T(435,t.tag))}}function gl(t,e){var n=p1(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var s=T1.bind(null,t,i);i.then(s,s)}})}function Qe(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],a=t,r=e,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(_i(l.type)){ue=l.stateNode,We=!1;break e}break;case 5:ue=l.stateNode,We=!1;break e;case 3:case 4:ue=l.stateNode.containerInfo,We=!0;break e}l=l.return}if(ue===null)throw Error(T(160));Ev(a,r,s),ue=null,We=!1,a=s.alternate,a!==null&&(a.return=null),s.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Cv(e,t),e=e.sibling}var xt=null;function Cv(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Qe(e,t),Xe(t),i&4&&(ci(3,t,t.return),Ur(3,t),ci(5,t,t.return));break;case 1:Qe(e,t),Xe(t),i&512&&(Ee||n===null||jt(n,n.return)),i&64&&tn&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=xt;if(Qe(e,t),Xe(t),i&512&&(Ee||n===null||jt(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":a=s.getElementsByTagName("title")[0],(!a||a[Ir]||a[ze]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=s.createElement(i),s.head.insertBefore(a,s.querySelector("head > title"))),je(a,i,n),a[ze]=t,Ie(a),i=a;break e;case"link":var r=Bm("link","href",s).get(i+(n.href||""));if(r){for(var l=0;l<r.length;l++)if(a=r[l],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(l,1);break t}}a=s.createElement(i),je(a,i,n),s.head.appendChild(a);break;case"meta":if(r=Bm("meta","content",s).get(i+(n.content||""))){for(l=0;l<r.length;l++)if(a=r[l],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(l,1);break t}}a=s.createElement(i),je(a,i,n),s.head.appendChild(a);break;default:throw Error(T(468,i))}a[ze]=t,Ie(a),i=a}t.stateNode=i}else jm(s,t.type,t.stateNode);else t.stateNode=Hm(s,i,t.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?jm(s,t.type,t.stateNode):Hm(s,i,t.memoizedProps)):i===null&&t.stateNode!==null&&uu(t,t.memoizedProps,n.memoizedProps)}break;case 27:Qe(e,t),Xe(t),i&512&&(Ee||n===null||jt(n,n.return)),n!==null&&i&4&&uu(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Qe(e,t),Xe(t),i&512&&(Ee||n===null||jt(n,n.return)),t.flags&32){s=t.stateNode;try{Ms(s,"")}catch(_){$(t,t.return,_)}}i&4&&t.stateNode!=null&&(s=t.memoizedProps,uu(t,s,n!==null?n.memoizedProps:s)),i&1024&&(hu=!0);break;case 6:if(Qe(e,t),Xe(t),i&4){if(t.stateNode===null)throw Error(T(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(_){$(t,t.return,_)}}break;case 3:if(zl=null,s=xt,xt=yo(e.containerInfo),Qe(e,t),xt=s,Xe(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ps(e.containerInfo)}catch(_){$(t,t.return,_)}hu&&(hu=!1,wv(t));break;case 4:i=xt,xt=yo(t.stateNode.containerInfo),Qe(e,t),Xe(t),xt=i;break;case 12:Qe(e,t),Xe(t);break;case 31:Qe(e,t),Xe(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,gl(t,i)));break;case 13:Qe(e,t),Xe(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(dc=rt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,gl(t,i)));break;case 22:s=t.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,c=tn,h=Ee;if(tn=c||s,Ee=h||o,Qe(e,t),Ee=h,tn=c,Xe(t),i&8192)e:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||o||tn||Ee||wi(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){o=n=e;try{if(a=o.stateNode,s)r=a.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=o.stateNode;var f=o.memoizedProps.style,u=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=u==null||typeof u=="boolean"?"":(""+u).trim()}}catch(_){$(o,o.return,_)}}}else if(e.tag===6){if(n===null){o=e;try{o.stateNode.nodeValue=s?"":o.memoizedProps}catch(_){$(o,o.return,_)}}}else if(e.tag===18){if(n===null){o=e;try{var p=o.stateNode;s?Mm(p,!0):Mm(o.stateNode,!1)}catch(_){$(o,o.return,_)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,gl(t,n))));break;case 19:Qe(e,t),Xe(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,gl(t,i)));break;case 30:break;case 21:break;default:Qe(e,t),Xe(t)}}function Xe(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(_v(i)){n=i;break}i=i.return}if(n==null)throw Error(T(160));switch(n.tag){case 27:var s=n.stateNode,a=fu(t);co(t,a,s);break;case 5:var r=n.stateNode;n.flags&32&&(Ms(r,""),n.flags&=-33);var l=fu(t);co(t,l,r);break;case 3:case 4:var o=n.stateNode.containerInfo,c=fu(t);Sf(t,c,o);break;default:throw Error(T(161))}}catch(h){$(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;wv(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function $t(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)vv(t,e.alternate,e),e=e.sibling}function wi(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ci(4,e,e.return),wi(e);break;case 1:jt(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&mv(e,e.return,n),wi(e);break;case 27:Ka(e.stateNode);case 26:case 5:jt(e,e.return),wi(e);break;case 22:e.memoizedState===null&&wi(e);break;case 30:wi(e);break;default:wi(e)}t=t.sibling}}function Zt(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,s=t,a=e,r=a.flags;switch(a.tag){case 0:case 11:case 15:Zt(s,a,n),Ur(4,a);break;case 1:if(Zt(s,a,n),i=a,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(c){$(i,i.return,c)}if(i=a,s=i.updateQueue,s!==null){var l=i.stateNode;try{var o=s.shared.hiddenCallbacks;if(o!==null)for(s.shared.hiddenCallbacks=null,s=0;s<o.length;s++)Sy(o[s],l)}catch(c){$(i,i.return,c)}}n&&r&64&&pv(a),qa(a,a.return);break;case 27:yv(a);case 26:case 5:Zt(s,a,n),n&&i===null&&r&4&&gv(a),qa(a,a.return);break;case 12:Zt(s,a,n);break;case 31:Zt(s,a,n),n&&r&4&&Sv(s,a);break;case 13:Zt(s,a,n),n&&r&4&&Tv(s,a);break;case 22:a.memoizedState===null&&Zt(s,a,n),qa(a,a.return);break;case 30:break;default:Zt(s,a,n)}e=e.sibling}}function ed(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&kr(n))}function td(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&kr(t))}function Nt(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Av(t,e,n,i),e=e.sibling}function Av(t,e,n,i){var s=e.flags;switch(e.tag){case 0:case 11:case 15:Nt(t,e,n,i),s&2048&&Ur(9,e);break;case 1:Nt(t,e,n,i);break;case 3:Nt(t,e,n,i),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&kr(t)));break;case 12:if(s&2048){Nt(t,e,n,i),t=e.stateNode;try{var a=e.memoizedProps,r=a.id,l=a.onPostCommit;typeof l=="function"&&l(r,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(o){$(e,e.return,o)}}else Nt(t,e,n,i);break;case 31:Nt(t,e,n,i);break;case 13:Nt(t,e,n,i);break;case 23:break;case 22:a=e.stateNode,r=e.alternate,e.memoizedState!==null?a._visibility&2?Nt(t,e,n,i):Ga(t,e):a._visibility&2?Nt(t,e,n,i):(a._visibility|=2,is(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),s&2048&&ed(r,e);break;case 24:Nt(t,e,n,i),s&2048&&td(e.alternate,e);break;default:Nt(t,e,n,i)}}function is(t,e,n,i,s){for(s=s&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,r=e,l=n,o=i,c=r.flags;switch(r.tag){case 0:case 11:case 15:is(a,r,l,o,s),Ur(8,r);break;case 23:break;case 22:var h=r.stateNode;r.memoizedState!==null?h._visibility&2?is(a,r,l,o,s):Ga(a,r):(h._visibility|=2,is(a,r,l,o,s)),s&&c&2048&&ed(r.alternate,r);break;case 24:is(a,r,l,o,s),s&&c&2048&&td(r.alternate,r);break;default:is(a,r,l,o,s)}e=e.sibling}}function Ga(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,s=i.flags;switch(i.tag){case 22:Ga(n,i),s&2048&&ed(i.alternate,i);break;case 24:Ga(n,i),s&2048&&td(i.alternate,i);break;default:Ga(n,i)}e=e.sibling}}var Ma=8192;function es(t,e,n){if(t.subtreeFlags&Ma)for(t=t.child;t!==null;)Rv(t,e,n),t=t.sibling}function Rv(t,e,n){switch(t.tag){case 26:es(t,e,n),t.flags&Ma&&t.memoizedState!==null&&eC(n,xt,t.memoizedState,t.memoizedProps);break;case 5:es(t,e,n);break;case 3:case 4:var i=xt;xt=yo(t.stateNode.containerInfo),es(t,e,n),xt=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Ma,Ma=16777216,es(t,e,n),Ma=i):es(t,e,n));break;default:es(t,e,n)}}function Nv(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function ba(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Oe=i,Ov(i,t)}Nv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xv(t),t=t.sibling}function xv(t){switch(t.tag){case 0:case 11:case 15:ba(t),t.flags&2048&&ci(9,t,t.return);break;case 3:ba(t);break;case 12:ba(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Ll(t)):ba(t);break;default:ba(t)}}function Ll(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Oe=i,Ov(i,t)}Nv(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ci(8,e,e.return),Ll(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Ll(e));break;default:Ll(e)}t=t.sibling}}function Ov(t,e){for(;Oe!==null;){var n=Oe;switch(n.tag){case 0:case 11:case 15:ci(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:kr(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Oe=i;else e:for(n=t;Oe!==null;){i=Oe;var s=i.sibling,a=i.return;if(bv(i),i===n){Oe=null;break e}if(s!==null){s.return=a,Oe=s;break e}Oe=a}}}var m1={getCacheForType:function(t){var e=Be(Se),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Be(Se).controller.signal}},g1=typeof WeakMap=="function"?WeakMap:Map,Q=0,ne=null,q=null,Y=0,W=0,nt=null,Vn=!1,ta=!1,nd=!1,yn=0,de=0,ui=0,ki=0,id=0,at=0,zs=0,Ya=null,$e=null,Tf=!1,dc=0,Dv=0,uo=1/0,fo=null,Wn=null,we=0,$n=null,Hs=null,fn=0,Cf=0,wf=null,Iv=null,Fa=0,Af=null;function ct(){return Q&2&&Y!==0?Y&-Y:M.T!==null?ad():P_()}function Mv(){if(at===0)if(!(Y&536870912)||F){var t=ol;ol<<=1,!(ol&3932160)&&(ol=262144),at=t}else at=536870912;return t=ft.current,t!==null&&(t.flags|=32),at}function Je(t,e,n){(t===ne&&(W===2||W===9)||t.cancelPendingCommit!==null)&&(Bs(t,0),qn(t,Y,at,!1)),Dr(t,n),(!(Q&2)||t!==ne)&&(t===ne&&(!(Q&2)&&(ki|=n),de===4&&qn(t,Y,at,!1)),Yt(t))}function kv(t,e,n){if(Q&6)throw Error(T(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Or(t,e),s=i?v1(t,e):du(t,e,!0),a=i;do{if(s===0){ta&&!i&&qn(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!_1(n)){s=du(t,e,!1),a=!1;continue}if(s===2){if(a=e,t.errorRecoveryDisabledLanes&a)var r=0;else r=t.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){e=r;e:{var l=t;s=Ya;var o=l.current.memoizedState.isDehydrated;if(o&&(Bs(l,r).flags|=256),r=du(l,r,!1),r!==2){if(nd&&!o){l.errorRecoveryDisabledLanes|=a,ki|=a,s=4;break e}a=$e,$e=s,a!==null&&($e===null?$e=a:$e.push.apply($e,a))}s=r}if(a=!1,s!==2)continue}}if(s===1){Bs(t,0),qn(t,e,0,!0);break}e:{switch(i=t,a=s,a){case 0:case 1:throw Error(T(345));case 4:if((e&4194048)!==e)break;case 6:qn(i,e,at,!Vn);break e;case 2:$e=null;break;case 3:case 5:break;default:throw Error(T(329))}if((e&62914560)===e&&(s=dc+300-rt(),10<s)){if(qn(i,e,at,!Vn),nc(i,0,!0)!==0)break e;fn=e,i.timeoutHandle=e0(bm.bind(null,i,n,$e,fo,Tf,e,at,ki,zs,Vn,a,"Throttled",-0,0),s);break e}bm(i,n,$e,fo,Tf,e,at,ki,zs,Vn,a,null,-0,0)}}break}while(!0);Yt(t)}function bm(t,e,n,i,s,a,r,l,o,c,h,f,u,p){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sn},Rv(e,a,f);var _=(a&62914560)===a?dc-rt():(a&4194048)===a?Dv-rt():0;if(_=tC(f,_),_!==null){fn=a,t.cancelPendingCommit=_(Sm.bind(null,t,e,a,n,i,s,r,l,o,h,f,null,u,p)),qn(t,a,r,!c);return}}Sm(t,e,a,n,i,s,r,l,o)}function _1(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!ut(a(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qn(t,e,n,i){e&=~id,e&=~ki,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var s=e;0<s;){var a=31-ot(s),r=1<<a;i[a]=-1,s&=~r}n!==0&&H_(t,n,e)}function pc(){return Q&6?!0:(zr(0),!1)}function sd(){if(q!==null){if(W===0)var t=q.return;else t=q,an=Wi=null,qh(t),Ts=null,lr=0,t=q;for(;t!==null;)dv(t.alternate,t),t=t.return;q=null}}function Bs(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,z1(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),fn=0,sd(),ne=t,q=n=cn(t.current,null),Y=e,W=0,nt=null,Vn=!1,ta=Or(t,e),nd=!1,zs=at=id=ki=ui=de=0,$e=Ya=null,Tf=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var s=31-ot(i),a=1<<s;e|=t[s],i&=~a}return yn=e,rc(),n}function Lv(t,e){z=null,M.H=cr,e===ea||e===oc?(e=Zp(),W=3):e===Uh?(e=Zp(),W=4):W=e===Zh?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,nt=e,q===null&&(de=1,lo(t,vt(e,t.current)))}function Uv(){var t=ft.current;return t===null?!0:(Y&4194048)===Y?Tt===null:(Y&62914560)===Y||Y&536870912?t===Tt:!1}function zv(){var t=M.H;return M.H=cr,t===null?cr:t}function Hv(){var t=M.A;return M.A=m1,t}function ho(){de=4,Vn||(Y&4194048)!==Y&&ft.current!==null||(ta=!0),!(ui&134217727)&&!(ki&134217727)||ne===null||qn(ne,Y,at,!1)}function du(t,e,n){var i=Q;Q|=2;var s=zv(),a=Hv();(ne!==t||Y!==e)&&(fo=null,Bs(t,e)),e=!1;var r=de;e:do try{if(W!==0&&q!==null){var l=q,o=nt;switch(W){case 8:sd(),r=6;break e;case 3:case 2:case 9:case 6:ft.current===null&&(e=!0);var c=W;if(W=0,nt=null,gs(t,l,o,c),n&&ta){r=0;break e}break;default:c=W,W=0,nt=null,gs(t,l,o,c)}}y1(),r=de;break}catch(h){Lv(t,h)}while(!0);return e&&t.shellSuspendCounter++,an=Wi=null,Q=i,M.H=s,M.A=a,q===null&&(ne=null,Y=0,rc()),r}function y1(){for(;q!==null;)Bv(q)}function v1(t,e){var n=Q;Q|=2;var i=zv(),s=Hv();ne!==t||Y!==e?(fo=null,uo=rt()+500,Bs(t,e)):ta=Or(t,e);e:do try{if(W!==0&&q!==null){e=q;var a=nt;t:switch(W){case 1:W=0,nt=null,gs(t,e,a,1);break;case 2:case 9:if($p(a)){W=0,nt=null,Em(e);break}e=function(){W!==2&&W!==9||ne!==t||(W=7),Yt(t)},a.then(e,e);break e;case 3:W=7;break e;case 4:W=5;break e;case 7:$p(a)?(W=0,nt=null,Em(e)):(W=0,nt=null,gs(t,e,a,7));break;case 5:var r=null;switch(q.tag){case 26:r=q.memoizedState;case 5:case 27:var l=q;if(r?a0(r):l.stateNode.complete){W=0,nt=null;var o=l.sibling;if(o!==null)q=o;else{var c=l.return;c!==null?(q=c,mc(c)):q=null}break t}}W=0,nt=null,gs(t,e,a,5);break;case 6:W=0,nt=null,gs(t,e,a,6);break;case 8:sd(),de=6;break e;default:throw Error(T(462))}}b1();break}catch(h){Lv(t,h)}while(!0);return an=Wi=null,M.H=i,M.A=s,Q=n,q!==null?0:(ne=null,Y=0,rc(),de)}function b1(){for(;q!==null&&!qS();)Bv(q)}function Bv(t){var e=hv(t.alternate,t,yn);t.memoizedProps=t.pendingProps,e===null?mc(t):q=e}function Em(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=pm(n,e,e.pendingProps,e.type,void 0,Y);break;case 11:e=pm(n,e,e.pendingProps,e.type.render,e.ref,Y);break;case 5:qh(e);default:dv(n,e),e=q=dy(e,yn),e=hv(n,e,yn)}t.memoizedProps=t.pendingProps,e===null?mc(t):q=e}function gs(t,e,n,i){an=Wi=null,qh(e),Ts=null,lr=0;var s=e.return;try{if(o1(t,s,e,n,Y)){de=1,lo(t,vt(n,t.current)),q=null;return}}catch(a){if(s!==null)throw q=s,a;de=1,lo(t,vt(n,t.current)),q=null;return}e.flags&32768?(F||i===1?t=!0:ta||Y&536870912?t=!1:(Vn=t=!0,(i===2||i===9||i===3||i===6)&&(i=ft.current,i!==null&&i.tag===13&&(i.flags|=16384))),jv(e,t)):mc(e)}function mc(t){var e=t;do{if(e.flags&32768){jv(e,Vn);return}t=e.return;var n=f1(e.alternate,e,yn);if(n!==null){q=n;return}if(e=e.sibling,e!==null){q=e;return}q=e=t}while(e!==null);de===0&&(de=5)}function jv(t,e){do{var n=h1(t.alternate,t);if(n!==null){n.flags&=32767,q=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){q=t;return}q=t=n}while(t!==null);de=6,q=null}function Sm(t,e,n,i,s,a,r,l,o){t.cancelPendingCommit=null;do gc();while(we!==0);if(Q&6)throw Error(T(327));if(e!==null){if(e===t.current)throw Error(T(177));if(a=e.lanes|e.childLanes,a|=xh,JS(t,n,a,r,l,o),t===ne&&(q=ne=null,Y=0),Hs=e,$n=t,fn=n,Cf=a,wf=s,Iv=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,C1(Wl,function(){return Yv(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=M.T,M.T=null,s=X.p,X.p=2,r=Q,Q|=4;try{d1(t,e,n)}finally{Q=r,X.p=s,M.T=i}}we=1,Pv(),Vv(),qv()}}function Pv(){if(we===1){we=0;var t=$n,e=Hs,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=M.T,M.T=null;var i=X.p;X.p=2;var s=Q;Q|=4;try{Cv(e,t);var a=Of,r=ay(t.containerInfo),l=a.focusedElem,o=a.selectionRange;if(r!==l&&l&&l.ownerDocument&&sy(l.ownerDocument.documentElement,l)){if(o!==null&&Nh(l)){var c=o.start,h=o.end;if(h===void 0&&(h=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(h,l.value.length);else{var f=l.ownerDocument||document,u=f&&f.defaultView||window;if(u.getSelection){var p=u.getSelection(),_=l.textContent.length,b=Math.min(o.start,_),S=o.end===void 0?b:Math.min(o.end,_);!p.extend&&b>S&&(r=S,S=b,b=r);var m=Gp(l,b),d=Gp(l,S);if(m&&d&&(p.rangeCount!==1||p.anchorNode!==m.node||p.anchorOffset!==m.offset||p.focusNode!==d.node||p.focusOffset!==d.offset)){var g=f.createRange();g.setStart(m.node,m.offset),p.removeAllRanges(),b>S?(p.addRange(g),p.extend(d.node,d.offset)):(g.setEnd(d.node,d.offset),p.addRange(g))}}}}for(f=[],p=l;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var v=f[l];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}Eo=!!xf,Of=xf=null}finally{Q=s,X.p=i,M.T=n}}t.current=e,we=2}}function Vv(){if(we===2){we=0;var t=$n,e=Hs,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=M.T,M.T=null;var i=X.p;X.p=2;var s=Q;Q|=4;try{vv(t,e.alternate,e)}finally{Q=s,X.p=i,M.T=n}}we=3}}function qv(){if(we===4||we===3){we=0,GS();var t=$n,e=Hs,n=fn,i=Iv;e.subtreeFlags&10256||e.flags&10256?we=5:(we=0,Hs=$n=null,Gv(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(Wn=null),Eh(n),e=e.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(xr,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=M.T,s=X.p,X.p=2,M.T=null;try{for(var a=t.onRecoverableError,r=0;r<i.length;r++){var l=i[r];a(l.value,{componentStack:l.stack})}}finally{M.T=e,X.p=s}}fn&3&&gc(),Yt(t),s=t.pendingLanes,n&261930&&s&42?t===Af?Fa++:(Fa=0,Af=t):Fa=0,zr(0)}}function Gv(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,kr(e)))}function gc(){return Pv(),Vv(),qv(),Yv()}function Yv(){if(we!==5)return!1;var t=$n,e=Cf;Cf=0;var n=Eh(fn),i=M.T,s=X.p;try{X.p=32>n?32:n,M.T=null,n=wf,wf=null;var a=$n,r=fn;if(we=0,Hs=$n=null,fn=0,Q&6)throw Error(T(331));var l=Q;if(Q|=4,xv(a.current),Av(a,a.current,r,n),Q=l,zr(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(xr,a)}catch{}return!0}finally{X.p=s,M.T=i,Gv(t,e)}}function Tm(t,e,n){e=vt(n,e),e=vf(t.stateNode,e,2),t=Xn(t,e,2),t!==null&&(Dr(t,2),Yt(t))}function $(t,e,n){if(t.tag===3)Tm(t,t,n);else for(;e!==null;){if(e.tag===3){Tm(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Wn===null||!Wn.has(i))){t=vt(n,t),n=rv(2),i=Xn(e,n,2),i!==null&&(lv(n,i,e,t),Dr(i,2),Yt(i));break}}e=e.return}}function pu(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new g1;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(nd=!0,s.add(n),t=E1.bind(null,t,e,n),e.then(t,t))}function E1(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ne===t&&(Y&n)===n&&(de===4||de===3&&(Y&62914560)===Y&&300>rt()-dc?!(Q&2)&&Bs(t,0):id|=n,zs===Y&&(zs=0)),Yt(t)}function Fv(t,e){e===0&&(e=z_()),t=Xi(t,e),t!==null&&(Dr(t,e),Yt(t))}function S1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Fv(t,n)}function T1(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(T(314))}i!==null&&i.delete(e),Fv(t,n)}function C1(t,e){return vh(t,e)}var po=null,ss=null,Rf=!1,mo=!1,mu=!1,Gn=0;function Yt(t){t!==ss&&t.next===null&&(ss===null?po=ss=t:ss=ss.next=t),mo=!0,Rf||(Rf=!0,A1())}function zr(t,e){if(!mu&&mo){mu=!0;do for(var n=!1,i=po;i!==null;){if(t!==0){var s=i.pendingLanes;if(s===0)var a=0;else{var r=i.suspendedLanes,l=i.pingedLanes;a=(1<<31-ot(42|t)+1)-1,a&=s&~(r&~l),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,Cm(i,a))}else a=Y,a=nc(i,i===ne?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||Or(i,a)||(n=!0,Cm(i,a));i=i.next}while(n);mu=!1}}function w1(){Kv()}function Kv(){mo=Rf=!1;var t=0;Gn!==0&&U1()&&(t=Gn);for(var e=rt(),n=null,i=po;i!==null;){var s=i.next,a=Qv(i,e);a===0?(i.next=null,n===null?po=s:n.next=s,s===null&&(ss=n)):(n=i,(t!==0||a&3)&&(mo=!0)),i=s}we!==0&&we!==5||zr(t),Gn!==0&&(Gn=0)}function Qv(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var r=31-ot(a),l=1<<r,o=s[r];o===-1?(!(l&n)||l&i)&&(s[r]=ZS(l,e)):o<=e&&(t.expiredLanes|=l),a&=~l}if(e=ne,n=Y,n=nc(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(W===2||W===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&qc(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Or(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&qc(i),Eh(n)){case 2:case 8:n=L_;break;case 32:n=Wl;break;case 268435456:n=U_;break;default:n=Wl}return i=Xv.bind(null,t),n=vh(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&qc(i),t.callbackPriority=2,t.callbackNode=null,2}function Xv(t,e){if(we!==0&&we!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(gc()&&t.callbackNode!==n)return null;var i=Y;return i=nc(t,t===ne?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(kv(t,i,e),Qv(t,rt()),t.callbackNode!=null&&t.callbackNode===n?Xv.bind(null,t):null)}function Cm(t,e){if(gc())return null;kv(t,e,!0)}function A1(){H1(function(){Q&6?vh(k_,w1):Kv()})}function ad(){if(Gn===0){var t=ks;t===0&&(t=ll,ll<<=1,!(ll&261888)&&(ll=256)),Gn=t}return Gn}function wm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Al(""+t)}function Am(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function R1(t,e,n,i,s){if(e==="submit"&&n&&n.stateNode===s){var a=wm((s[et]||null).action),r=i.submitter;r&&(e=(e=r[et]||null)?wm(e.formAction):r.getAttribute("formAction"),e!==null&&(a=e,r=null));var l=new ic("action","action",null,i,s);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Gn!==0){var o=r?Am(s,r):new FormData(s);_f(n,{pending:!0,data:o,method:s.method,action:a},null,o)}}else typeof a=="function"&&(l.preventDefault(),o=r?Am(s,r):new FormData(s),_f(n,{pending:!0,data:o,method:s.method,action:a},a,o))},currentTarget:s}]})}}for(var gu=0;gu<af.length;gu++){var _u=af[gu],N1=_u.toLowerCase(),x1=_u[0].toUpperCase()+_u.slice(1);Ut(N1,"on"+x1)}Ut(ly,"onAnimationEnd");Ut(oy,"onAnimationIteration");Ut(cy,"onAnimationStart");Ut("dblclick","onDoubleClick");Ut("focusin","onFocus");Ut("focusout","onBlur");Ut(YT,"onTransitionRun");Ut(FT,"onTransitionStart");Ut(KT,"onTransitionCancel");Ut(uy,"onTransitionEnd");Is("onMouseEnter",["mouseout","mouseover"]);Is("onMouseLeave",["mouseout","mouseover"]);Is("onPointerEnter",["pointerout","pointerover"]);Is("onPointerLeave",["pointerout","pointerover"]);Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ur));function Wv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var r=i.length-1;0<=r;r--){var l=i[r],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==a&&s.isPropagationStopped())break e;a=l,s.currentTarget=c;try{a(s)}catch(h){Zl(h)}s.currentTarget=null,a=o}else for(r=0;r<i.length;r++){if(l=i[r],o=l.instance,c=l.currentTarget,l=l.listener,o!==a&&s.isPropagationStopped())break e;a=l,s.currentTarget=c;try{a(s)}catch(h){Zl(h)}s.currentTarget=null,a=o}}}}function V(t,e){var n=e[Wu];n===void 0&&(n=e[Wu]=new Set);var i=t+"__bubble";n.has(i)||($v(e,t,2,!1),n.add(i))}function yu(t,e,n){var i=0;e&&(i|=4),$v(n,t,i,e)}var _l="_reactListening"+Math.random().toString(36).slice(2);function rd(t){if(!t[_l]){t[_l]=!0,V_.forEach(function(n){n!=="selectionchange"&&(O1.has(n)||yu(n,!1,t),yu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_l]||(e[_l]=!0,yu("selectionchange",!1,e))}}function $v(t,e,n,i){switch(u0(e)){case 2:var s=sC;break;case 8:s=aC;break;default:s=ud}n=s.bind(null,e,n,t),s=void 0,!tf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function vu(t,e,n,i,s){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var l=i.stateNode.containerInfo;if(l===s)break;if(r===4)for(r=i.return;r!==null;){var o=r.tag;if((o===3||o===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;l!==null;){if(r=ls(l),r===null)return;if(o=r.tag,o===5||o===6||o===26||o===27){i=a=r;continue e}l=l.parentNode}}i=i.return}W_(function(){var c=a,h=Ch(n),f=[];e:{var u=fy.get(t);if(u!==void 0){var p=ic,_=t;switch(t){case"keypress":if(Nl(n)===0)break e;case"keydown":case"keyup":p=TT;break;case"focusin":_="focus",p=Qc;break;case"focusout":_="blur",p=Qc;break;case"beforeblur":case"afterblur":p=Qc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=kp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=fT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=AT;break;case ly:case oy:case cy:p=pT;break;case uy:p=NT;break;case"scroll":case"scrollend":p=cT;break;case"wheel":p=OT;break;case"copy":case"cut":case"paste":p=gT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Up;break;case"toggle":case"beforetoggle":p=IT}var b=(e&4)!==0,S=!b&&(t==="scroll"||t==="scrollend"),m=b?u!==null?u+"Capture":null:u;b=[];for(var d=c,g;d!==null;){var v=d;if(g=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||g===null||m===null||(v=nr(d,m),v!=null&&b.push(fr(d,v,g))),S)break;d=d.return}0<b.length&&(u=new p(u,_,null,n,h),f.push({event:u,listeners:b}))}}if(!(e&7)){e:{if(u=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",u&&n!==ef&&(_=n.relatedTarget||n.fromElement)&&(ls(_)||_[$s]))break e;if((p||u)&&(u=h.window===h?h:(u=h.ownerDocument)?u.defaultView||u.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=c,_=_?ls(_):null,_!==null&&(S=Nr(_),b=_.tag,_!==S||b!==5&&b!==27&&b!==6)&&(_=null)):(p=null,_=c),p!==_)){if(b=kp,v="onMouseLeave",m="onMouseEnter",d="mouse",(t==="pointerout"||t==="pointerover")&&(b=Up,v="onPointerLeave",m="onPointerEnter",d="pointer"),S=p==null?u:Da(p),g=_==null?u:Da(_),u=new b(v,d+"leave",p,n,h),u.target=S,u.relatedTarget=g,v=null,ls(h)===c&&(b=new b(m,d+"enter",_,n,h),b.target=g,b.relatedTarget=S,v=b),S=v,p&&_)t:{for(b=D1,m=p,d=_,g=0,v=m;v;v=b(v))g++;v=0;for(var w=d;w;w=b(w))v++;for(;0<g-v;)m=b(m),g--;for(;0<v-g;)d=b(d),v--;for(;g--;){if(m===d||d!==null&&m===d.alternate){b=m;break t}m=b(m),d=b(d)}b=null}else b=null;p!==null&&Rm(f,u,p,b,!1),_!==null&&S!==null&&Rm(f,S,_,b,!0)}}e:{if(u=c?Da(c):window,p=u.nodeName&&u.nodeName.toLowerCase(),p==="select"||p==="input"&&u.type==="file")var D=jp;else if(Bp(u))if(ny)D=VT;else{D=jT;var A=BT}else p=u.nodeName,!p||p.toLowerCase()!=="input"||u.type!=="checkbox"&&u.type!=="radio"?c&&Th(c.elementType)&&(D=jp):D=PT;if(D&&(D=D(t,c))){ty(f,D,n,h);break e}A&&A(t,u,c),t==="focusout"&&c&&u.type==="number"&&c.memoizedProps.value!=null&&Ju(u,"number",u.value)}switch(A=c?Da(c):window,t){case"focusin":(Bp(A)||A.contentEditable==="true")&&(us=A,nf=c,za=null);break;case"focusout":za=nf=us=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Yp(f,n,h);break;case"selectionchange":if(GT)break;case"keydown":case"keyup":Yp(f,n,h)}var N;if(Rh)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else cs?J_(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Z_&&n.locale!=="ko"&&(cs||I!=="onCompositionStart"?I==="onCompositionEnd"&&cs&&(N=$_()):(Pn=h,wh="value"in Pn?Pn.value:Pn.textContent,cs=!0)),A=go(c,I),0<A.length&&(I=new Lp(I,t,null,n,h),f.push({event:I,listeners:A}),N?I.data=N:(N=ey(n),N!==null&&(I.data=N)))),(N=kT?LT(t,n):UT(t,n))&&(I=go(c,"onBeforeInput"),0<I.length&&(A=new Lp("onBeforeInput","beforeinput",null,n,h),f.push({event:A,listeners:I}),A.data=N)),R1(f,t,c,n,h)}Wv(f,e)})}function fr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function go(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,a=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||a===null||(s=nr(t,n),s!=null&&i.unshift(fr(t,s,a)),s=nr(t,e),s!=null&&i.push(fr(t,s,a))),t.tag===3)return i;t=t.return}return[]}function D1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Rm(t,e,n,i,s){for(var a=e._reactName,r=[];n!==null&&n!==i;){var l=n,o=l.alternate,c=l.stateNode;if(l=l.tag,o!==null&&o===i)break;l!==5&&l!==26&&l!==27||c===null||(o=c,s?(c=nr(n,a),c!=null&&r.unshift(fr(n,c,o))):s||(c=nr(n,a),c!=null&&r.push(fr(n,c,o)))),n=n.return}r.length!==0&&t.push({event:e,listeners:r})}var I1=/\r\n?/g,M1=/\u0000|\uFFFD/g;function Nm(t){return(typeof t=="string"?t:""+t).replace(I1,`
`).replace(M1,"")}function Zv(t,e){return e=Nm(e),Nm(t)===e}function Z(t,e,n,i,s,a){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Ms(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Ms(t,""+i);break;case"className":ul(t,"class",i);break;case"tabIndex":ul(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ul(t,n,i);break;case"style":X_(t,i,a);break;case"data":if(e!=="object"){ul(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Al(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&Z(t,e,"name",s.name,s,null),Z(t,e,"formEncType",s.formEncType,s,null),Z(t,e,"formMethod",s.formMethod,s,null),Z(t,e,"formTarget",s.formTarget,s,null)):(Z(t,e,"encType",s.encType,s,null),Z(t,e,"method",s.method,s,null),Z(t,e,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Al(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=sn);break;case"onScroll":i!=null&&V("scroll",t);break;case"onScrollEnd":i!=null&&V("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(T(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(T(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Al(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":V("beforetoggle",t),V("toggle",t),wl(t,"popover",i);break;case"xlinkActuate":Qt(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Qt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Qt(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Qt(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Qt(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Qt(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":wl(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=lT.get(n)||n,wl(t,n,i))}}function Nf(t,e,n,i,s,a){switch(n){case"style":X_(t,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(T(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(T(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Ms(t,i):(typeof i=="number"||typeof i=="bigint")&&Ms(t,""+i);break;case"onScroll":i!=null&&V("scroll",t);break;case"onScrollEnd":i!=null&&V("scrollend",t);break;case"onClick":i!=null&&(t.onclick=sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!q_.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),a=t[et]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,s),typeof i=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,s);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):wl(t,n,i)}}}function je(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":V("error",t),V("load",t);var i=!1,s=!1,a;for(a in n)if(n.hasOwnProperty(a)){var r=n[a];if(r!=null)switch(a){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(T(137,e));default:Z(t,e,a,r,n,null)}}s&&Z(t,e,"srcSet",n.srcSet,n,null),i&&Z(t,e,"src",n.src,n,null);return;case"input":V("invalid",t);var l=a=r=s=null,o=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":s=h;break;case"type":r=h;break;case"checked":o=h;break;case"defaultChecked":c=h;break;case"value":a=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(T(137,e));break;default:Z(t,e,i,h,n,null)}}F_(t,a,l,o,c,r,s,!1);return;case"select":V("invalid",t),i=r=a=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":a=l;break;case"defaultValue":r=l;break;case"multiple":i=l;default:Z(t,e,s,l,n,null)}e=a,n=r,t.multiple=!!i,e!=null?bs(t,!!i,e,!1):n!=null&&bs(t,!!i,n,!0);return;case"textarea":V("invalid",t),a=s=i=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":i=l;break;case"defaultValue":s=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(T(91));break;default:Z(t,e,r,l,n,null)}Q_(t,i,s,a);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(i=n[o],i!=null))switch(o){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Z(t,e,o,i,n,null)}return;case"dialog":V("beforetoggle",t),V("toggle",t),V("cancel",t),V("close",t);break;case"iframe":case"object":V("load",t);break;case"video":case"audio":for(i=0;i<ur.length;i++)V(ur[i],t);break;case"image":V("error",t),V("load",t);break;case"details":V("toggle",t);break;case"embed":case"source":case"link":V("error",t),V("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(T(137,e));default:Z(t,e,c,i,n,null)}return;default:if(Th(e)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&Nf(t,e,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&Z(t,e,l,i,n,null))}function k1(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,r=null,l=null,o=null,c=null,h=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":o=f;default:i.hasOwnProperty(p)||Z(t,e,p,null,i,f)}}for(var u in i){var p=i[u];if(f=n[u],i.hasOwnProperty(u)&&(p!=null||f!=null))switch(u){case"type":a=p;break;case"name":s=p;break;case"checked":c=p;break;case"defaultChecked":h=p;break;case"value":r=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(T(137,e));break;default:p!==f&&Z(t,e,u,p,i,f)}}Zu(t,r,l,o,c,h,a,s);return;case"select":p=r=l=u=null;for(a in n)if(o=n[a],n.hasOwnProperty(a)&&o!=null)switch(a){case"value":break;case"multiple":p=o;default:i.hasOwnProperty(a)||Z(t,e,a,null,i,o)}for(s in i)if(a=i[s],o=n[s],i.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case"value":u=a;break;case"defaultValue":l=a;break;case"multiple":r=a;default:a!==o&&Z(t,e,s,a,i,o)}e=l,n=r,i=p,u!=null?bs(t,!!n,u,!1):!!i!=!!n&&(e!=null?bs(t,!!n,e,!0):bs(t,!!n,n?[]:"",!1));return;case"textarea":p=u=null;for(l in n)if(s=n[l],n.hasOwnProperty(l)&&s!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Z(t,e,l,null,i,s)}for(r in i)if(s=i[r],a=n[r],i.hasOwnProperty(r)&&(s!=null||a!=null))switch(r){case"value":u=s;break;case"defaultValue":p=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(T(91));break;default:s!==a&&Z(t,e,r,s,i,a)}K_(t,u,p);return;case"option":for(var _ in n)if(u=n[_],n.hasOwnProperty(_)&&u!=null&&!i.hasOwnProperty(_))switch(_){case"selected":t.selected=!1;break;default:Z(t,e,_,null,i,u)}for(o in i)if(u=i[o],p=n[o],i.hasOwnProperty(o)&&u!==p&&(u!=null||p!=null))switch(o){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Z(t,e,o,u,i,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)u=n[b],n.hasOwnProperty(b)&&u!=null&&!i.hasOwnProperty(b)&&Z(t,e,b,null,i,u);for(c in i)if(u=i[c],p=n[c],i.hasOwnProperty(c)&&u!==p&&(u!=null||p!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(T(137,e));break;default:Z(t,e,c,u,i,p)}return;default:if(Th(e)){for(var S in n)u=n[S],n.hasOwnProperty(S)&&u!==void 0&&!i.hasOwnProperty(S)&&Nf(t,e,S,void 0,i,u);for(h in i)u=i[h],p=n[h],!i.hasOwnProperty(h)||u===p||u===void 0&&p===void 0||Nf(t,e,h,u,i,p);return}}for(var m in n)u=n[m],n.hasOwnProperty(m)&&u!=null&&!i.hasOwnProperty(m)&&Z(t,e,m,null,i,u);for(f in i)u=i[f],p=n[f],!i.hasOwnProperty(f)||u===p||u==null&&p==null||Z(t,e,f,u,i,p)}function xm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function L1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],a=s.transferSize,r=s.initiatorType,l=s.duration;if(a&&l&&xm(r)){for(r=0,l=s.responseEnd,i+=1;i<n.length;i++){var o=n[i],c=o.startTime;if(c>l)break;var h=o.transferSize,f=o.initiatorType;h&&xm(f)&&(o=o.responseEnd,r+=h*(o<l?1:(l-c)/(o-c)))}if(--i,e+=8*(a+r)/(s.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var xf=null,Of=null;function _o(t){return t.nodeType===9?t:t.ownerDocument}function Om(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jv(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Df(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bu=null;function U1(){var t=window.event;return t&&t.type==="popstate"?t===bu?!1:(bu=t,!0):(bu=null,!1)}var e0=typeof setTimeout=="function"?setTimeout:void 0,z1=typeof clearTimeout=="function"?clearTimeout:void 0,Dm=typeof Promise=="function"?Promise:void 0,H1=typeof queueMicrotask=="function"?queueMicrotask:typeof Dm<"u"?function(t){return Dm.resolve(null).then(t).catch(B1)}:e0;function B1(t){setTimeout(function(){throw t})}function _i(t){return t==="head"}function Im(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(s),Ps(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Ka(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Ka(n);for(var a=n.firstChild;a;){var r=a.nextSibling,l=a.nodeName;a[Ir]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=r}}else n==="body"&&Ka(t.ownerDocument.body);n=s}while(n);Ps(e)}function Mm(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function If(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":If(n),Sh(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function j1(t,e,n,i){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Ir])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=Ct(t.nextSibling),t===null)break}return null}function P1(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ct(t.nextSibling),t===null))return null;return t}function t0(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Ct(t.nextSibling),t===null))return null;return t}function Mf(t){return t.data==="$?"||t.data==="$~"}function kf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function V1(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Ct(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Lf=null;function km(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Ct(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Lm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function n0(t,e,n){switch(e=_o(n),t){case"html":if(t=e.documentElement,!t)throw Error(T(452));return t;case"head":if(t=e.head,!t)throw Error(T(453));return t;case"body":if(t=e.body,!t)throw Error(T(454));return t;default:throw Error(T(451))}}function Ka(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Sh(t)}var wt=new Map,Um=new Set;function yo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Cn=X.d;X.d={f:q1,r:G1,D:Y1,C:F1,L:K1,m:Q1,X:W1,S:X1,M:$1};function q1(){var t=Cn.f(),e=pc();return t||e}function G1(t){var e=Zs(t);e!==null&&e.tag===5&&e.type==="form"?Xy(e):Cn.r(t)}var na=typeof document>"u"?null:document;function i0(t,e,n){var i=na;if(i&&typeof e=="string"&&e){var s=yt(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Um.has(s)||(Um.add(s),t={rel:t,crossOrigin:n,href:e},i.querySelector(s)===null&&(e=i.createElement("link"),je(e,"link",t),Ie(e),i.head.appendChild(e)))}}function Y1(t){Cn.D(t),i0("dns-prefetch",t,null)}function F1(t,e){Cn.C(t,e),i0("preconnect",t,e)}function K1(t,e,n){Cn.L(t,e,n);var i=na;if(i&&t&&e){var s='link[rel="preload"][as="'+yt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+yt(n.imageSizes)+'"]')):s+='[href="'+yt(t)+'"]';var a=s;switch(e){case"style":a=js(t);break;case"script":a=ia(t)}wt.has(a)||(t=ce({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),wt.set(a,t),i.querySelector(s)!==null||e==="style"&&i.querySelector(Hr(a))||e==="script"&&i.querySelector(Br(a))||(e=i.createElement("link"),je(e,"link",t),Ie(e),i.head.appendChild(e)))}}function Q1(t,e){Cn.m(t,e);var n=na;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+yt(i)+'"][href="'+yt(t)+'"]',a=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=ia(t)}if(!wt.has(a)&&(t=ce({rel:"modulepreload",href:t},e),wt.set(a,t),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Br(a)))return}i=n.createElement("link"),je(i,"link",t),Ie(i),n.head.appendChild(i)}}}function X1(t,e,n){Cn.S(t,e,n);var i=na;if(i&&t){var s=vs(i).hoistableStyles,a=js(t);e=e||"default";var r=s.get(a);if(!r){var l={loading:0,preload:null};if(r=i.querySelector(Hr(a)))l.loading=5;else{t=ce({rel:"stylesheet",href:t,"data-precedence":e},n),(n=wt.get(a))&&ld(t,n);var o=r=i.createElement("link");Ie(o),je(o,"link",t),o._p=new Promise(function(c,h){o.onload=c,o.onerror=h}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Ul(r,e,i)}r={type:"stylesheet",instance:r,count:1,state:l},s.set(a,r)}}}function W1(t,e){Cn.X(t,e);var n=na;if(n&&t){var i=vs(n).hoistableScripts,s=ia(t),a=i.get(s);a||(a=n.querySelector(Br(s)),a||(t=ce({src:t,async:!0},e),(e=wt.get(s))&&od(t,e),a=n.createElement("script"),Ie(a),je(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function $1(t,e){Cn.M(t,e);var n=na;if(n&&t){var i=vs(n).hoistableScripts,s=ia(t),a=i.get(s);a||(a=n.querySelector(Br(s)),a||(t=ce({src:t,async:!0,type:"module"},e),(e=wt.get(s))&&od(t,e),a=n.createElement("script"),Ie(a),je(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function zm(t,e,n,i){var s=(s=Fn.current)?yo(s):null;if(!s)throw Error(T(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=js(n.href),n=vs(s).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=js(n.href);var a=vs(s).hoistableStyles,r=a.get(t);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,r),(a=s.querySelector(Hr(t)))&&!a._p&&(r.instance=a,r.state.loading=5),wt.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},wt.set(t,n),a||Z1(s,t,n,r.state))),e&&i===null)throw Error(T(528,""));return r}if(e&&i!==null)throw Error(T(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ia(n),n=vs(s).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(T(444,t))}}function js(t){return'href="'+yt(t)+'"'}function Hr(t){return'link[rel="stylesheet"]['+t+"]"}function s0(t){return ce({},t,{"data-precedence":t.precedence,precedence:null})}function Z1(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),je(e,"link",n),Ie(e),t.head.appendChild(e))}function ia(t){return'[src="'+yt(t)+'"]'}function Br(t){return"script[async]"+t}function Hm(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+yt(n.href)+'"]');if(i)return e.instance=i,Ie(i),i;var s=ce({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Ie(i),je(i,"style",s),Ul(i,n.precedence,t),e.instance=i;case"stylesheet":s=js(n.href);var a=t.querySelector(Hr(s));if(a)return e.state.loading|=4,e.instance=a,Ie(a),a;i=s0(n),(s=wt.get(s))&&ld(i,s),a=(t.ownerDocument||t).createElement("link"),Ie(a);var r=a;return r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),je(a,"link",i),e.state.loading|=4,Ul(a,n.precedence,t),e.instance=a;case"script":return a=ia(n.src),(s=t.querySelector(Br(a)))?(e.instance=s,Ie(s),s):(i=n,(s=wt.get(a))&&(i=ce({},n),od(i,s)),t=t.ownerDocument||t,s=t.createElement("script"),Ie(s),je(s,"link",i),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(T(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Ul(i,n.precedence,t));return e.instance}function Ul(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,a=s,r=0;r<i.length;r++){var l=i[r];if(l.dataset.precedence===e)a=l;else if(a!==s)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function ld(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function od(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var zl=null;function Bm(t,e,n){if(zl===null){var i=new Map,s=zl=new Map;s.set(n,i)}else s=zl,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var a=n[s];if(!(a[Ir]||a[ze]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var r=a.getAttribute(e)||"";r=t+r;var l=i.get(r);l?l.push(a):i.set(r,[a])}}return i}function jm(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function J1(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function a0(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function eC(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=js(i.href),a=e.querySelector(Hr(s));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=vo.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,Ie(a);return}a=e.ownerDocument||e,i=s0(i),(s=wt.get(s))&&ld(i,s),a=a.createElement("link"),Ie(a);var r=a;r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),je(a,"link",i),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=vo.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Eu=0;function tC(t,e){return t.stylesheets&&t.count===0&&Hl(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&Hl(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&Eu===0&&(Eu=62500*L1());var s=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Hl(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>Eu?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function vo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bo=null;function Hl(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bo=new Map,e.forEach(nC,t),bo=null,vo.call(t))}function nC(t,e){if(!(e.state.loading&4)){var n=bo.get(t);if(n)var i=n.get(null);else{n=new Map,bo.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<s.length;a++){var r=s[a];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),i=r)}i&&n.set(null,i)}s=e.instance,r=s.getAttribute("data-precedence"),a=n.get(r)||i,a===i&&n.set(null,s),n.set(r,s),this.count++,i=vo.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),a?a.parentNode.insertBefore(s,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var hr={$$typeof:nn,Provider:null,Consumer:null,_currentValue:Oi,_currentValue2:Oi,_threadCount:0};function iC(t,e,n,i,s,a,r,l,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gc(0),this.hiddenUpdates=Gc(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=a,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function r0(t,e,n,i,s,a,r,l,o,c,h,f){return t=new iC(t,e,n,r,o,c,h,f,l),e=1,a===!0&&(e|=24),a=st(3,null,null,e),t.current=a,a.stateNode=t,e=kh(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:e},zh(a),t}function l0(t){return t?(t=ds,t):ds}function o0(t,e,n,i,s,a){s=l0(s),i.context===null?i.context=s:i.pendingContext=s,i=Qn(e),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=Xn(t,i,e),n!==null&&(Je(n,t,e),Ba(n,t,e))}function Pm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cd(t,e){Pm(t,e),(t=t.alternate)&&Pm(t,e)}function c0(t){if(t.tag===13||t.tag===31){var e=Xi(t,67108864);e!==null&&Je(e,t,67108864),cd(t,67108864)}}function Vm(t){if(t.tag===13||t.tag===31){var e=ct();e=bh(e);var n=Xi(t,e);n!==null&&Je(n,t,e),cd(t,e)}}var Eo=!0;function sC(t,e,n,i){var s=M.T;M.T=null;var a=X.p;try{X.p=2,ud(t,e,n,i)}finally{X.p=a,M.T=s}}function aC(t,e,n,i){var s=M.T;M.T=null;var a=X.p;try{X.p=8,ud(t,e,n,i)}finally{X.p=a,M.T=s}}function ud(t,e,n,i){if(Eo){var s=Uf(i);if(s===null)vu(t,e,i,So,n),qm(t,i);else if(lC(s,t,e,n,i))i.stopPropagation();else if(qm(t,i),e&4&&-1<rC.indexOf(t)){for(;s!==null;){var a=Zs(s);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var r=Ti(a.pendingLanes);if(r!==0){var l=a;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var o=1<<31-ot(r);l.entanglements[1]|=o,r&=~o}Yt(a),!(Q&6)&&(uo=rt()+500,zr(0))}}break;case 31:case 13:l=Xi(a,2),l!==null&&Je(l,a,2),pc(),cd(a,2)}if(a=Uf(i),a===null&&vu(t,e,i,So,n),a===s)break;s=a}s!==null&&i.stopPropagation()}else vu(t,e,i,null,n)}}function Uf(t){return t=Ch(t),fd(t)}var So=null;function fd(t){if(So=null,t=ls(t),t!==null){var e=Nr(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=x_(e),t!==null)return t;t=null}else if(n===31){if(t=O_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return So=t,null}function u0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(YS()){case k_:return 2;case L_:return 8;case Wl:case FS:return 32;case U_:return 268435456;default:return 32}default:return 32}}var zf=!1,Zn=null,Jn=null,ei=null,dr=new Map,pr=new Map,Ln=[],rC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qm(t,e){switch(t){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":dr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pr.delete(e.pointerId)}}function Ea(t,e,n,i,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},e!==null&&(e=Zs(e),e!==null&&c0(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function lC(t,e,n,i,s){switch(e){case"focusin":return Zn=Ea(Zn,t,e,n,i,s),!0;case"dragenter":return Jn=Ea(Jn,t,e,n,i,s),!0;case"mouseover":return ei=Ea(ei,t,e,n,i,s),!0;case"pointerover":var a=s.pointerId;return dr.set(a,Ea(dr.get(a)||null,t,e,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,pr.set(a,Ea(pr.get(a)||null,t,e,n,i,s)),!0}return!1}function f0(t){var e=ls(t.target);if(e!==null){var n=Nr(e);if(n!==null){if(e=n.tag,e===13){if(e=x_(n),e!==null){t.blockedOn=e,Rp(t.priority,function(){Vm(n)});return}}else if(e===31){if(e=O_(n),e!==null){t.blockedOn=e,Rp(t.priority,function(){Vm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Uf(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);ef=i,n.target.dispatchEvent(i),ef=null}else return e=Zs(n),e!==null&&c0(e),t.blockedOn=n,!1;e.shift()}return!0}function Gm(t,e,n){Bl(t)&&n.delete(e)}function oC(){zf=!1,Zn!==null&&Bl(Zn)&&(Zn=null),Jn!==null&&Bl(Jn)&&(Jn=null),ei!==null&&Bl(ei)&&(ei=null),dr.forEach(Gm),pr.forEach(Gm)}function yl(t,e){t.blockedOn===e&&(t.blockedOn=null,zf||(zf=!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,oC)))}var vl=null;function Ym(t){vl!==t&&(vl=t,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,function(){vl===t&&(vl=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],s=t[e+2];if(typeof i!="function"){if(fd(i||n)===null)continue;break}var a=Zs(n);a!==null&&(t.splice(e,3),e-=3,_f(a,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function Ps(t){function e(o){return yl(o,t)}Zn!==null&&yl(Zn,t),Jn!==null&&yl(Jn,t),ei!==null&&yl(ei,t),dr.forEach(e),pr.forEach(e);for(var n=0;n<Ln.length;n++){var i=Ln[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Ln.length&&(n=Ln[0],n.blockedOn===null);)f0(n),n.blockedOn===null&&Ln.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],a=n[i+1],r=s[et]||null;if(typeof a=="function")r||Ym(n);else if(r){var l=null;if(a&&a.hasAttribute("formAction")){if(s=a,r=a[et]||null)l=r.formAction;else if(fd(s)!==null)continue}else l=r.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),Ym(n)}}}function h0(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(r){return s=r})},focusReset:"manual",scroll:"manual"})}function e(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),s!==null&&(s(),s=null)}}}function hd(t){this._internalRoot=t}_c.prototype.render=hd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));var n=e.current,i=ct();o0(n,i,t,e,null,null)};_c.prototype.unmount=hd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;o0(t.current,2,null,t,null,null),pc(),e[$s]=null}};function _c(t){this._internalRoot=t}_c.prototype.unstable_scheduleHydration=function(t){if(t){var e=P_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ln.length&&e!==0&&e<Ln[n].priority;n++);Ln.splice(n,0,t),n===0&&f0(t)}};var Fm=R_.version;if(Fm!=="19.2.3")throw Error(T(527,Fm,"19.2.3"));X.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=HS(e),t=t!==null?D_(t):null,t=t===null?null:t.stateNode,t};var cC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bl.isDisabled&&bl.supportsFiber)try{xr=bl.inject(cC),lt=bl}catch{}}ec.createRoot=function(t,e){if(!N_(t))throw Error(T(299));var n=!1,i="",s=iv,a=sv,r=av;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=r0(t,1,!1,null,null,n,i,null,s,a,r,h0),t[$s]=e.current,rd(t),new hd(e)};ec.hydrateRoot=function(t,e,n){if(!N_(t))throw Error(T(299));var i=!1,s="",a=iv,r=sv,l=av,o=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),e=r0(t,1,!0,e,n??null,i,s,o,a,r,l,h0),e.context=l0(null),n=e.current,i=ct(),i=bh(i),s=Qn(i),s.callback=null,Xn(n,s,i),n=i,e.current.lanes=n,Dr(e,n),Yt(e),t[$s]=e.current,rd(t),new _c(e)};ec.version="19.2.3";function d0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d0)}catch(t){console.error(t)}}d0(),E_.exports=ec;var uC=E_.exports;const fC=f_(uC);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Km="popstate";function hC(t={}){function e(i,s){let{pathname:a,search:r,hash:l}=i.location;return Hf("",{pathname:a,search:r,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:mr(s)}return pC(e,n,null,t)}function fe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dC(){return Math.random().toString(36).substring(2,10)}function Qm(t,e){return{usr:t.state,key:t.key,idx:e}}function Hf(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?sa(e):e,state:n,key:e&&e.key||i||dC()}}function mr({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function sa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function pC(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,r=s.history,l="POP",o=null,c=h();c==null&&(c=0,r.replaceState({...r.state,idx:c},""));function h(){return(r.state||{idx:null}).idx}function f(){l="POP";let S=h(),m=S==null?null:S-c;c=S,o&&o({action:l,location:b.location,delta:m})}function u(S,m){l="PUSH";let d=Hf(b.location,S,m);c=h()+1;let g=Qm(d,c),v=b.createHref(d);try{r.pushState(g,"",v)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;s.location.assign(v)}a&&o&&o({action:l,location:b.location,delta:1})}function p(S,m){l="REPLACE";let d=Hf(b.location,S,m);c=h();let g=Qm(d,c),v=b.createHref(d);r.replaceState(g,"",v),a&&o&&o({action:l,location:b.location,delta:0})}function _(S){return mC(S)}let b={get action(){return l},get location(){return t(s,r)},listen(S){if(o)throw new Error("A history only accepts one active listener");return s.addEventListener(Km,f),o=S,()=>{s.removeEventListener(Km,f),o=null}},createHref(S){return e(s,S)},createURL:_,encodeLocation(S){let m=_(S);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:u,replace:p,go(S){return r.go(S)}};return b}function mC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),fe(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:mr(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function p0(t,e,n="/"){return gC(t,e,n,!1)}function gC(t,e,n,i){let s=typeof e=="string"?sa(e):e,a=vn(s.pathname||"/",n);if(a==null)return null;let r=m0(t);_C(r);let l=null;for(let o=0;l==null&&o<r.length;++o){let c=NC(a);l=AC(r[o],c,i)}return l}function m0(t,e=[],n=[],i="",s=!1){let a=(r,l,o=s,c)=>{let h={relativePath:c===void 0?r.path||"":c,caseSensitive:r.caseSensitive===!0,childrenIndex:l,route:r};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(i)&&o)return;fe(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length)}let f=hn([i,h.relativePath]),u=n.concat(h);r.children&&r.children.length>0&&(fe(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),m0(r.children,e,u,f,o)),!(r.path==null&&!r.index)&&e.push({path:f,score:CC(f,r.index),routesMeta:u})};return t.forEach((r,l)=>{if(r.path===""||!r.path?.includes("?"))a(r,l);else for(let o of g0(r.path))a(r,l,!0,o)}),e}function g0(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let r=g0(i.join("/")),l=[];return l.push(...r.map(o=>o===""?a:[a,o].join("/"))),s&&l.push(...r),l.map(o=>t.startsWith("/")&&o===""?"/":o)}function _C(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var yC=/^:[\w-]+$/,vC=3,bC=2,EC=1,SC=10,TC=-2,Xm=t=>t==="*";function CC(t,e){let n=t.split("/"),i=n.length;return n.some(Xm)&&(i+=TC),e&&(i+=bC),n.filter(s=>!Xm(s)).reduce((s,a)=>s+(yC.test(a)?vC:a===""?EC:SC),i)}function wC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function AC(t,e,n=!1){let{routesMeta:i}=t,s={},a="/",r=[];for(let l=0;l<i.length;++l){let o=i[l],c=l===i.length-1,h=a==="/"?e:e.slice(a.length)||"/",f=To({path:o.relativePath,caseSensitive:o.caseSensitive,end:c},h),u=o.route;if(!f&&c&&n&&!i[i.length-1].route.index&&(f=To({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),r.push({params:s,pathname:hn([a,f.pathname]),pathnameBase:IC(hn([a,f.pathnameBase])),route:u}),f.pathnameBase!=="/"&&(a=hn([a,f.pathnameBase]))}return r}function To(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=RC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],r=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce((c,{paramName:h,isOptional:f},u)=>{if(h==="*"){let _=l[u]||"";r=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const p=l[u];return f&&!p?c[h]=void 0:c[h]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:r,pattern:t}}function RC(t,e=!1,n=!0){Lt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,l,o)=>(i.push({paramName:l,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function NC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function vn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var _0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xC=t=>_0.test(t);function OC(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?sa(t):t,a;if(n)if(xC(n))a=n;else{if(n.includes("//")){let r=n;n=n.replace(/\/\/+/g,"/"),Lt(!1,`Pathnames cannot have embedded double slashes - normalizing ${r} -> ${n}`)}n.startsWith("/")?a=Wm(n.substring(1),"/"):a=Wm(n,e)}else a=e;return{pathname:a,search:MC(i),hash:kC(s)}}function Wm(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Su(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function y0(t){let e=DC(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function v0(t,e,n,i=!1){let s;typeof t=="string"?s=sa(t):(s={...t},fe(!s.pathname||!s.pathname.includes("?"),Su("?","pathname","search",s)),fe(!s.pathname||!s.pathname.includes("#"),Su("#","pathname","hash",s)),fe(!s.search||!s.search.includes("#"),Su("#","search","hash",s)));let a=t===""||s.pathname==="",r=a?"/":s.pathname,l;if(r==null)l=n;else{let f=e.length-1;if(!i&&r.startsWith("..")){let u=r.split("/");for(;u[0]==="..";)u.shift(),f-=1;s.pathname=u.join("/")}l=f>=0?e[f]:"/"}let o=OC(s,l),c=r&&r!=="/"&&r.endsWith("/"),h=(a||r===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(c||h)&&(o.pathname+="/"),o}var hn=t=>t.join("/").replace(/\/\/+/g,"/"),IC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),MC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,LC=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function UC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function zC(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var b0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function E0(t,e){let n=t;if(typeof n!="string"||!_0.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,s=!1;if(b0)try{let a=new URL(window.location.href),r=n.startsWith("//")?new URL(a.protocol+n):new URL(n),l=vn(r.pathname,e);r.origin===a.origin&&l!=null?n=l+r.search+r.hash:s=!0}catch{Lt(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var S0=["POST","PUT","PATCH","DELETE"];new Set(S0);var HC=["GET",...S0];new Set(HC);var aa=E.createContext(null);aa.displayName="DataRouter";var yc=E.createContext(null);yc.displayName="DataRouterState";var BC=E.createContext(!1),T0=E.createContext({isTransitioning:!1});T0.displayName="ViewTransition";var jC=E.createContext(new Map);jC.displayName="Fetchers";var PC=E.createContext(null);PC.displayName="Await";var Rt=E.createContext(null);Rt.displayName="Navigation";var jr=E.createContext(null);jr.displayName="Location";var Ft=E.createContext({outlet:null,matches:[],isDataRoute:!1});Ft.displayName="Route";var dd=E.createContext(null);dd.displayName="RouteError";var C0="REACT_ROUTER_ERROR",VC="REDIRECT",qC="ROUTE_ERROR_RESPONSE";function GC(t){if(t.startsWith(`${C0}:${VC}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function YC(t){if(t.startsWith(`${C0}:${qC}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new LC(e.status,e.statusText,e.data)}catch{}}function FC(t,{relative:e}={}){fe(Pr(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=E.useContext(Rt),{hash:s,pathname:a,search:r}=qr(t,{relative:e}),l=a;return n!=="/"&&(l=a==="/"?n:hn([n,a])),i.createHref({pathname:l,search:r,hash:s})}function Pr(){return E.useContext(jr)!=null}function yi(){return fe(Pr(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(jr).location}var w0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function A0(t){E.useContext(Rt).static||E.useLayoutEffect(t)}function Vr(){let{isDataRoute:t}=E.useContext(Ft);return t?aw():KC()}function KC(){fe(Pr(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(aa),{basename:e,navigator:n}=E.useContext(Rt),{matches:i}=E.useContext(Ft),{pathname:s}=yi(),a=JSON.stringify(y0(i)),r=E.useRef(!1);return A0(()=>{r.current=!0}),E.useCallback((o,c={})=>{if(Lt(r.current,w0),!r.current)return;if(typeof o=="number"){n.go(o);return}let h=v0(o,JSON.parse(a),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:hn([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,a,s,t])}E.createContext(null);function R0(){let{matches:t}=E.useContext(Ft),e=t[t.length-1];return e?e.params:{}}function qr(t,{relative:e}={}){let{matches:n}=E.useContext(Ft),{pathname:i}=yi(),s=JSON.stringify(y0(n));return E.useMemo(()=>v0(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function QC(t,e){return N0(t,e)}function N0(t,e,n,i,s){fe(Pr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=E.useContext(Rt),{matches:r}=E.useContext(Ft),l=r[r.length-1],o=l?l.params:{},c=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let d=f&&f.path||"";O0(c,!f||d.endsWith("*")||d.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${d}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${d}"> to <Route path="${d==="/"?"*":`${d}/*`}">.`)}let u=yi(),p;if(e){let d=typeof e=="string"?sa(e):e;fe(h==="/"||d.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${d.pathname}" was given in the \`location\` prop.`),p=d}else p=u;let _=p.pathname||"/",b=_;if(h!=="/"){let d=h.replace(/^\//,"").split("/");b="/"+_.replace(/^\//,"").split("/").slice(d.length).join("/")}let S=p0(t,{pathname:b});Lt(f||S!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Lt(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=JC(S&&S.map(d=>Object.assign({},d,{params:Object.assign({},o,d.params),pathname:hn([h,a.encodeLocation?a.encodeLocation(d.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:d.pathname]),pathnameBase:d.pathnameBase==="/"?h:hn([h,a.encodeLocation?a.encodeLocation(d.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:d.pathnameBase])})),r,n,i,s);return e&&m?E.createElement(jr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},m):m}function XC(){let t=sw(),e=UC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},r=null;return console.error("Error handled by React Router default ErrorBoundary:",t),r=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:a},"ErrorBoundary")," or"," ",E.createElement("code",{style:a},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:s},n):null,r)}var WC=E.createElement(XC,null),x0=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=YC(t.digest);n&&(t=n)}let e=t!==void 0?E.createElement(Ft.Provider,{value:this.props.routeContext},E.createElement(dd.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?E.createElement($C,{error:t},e):e}};x0.contextType=BC;var Tu=new WeakMap;function $C({children:t,error:e}){let{basename:n}=E.useContext(Rt);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=GC(e.digest);if(i){let s=Tu.get(e);if(s)throw s;let a=E0(i.location,n);if(b0&&!Tu.get(e))if(a.isExternal||i.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const r=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:i.replace}));throw Tu.set(e,r),r}return E.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function ZC({routeContext:t,match:e,children:n}){let i=E.useContext(aa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Ft.Provider,{value:t},n)}function JC(t,e=[],n=null,i=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,r=n?.errors;if(r!=null){let h=a.findIndex(f=>f.route.id&&r?.[f.route.id]!==void 0);fe(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,o=-1;if(n)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(o=h),f.route.id){let{loaderData:u,errors:p}=n,_=f.route.loader&&!u.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||_){l=!0,o>=0?a=a.slice(0,o+1):a=[a[0]];break}}}let c=n&&i?(h,f)=>{i(h,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:zC(n.matches),errorInfo:f})}:void 0;return a.reduceRight((h,f,u)=>{let p,_=!1,b=null,S=null;n&&(p=r&&f.route.id?r[f.route.id]:void 0,b=f.route.errorElement||WC,l&&(o<0&&u===0?(O0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):o===u&&(_=!0,S=f.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,u+1)),d=()=>{let g;return p?g=b:_?g=S:f.route.Component?g=E.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=h,E.createElement(ZC,{match:f,routeContext:{outlet:h,matches:m,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||u===0)?E.createElement(x0,{location:n.location,revalidation:n.revalidation,component:b,error:p,children:d(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:c}):d()},null)}function pd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ew(t){let e=E.useContext(aa);return fe(e,pd(t)),e}function tw(t){let e=E.useContext(yc);return fe(e,pd(t)),e}function nw(t){let e=E.useContext(Ft);return fe(e,pd(t)),e}function md(t){let e=nw(t),n=e.matches[e.matches.length-1];return fe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function iw(){return md("useRouteId")}function sw(){let t=E.useContext(dd),e=tw("useRouteError"),n=md("useRouteError");return t!==void 0?t:e.errors?.[n]}function aw(){let{router:t}=ew("useNavigate"),e=md("useNavigate"),n=E.useRef(!1);return A0(()=>{n.current=!0}),E.useCallback(async(s,a={})=>{Lt(n.current,w0),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var $m={};function O0(t,e,n){!e&&!$m[t]&&($m[t]=!0,Lt(!1,n))}E.memo(rw);function rw({routes:t,future:e,state:n,onError:i}){return N0(t,void 0,n,i,e)}function Ai(t){fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lw({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:a=!1,unstable_useTransitions:r}){fe(!Pr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),o=E.useMemo(()=>({basename:l,navigator:s,static:a,unstable_useTransitions:r,future:{}}),[l,s,a,r]);typeof n=="string"&&(n=sa(n));let{pathname:c="/",search:h="",hash:f="",state:u=null,key:p="default"}=n,_=E.useMemo(()=>{let b=vn(c,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:u,key:p},navigationType:i}},[l,c,h,f,u,p,i]);return Lt(_!=null,`<Router basename="${l}"> is not able to match the URL "${c}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:E.createElement(Rt.Provider,{value:o},E.createElement(jr.Provider,{children:e,value:_}))}function ow({children:t,location:e}){return QC(Bf(t),e)}function Bf(t,e=[]){let n=[];return E.Children.forEach(t,(i,s)=>{if(!E.isValidElement(i))return;let a=[...e,s];if(i.type===E.Fragment){n.push.apply(n,Bf(i.props.children,a));return}fe(i.type===Ai,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let r={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(r.children=Bf(i.props.children,a)),n.push(r)}),n}var jl="get",Pl="application/x-www-form-urlencoded";function vc(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function cw(t){return vc(t)&&t.tagName.toLowerCase()==="button"}function uw(t){return vc(t)&&t.tagName.toLowerCase()==="form"}function fw(t){return vc(t)&&t.tagName.toLowerCase()==="input"}function hw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dw(t,e){return t.button===0&&(!e||e==="_self")&&!hw(t)}var El=null;function pw(){if(El===null)try{new FormData(document.createElement("form"),0),El=!1}catch{El=!0}return El}var mw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cu(t){return t!=null&&!mw.has(t)?(Lt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pl}"`),null):t}function gw(t,e){let n,i,s,a,r;if(uw(t)){let l=t.getAttribute("action");i=l?vn(l,e):null,n=t.getAttribute("method")||jl,s=Cu(t.getAttribute("enctype"))||Pl,a=new FormData(t)}else if(cw(t)||fw(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=t.getAttribute("formaction")||l.getAttribute("action");if(i=o?vn(o,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||jl,s=Cu(t.getAttribute("formenctype"))||Cu(l.getAttribute("enctype"))||Pl,a=new FormData(l,t),!pw()){let{name:c,type:h,value:f}=t;if(h==="image"){let u=c?`${c}.`:"";a.append(`${u}x`,"0"),a.append(`${u}y`,"0")}else c&&a.append(c,f)}}else{if(vc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jl,i=null,s=Pl,r=t}return a&&s==="text/plain"&&(r=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gd(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _w(t,e,n,i){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${i}`:s.pathname=`${s.pathname}.${i}`:s.pathname==="/"?s.pathname=`_root.${i}`:e&&vn(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function yw(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vw(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function bw(t,e,n){let i=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let r=await yw(a,n);return r.links?r.links():[]}return[]}));return Cw(i.flat(1).filter(vw).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Zm(t,e,n,i,s,a){let r=(o,c)=>n[c]?o.route.id!==n[c].route.id:!0,l=(o,c)=>n[c].pathname!==o.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==o.params["*"];return a==="assets"?e.filter((o,c)=>r(o,c)||l(o,c)):a==="data"?e.filter((o,c)=>{let h=i.routes[o.route.id];if(!h||!h.hasLoader)return!1;if(r(o,c)||l(o,c))return!0;if(o.route.shouldRevalidate){let f=o.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:o.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Ew(t,e,{includeHydrateFallback:n}={}){return Sw(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function Sw(t){return[...new Set(t)]}function Tw(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Cw(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let a=JSON.stringify(Tw(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function D0(){let t=E.useContext(aa);return gd(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ww(){let t=E.useContext(yc);return gd(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var _d=E.createContext(void 0);_d.displayName="FrameworkContext";function I0(){let t=E.useContext(_d);return gd(t,"You must render this element inside a <HydratedRouter> element"),t}function Aw(t,e){let n=E.useContext(_d),[i,s]=E.useState(!1),[a,r]=E.useState(!1),{onFocus:l,onBlur:o,onMouseEnter:c,onMouseLeave:h,onTouchStart:f}=e,u=E.useRef(null);E.useEffect(()=>{if(t==="render"&&r(!0),t==="viewport"){let b=m=>{m.forEach(d=>{r(d.isIntersecting)})},S=new IntersectionObserver(b,{threshold:.5});return u.current&&S.observe(u.current),()=>{S.disconnect()}}},[t]),E.useEffect(()=>{if(i){let b=setTimeout(()=>{r(!0)},100);return()=>{clearTimeout(b)}}},[i]);let p=()=>{s(!0)},_=()=>{s(!1),r(!1)};return n?t!=="intent"?[a,u,{}]:[a,u,{onFocus:Sa(l,p),onBlur:Sa(o,_),onMouseEnter:Sa(c,p),onMouseLeave:Sa(h,_),onTouchStart:Sa(f,p)}]:[!1,u,{}]}function Sa(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Rw({page:t,...e}){let{router:n}=D0(),i=E.useMemo(()=>p0(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?E.createElement(xw,{page:t,matches:i,...e}):null}function Nw(t){let{manifest:e,routeModules:n}=I0(),[i,s]=E.useState([]);return E.useEffect(()=>{let a=!1;return bw(t,e,n).then(r=>{a||s(r)}),()=>{a=!0}},[t,e,n]),i}function xw({page:t,matches:e,...n}){let i=yi(),{future:s,manifest:a,routeModules:r}=I0(),{basename:l}=D0(),{loaderData:o,matches:c}=ww(),h=E.useMemo(()=>Zm(t,e,c,a,i,"data"),[t,e,c,a,i]),f=E.useMemo(()=>Zm(t,e,c,a,i,"assets"),[t,e,c,a,i]),u=E.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let b=new Set,S=!1;if(e.forEach(d=>{let g=a.routes[d.route.id];!g||!g.hasLoader||(!h.some(v=>v.route.id===d.route.id)&&d.route.id in o&&r[d.route.id]?.shouldRevalidate||g.hasClientLoader?S=!0:b.add(d.route.id))}),b.size===0)return[];let m=_w(t,l,s.unstable_trailingSlashAwareDataRequests,"data");return S&&b.size>0&&m.searchParams.set("_routes",e.filter(d=>b.has(d.route.id)).map(d=>d.route.id).join(",")),[m.pathname+m.search]},[l,s.unstable_trailingSlashAwareDataRequests,o,i,a,h,e,t,r]),p=E.useMemo(()=>Ew(f,a),[f,a]),_=Nw(f);return E.createElement(E.Fragment,null,u.map(b=>E.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),p.map(b=>E.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),_.map(({key:b,link:S})=>E.createElement("link",{key:b,nonce:n.nonce,...S})))}function Ow(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Dw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dw&&(window.__reactRouterVersion="7.12.0")}catch{}function Iw({basename:t,children:e,unstable_useTransitions:n,window:i}){let s=E.useRef();s.current==null&&(s.current=hC({window:i,v5Compat:!0}));let a=s.current,[r,l]=E.useState({action:a.action,location:a.location}),o=E.useCallback(c=>{n===!1?l(c):E.startTransition(()=>l(c))},[n]);return E.useLayoutEffect(()=>a.listen(o),[a,o]),E.createElement(lw,{basename:t,children:e,location:r.location,navigationType:r.action,navigator:a,unstable_useTransitions:n})}var M0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k0=E.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:r,state:l,target:o,to:c,preventScrollReset:h,viewTransition:f,unstable_defaultShouldRevalidate:u,...p},_){let{basename:b,unstable_useTransitions:S}=E.useContext(Rt),m=typeof c=="string"&&M0.test(c),d=E0(c,b);c=d.to;let g=FC(c,{relative:s}),[v,w,D]=Aw(i,p),A=Uw(c,{replace:r,state:l,target:o,preventScrollReset:h,relative:s,viewTransition:f,unstable_defaultShouldRevalidate:u,unstable_useTransitions:S});function N(L){e&&e(L),L.defaultPrevented||A(L)}let I=E.createElement("a",{...p,...D,href:d.absoluteURL||g,onClick:d.isExternal||a?e:N,ref:Ow(_,w),target:o,"data-discover":!m&&n==="render"?"true":void 0});return v&&!m?E.createElement(E.Fragment,null,I,E.createElement(Rw,{page:g})):I});k0.displayName="Link";var Mw=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:r,viewTransition:l,children:o,...c},h){let f=qr(r,{relative:c.relative}),u=yi(),p=E.useContext(yc),{navigator:_,basename:b}=E.useContext(Rt),S=p!=null&&Pw(f)&&l===!0,m=_.encodeLocation?_.encodeLocation(f).pathname:f.pathname,d=u.pathname,g=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(d=d.toLowerCase(),g=g?g.toLowerCase():null,m=m.toLowerCase()),g&&b&&(g=vn(g,b)||g);const v=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let w=d===m||!s&&d.startsWith(m)&&d.charAt(v)==="/",D=g!=null&&(g===m||!s&&g.startsWith(m)&&g.charAt(m.length)==="/"),A={isActive:w,isPending:D,isTransitioning:S},N=w?e:void 0,I;typeof i=="function"?I=i(A):I=[i,w?"active":null,D?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(A):a;return E.createElement(k0,{...c,"aria-current":N,className:I,ref:h,style:L,to:r,viewTransition:l},typeof o=="function"?o(A):o)});Mw.displayName="NavLink";var kw=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:a,method:r=jl,action:l,onSubmit:o,relative:c,preventScrollReset:h,viewTransition:f,unstable_defaultShouldRevalidate:u,...p},_)=>{let{unstable_useTransitions:b}=E.useContext(Rt),S=Bw(),m=jw(l,{relative:c}),d=r.toLowerCase()==="get"?"get":"post",g=typeof l=="string"&&M0.test(l),v=w=>{if(o&&o(w),w.defaultPrevented)return;w.preventDefault();let D=w.nativeEvent.submitter,A=D?.getAttribute("formmethod")||r,N=()=>S(D||w.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:s,state:a,relative:c,preventScrollReset:h,viewTransition:f,unstable_defaultShouldRevalidate:u});b&&n!==!1?E.startTransition(()=>N()):N()};return E.createElement("form",{ref:_,method:d,action:m,onSubmit:i?o:v,...p,"data-discover":!g&&t==="render"?"true":void 0})});kw.displayName="Form";function Lw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L0(t){let e=E.useContext(aa);return fe(e,Lw(t)),e}function Uw(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:r,unstable_defaultShouldRevalidate:l,unstable_useTransitions:o}={}){let c=Vr(),h=yi(),f=qr(t,{relative:a});return E.useCallback(u=>{if(dw(u,e)){u.preventDefault();let p=n!==void 0?n:mr(h)===mr(f),_=()=>c(t,{replace:p,state:i,preventScrollReset:s,relative:a,viewTransition:r,unstable_defaultShouldRevalidate:l});o?E.startTransition(()=>_()):_()}},[h,c,f,n,i,e,t,s,a,r,l,o])}var zw=0,Hw=()=>`__${String(++zw)}__`;function Bw(){let{router:t}=L0("useSubmit"),{basename:e}=E.useContext(Rt),n=iw(),i=t.fetch,s=t.navigate;return E.useCallback(async(a,r={})=>{let{action:l,method:o,encType:c,formData:h,body:f}=gw(a,e);if(r.navigate===!1){let u=r.fetcherKey||Hw();await i(u,n,r.action||l,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||o,formEncType:r.encType||c,flushSync:r.flushSync})}else await s(r.action||l,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||o,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[i,s,e,n])}function jw(t,{relative:e}={}){let{basename:n}=E.useContext(Rt),i=E.useContext(Ft);fe(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...qr(t||".",{relative:e})},r=yi();if(t==null){a.search=r.search;let l=new URLSearchParams(a.search),o=l.getAll("index");if(o.some(h=>h==="")){l.delete("index"),o.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:hn([n,a.pathname])),mr(a)}function Pw(t,{relative:e}={}){let n=E.useContext(T0);fe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=L0("useViewTransitionState"),s=qr(t,{relative:e});if(!n.isTransitioning)return!1;let a=vn(n.currentLocation.pathname,i)||n.currentLocation.pathname,r=vn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return To(s.pathname,r)!=null||To(s.pathname,a)!=null}const Vw=()=>{};var Jm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C=function(t,e){if(!t)throw ra(e)},ra=function(t){return new Error("Firebase Database ("+U0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},qw=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],r=t[n++],l=t[n++],o=((s&7)<<18|(a&63)<<12|(r&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(o>>10)),e[i++]=String.fromCharCode(56320+(o&1023))}else{const a=t[n++],r=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|r&63)}}return e.join("")},yd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const a=t[s],r=s+1<t.length,l=r?t[s+1]:0,o=s+2<t.length,c=o?t[s+2]:0,h=a>>2,f=(a&3)<<4|l>>4;let u=(l&15)<<2|c>>6,p=c&63;o||(p=64,r||(u=64)),i.push(n[h],n[f],n[u],n[p])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(z0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qw(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||l==null||c==null||f==null)throw new Gw;const u=a<<2|l>>4;if(i.push(u),c!==64){const p=l<<4&240|c>>2;if(i.push(p),f!==64){const _=c<<6&192|f;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Gw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H0=function(t){const e=z0(t);return yd.encodeByteArray(e,!0)},Co=function(t){return H0(t).replace(/\./g,"")},wo=function(t){try{return yd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(t){return B0(void 0,t)}function B0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Fw(n)||(t[n]=B0(t[n],e[n]));return t}function Fw(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=()=>Kw().__FIREBASE_DEFAULTS__,Xw=()=>{if(typeof process>"u"||typeof Jm>"u")return;const t=Jm.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ww=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wo(t[1]);return e&&JSON.parse(e)},vd=()=>{try{return Vw()||Qw()||Xw()||Ww()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},j0=t=>vd()?.emulatorHosts?.[t],$w=t=>{const e=j0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},P0=()=>vd()?.config,V0=t=>vd()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function q0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const r={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Co(JSON.stringify(n)),Co(JSON.stringify(r)),""].join(".")}const Qa={};function Jw(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qa))Qa[e]?t.emulator.push(e):t.prod.push(e);return t}function eA(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let eg=!1;function G0(t,e){if(typeof window>"u"||typeof document>"u"||!la(window.location.host)||Qa[t]===e||Qa[t]||eg)return;Qa[t]=e;function n(u){return`__firebase__banner__${u}`}const i="__firebase__banner",a=Jw().prod.length>0;function r(){const u=document.getElementById(i);u&&u.remove()}function l(u){u.style.display="flex",u.style.background="#7faaf0",u.style.position="fixed",u.style.bottom="5px",u.style.left="5px",u.style.padding=".5em",u.style.borderRadius="5px",u.style.alignItems="center"}function o(u,p){u.setAttribute("width","24"),u.setAttribute("id",p),u.setAttribute("height","24"),u.setAttribute("viewBox","0 0 24 24"),u.setAttribute("fill","none"),u.style.marginLeft="-6px"}function c(){const u=document.createElement("span");return u.style.cursor="pointer",u.style.marginLeft="16px",u.style.fontSize="24px",u.innerHTML=" &times;",u.onclick=()=>{eg=!0,r()},u}function h(u,p){u.setAttribute("id",p),u.innerText="Learn more",u.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",u.setAttribute("target","__blank"),u.style.paddingLeft="5px",u.style.textDecoration="underline"}function f(){const u=eA(i),p=n("text"),_=document.getElementById(p)||document.createElement("span"),b=n("learnmore"),S=document.getElementById(b)||document.createElement("a"),m=n("preprendIcon"),d=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(u.created){const g=u.element;l(g),h(S,b);const v=c();o(d,m),g.append(d,_,S,v),document.body.appendChild(g)}a?(_.innerText="Preview backend disconnected.",d.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(d.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function tA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Y0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iA(){const t=Fe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sA(){return U0.NODE_ADMIN===!0}function aA(){try{return typeof indexedDB=="object"}catch{return!1}}function rA(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="FirebaseError";class vi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=lA,Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yr.prototype.create)}}class Yr{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],r=a?oA(a,i):"Error",l=`${this.serviceName}: ${r} (${s}).`;return new vi(s,l,i)}}function oA(t,e){return t.replace(cA,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const cA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(t){return JSON.parse(t)}function Ae(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=function(t){let e={},n={},i={},s="";try{const a=t.split(".");e=gr(wo(a[0])||""),n=gr(wo(a[1])||""),s=a[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},uA=function(t){const e=F0(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},fA=function(t){const e=F0(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Vs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function jf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ao(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function ji(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const a=t[s],r=e[s];if(tg(a)&&tg(r)){if(!ji(a,r))return!1}else if(a!==r)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function tg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)i[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)i[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const u=i[f-3]^i[f-8]^i[f-14]^i[f-16];i[f]=(u<<1|u>>>31)&4294967295}let s=this.chain_[0],a=this.chain_[1],r=this.chain_[2],l=this.chain_[3],o=this.chain_[4],c,h;for(let f=0;f<80;f++){f<40?f<20?(c=l^a&(r^l),h=1518500249):(c=a^r^l,h=1859775393):f<60?(c=a&r|l&(a|r),h=2400959708):(c=a^r^l,h=3395469782);const u=(s<<5|s>>>27)+c+o+h+i[f]&4294967295;o=l,l=r,r=(a<<30|a>>>2)&4294967295,a=s,s=u}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+r&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+o&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const a=this.buf_;let r=this.inbuf_;for(;s<n;){if(r===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(a[r]=e.charCodeAt(s),++r,++s,r===this.blockSize){this.compress_(a),r=0;break}}else for(;s<n;)if(a[r]=e[s],++r,++s,r===this.blockSize){this.compress_(a),r=0;break}}this.inbuf_=r,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let a=24;a>=0;a-=8)e[i]=this.chain_[s]>>a&255,++i;return e}}function dA(t,e){const n=new pA(t,e);return n.subscribe.bind(n)}class pA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");mA(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=wu),s.error===void 0&&(s.error=wu),s.complete===void 0&&(s.complete=wu);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wu(){}function bc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const a=s-55296;i++,C(i<t.length,"Surrogate pair missing trail surrogate.");const r=t.charCodeAt(i)-56320;s=65536+(a<<10)+r}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Ec=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t){return t&&t._delegate?t._delegate:t}class Pi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Gr;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vA(e))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=Ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ri){return this.instances.has(e)}getOptions(e=Ri){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);i===l&&r.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:yA(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ri){return this.component?this.component.multipleInstances?e:Ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yA(t){return t===Ri?void 0:t}function vA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _A(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(J||(J={}));const EA={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},SA=J.INFO,TA={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},CA=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=TA[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ed{constructor(e){this.name=e,this._logLevel=SA,this._logHandler=CA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in J))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...e),this._logHandler(this,J.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...e),this._logHandler(this,J.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,J.INFO,...e),this._logHandler(this,J.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,J.WARN,...e),this._logHandler(this,J.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...e),this._logHandler(this,J.ERROR,...e)}}const wA=(t,e)=>e.some(n=>t instanceof n);let ng,ig;function AA(){return ng||(ng=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RA(){return ig||(ig=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K0=new WeakMap,Pf=new WeakMap,Q0=new WeakMap,Au=new WeakMap,Sd=new WeakMap;function NA(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",r)},a=()=>{n(ti(t.result)),s()},r=()=>{i(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",r)});return e.then(n=>{n instanceof IDBCursor&&K0.set(n,t)}).catch(()=>{}),Sd.set(e,t),e}function xA(t){if(Pf.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",r),t.removeEventListener("abort",r)},a=()=>{n(),s()},r=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",r),t.addEventListener("abort",r)});Pf.set(t,e)}let Vf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Q0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ti(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OA(t){Vf=t(Vf)}function DA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Ru(this),e,...n);return Q0.set(i,e.sort?e.sort():[e]),ti(i)}:RA().includes(t)?function(...e){return t.apply(Ru(this),e),ti(K0.get(this))}:function(...e){return ti(t.apply(Ru(this),e))}}function IA(t){return typeof t=="function"?DA(t):(t instanceof IDBTransaction&&xA(t),wA(t,AA())?new Proxy(t,Vf):t)}function ti(t){if(t instanceof IDBRequest)return NA(t);if(Au.has(t))return Au.get(t);const e=IA(t);return e!==t&&(Au.set(t,e),Sd.set(e,t)),e}const Ru=t=>Sd.get(t);function MA(t,e,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const r=indexedDB.open(t,e),l=ti(r);return i&&r.addEventListener("upgradeneeded",o=>{i(ti(r.result),o.oldVersion,o.newVersion,ti(r.transaction),o)}),n&&r.addEventListener("blocked",o=>n(o.oldVersion,o.newVersion,o)),l.then(o=>{a&&o.addEventListener("close",()=>a()),s&&o.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const kA=["get","getKey","getAll","getAllKeys","count"],LA=["put","add","delete","clear"],Nu=new Map;function sg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nu.get(e))return Nu.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=LA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||kA.includes(n)))return;const a=async function(r,...l){const o=this.transaction(r,s?"readwrite":"readonly");let c=o.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&o.done]))[0]};return Nu.set(e,a),a}OA(t=>({...t,get:(e,n,i)=>sg(e,n)||t.get(e,n,i),has:(e,n)=>!!sg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function zA(t){return t.getComponent()?.type==="VERSION"}const qf="@firebase/app",ag="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn=new Ed("@firebase/app"),HA="@firebase/app-compat",BA="@firebase/analytics-compat",jA="@firebase/analytics",PA="@firebase/app-check-compat",VA="@firebase/app-check",qA="@firebase/auth",GA="@firebase/auth-compat",YA="@firebase/database",FA="@firebase/data-connect",KA="@firebase/database-compat",QA="@firebase/functions",XA="@firebase/functions-compat",WA="@firebase/installations",$A="@firebase/installations-compat",ZA="@firebase/messaging",JA="@firebase/messaging-compat",eR="@firebase/performance",tR="@firebase/performance-compat",nR="@firebase/remote-config",iR="@firebase/remote-config-compat",sR="@firebase/storage",aR="@firebase/storage-compat",rR="@firebase/firestore",lR="@firebase/ai",oR="@firebase/firestore-compat",cR="firebase",uR="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="[DEFAULT]",fR={[qf]:"fire-core",[HA]:"fire-core-compat",[jA]:"fire-analytics",[BA]:"fire-analytics-compat",[VA]:"fire-app-check",[PA]:"fire-app-check-compat",[qA]:"fire-auth",[GA]:"fire-auth-compat",[YA]:"fire-rtdb",[FA]:"fire-data-connect",[KA]:"fire-rtdb-compat",[QA]:"fire-fn",[XA]:"fire-fn-compat",[WA]:"fire-iid",[$A]:"fire-iid-compat",[ZA]:"fire-fcm",[JA]:"fire-fcm-compat",[eR]:"fire-perf",[tR]:"fire-perf-compat",[nR]:"fire-rc",[iR]:"fire-rc-compat",[sR]:"fire-gcs",[aR]:"fire-gcs-compat",[rR]:"fire-fst",[oR]:"fire-fst-compat",[lR]:"fire-vertex","fire-js":"fire-js",[cR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=new Map,hR=new Map,Yf=new Map;function rg(t,e){try{t.container.addComponent(e)}catch(n){bn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qs(t){const e=t.name;if(Yf.has(e))return bn.debug(`There were multiple attempts to register component ${e}.`),!1;Yf.set(e,t);for(const n of Ro.values())rg(n,t);for(const n of hR.values())rg(n,t);return!0}function Td(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ot(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ni=new Yr("app","Firebase",dR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ni.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=uR;function X0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Gf,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw ni.create("bad-app-name",{appName:String(s)});if(n||(n=P0()),!n)throw ni.create("no-options");const a=Ro.get(s);if(a){if(ji(n,a.options)&&ji(i,a.config))return a;throw ni.create("duplicate-app",{appName:s})}const r=new bA(s);for(const o of Yf.values())r.addComponent(o);const l=new pR(n,i,r);return Ro.set(s,l),l}function W0(t=Gf){const e=Ro.get(t);if(!e&&t===Gf&&P0())return X0();if(!e)throw ni.create("no-app",{appName:t});return e}function ii(t,e,n){let i=fR[t]??t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const r=[`Unable to register library "${i}" with version "${e}":`];s&&r.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&r.push("and"),a&&r.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bn.warn(r.join(" "));return}qs(new Pi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="firebase-heartbeat-database",gR=1,_r="firebase-heartbeat-store";let xu=null;function $0(){return xu||(xu=MA(mR,gR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_r)}catch(n){console.warn(n)}}}}).catch(t=>{throw ni.create("idb-open",{originalErrorMessage:t.message})})),xu}async function _R(t){try{const n=(await $0()).transaction(_r),i=await n.objectStore(_r).get(Z0(t));return await n.done,i}catch(e){if(e instanceof vi)bn.warn(e.message);else{const n=ni.create("idb-get",{originalErrorMessage:e?.message});bn.warn(n.message)}}}async function lg(t,e){try{const i=(await $0()).transaction(_r,"readwrite");await i.objectStore(_r).put(e,Z0(t)),await i.done}catch(n){if(n instanceof vi)bn.warn(n.message);else{const i=ni.create("idb-set",{originalErrorMessage:n?.message});bn.warn(i.message)}}}function Z0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=1024,vR=30;class bR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=og();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>vR){const s=TR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=og(),{heartbeatsToSend:n,unsentEntries:i}=ER(this._heartbeatsCache.heartbeats),s=Co(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return bn.warn(e),""}}}function og(){return new Date().toISOString().substring(0,10)}function ER(t,e=yR){const n=[];let i=t.slice();for(const s of t){const a=n.find(r=>r.agent===s.agent);if(a){if(a.dates.push(s.date),cg(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),cg(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class SR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aA()?rA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _R(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return lg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return lg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function cg(t){return Co(JSON.stringify({version:2,heartbeats:t})).length}function TR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t){qs(new Pi("platform-logger",e=>new UA(e),"PRIVATE")),qs(new Pi("heartbeat",e=>new bR(e),"PRIVATE")),ii(qf,ag,t),ii(qf,ag,"esm2020"),ii("fire-js","")}CR("");function J0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wR=J0,eb=new Yr("auth","Firebase",J0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new Ed("@firebase/auth");function AR(t,...e){No.logLevel<=J.WARN&&No.warn(`Auth (${ca}): ${t}`,...e)}function Vl(t,...e){No.logLevel<=J.ERROR&&No.error(`Auth (${ca}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t,...e){throw Cd(t,...e)}function Vt(t,...e){return Cd(t,...e)}function tb(t,e,n){const i={...wR(),[e]:n};return new Yr("auth","Firebase",i).create(e,{appName:t.name})}function si(t){return tb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cd(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return eb.create(t,...e)}function k(t,e,...n){if(!t)throw Cd(e,...n)}function rn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vl(e),new Error(e)}function Sn(t,e){t||rn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(){return typeof self<"u"&&self.location?.href||""}function RR(){return ug()==="http:"||ug()==="https:"}function ug(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RR()||nA()||"connection"in navigator)?navigator.onLine:!0}function xR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sn(n>e,"Short delay should be less than long delay!"),this.isMobile=bd()||Y0()}get(){return NR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t,e){Sn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IR=new Fr(3e4,6e4);function Sc(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ua(t,e,n,i,s={}){return ib(t,s,async()=>{let a={},r={};i&&(e==="GET"?r=i:a={body:JSON.stringify(i)});const l=oa({key:t.config.apiKey,...r}).slice(1),o=await t._getAdditionalHeaders();o["Content-Type"]="application/json",t.languageCode&&(o["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:o,...a};return tA()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&la(t.emulatorConfig.host)&&(c.credentials="include"),nb.fetch()(await ab(t,t.config.apiHost,n,l),c)})}async function ib(t,e,n){t._canInitEmulator=!1;const i={...OR,...e};try{const s=new MR(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const r=await a.json();if("needConfirmation"in r)throw Sl(t,"account-exists-with-different-credential",r);if(a.ok&&!("errorMessage"in r))return r;{const l=a.ok?r.errorMessage:r.error.message,[o,c]=l.split(" : ");if(o==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sl(t,"credential-already-in-use",r);if(o==="EMAIL_EXISTS")throw Sl(t,"email-already-in-use",r);if(o==="USER_DISABLED")throw Sl(t,"user-disabled",r);const h=i[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw tb(t,h,c);En(t,h)}}catch(s){if(s instanceof vi)throw s;En(t,"network-request-failed",{message:String(s)})}}async function sb(t,e,n,i,s={}){const a=await ua(t,e,n,i,s);return"mfaPendingCredential"in a&&En(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function ab(t,e,n,i){const s=`${e}${n}?${i}`,a=t,r=a.config.emulator?wd(t.config,s):`${t.config.apiScheme}://${s}`;return DR.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(r).toString():r}class MR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Vt(this.auth,"network-request-failed")),IR.get())})}}function Sl(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Vt(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(t,e){return ua(t,"POST","/v1/accounts:delete",e)}async function xo(t,e){return ua(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LR(t,e=!1){const n=ht(t),i=await n.getIdToken(e),s=Ad(i);k(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,r=a?.sign_in_provider;return{claims:s,token:i,authTime:Xa(Ou(s.auth_time)),issuedAtTime:Xa(Ou(s.iat)),expirationTime:Xa(Ou(s.exp)),signInProvider:r||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Ou(t){return Number(t)*1e3}function Ad(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Vl("JWT malformed, contained fewer than 3 sections"),null;try{const s=wo(n);return s?JSON.parse(s):(Vl("Failed to decode base64 JWT payload"),null)}catch(s){return Vl("Caught error parsing JWT payload as JSON",s?.toString()),null}}function fg(t){const e=Ad(t);return k(e,"internal-error"),k(typeof e.exp<"u","internal-error"),k(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yr(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof vi&&UR(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function UR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xa(this.lastLoginAt),this.creationTime=Xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(t){const e=t.auth,n=await t.getIdToken(),i=await yr(t,xo(e,{idToken:n}));k(i?.users.length,e,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=s.providerUserInfo?.length?rb(s.providerUserInfo):[],r=BR(t.providerData,a),l=t.isAnonymous,o=!(t.email&&s.passwordHash)&&!r?.length,c=l?o:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new Kf(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function HR(t){const e=ht(t);await Oo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BR(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function rb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(t,e){const n=await ib(t,{},async()=>{const i=oa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,r=await ab(t,s,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:l,body:i};return t.emulatorConfig&&la(t.emulatorConfig.host)&&(o.credentials="include"),nb.fetch()(r,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PR(t,e){return ua(t,"POST","/v2/accounts:revokeToken",Sc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(typeof e.idToken<"u","internal-error"),k(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){k(e.length!==0,"internal-error");const n=fg(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(k(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await jR(e,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,r=new As;return i&&(k(typeof i=="string","internal-error",{appName:e}),r.refreshToken=i),s&&(k(typeof s=="string","internal-error",{appName:e}),r.accessToken=s),a&&(k(typeof a=="number","internal-error",{appName:e}),r.expirationTime=a),r}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new As,this.toJSON())}_performRefresh(){return rn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t,e){k(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class It{constructor({uid:e,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new zR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Kf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await yr(this,this.stsTokenManager.getToken(this.auth,e));return k(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LR(this,e)}reload(){return HR(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new It({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Oo(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ot(this.auth.app))return Promise.reject(si(this.auth));const e=await this.getIdToken();return await yr(this,kR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,r=n.photoURL??void 0,l=n.tenantId??void 0,o=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:u,isAnonymous:p,providerData:_,stsTokenManager:b}=n;k(f&&b,e,"internal-error");const S=As.fromJSON(this.name,b);k(typeof f=="string",e,"internal-error"),xn(i,e.name),xn(s,e.name),k(typeof u=="boolean",e,"internal-error"),k(typeof p=="boolean",e,"internal-error"),xn(a,e.name),xn(r,e.name),xn(l,e.name),xn(o,e.name),xn(c,e.name),xn(h,e.name);const m=new It({uid:f,auth:e,email:s,emailVerified:u,displayName:i,isAnonymous:p,photoURL:r,phoneNumber:a,tenantId:l,stsTokenManager:S,createdAt:c,lastLoginAt:h});return _&&Array.isArray(_)&&(m.providerData=_.map(d=>({...d}))),o&&(m._redirectEventId=o),m}static async _fromIdTokenResponse(e,n,i=!1){const s=new As;s.updateFromServerResponse(n);const a=new It({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Oo(a),a}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];k(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?rb(s.providerUserInfo):[],r=!(s.email&&s.passwordHash)&&!a?.length,l=new As;l.updateFromIdToken(i);const o=new It({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:r}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Kf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(o,c),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=new Map;function ln(t){Sn(t instanceof Function,"Expected a class definition");let e=hg.get(t);return e?(Sn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hg.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lb.type="NONE";const dg=lb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(t,e,n){return`firebase:${t}:${e}:${n}`}class Rs{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=ql(this.userKey,s.apiKey,a),this.fullPersistenceKey=ql("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xo(this.auth,{idToken:e}).catch(()=>{});return n?It._fromGetAccountInfoResponse(this.auth,n,e):null}return It._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Rs(ln(dg),e,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=s[0]||ln(dg);const r=ql(i,e.config.apiKey,e.name);let l=null;for(const c of n)try{const h=await c._get(r);if(h){let f;if(typeof h=="string"){const u=await xo(e,{idToken:h}).catch(()=>{});if(!u)break;f=await It._fromGetAccountInfoResponse(e,u,h)}else f=It._fromJSON(e,h);c!==a&&(l=f),a=c;break}}catch{}const o=s.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!o.length?new Rs(a,e,i):(a=o[0],l&&await a._set(r,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(r)}catch{}})),new Rs(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ob(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(db(e))return"Blackberry";if(pb(e))return"Webos";if(cb(e))return"Safari";if((e.includes("chrome/")||ub(e))&&!e.includes("edge/"))return"Chrome";if(hb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function ob(t=Fe()){return/firefox\//i.test(t)}function cb(t=Fe()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ub(t=Fe()){return/crios\//i.test(t)}function fb(t=Fe()){return/iemobile/i.test(t)}function hb(t=Fe()){return/android/i.test(t)}function db(t=Fe()){return/blackberry/i.test(t)}function pb(t=Fe()){return/webos/i.test(t)}function Rd(t=Fe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function VR(t=Fe()){return Rd(t)&&!!window.navigator?.standalone}function qR(){return iA()&&document.documentMode===10}function mb(t=Fe()){return Rd(t)||hb(t)||pb(t)||db(t)||/windows phone/i.test(t)||fb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t,e=[]){let n;switch(t){case"Browser":n=pg(Fe());break;case"Worker":n=`${pg(Fe())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ca}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((r,l)=>{try{const o=e(a);r(o)}catch(o){l(o)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(t,e={}){return ua(t,"GET","/v2/passwordPolicy",Sc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=6;class KR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??FR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mg(this),this.idTokenSubscription=new mg(this),this.beforeStateQueue=new GR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ln(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Rs.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xo(this,{idToken:e}),i=await It._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ot(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(r=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(r,r))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,r=i?._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===r)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return k(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oo(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ot(this.app))return Promise.reject(si(this));const n=e?ht(e):null;return n&&k(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&k(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ot(this.app)?Promise.reject(si(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ot(this.app)?Promise.reject(si(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ln(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YR(this),n=new KR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yr("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await PR(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ln(e)||this._popupRedirectResolver;k(n,this,"argument-error"),this.redirectPersistenceManager=await Rs.create(this,[ln(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let r=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(k(l,this,"internal-error"),l.then(()=>{r||a(this.currentUser)}),typeof n=="function"){const o=e.addObserver(n,i,s);return()=>{r=!0,o()}}else{const o=e.addObserver(n);return()=>{r=!0,o()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Ot(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&AR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Tc(t){return ht(t)}class mg{constructor(e){this.auth=e,this.observer=null,this.addObserver=dA(n=>this.observer=n)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XR(t){Nd=t}function WR(t){return Nd.loadJS(t)}function $R(){return Nd.gapiScript}function ZR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t,e){const n=Td(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(ji(a,e??{}))return s;En(s,"already-initialized")}return n.initialize({options:e})}function eN(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(ln);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function tN(t,e,n){const i=Tc(t);k(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,a=_b(e),{host:r,port:l}=nN(e),o=l===null?"":`:${l}`,c={url:`${a}//${r}${o}/`},h=Object.freeze({host:r,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){k(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),k(ji(c,i.config.emulator)&&ji(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,la(r)?(q0(`${a}//${r}${o}`),G0("Auth",!0)):iN()}function _b(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nN(t){const e=_b(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:gg(i.substr(a.length+1))}}else{const[a,r]=i.split(":");return{host:a,port:gg(r)}}}function gg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function iN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rn("not implemented")}_getIdTokenResponse(e){return rn("not implemented")}_linkToIdToken(e,n){return rn("not implemented")}_getReauthenticationResolver(e){return rn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ns(t,e){return sb(t,"POST","/v1/accounts:signInWithIdp",Sc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="http://localhost";class Vi extends yb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):En("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...a}=n;if(!i||!s)return null;const r=new Vi(i,s);return r.idToken=a.idToken||void 0,r.accessToken=a.accessToken||void 0,r.secret=a.secret,r.nonce=a.nonce,r.pendingToken=a.pendingToken||null,r}_getIdTokenResponse(e){const n=this.buildRequest();return Ns(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ns(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ns(e,n)}buildRequest(){const e={requestUri:sN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=oa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends vb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un extends Kr{constructor(){super("facebook.com")}static credential(e){return Vi._fromParams({providerId:Un.PROVIDER_ID,signInMethod:Un.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Un.credentialFromTaggedObject(e)}static credentialFromError(e){return Un.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Un.credential(e.oauthAccessToken)}catch{return null}}}Un.FACEBOOK_SIGN_IN_METHOD="facebook.com";Un.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn extends Kr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vi._fromParams({providerId:zn.PROVIDER_ID,signInMethod:zn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zn.credentialFromTaggedObject(e)}static credentialFromError(e){return zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return zn.credential(n,i)}catch{return null}}}zn.GOOGLE_SIGN_IN_METHOD="google.com";zn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn extends Kr{constructor(){super("github.com")}static credential(e){return Vi._fromParams({providerId:Hn.PROVIDER_ID,signInMethod:Hn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hn.credentialFromTaggedObject(e)}static credentialFromError(e){return Hn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hn.credential(e.oauthAccessToken)}catch{return null}}}Hn.GITHUB_SIGN_IN_METHOD="github.com";Hn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn extends Kr{constructor(){super("twitter.com")}static credential(e,n){return Vi._fromParams({providerId:Bn.PROVIDER_ID,signInMethod:Bn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bn.credentialFromTaggedObject(e)}static credentialFromError(e){return Bn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Bn.credential(n,i)}catch{return null}}}Bn.TWITTER_SIGN_IN_METHOD="twitter.com";Bn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(t,e){return sb(t,"POST","/v1/accounts:signUp",Sc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const a=await It._fromIdTokenResponse(e,i,s),r=_g(i);return new fi({user:a,providerId:r,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=_g(i);return new fi({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function _g(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(t){if(Ot(t.app))return Promise.reject(si(t));const e=Tc(t);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new fi({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await aN(e,{returnSecureToken:!0}),i=await fi._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends vi{constructor(e,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Do.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Do(e,n,i,s)}}function bb(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Do._fromErrorAndOperation(t,a,e,i):a})}async function lN(t,e,n=!1){const i=await yr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fi._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(t,e,n=!1){const{auth:i}=t;if(Ot(i.app))return Promise.reject(si(i));const s="reauthenticate";try{const a=await yr(t,bb(i,s,e,t),n);k(a.idToken,i,"internal-error");const r=Ad(a.idToken);k(r,i,"internal-error");const{sub:l}=r;return k(t.uid===l,i,"user-mismatch"),fi._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&En(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(t,e,n=!1){if(Ot(t.app))return Promise.reject(si(t));const i="signIn",s=await bb(t,i,e),a=await fi._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(a.user),a}function uN(t,e,n,i){return ht(t).onIdTokenChanged(e,n,i)}function fN(t,e,n){return ht(t).beforeAuthStateChanged(e,n)}function hN(t,e,n,i){return ht(t).onAuthStateChanged(e,n,i)}const Io="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Io,"1"),this.storage.removeItem(Io),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=1e3,pN=10;class Sb extends Eb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((r,l,o)=>{this.notifyListeners(r,o)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const r=this.storage.getItem(i);!n&&this.localCache[i]===r||this.notifyListeners(i,r)},a=this.storage.getItem(i);qR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,pN):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},dN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Sb.type="LOCAL";const mN=Sb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb extends Eb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Tb.type="SESSION";const Cb=Tb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Cc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:a}=n.data,r=this.handlersMap[s];if(!r?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(r).map(async c=>c(n.origin,a)),o=await gN(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:o})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,r;return new Promise((l,o)=>{const c=xd("",20);s.port1.start();const h=setTimeout(()=>{o(new Error("unsupported_event"))},i);r={messageChannel:s,onMessage(f){const u=f;if(u.data.eventId===c)switch(u.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(u.data.response);break;default:clearTimeout(h),clearTimeout(a),o(new Error("invalid_response"));break}}},this.handlers.add(r),s.port1.addEventListener("message",r.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{r&&this.removeMessageHandler(r)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return window}function yN(t){qt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(){return typeof qt().WorkerGlobalScope<"u"&&typeof qt().importScripts=="function"}async function vN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bN(){return navigator?.serviceWorker?.controller||null}function EN(){return wb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="firebaseLocalStorageDb",SN=1,Mo="firebaseLocalStorage",Rb="fbase_key";class Qr{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wc(t,e){return t.transaction([Mo],e?"readwrite":"readonly").objectStore(Mo)}function TN(){const t=indexedDB.deleteDatabase(Ab);return new Qr(t).toPromise()}function Qf(){const t=indexedDB.open(Ab,SN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Mo,{keyPath:Rb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Mo)?e(i):(i.close(),await TN(),e(await Qf()))})})}async function yg(t,e,n){const i=wc(t,!0).put({[Rb]:e,value:n});return new Qr(i).toPromise()}async function CN(t,e){const n=wc(t,!1).get(e),i=await new Qr(n).toPromise();return i===void 0?null:i.value}function vg(t,e){const n=wc(t,!0).delete(e);return new Qr(n).toPromise()}const wN=800,AN=3;class Nb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>AN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cc._getInstance(EN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vN(),!this.activeServiceWorker)return;this.sender=new _N(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qf();return await yg(e,Io,"1"),await vg(e,Io),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>yg(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>CN(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=wc(s,!1).getAll();return new Qr(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Nb.type="LOCAL";const RN=Nb;new Fr(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t,e){return e?ln(e):(k(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od extends yb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ns(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ns(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ns(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xN(t){return cN(t.auth,new Od(t),t.bypassAuthState)}function ON(t){const{auth:e,user:n}=t;return k(n,e,"internal-error"),oN(n,new Od(t),t.bypassAuthState)}async function DN(t){const{auth:e,user:n}=t;return k(n,e,"internal-error"),lN(n,new Od(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:r,type:l}=e;if(r){this.reject(r);return}const o={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(o))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xN;case"linkViaPopup":case"linkViaRedirect":return DN;case"reauthViaPopup":case"reauthViaRedirect":return ON;default:En(this.auth,"internal-error")}}resolve(e){Sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new Fr(2e3,1e4);class _s extends xb{constructor(e,n,i,s,a){super(e,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,_s.currentPopupAction&&_s.currentPopupAction.cancel(),_s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return k(e,this.auth,"internal-error"),e}async onExecution(){Sn(this.filter.length===1,"Popup operations only handle one event");const e=xd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_s.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IN.get())};e()}}_s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="pendingRedirect",Gl=new Map;class kN extends xb{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Gl.get(this.auth._key());if(!e){try{const i=await LN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Gl.set(this.auth._key(),e)}return this.bypassAuthState||Gl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LN(t,e){const n=HN(e),i=zN(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function UN(t,e){Gl.set(t._key(),e)}function zN(t){return ln(t._redirectPersistence)}function HN(t){return ql(MN,t.config.apiKey,t.name)}async function BN(t,e,n=!1){if(Ot(t.app))return Promise.reject(si(t));const i=Tc(t),s=NN(i,e),r=await new kN(i,s,n).execute();return r&&!n&&(delete r.user._redirectEventId,await i._persistUserIfCurrent(r.user),await i._setRedirectUser(null,e)),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=10*60*1e3;class PN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Ob(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Vt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jN&&this.cachedEventUids.clear(),this.cachedEventUids.has(bg(e))}saveEventToCache(e){this.cachedEventUids.add(bg(e)),this.lastProcessedEventTime=Date.now()}}function bg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ob({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function VN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ob(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(t,e={}){return ua(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YN=/^https?/;async function FN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qN(t);for(const n of e)try{if(KN(n))return}catch{}En(t,"unauthorized-domain")}function KN(t){const e=Ff(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return r.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&r.hostname===i}if(!YN.test(n))return!1;if(GN.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=new Fr(3e4,6e4);function Eg(){const t=qt().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function XN(t){return new Promise((e,n)=>{function i(){Eg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Eg(),n(Vt(t,"network-request-failed"))},timeout:QN.get()})}if(qt().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qt().gapi?.load)i();else{const s=ZR("iframefcb");return qt()[s]=()=>{gapi.load?i():n(Vt(t,"network-request-failed"))},WR(`${$R()}?onload=${s}`).catch(a=>n(a))}}).catch(e=>{throw Yl=null,e})}let Yl=null;function WN(t){return Yl=Yl||XN(t),Yl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=new Fr(5e3,15e3),ZN="__/auth/iframe",JN="emulator/auth/iframe",ex={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nx(t){const e=t.config;k(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wd(e,JN):`https://${t.config.authDomain}/${ZN}`,i={apiKey:e.apiKey,appName:t.name,v:ca},s=tx.get(t.config.apiHost);s&&(i.eid=s);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${oa(i).slice(1)}`}async function ix(t){const e=await WN(t),n=qt().gapi;return k(n,t,"internal-error"),e.open({where:document.body,url:nx(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ex,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const r=Vt(t,"network-request-failed"),l=qt().setTimeout(()=>{a(r)},$N.get());function o(){qt().clearTimeout(l),s(i)}i.ping(o).then(o,()=>{a(r)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ax=500,rx=600,lx="_blank",ox="http://localhost";class Sg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cx(t,e,n,i=ax,s=rx){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),r=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const o={...sx,width:i.toString(),height:s.toString(),top:a,left:r},c=Fe().toLowerCase();n&&(l=ub(c)?lx:n),ob(c)&&(e=e||ox,o.scrollbars="yes");const h=Object.entries(o).reduce((u,[p,_])=>`${u}${p}=${_},`,"");if(VR(c)&&l!=="_self")return ux(e||"",l),new Sg(null);const f=window.open(e||"",l,h);k(f,t,"popup-blocked");try{f.focus()}catch{}return new Sg(f)}function ux(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="__/auth/handler",hx="emulator/auth/handler",dx=encodeURIComponent("fac");async function Tg(t,e,n,i,s,a){k(t.config.authDomain,t,"auth-domain-config-required"),k(t.config.apiKey,t,"invalid-api-key");const r={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ca,eventId:s};if(e instanceof vb){e.setDefaultLanguage(t.languageCode),r.providerId=e.providerId||"",jf(e.getCustomParameters())||(r.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))r[h]=f}if(e instanceof Kr){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(r.scopes=h.join(","))}t.tenantId&&(r.tid=t.tenantId);const l=r;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const o=await t._getAppCheckToken(),c=o?`#${dx}=${encodeURIComponent(o)}`:"";return`${px(t)}?${oa(l).slice(1)}${c}`}function px({config:t}){return t.emulator?wd(t,hx):`https://${t.authDomain}/${fx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du="webStorageSupport";class mx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cb,this._completeRedirectFn=BN,this._overrideRedirectResult=UN}async _openPopup(e,n,i,s){Sn(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Tg(e,n,i,Ff(),s);return cx(e,a,xd())}async _openRedirect(e,n,i,s){await this._originValidation(e);const a=await Tg(e,n,i,Ff(),s);return yN(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Sn(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await ix(e),i=new PN(e);return n.register("authEvent",s=>(k(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Du,{type:Du},s=>{const a=s?.[0]?.[Du];a!==void 0&&n(!!a),En(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mb()||cb()||Rd()}}const gx=mx;var Cg="@firebase/auth",wg="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vx(t){qs(new Pi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:r,authDomain:l}=i.options;k(r&&!r.includes(":"),"invalid-api-key",{appName:i.name});const o={apiKey:r,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gb(t)},c=new QR(i,s,a,o);return eN(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),qs(new Pi("auth-internal",e=>{const n=Tc(e.getProvider("auth").getImmediate());return(i=>new _x(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ii(Cg,wg,yx(t)),ii(Cg,wg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=5*60,Ex=V0("authIdTokenMaxAge")||bx;let Ag=null;const Sx=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Ex)return;const s=n?.token;Ag!==s&&(Ag=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Tx(t=W0()){const e=Td(t,"auth");if(e.isInitialized())return e.getImmediate();const n=JR(t,{popupRedirectResolver:gx,persistence:[RN,mN,Cb]}),i=V0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const r=Sx(a.toString());fN(n,r,()=>r(n.currentUser)),uN(n,l=>r(l))}}const s=j0("auth");return s&&tN(n,`http://${s}`),n}function Cx(){return document.getElementsByTagName("head")?.[0]??document}XR({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const a=Vt("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",Cx().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vx("Browser");var wx="firebase",Ax="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(wx,Ax,"app");var Rg={};const Ng="@firebase/database",xg="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Db="";function Rx(t){Db=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ae(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:gr(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Kt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Nx(e)}}catch{}return new xx},xi=Ib("localStorage"),Ox=Ib("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Ed("@firebase/database"),Dx=function(){let t=1;return function(){return t++}}(),Mb=function(t){const e=gA(t),n=new hA;n.update(e);const i=n.digest();return yd.encodeByteArray(i)},Xr=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Xr.apply(null,i):typeof i=="object"?e+=Ae(i):e+=i,e+=" "}return e};let Wa=null,Og=!0;const Ix=function(t,e){C(!0,"Can't turn on custom loggers persistently."),xs.logLevel=J.VERBOSE,Wa=xs.log.bind(xs)},Ue=function(...t){if(Og===!0&&(Og=!1,Wa===null&&Ox.get("logging_enabled")===!0&&Ix()),Wa){const e=Xr.apply(null,t);Wa(e)}},Wr=function(t){return function(...e){Ue(t,...e)}},Xf=function(...t){const e="FIREBASE INTERNAL ERROR: "+Xr(...t);xs.error(e)},Tn=function(...t){const e=`FIREBASE FATAL ERROR: ${Xr(...t)}`;throw xs.error(e),new Error(e)},Ye=function(...t){const e="FIREBASE WARNING: "+Xr(...t);xs.warn(e)},Mx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ye("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Dd=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},kx=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Gs="[MIN_NAME]",qi="[MAX_NAME]",$i=function(t,e){if(t===e)return 0;if(t===Gs||e===qi)return-1;if(e===Gs||t===qi)return 1;{const n=Dg(t),i=Dg(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},Lx=function(t,e){return t===e?0:t<e?-1:1},Ta=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ae(e))},Id=function(t){if(typeof t!="object"||t===null)return Ae(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Ae(e[i]),n+=":",n+=Id(t[e[i]]);return n+="}",n},kb=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function Pe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Lb=function(t){C(!Dd(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,a,r,l,o;t===0?(a=0,r=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),i),a=l+i,r=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(a=0,r=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(o=n;o;o-=1)c.push(r%2?1:0),r=Math.floor(r/2);for(o=e;o;o-=1)c.push(a%2?1:0),a=Math.floor(a/2);c.push(s?1:0),c.reverse();const h=c.join("");let f="";for(o=0;o<64;o+=8){let u=parseInt(h.substr(o,8),2).toString(16);u.length===1&&(u="0"+u),f=f+u}return f.toLowerCase()},Ux=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},zx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Hx(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const Bx=new RegExp("^-?(0*)\\d{1,10}$"),jx=-2147483648,Px=2147483647,Dg=function(t){if(Bx.test(t)){const e=Number(t);if(e>=jx&&e<=Px)return e}return null},fa=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ye("Exception was thrown by user callback.",n),e},Math.floor(0))}},Vx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},$a=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Ot(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){Ye(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ue("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ye(e)}}class Fl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Fl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="5",Ub="v",zb="s",Hb="r",Bb="f",jb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Pb="ls",Vb="p",Wf="ac",qb="websocket",Gb="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,n,i,s,a=!1,r="",l=!1,o=!1,c=null){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=a,this.persistenceKey=r,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=o,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&xi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Yx(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Fb(t,e,n){C(typeof e=="string","typeof type must == string"),C(typeof n=="object","typeof params must == object");let i;if(e===qb)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Gb)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Yx(t)&&(n.ns=t.namespace);const s=[];return Pe(n,(a,r)=>{s.push(a+"="+r)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.counters_={}}incrementCounter(e,n=1){Kt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Yw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu={},Mu={};function kd(t){const e=t.toString();return Iu[e]||(Iu[e]=new Fx),Iu[e]}function Kx(t,e){const n=t.toString();return Mu[n]||(Mu[n]=e()),Mu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&fa(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="start",Xx="close",Wx="pLPCommand",$x="pRTLPCB",Kb="id",Qb="pw",Xb="ser",Zx="cb",Jx="seg",eO="ts",tO="d",nO="dframe",Wb=1870,$b=30,iO=Wb-$b,sO=25e3,aO=3e4;class ys{constructor(e,n,i,s,a,r,l){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=a,this.transportSessionId=r,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Wr(e),this.stats_=kd(n),this.urlFn=o=>(this.appCheckToken&&(o[Wf]=this.appCheckToken),Fb(n,Gb,o))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Qx(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(aO)),kx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ld((...a)=>{const[r,l,o,c,h]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,r===Ig)this.id=l,this.password=o;else if(r===Xx)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+r)},(...a)=>{const[r,l]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(r,l)},()=>{this.onClosed_()},this.urlFn);const i={};i[Ig]="t",i[Xb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Zx]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Ub]=Md,this.transportSessionId&&(i[zb]=this.transportSessionId),this.lastSessionId&&(i[Pb]=this.lastSessionId),this.applicationId&&(i[Vb]=this.applicationId),this.appCheckToken&&(i[Wf]=this.appCheckToken),typeof location<"u"&&location.hostname&&jb.test(location.hostname)&&(i[Hb]=Bb);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ys.forceAllow_=!0}static forceDisallow(){ys.forceDisallow_=!0}static isAvailable(){return ys.forceAllow_?!0:!ys.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Ux()&&!zx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ae(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=H0(n),s=kb(i,iO);for(let a=0;a<s.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[nO]="t",i[Kb]=e,i[Qb]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ae(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ld{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Dx(),window[Wx+this.uniqueCallbackIdentifier]=e,window[$x+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ld.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(l){Ue("frame writing exception"),l.stack&&Ue(l.stack),Ue(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ue("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Kb]=this.myID,e[Qb]=this.myPW,e[Xb]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+$b+i.length<=Wb;){const r=this.pendingSegs.shift();i=i+"&"+Jx+s+"="+r.seg+"&"+eO+s+"="+r.ts+"&"+tO+s+"="+r.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(sO)),a=()=>{clearTimeout(s),i()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Ue("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=16384,lO=45e3;let ko=null;typeof MozWebSocket<"u"?ko=MozWebSocket:typeof WebSocket<"u"&&(ko=WebSocket);class Dt{constructor(e,n,i,s,a,r,l){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Wr(this.connId),this.stats_=kd(n),this.connURL=Dt.connectionURL_(n,r,l,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,a){const r={};return r[Ub]=Md,typeof location<"u"&&location.hostname&&jb.test(location.hostname)&&(r[Hb]=Bb),n&&(r[zb]=n),i&&(r[Pb]=i),s&&(r[Wf]=s),a&&(r[Vb]=a),Fb(e,qb,r)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xi.set("previous_websocket_failure",!0);try{let i;sA(),this.mySock=new ko(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Dt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&ko!==null&&!Dt.forceDisallow_}static previouslyFailed(){return xi.isInMemoryStorage||xi.get("previous_websocket_failure")===!0}markConnectionHealthy(){xi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=gr(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(C(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Ae(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=kb(n,rO);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(lO))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Dt.responsesRequiredToBeHealthy=2;Dt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{static get ALL_TRANSPORTS(){return[ys,Dt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Dt&&Dt.isAvailable();let i=n&&!Dt.previouslyFailed();if(e.webSocketOnly&&(n||Ye("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Dt];else{const s=this.transports_=[];for(const a of vr.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);vr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}vr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=6e4,cO=5e3,uO=10*1024,fO=100*1024,ku="t",Mg="d",hO="s",kg="r",dO="e",Lg="o",Ug="a",zg="n",Hg="p",pO="h";class mO{constructor(e,n,i,s,a,r,l,o,c,h){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=a,this.onMessage_=r,this.onReady_=l,this.onDisconnect_=o,this.onKill_=c,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Wr("c:"+this.id+":"),this.transportManager_=new vr(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=$a(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>fO?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>uO?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ku in e){const n=e[ku];n===Ug?this.upgradeIfSecondaryHealthy_():n===kg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Lg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ta("t",e),i=Ta("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Hg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ug,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:zg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ta("t",e),i=Ta("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ta(ku,e);if(Mg in e){const i=e[Mg];if(n===pO){const s={...i};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===zg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===hO?this.onConnectionShutdown_(i):n===kg?this.onReset_(i):n===dO?Xf("Server Error: "+i):n===Lg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Xf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Md!==i&&Ye("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),$a(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(oO))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$a(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(cO))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Hg,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.allowedEvents_=e,this.listeners_={},C(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let a=0;a<s.length;a++)if(s[a].callback===n&&(!i||i===s[a].context)){s.splice(a,1);return}}validateEventType_(e){C(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends Jb{static getInstance(){return new Lo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!bd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return C(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg=32,jg=768;class te{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function K(){return new te("")}function B(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function hi(t){return t.pieces_.length-t.pieceNum_}function se(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new te(t.pieces_,e)}function Ud(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function gO(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function br(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function eE(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new te(e,0)}function pe(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof te)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new te(n,0)}function G(t){return t.pieceNum_>=t.pieces_.length}function Ge(t,e){const n=B(t),i=B(e);if(n===null)return e;if(n===i)return Ge(se(t),se(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function _O(t,e){const n=br(t,0),i=br(e,0);for(let s=0;s<n.length&&s<i.length;s++){const a=$i(n[s],i[s]);if(a!==0)return a}return n.length===i.length?0:n.length<i.length?-1:1}function zd(t,e){if(hi(t)!==hi(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Et(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(hi(t)>hi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class yO{constructor(e,n){this.errorPrefix_=n,this.parts_=br(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Ec(this.parts_[i]);tE(this)}}function vO(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ec(e),tE(t)}function bO(t){const e=t.parts_.pop();t.byteLength_-=Ec(e),t.parts_.length>0&&(t.byteLength_-=1)}function tE(t){if(t.byteLength_>jg)throw new Error(t.errorPrefix_+"has a key path longer than "+jg+" bytes ("+t.byteLength_+").");if(t.parts_.length>Bg)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Bg+") or object contains a cycle "+Ni(t))}function Ni(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd extends Jb{static getInstance(){return new Hd}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return C(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=1e3,EO=60*5*1e3,Pg=30*1e3,SO=1.3,TO=3e4,CO="server_kill",Vg=3;class dn extends Zb{constructor(e,n,i,s,a,r,l,o){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=r,this.appCheckTokenProvider_=l,this.authOverride_=o,this.id=dn.nextPersistentConnectionId_++,this.log_=Wr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ca,this.maxReconnectDelay_=EO,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Hd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Lo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,a={r:s,a:e,b:n};this.log_(Ae(a)),C(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new Gr,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:r=>{const l=r.d;r.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,i,s){this.initConnection_();const a=e._queryIdentifier,r=e._path.toString();this.log_("Listen called for "+r+" "+a),this.listens.has(r)||this.listens.set(r,new Map),C(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),C(!this.listens.get(r).has(a),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(r).set(a,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const a={p:i},r="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(r,a,l=>{const o=l.d,c=l.s;dn.warnOnListenWarnings_(o,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(c,o))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Kt(e,"w")){const i=Vs(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();Ye(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||fA(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Pg)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=uA(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const a=s.s,r=s.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),C(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const a={p:e},r="n";s&&(a.q=i,a.t=s),this.sendRequest(r,a)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const a={p:n,d:i};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,r=>{s&&setTimeout(()=>{s(r.s,r.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,a){this.initConnection_();const r={p:n,d:i};a!==void 0&&(r.h=a),this.outstandingPuts_.push({action:e,request:r,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const a=i.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ae(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Xf("Unrecognized action received from server: "+Ae(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){C(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ca,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ca,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>TO&&(this.reconnectDelay_=Ca),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*SO)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+dn.nextConnectionId_++,a=this.lastSessionId;let r=!1,l=null;const o=function(){l?l.close():(r=!0,i())},c=function(f){C(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:o,sendRequest:c};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,u]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);r?Ue("getToken() completed but was canceled"):(Ue("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=u&&u.token,l=new mO(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,p=>{Ye(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(CO)},a))}catch(f){this.log_("Failed to get token: "+f),r||(this.repoInfo_.nodeAdmin&&Ye(f),o())}}}interrupt(e){Ue("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ue("Resuming connection for reason: "+e),delete this.interruptReasons_[e],jf(this.interruptReasons_)&&(this.reconnectDelay_=Ca,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(a=>Id(a)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new te(e).toString();let s;if(this.listens.has(i)){const a=this.listens.get(i);s=a.get(n),a.delete(n),a.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){Ue("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Vg&&(this.reconnectDelay_=Pg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ue("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Vg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Db.replace(/\./g,"-")]=1,bd()?e["framework.cordova"]=1:Y0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Lo.getInstance().currentlyOnline();return jf(this.interruptReasons_)&&e}}dn.nextPersistentConnectionId_=0;dn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new j(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new j(Gs,e),s=new j(Gs,n);return this.compare(i,s)!==0}minPost(){return j.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl;class nE extends Ac{static get __EMPTY_NODE(){return Tl}static set __EMPTY_NODE(e){Tl=e}compare(e,n){return $i(e.name,n.name)}isDefinedOn(e){throw ra("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return j.MIN}maxPost(){return new j(qi,Tl)}makePost(e,n){return C(typeof e=="string","KeyIndex indexValue must always be a string."),new j(e,Tl)}toString(){return".key"}}const Os=new nE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n,i,s,a=null){this.isReverse_=s,this.resultGenerator_=a,this.nodeStack_=[];let r=1;for(;!e.isEmpty();)if(e=e,r=n?i(e.key,n):1,s&&(r*=-1),r<0)this.isReverse_?e=e.left:e=e.right;else if(r===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class De{constructor(e,n,i,s,a){this.key=e,this.value=n,this.color=i??De.RED,this.left=s??Ze.EMPTY_NODE,this.right=a??Ze.EMPTY_NODE}copy(e,n,i,s,a){return new De(e??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const a=i(e,s.key);return a<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):a===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ze.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Ze.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,De.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,De.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}De.RED=!0;De.BLACK=!1;class wO{copy(e,n,i,s,a){return this}insert(e,n,i){return new De(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ze{constructor(e,n=Ze.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ze(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,De.BLACK,null,null))}remove(e){return new Ze(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,De.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Cl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Cl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Cl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Cl(this.root_,null,this.comparator_,!0,e)}}Ze.EMPTY_NODE=new wO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t,e){return $i(t.name,e.name)}function Bd(t,e){return $i(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $f;function RO(t){$f=t}const iE=function(t){return typeof t=="number"?"number:"+Lb(t):"string:"+t},sE=function(t){if(t.isLeafNode()){const e=t.val();C(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Kt(e,".sv"),"Priority must be a string or number.")}else C(t===$f||t.isEmpty(),"priority of unexpected type.");C(t===$f||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qg;class xe{static set __childrenNodeConstructor(e){qg=e}static get __childrenNodeConstructor(){return qg}constructor(e,n=xe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,C(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),sE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new xe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:xe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return G(e)?this:B(e)===".priority"?this.priorityNode_:xe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:xe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=B(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(C(i!==".priority"||hi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,xe.__childrenNodeConstructor.EMPTY_NODE.updateChild(se(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+iE(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Lb(this.value_):e+=this.value_,this.lazyHash_=Mb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===xe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof xe.__childrenNodeConstructor?-1:(C(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=xe.VALUE_TYPE_ORDER.indexOf(n),a=xe.VALUE_TYPE_ORDER.indexOf(i);return C(s>=0,"Unknown leaf type: "+n),C(a>=0,"Unknown leaf type: "+i),s===a?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}xe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aE,rE;function NO(t){aE=t}function xO(t){rE=t}class OO extends Ac{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),a=i.compareTo(s);return a===0?$i(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return j.MIN}maxPost(){return new j(qi,new xe("[PRIORITY-POST]",rE))}makePost(e,n){const i=aE(e);return new j(n,new xe("[PRIORITY-POST]",i))}toString(){return".priority"}}const me=new OO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=Math.log(2);class IO{constructor(e){const n=a=>parseInt(Math.log(a)/DO,10),i=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Uo=function(t,e,n,i){t.sort(e);const s=function(o,c){const h=c-o;let f,u;if(h===0)return null;if(h===1)return f=t[o],u=n?n(f):f,new De(u,f.node,De.BLACK,null,null);{const p=parseInt(h/2,10)+o,_=s(o,p),b=s(p+1,c);return f=t[p],u=n?n(f):f,new De(u,f.node,De.BLACK,_,b)}},a=function(o){let c=null,h=null,f=t.length;const u=function(_,b){const S=f-_,m=f;f-=_;const d=s(S+1,m),g=t[S],v=n?n(g):g;p(new De(v,g.node,b,null,d))},p=function(_){c?(c.left=_,c=_):(h=_,c=_)};for(let _=0;_<o.count;++_){const b=o.nextBitIsOne(),S=Math.pow(2,o.count-(_+1));b?u(S,De.BLACK):(u(S,De.BLACK),u(S,De.RED))}return h},r=new IO(t.length),l=a(r);return new Ze(i||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu;const ts={};class on{static get Default(){return C(ts&&me,"ChildrenNode.ts has not been loaded"),Lu=Lu||new on({".priority":ts},{".priority":me}),Lu}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Vs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ze?n:null}hasIndex(e){return Kt(this.indexSet_,e.toString())}addIndex(e,n){C(e!==Os,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const a=n.getIterator(j.Wrap);let r=a.getNext();for(;r;)s=s||e.isDefinedOn(r.node),i.push(r),r=a.getNext();let l;s?l=Uo(i,e.getCompare()):l=ts;const o=e.toString(),c={...this.indexSet_};c[o]=e;const h={...this.indexes_};return h[o]=l,new on(h,c)}addToIndexes(e,n){const i=Ao(this.indexes_,(s,a)=>{const r=Vs(this.indexSet_,a);if(C(r,"Missing index implementation for "+a),s===ts)if(r.isDefinedOn(e.node)){const l=[],o=n.getIterator(j.Wrap);let c=o.getNext();for(;c;)c.name!==e.name&&l.push(c),c=o.getNext();return l.push(e),Uo(l,r.getCompare())}else return ts;else{const l=n.get(e.name);let o=s;return l&&(o=o.remove(new j(e.name,l))),o.insert(e,e.node)}});return new on(i,this.indexSet_)}removeFromIndexes(e,n){const i=Ao(this.indexes_,s=>{if(s===ts)return s;{const a=n.get(e.name);return a?s.remove(new j(e.name,a)):s}});return new on(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wa;class O{static get EMPTY_NODE(){return wa||(wa=new O(new Ze(Bd),null,on.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&sE(this.priorityNode_),this.children_.isEmpty()&&C(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wa}updatePriority(e){return this.children_.isEmpty()?this:new O(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?wa:n}}getChild(e){const n=B(e);return n===null?this:this.getImmediateChild(n).getChild(se(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(C(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new j(e,n);let s,a;n.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(i,this.children_));const r=s.isEmpty()?wa:this.priorityNode_;return new O(s,r,a)}}updateChild(e,n){const i=B(e);if(i===null)return n;{C(B(e)!==".priority"||hi(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(se(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,a=!0;if(this.forEachChild(me,(r,l)=>{n[r]=l.val(e),i++,a&&O.INTEGER_REGEXP_.test(r)?s=Math.max(s,Number(r)):a=!1}),!e&&a&&s<2*i){const r=[];for(const l in n)r[l]=n[l];return r}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+iE(this.getPriority().val())+":"),this.forEachChild(me,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Mb(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const a=s.getPredecessorKey(new j(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new j(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new j(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,j.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,j.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)>0;)s.getNext(),a=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===$r?-1:0}withIndex(e){if(e===Os||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new O(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Os||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(me),s=n.getIterator(me);let a=i.getNext(),r=s.getNext();for(;a&&r;){if(a.name!==r.name||!a.node.equals(r.node))return!1;a=i.getNext(),r=s.getNext()}return a===null&&r===null}else return!1;else return!1}}resolveIndex_(e){return e===Os?null:this.indexMap_.get(e.toString())}}O.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class MO extends O{constructor(){super(new Ze(Bd),O.EMPTY_NODE,on.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return O.EMPTY_NODE}isEmpty(){return!1}}const $r=new MO;Object.defineProperties(j,{MIN:{value:new j(Gs,O.EMPTY_NODE)},MAX:{value:new j(qi,$r)}});nE.__EMPTY_NODE=O.EMPTY_NODE;xe.__childrenNodeConstructor=O;RO($r);xO($r);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=!0;function Ce(t,e=null){if(t===null)return O.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),C(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new xe(n,Ce(e))}if(!(t instanceof Array)&&kO){const n=[];let i=!1;if(Pe(t,(r,l)=>{if(r.substring(0,1)!=="."){const o=Ce(l);o.isEmpty()||(i=i||!o.getPriority().isEmpty(),n.push(new j(r,o)))}}),n.length===0)return O.EMPTY_NODE;const a=Uo(n,AO,r=>r.name,Bd);if(i){const r=Uo(n,me.getCompare());return new O(a,Ce(e),new on({".priority":r},{".priority":me}))}else return new O(a,Ce(e),on.Default)}else{let n=O.EMPTY_NODE;return Pe(t,(i,s)=>{if(Kt(t,i)&&i.substring(0,1)!=="."){const a=Ce(s);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(i,a))}}),n.updatePriority(Ce(e))}}NO(Ce);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO extends Ac{constructor(e){super(),this.indexPath_=e,C(!G(e)&&B(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),a=i.compareTo(s);return a===0?$i(e.name,n.name):a}makePost(e,n){const i=Ce(e),s=O.EMPTY_NODE.updateChild(this.indexPath_,i);return new j(n,s)}maxPost(){const e=O.EMPTY_NODE.updateChild(this.indexPath_,$r);return new j(qi,e)}toString(){return br(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO extends Ac{compare(e,n){const i=e.node.compareTo(n.node);return i===0?$i(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return j.MIN}maxPost(){return j.MAX}makePost(e,n){const i=Ce(e);return new j(n,i)}toString(){return".value"}}const zO=new UO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t){return{type:"value",snapshotNode:t}}function Ys(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Er(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Sr(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function HO(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this.index_=e}updateChild(e,n,i,s,a,r){C(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(i.getChild(s))&&l.isEmpty()===i.isEmpty()||(r!=null&&(i.isEmpty()?e.hasChild(n)?r.trackChildChange(Er(n,l)):C(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?r.trackChildChange(Ys(n,i)):r.trackChildChange(Sr(n,i,l))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(me,(s,a)=>{n.hasChild(s)||i.trackChildChange(Er(s,a))}),n.isLeafNode()||n.forEachChild(me,(s,a)=>{if(e.hasChild(s)){const r=e.getImmediateChild(s);r.equals(a)||i.trackChildChange(Sr(s,a,r))}else i.trackChildChange(Ys(s,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?O.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.indexedFilter_=new jd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Tr.getStartPost_(e),this.endPost_=Tr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,a,r){return this.matches(new j(n,i))||(i=O.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,a,r)}updateFullNode(e,n,i){n.isLeafNode()&&(n=O.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(O.EMPTY_NODE);const a=this;return n.forEachChild(me,(r,l)=>{a.matches(new j(r,l))||(s=s.updateImmediateChild(r,O.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Tr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,a,r){return this.rangedFilter_.matches(new j(n,i))||(i=O.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,a,r):this.fullLimitUpdateChild_(e,n,i,a,r)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=O.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=O.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let r=0;for(;a.hasNext()&&r<this.limit_;){const l=a.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),r++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(O.EMPTY_NODE);let a;this.reverse_?a=s.getReverseIterator(this.index_):a=s.getIterator(this.index_);let r=0;for(;a.hasNext();){const l=a.getNext();r<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?r++:s=s.updateImmediateChild(l.name,O.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,a){let r;if(this.reverse_){const f=this.index_.getCompare();r=(u,p)=>f(p,u)}else r=this.index_.getCompare();const l=e;C(l.numChildren()===this.limit_,"");const o=new j(n,i),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(o);if(l.hasChild(n)){const f=l.getImmediateChild(n);let u=s.getChildAfterChild(this.index_,c,this.reverse_);for(;u!=null&&(u.name===n||l.hasChild(u.name));)u=s.getChildAfterChild(this.index_,u,this.reverse_);const p=u==null?1:r(u,o);if(h&&!i.isEmpty()&&p>=0)return a?.trackChildChange(Sr(n,i,f)),l.updateImmediateChild(n,i);{a?.trackChildChange(Er(n,f));const b=l.updateImmediateChild(n,O.EMPTY_NODE);return u!=null&&this.rangedFilter_.matches(u)?(a?.trackChildChange(Ys(u.name,u.node)),b.updateImmediateChild(u.name,u.node)):b}}else return i.isEmpty()?e:h&&r(c,o)>=0?(a!=null&&(a.trackChildChange(Er(c.name,c.node)),a.trackChildChange(Ys(n,i))),l.updateImmediateChild(n,i).updateImmediateChild(c.name,O.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=me}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return C(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return C(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Gs}hasEnd(){return this.endSet_}getIndexEndValue(){return C(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return C(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return C(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===me}copy(){const e=new Pd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function jO(t){return t.loadsAllData()?new jd(t.getIndex()):t.hasLimit()?new BO(t):new Tr(t)}function Gg(t){const e={};if(t.isDefault())return e;let n;if(t.index_===me?n="$priority":t.index_===zO?n="$value":t.index_===Os?n="$key":(C(t.index_ instanceof LO,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ae(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Ae(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Ae(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Ae(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Ae(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Yg(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==me&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends Zb{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(C(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Wr("p:rest:"),this.listens_={}}listen(e,n,i,s){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const r=zo.getListenId_(e,i),l={};this.listens_[r]=l;const o=Gg(e._queryParams);this.restRequest_(a+".json",o,(c,h)=>{let f=h;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(a,f,!1,i),Vs(this.listens_,r)===l){let u;c?c===401?u="permission_denied":u="rest_error:"+c:u="ok",s(u,null)}})}unlisten(e,n){const i=zo.getListenId_(e,n);delete this.listens_[i]}get(e){const n=Gg(e._queryParams),i=e._path.toString(),s=new Gr;return this.restRequest_(i+".json",n,(a,r)=>{let l=r;a===404&&(l=null,a=null),a===null?(this.onDataUpdate_(i,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,a])=>{s&&s.accessToken&&(n.auth=s.accessToken),a&&a.token&&(n.ac=a.token);const r=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+oa(n);this.log_("Sending REST request for "+r);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&l.readyState===4){this.log_("REST Response for "+r+" received. status:",l.status,"response:",l.responseText);let o=null;if(l.status>=200&&l.status<300){try{o=gr(l.responseText)}catch{Ye("Failed to parse JSON response for "+r+": "+l.responseText)}i(null,o)}else l.status!==401&&l.status!==404&&Ye("Got unsuccessful REST response for "+r+" Status: "+l.status),i(l.status);i=null}},l.open("GET",r,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this.rootNode_=O.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(){return{value:null,children:new Map}}function oE(t,e,n){if(G(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=B(e);t.children.has(i)||t.children.set(i,Ho());const s=t.children.get(i);e=se(e),oE(s,e,n)}}function Zf(t,e,n){t.value!==null?n(e,t.value):VO(t,(i,s)=>{const a=new te(e.toString()+"/"+i);Zf(s,a,n)})}function VO(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Pe(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=10*1e3,GO=30*1e3,YO=5*60*1e3;class FO{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new qO(e);const i=Fg+(GO-Fg)*Math.random();$a(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Pe(e,(s,a)=>{a>0&&Kt(this.statsToReport_,s)&&(n[s]=a,i=!0)}),i&&this.server_.reportStats(n),$a(this.reportStats_.bind(this),Math.floor(Math.random()*2*YO))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Mt||(Mt={}));function Vd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function qd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Gd(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Mt.ACK_USER_WRITE,this.source=Vd()}operationForChild(e){if(G(this.path)){if(this.affectedTree.value!=null)return C(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new te(e));return new Bo(K(),n,this.revert)}}else return C(B(this.path)===e,"operationForChild called for unrelated child."),new Bo(se(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){this.source=e,this.path=n,this.type=Mt.LISTEN_COMPLETE}operationForChild(e){return G(this.path)?new Cr(this.source,K()):new Cr(this.source,se(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Mt.OVERWRITE}operationForChild(e){return G(this.path)?new Gi(this.source,K(),this.snap.getImmediateChild(e)):new Gi(this.source,se(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Mt.MERGE}operationForChild(e){if(G(this.path)){const n=this.children.subtree(new te(e));return n.isEmpty()?null:n.value?new Gi(this.source,K(),n.value):new Fs(this.source,K(),n)}else return C(B(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Fs(this.source,se(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(G(e))return this.isFullyInitialized()&&!this.filtered_;const n=B(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function QO(t,e,n,i){const s=[],a=[];return e.forEach(r=>{r.type==="child_changed"&&t.index_.indexedValueChanged(r.oldSnap,r.snapshotNode)&&a.push(HO(r.childName,r.snapshotNode))}),Aa(t,s,"child_removed",e,i,n),Aa(t,s,"child_added",e,i,n),Aa(t,s,"child_moved",a,i,n),Aa(t,s,"child_changed",e,i,n),Aa(t,s,"value",e,i,n),s}function Aa(t,e,n,i,s,a){const r=i.filter(l=>l.type===n);r.sort((l,o)=>WO(t,l,o)),r.forEach(l=>{const o=XO(t,l,a);s.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(o,t.query_))})})}function XO(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function WO(t,e,n){if(e.childName==null||n.childName==null)throw ra("Should only compare child_ events.");const i=new j(e.childName,e.snapshotNode),s=new j(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t,e){return{eventCache:t,serverCache:e}}function Za(t,e,n,i){return Rc(new di(e,n,i),t.serverCache)}function cE(t,e,n,i){return Rc(t.eventCache,new di(e,n,i))}function jo(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Yi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uu;const $O=()=>(Uu||(Uu=new Ze(Lx)),Uu);class ie{static fromObject(e){let n=new ie(null);return Pe(e,(i,s)=>{n=n.set(new te(i),s)}),n}constructor(e,n=$O()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:K(),value:this.value};if(G(e))return null;{const i=B(e),s=this.children.get(i);if(s!==null){const a=s.findRootMostMatchingPathAndValue(se(e),n);return a!=null?{path:pe(new te(i),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(G(e))return this;{const n=B(e),i=this.children.get(n);return i!==null?i.subtree(se(e)):new ie(null)}}set(e,n){if(G(e))return new ie(n,this.children);{const i=B(e),a=(this.children.get(i)||new ie(null)).set(se(e),n),r=this.children.insert(i,a);return new ie(this.value,r)}}remove(e){if(G(e))return this.children.isEmpty()?new ie(null):new ie(null,this.children);{const n=B(e),i=this.children.get(n);if(i){const s=i.remove(se(e));let a;return s.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,s),this.value===null&&a.isEmpty()?new ie(null):new ie(this.value,a)}else return this}}get(e){if(G(e))return this.value;{const n=B(e),i=this.children.get(n);return i?i.get(se(e)):null}}setTree(e,n){if(G(e))return n;{const i=B(e),a=(this.children.get(i)||new ie(null)).setTree(se(e),n);let r;return a.isEmpty()?r=this.children.remove(i):r=this.children.insert(i,a),new ie(this.value,r)}}fold(e){return this.fold_(K(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,a)=>{i[s]=a.fold_(pe(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,K(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(G(e))return null;{const a=B(e),r=this.children.get(a);return r?r.findOnPath_(se(e),pe(n,a),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,K(),n)}foreachOnPath_(e,n,i){if(G(e))return this;{this.value&&i(n,this.value);const s=B(e),a=this.children.get(s);return a?a.foreachOnPath_(se(e),pe(n,s),i):new ie(null)}}foreach(e){this.foreach_(K(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(pe(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.writeTree_=e}static empty(){return new kt(new ie(null))}}function Ja(t,e,n){if(G(e))return new kt(new ie(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let a=i.value;const r=Ge(s,e);return a=a.updateChild(r,n),new kt(t.writeTree_.set(s,a))}else{const s=new ie(n),a=t.writeTree_.setTree(e,s);return new kt(a)}}}function Jf(t,e,n){let i=t;return Pe(n,(s,a)=>{i=Ja(i,pe(e,s),a)}),i}function Kg(t,e){if(G(e))return kt.empty();{const n=t.writeTree_.setTree(e,new ie(null));return new kt(n)}}function eh(t,e){return Zi(t,e)!=null}function Zi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ge(n.path,e)):null}function Qg(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(me,(i,s)=>{e.push(new j(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new j(i,s.value))}),e}function ai(t,e){if(G(e))return t;{const n=Zi(t,e);return n!=null?new kt(new ie(n)):new kt(t.writeTree_.subtree(e))}}function th(t){return t.writeTree_.isEmpty()}function Ks(t,e){return uE(K(),t.writeTree_,e)}function uE(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,a)=>{s===".priority"?(C(a.value!==null,"Priority writes must always be leaf nodes"),i=a.value):n=uE(pe(t,s),a,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(pe(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t,e){return pE(e,t)}function ZO(t,e,n,i,s){C(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=Ja(t.visibleWrites,e,n)),t.lastWriteId=i}function JO(t,e,n,i){C(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=Jf(t.visibleWrites,e,n),t.lastWriteId=i}function e2(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function t2(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);C(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,a=!1,r=t.allWrites.length-1;for(;s&&r>=0;){const l=t.allWrites[r];l.visible&&(r>=n&&n2(l,i.path)?s=!1:Et(i.path,l.path)&&(a=!0)),r--}if(s){if(a)return i2(t),!0;if(i.snap)t.visibleWrites=Kg(t.visibleWrites,i.path);else{const l=i.children;Pe(l,o=>{t.visibleWrites=Kg(t.visibleWrites,pe(i.path,o))})}return!0}else return!1}function n2(t,e){if(t.snap)return Et(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Et(pe(t.path,n),e))return!0;return!1}function i2(t){t.visibleWrites=fE(t.allWrites,s2,K()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function s2(t){return t.visible}function fE(t,e,n){let i=kt.empty();for(let s=0;s<t.length;++s){const a=t[s];if(e(a)){const r=a.path;let l;if(a.snap)Et(n,r)?(l=Ge(n,r),i=Ja(i,l,a.snap)):Et(r,n)&&(l=Ge(r,n),i=Ja(i,K(),a.snap.getChild(l)));else if(a.children){if(Et(n,r))l=Ge(n,r),i=Jf(i,l,a.children);else if(Et(r,n))if(l=Ge(r,n),G(l))i=Jf(i,K(),a.children);else{const o=Vs(a.children,B(l));if(o){const c=o.getChild(se(l));i=Ja(i,K(),c)}}}else throw ra("WriteRecord should have .snap or .children")}}return i}function hE(t,e,n,i,s){if(!i&&!s){const a=Zi(t.visibleWrites,e);if(a!=null)return a;{const r=ai(t.visibleWrites,e);if(th(r))return n;if(n==null&&!eh(r,K()))return null;{const l=n||O.EMPTY_NODE;return Ks(r,l)}}}else{const a=ai(t.visibleWrites,e);if(!s&&th(a))return n;if(!s&&n==null&&!eh(a,K()))return null;{const r=function(c){return(c.visible||s)&&(!i||!~i.indexOf(c.writeId))&&(Et(c.path,e)||Et(e,c.path))},l=fE(t.allWrites,r,e),o=n||O.EMPTY_NODE;return Ks(l,o)}}}function a2(t,e,n){let i=O.EMPTY_NODE;const s=Zi(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(me,(a,r)=>{i=i.updateImmediateChild(a,r)}),i;if(n){const a=ai(t.visibleWrites,e);return n.forEachChild(me,(r,l)=>{const o=Ks(ai(a,new te(r)),l);i=i.updateImmediateChild(r,o)}),Qg(a).forEach(r=>{i=i.updateImmediateChild(r.name,r.node)}),i}else{const a=ai(t.visibleWrites,e);return Qg(a).forEach(r=>{i=i.updateImmediateChild(r.name,r.node)}),i}}function r2(t,e,n,i,s){C(i||s,"Either existingEventSnap or existingServerSnap must exist");const a=pe(e,n);if(eh(t.visibleWrites,a))return null;{const r=ai(t.visibleWrites,a);return th(r)?s.getChild(n):Ks(r,s.getChild(n))}}function l2(t,e,n,i){const s=pe(e,n),a=Zi(t.visibleWrites,s);if(a!=null)return a;if(i.isCompleteForChild(n)){const r=ai(t.visibleWrites,s);return Ks(r,i.getNode().getImmediateChild(n))}else return null}function o2(t,e){return Zi(t.visibleWrites,e)}function c2(t,e,n,i,s,a,r){let l;const o=ai(t.visibleWrites,e),c=Zi(o,K());if(c!=null)l=c;else if(n!=null)l=Ks(o,n);else return[];if(l=l.withIndex(r),!l.isEmpty()&&!l.isLeafNode()){const h=[],f=r.getCompare(),u=a?l.getReverseIteratorFrom(i,r):l.getIteratorFrom(i,r);let p=u.getNext();for(;p&&h.length<s;)f(p,i)!==0&&h.push(p),p=u.getNext();return h}else return[]}function u2(){return{visibleWrites:kt.empty(),allWrites:[],lastWriteId:-1}}function Po(t,e,n,i){return hE(t.writeTree,t.treePath,e,n,i)}function Yd(t,e){return a2(t.writeTree,t.treePath,e)}function Xg(t,e,n,i){return r2(t.writeTree,t.treePath,e,n,i)}function Vo(t,e){return o2(t.writeTree,pe(t.treePath,e))}function f2(t,e,n,i,s,a){return c2(t.writeTree,t.treePath,e,n,i,s,a)}function Fd(t,e,n){return l2(t.writeTree,t.treePath,e,n)}function dE(t,e){return pE(pe(t.treePath,e),t.writeTree)}function pE(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;C(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),C(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const a=s.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(i,Sr(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(i,Er(i,s.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(i,Ys(i,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(i,Sr(i,e.snapshotNode,s.oldSnap));else throw ra("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const mE=new d2;class Kd{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new di(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Fd(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Yi(this.viewCache_),a=f2(this.writes_,s,n,1,i,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(t){return{filter:t}}function m2(t,e){C(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),C(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function g2(t,e,n,i,s){const a=new h2;let r,l;if(n.type===Mt.OVERWRITE){const c=n;c.source.fromUser?r=nh(t,e,c.path,c.snap,i,s,a):(C(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!G(c.path),r=qo(t,e,c.path,c.snap,i,s,l,a))}else if(n.type===Mt.MERGE){const c=n;c.source.fromUser?r=y2(t,e,c.path,c.children,i,s,a):(C(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),r=ih(t,e,c.path,c.children,i,s,l,a))}else if(n.type===Mt.ACK_USER_WRITE){const c=n;c.revert?r=E2(t,e,c.path,i,s,a):r=v2(t,e,c.path,c.affectedTree,i,s,a)}else if(n.type===Mt.LISTEN_COMPLETE)r=b2(t,e,n.path,i,a);else throw ra("Unknown operation type: "+n.type);const o=a.getChanges();return _2(e,r,o),{viewCache:r,changes:o}}function _2(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=jo(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&n.push(lE(jo(e)))}}function gE(t,e,n,i,s,a){const r=e.eventCache;if(Vo(i,n)!=null)return e;{let l,o;if(G(n))if(C(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Yi(e),h=c instanceof O?c:O.EMPTY_NODE,f=Yd(i,h);l=t.filter.updateFullNode(e.eventCache.getNode(),f,a)}else{const c=Po(i,Yi(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,a)}else{const c=B(n);if(c===".priority"){C(hi(n)===1,"Can't have a priority with additional path components");const h=r.getNode();o=e.serverCache.getNode();const f=Xg(i,n,h,o);f!=null?l=t.filter.updatePriority(h,f):l=r.getNode()}else{const h=se(n);let f;if(r.isCompleteForChild(c)){o=e.serverCache.getNode();const u=Xg(i,n,r.getNode(),o);u!=null?f=r.getNode().getImmediateChild(c).updateChild(h,u):f=r.getNode().getImmediateChild(c)}else f=Fd(i,c,e.serverCache);f!=null?l=t.filter.updateChild(r.getNode(),c,f,h,s,a):l=r.getNode()}}return Za(e,l,r.isFullyInitialized()||G(n),t.filter.filtersNodes())}}function qo(t,e,n,i,s,a,r,l){const o=e.serverCache;let c;const h=r?t.filter:t.filter.getIndexedFilter();if(G(n))c=h.updateFullNode(o.getNode(),i,null);else if(h.filtersNodes()&&!o.isFiltered()){const p=o.getNode().updateChild(n,i);c=h.updateFullNode(o.getNode(),p,null)}else{const p=B(n);if(!o.isCompleteForPath(n)&&hi(n)>1)return e;const _=se(n),S=o.getNode().getImmediateChild(p).updateChild(_,i);p===".priority"?c=h.updatePriority(o.getNode(),S):c=h.updateChild(o.getNode(),p,S,_,mE,null)}const f=cE(e,c,o.isFullyInitialized()||G(n),h.filtersNodes()),u=new Kd(s,f,a);return gE(t,f,n,s,u,l)}function nh(t,e,n,i,s,a,r){const l=e.eventCache;let o,c;const h=new Kd(s,e,a);if(G(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,r),o=Za(e,c,!0,t.filter.filtersNodes());else{const f=B(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),o=Za(e,c,l.isFullyInitialized(),l.isFiltered());else{const u=se(n),p=l.getNode().getImmediateChild(f);let _;if(G(u))_=i;else{const b=h.getCompleteChild(f);b!=null?Ud(u)===".priority"&&b.getChild(eE(u)).isEmpty()?_=b:_=b.updateChild(u,i):_=O.EMPTY_NODE}if(p.equals(_))o=e;else{const b=t.filter.updateChild(l.getNode(),f,_,u,h,r);o=Za(e,b,l.isFullyInitialized(),t.filter.filtersNodes())}}}return o}function Wg(t,e){return t.eventCache.isCompleteForChild(e)}function y2(t,e,n,i,s,a,r){let l=e;return i.foreach((o,c)=>{const h=pe(n,o);Wg(e,B(h))&&(l=nh(t,l,h,c,s,a,r))}),i.foreach((o,c)=>{const h=pe(n,o);Wg(e,B(h))||(l=nh(t,l,h,c,s,a,r))}),l}function $g(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function ih(t,e,n,i,s,a,r,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let o=e,c;G(n)?c=i:c=new ie(null).setTree(n,i);const h=e.serverCache.getNode();return c.children.inorderTraversal((f,u)=>{if(h.hasChild(f)){const p=e.serverCache.getNode().getImmediateChild(f),_=$g(t,p,u);o=qo(t,o,new te(f),_,s,a,r,l)}}),c.children.inorderTraversal((f,u)=>{const p=!e.serverCache.isCompleteForChild(f)&&u.value===null;if(!h.hasChild(f)&&!p){const _=e.serverCache.getNode().getImmediateChild(f),b=$g(t,_,u);o=qo(t,o,new te(f),b,s,a,r,l)}}),o}function v2(t,e,n,i,s,a,r){if(Vo(s,n)!=null)return e;const l=e.serverCache.isFiltered(),o=e.serverCache;if(i.value!=null){if(G(n)&&o.isFullyInitialized()||o.isCompleteForPath(n))return qo(t,e,n,o.getNode().getChild(n),s,a,l,r);if(G(n)){let c=new ie(null);return o.getNode().forEachChild(Os,(h,f)=>{c=c.set(new te(h),f)}),ih(t,e,n,c,s,a,l,r)}else return e}else{let c=new ie(null);return i.foreach((h,f)=>{const u=pe(n,h);o.isCompleteForPath(u)&&(c=c.set(h,o.getNode().getChild(u)))}),ih(t,e,n,c,s,a,l,r)}}function b2(t,e,n,i,s){const a=e.serverCache,r=cE(e,a.getNode(),a.isFullyInitialized()||G(n),a.isFiltered());return gE(t,r,n,i,mE,s)}function E2(t,e,n,i,s,a){let r;if(Vo(i,n)!=null)return e;{const l=new Kd(i,e,s),o=e.eventCache.getNode();let c;if(G(n)||B(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Po(i,Yi(e));else{const f=e.serverCache.getNode();C(f instanceof O,"serverChildren would be complete if leaf node"),h=Yd(i,f)}h=h,c=t.filter.updateFullNode(o,h,a)}else{const h=B(n);let f=Fd(i,h,e.serverCache);f==null&&e.serverCache.isCompleteForChild(h)&&(f=o.getImmediateChild(h)),f!=null?c=t.filter.updateChild(o,h,f,se(n),l,a):e.eventCache.getNode().hasChild(h)?c=t.filter.updateChild(o,h,O.EMPTY_NODE,se(n),l,a):c=o,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(r=Po(i,Yi(e)),r.isLeafNode()&&(c=t.filter.updateFullNode(c,r,a)))}return r=e.serverCache.isFullyInitialized()||Vo(i,K())!=null,Za(e,c,r,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new jd(i.getIndex()),a=jO(i);this.processor_=p2(a);const r=n.serverCache,l=n.eventCache,o=s.updateFullNode(O.EMPTY_NODE,r.getNode(),null),c=a.updateFullNode(O.EMPTY_NODE,l.getNode(),null),h=new di(o,r.isFullyInitialized(),s.filtersNodes()),f=new di(c,l.isFullyInitialized(),a.filtersNodes());this.viewCache_=Rc(f,h),this.eventGenerator_=new KO(this.query_)}get query(){return this.query_}}function T2(t){return t.viewCache_.serverCache.getNode()}function C2(t){return jo(t.viewCache_)}function w2(t,e){const n=Yi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!G(e)&&!n.getImmediateChild(B(e)).isEmpty())?n.getChild(e):null}function Zg(t){return t.eventRegistrations_.length===0}function A2(t,e){t.eventRegistrations_.push(e)}function Jg(t,e,n){const i=[];if(n){C(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(a=>{const r=a.createCancelEvent(n,s);r&&i.push(r)})}if(e){let s=[];for(let a=0;a<t.eventRegistrations_.length;++a){const r=t.eventRegistrations_[a];if(!r.matches(e))s.push(r);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function e_(t,e,n,i){e.type===Mt.MERGE&&e.source.queryId!==null&&(C(Yi(t.viewCache_),"We should always have a full cache before handling merges"),C(jo(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,a=g2(t.processor_,s,e,n,i);return m2(t.processor_,a.viewCache),C(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,_E(t,a.changes,a.viewCache.eventCache.getNode(),null)}function R2(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(me,(a,r)=>{i.push(Ys(a,r))}),n.isFullyInitialized()&&i.push(lE(n.getNode())),_E(t,i,n.getNode(),e)}function _E(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return QO(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go;class yE{constructor(){this.views=new Map}}function N2(t){C(!Go,"__referenceConstructor has already been defined"),Go=t}function x2(){return C(Go,"Reference.ts has not been loaded"),Go}function O2(t){return t.views.size===0}function Qd(t,e,n,i){const s=e.source.queryId;if(s!==null){const a=t.views.get(s);return C(a!=null,"SyncTree gave us an op for an invalid query."),e_(a,e,n,i)}else{let a=[];for(const r of t.views.values())a=a.concat(e_(r,e,n,i));return a}}function vE(t,e,n,i,s){const a=e._queryIdentifier,r=t.views.get(a);if(!r){let l=Po(n,s?i:null),o=!1;l?o=!0:i instanceof O?(l=Yd(n,i),o=!1):(l=O.EMPTY_NODE,o=!1);const c=Rc(new di(l,o,!1),new di(i,s,!1));return new S2(e,c)}return r}function D2(t,e,n,i,s,a){const r=vE(t,e,i,s,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,r),A2(r,n),R2(r,n)}function I2(t,e,n,i){const s=e._queryIdentifier,a=[];let r=[];const l=pi(t);if(s==="default")for(const[o,c]of t.views.entries())r=r.concat(Jg(c,n,i)),Zg(c)&&(t.views.delete(o),c.query._queryParams.loadsAllData()||a.push(c.query));else{const o=t.views.get(s);o&&(r=r.concat(Jg(o,n,i)),Zg(o)&&(t.views.delete(s),o.query._queryParams.loadsAllData()||a.push(o.query)))}return l&&!pi(t)&&a.push(new(x2())(e._repo,e._path)),{removed:a,events:r}}function bE(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ri(t,e){let n=null;for(const i of t.views.values())n=n||w2(i,e);return n}function EE(t,e){if(e._queryParams.loadsAllData())return xc(t);{const i=e._queryIdentifier;return t.views.get(i)}}function SE(t,e){return EE(t,e)!=null}function pi(t){return xc(t)!=null}function xc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo;function M2(t){C(!Yo,"__referenceConstructor has already been defined"),Yo=t}function k2(){return C(Yo,"Reference.ts has not been loaded"),Yo}let L2=1;class t_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ie(null),this.pendingWriteTree_=u2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function TE(t,e,n,i,s){return ZO(t.pendingWriteTree_,e,n,i,s),s?ha(t,new Gi(Vd(),e,n)):[]}function U2(t,e,n,i){JO(t.pendingWriteTree_,e,n,i);const s=ie.fromObject(n);return ha(t,new Fs(Vd(),e,s))}function Yn(t,e,n=!1){const i=e2(t.pendingWriteTree_,e);if(t2(t.pendingWriteTree_,e)){let a=new ie(null);return i.snap!=null?a=a.set(K(),!0):Pe(i.children,r=>{a=a.set(new te(r),!0)}),ha(t,new Bo(i.path,a,n))}else return[]}function Zr(t,e,n){return ha(t,new Gi(qd(),e,n))}function z2(t,e,n){const i=ie.fromObject(n);return ha(t,new Fs(qd(),e,i))}function H2(t,e){return ha(t,new Cr(qd(),e))}function B2(t,e,n){const i=Wd(t,n);if(i){const s=$d(i),a=s.path,r=s.queryId,l=Ge(a,e),o=new Cr(Gd(r),l);return Zd(t,a,o)}else return[]}function Fo(t,e,n,i,s=!1){const a=e._path,r=t.syncPointTree_.get(a);let l=[];if(r&&(e._queryIdentifier==="default"||SE(r,e))){const o=I2(r,e,n,i);O2(r)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const c=o.removed;if(l=o.events,!s){const h=c.findIndex(u=>u._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(a,(u,p)=>pi(p));if(h&&!f){const u=t.syncPointTree_.subtree(a);if(!u.isEmpty()){const p=V2(u);for(let _=0;_<p.length;++_){const b=p[_],S=b.query,m=RE(t,b);t.listenProvider_.startListening(er(S),wr(t,S),m.hashFn,m.onComplete)}}}!f&&c.length>0&&!i&&(h?t.listenProvider_.stopListening(er(e),null):c.forEach(u=>{const p=t.queryToTagMap.get(Oc(u));t.listenProvider_.stopListening(er(u),p)}))}q2(t,c)}return l}function CE(t,e,n,i){const s=Wd(t,i);if(s!=null){const a=$d(s),r=a.path,l=a.queryId,o=Ge(r,e),c=new Gi(Gd(l),o,n);return Zd(t,r,c)}else return[]}function j2(t,e,n,i){const s=Wd(t,i);if(s){const a=$d(s),r=a.path,l=a.queryId,o=Ge(r,e),c=ie.fromObject(n),h=new Fs(Gd(l),o,c);return Zd(t,r,h)}else return[]}function sh(t,e,n,i=!1){const s=e._path;let a=null,r=!1;t.syncPointTree_.foreachOnPath(s,(u,p)=>{const _=Ge(u,s);a=a||ri(p,_),r=r||pi(p)});let l=t.syncPointTree_.get(s);l?(r=r||pi(l),a=a||ri(l,K())):(l=new yE,t.syncPointTree_=t.syncPointTree_.set(s,l));let o;a!=null?o=!0:(o=!1,a=O.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((p,_)=>{const b=ri(_,K());b&&(a=a.updateImmediateChild(p,b))}));const c=SE(l,e);if(!c&&!e._queryParams.loadsAllData()){const u=Oc(e);C(!t.queryToTagMap.has(u),"View does not exist, but we have a tag");const p=G2();t.queryToTagMap.set(u,p),t.tagToQueryMap.set(p,u)}const h=Nc(t.pendingWriteTree_,s);let f=D2(l,e,n,h,a,o);if(!c&&!r&&!i){const u=EE(l,e);f=f.concat(Y2(t,e,u))}return f}function Xd(t,e,n){const s=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(r,l)=>{const o=Ge(r,e),c=ri(l,o);if(c)return c});return hE(s,e,a,n,!0)}function P2(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(c,h)=>{const f=Ge(c,n);i=i||ri(h,f)});let s=t.syncPointTree_.get(n);s?i=i||ri(s,K()):(s=new yE,t.syncPointTree_=t.syncPointTree_.set(n,s));const a=i!=null,r=a?new di(i,!0,!1):null,l=Nc(t.pendingWriteTree_,e._path),o=vE(s,e,l,a?r.getNode():O.EMPTY_NODE,a);return C2(o)}function ha(t,e){return wE(e,t.syncPointTree_,null,Nc(t.pendingWriteTree_,K()))}function wE(t,e,n,i){if(G(t.path))return AE(t,e,n,i);{const s=e.get(K());n==null&&s!=null&&(n=ri(s,K()));let a=[];const r=B(t.path),l=t.operationForChild(r),o=e.children.get(r);if(o&&l){const c=n?n.getImmediateChild(r):null,h=dE(i,r);a=a.concat(wE(l,o,c,h))}return s&&(a=a.concat(Qd(s,t,i,n))),a}}function AE(t,e,n,i){const s=e.get(K());n==null&&s!=null&&(n=ri(s,K()));let a=[];return e.children.inorderTraversal((r,l)=>{const o=n?n.getImmediateChild(r):null,c=dE(i,r),h=t.operationForChild(r);h&&(a=a.concat(AE(h,l,o,c)))}),s&&(a=a.concat(Qd(s,t,i,n))),a}function RE(t,e){const n=e.query,i=wr(t,n);return{hashFn:()=>(T2(e)||O.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?B2(t,n._path,i):H2(t,n._path);{const a=Hx(s,n);return Fo(t,n,null,a)}}}}function wr(t,e){const n=Oc(e);return t.queryToTagMap.get(n)}function Oc(t){return t._path.toString()+"$"+t._queryIdentifier}function Wd(t,e){return t.tagToQueryMap.get(e)}function $d(t){const e=t.indexOf("$");return C(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new te(t.substr(0,e))}}function Zd(t,e,n){const i=t.syncPointTree_.get(e);C(i,"Missing sync point for query tag that we're tracking");const s=Nc(t.pendingWriteTree_,e);return Qd(i,n,s,null)}function V2(t){return t.fold((e,n,i)=>{if(n&&pi(n))return[xc(n)];{let s=[];return n&&(s=bE(n)),Pe(i,(a,r)=>{s=s.concat(r)}),s}})}function er(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(k2())(t._repo,t._path):t}function q2(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=Oc(i),a=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(a)}}}function G2(){return L2++}function Y2(t,e,n){const i=e._path,s=wr(t,e),a=RE(t,n),r=t.listenProvider_.startListening(er(e),s,a.hashFn,a.onComplete),l=t.syncPointTree_.subtree(i);if(s)C(!pi(l.value),"If we're adding a query, it shouldn't be shadowed");else{const o=l.fold((c,h,f)=>{if(!G(c)&&h&&pi(h))return[xc(h).query];{let u=[];return h&&(u=u.concat(bE(h).map(p=>p.query))),Pe(f,(p,_)=>{u=u.concat(_)}),u}});for(let c=0;c<o.length;++c){const h=o[c];t.listenProvider_.stopListening(er(h),wr(t,h))}}return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Jd(n)}node(){return this.node_}}class ep{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=pe(this.path_,e);return new ep(this.syncTree_,n)}node(){return Xd(this.syncTree_,this.path_)}}const F2=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},n_=function(t,e,n){if(!t||typeof t!="object")return t;if(C(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return K2(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Q2(t[".sv"],e);C(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},K2=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:C(!1,"Unexpected server value: "+t)}},Q2=function(t,e,n){t.hasOwnProperty("increment")||C(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&C(!1,"Unexpected increment value: "+i);const s=e.node();if(C(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const r=s.getValue();return typeof r!="number"?i:r+i},NE=function(t,e,n,i){return tp(e,new ep(n,t),i)},xE=function(t,e,n){return tp(t,new Jd(e),n)};function tp(t,e,n){const i=t.getPriority().val(),s=n_(i,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const r=t,l=n_(r.getValue(),e,n);return l!==r.getValue()||s!==r.getPriority().val()?new xe(l,Ce(s)):t}else{const r=t;return a=r,s!==r.getPriority().val()&&(a=a.updatePriority(new xe(s))),r.forEachChild(me,(l,o)=>{const c=tp(o,e.getImmediateChild(l),n);c!==o&&(a=a.updateImmediateChild(l,c))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function ip(t,e){let n=e instanceof te?e:new te(e),i=t,s=B(n);for(;s!==null;){const a=Vs(i.node.children,s)||{children:{},childCount:0};i=new np(s,i,a),n=se(n),s=B(n)}return i}function da(t){return t.node.value}function OE(t,e){t.node.value=e,ah(t)}function DE(t){return t.node.childCount>0}function X2(t){return da(t)===void 0&&!DE(t)}function Dc(t,e){Pe(t.node.children,(n,i)=>{e(new np(n,t,i))})}function IE(t,e,n,i){n&&e(t),Dc(t,s=>{IE(s,e,!0)})}function W2(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Jr(t){return new te(t.parent===null?t.name:Jr(t.parent)+"/"+t.name)}function ah(t){t.parent!==null&&$2(t.parent,t.name,t)}function $2(t,e,n){const i=X2(n),s=Kt(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,ah(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,ah(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=/[\[\].#$\/\u0000-\u001F\u007F]/,J2=/[\[\].#$\u0000-\u001F\u007F]/,zu=10*1024*1024,sp=function(t){return typeof t=="string"&&t.length!==0&&!Z2.test(t)},ME=function(t){return typeof t=="string"&&t.length!==0&&!J2.test(t)},eD=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ME(t)},tD=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Dd(t)||t&&typeof t=="object"&&Kt(t,".sv")},nD=function(t,e,n,i){Ic(bc(t,"value"),e,n)},Ic=function(t,e,n){const i=n instanceof te?new yO(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ni(i));if(typeof e=="function")throw new Error(t+"contains a function "+Ni(i)+" with contents = "+e.toString());if(Dd(e))throw new Error(t+"contains "+e.toString()+" "+Ni(i));if(typeof e=="string"&&e.length>zu/3&&Ec(e)>zu)throw new Error(t+"contains a string greater than "+zu+" utf8 bytes "+Ni(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,a=!1;if(Pe(e,(r,l)=>{if(r===".value")s=!0;else if(r!==".priority"&&r!==".sv"&&(a=!0,!sp(r)))throw new Error(t+" contains an invalid key ("+r+") "+Ni(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);vO(i,r),Ic(t,l,i),bO(i)}),s&&a)throw new Error(t+' contains ".value" child '+Ni(i)+" in addition to actual children.")}},iD=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const a=br(i);for(let r=0;r<a.length;r++)if(!(a[r]===".priority"&&r===a.length-1)){if(!sp(a[r]))throw new Error(t+"contains an invalid key ("+a[r]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(_O);let s=null;for(n=0;n<e.length;n++){if(i=e[n],s!==null&&Et(s,i))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}},sD=function(t,e,n,i){const s=bc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const a=[];Pe(e,(r,l)=>{const o=new te(r);if(Ic(s,l,pe(n,o)),Ud(o)===".priority"&&!tD(l))throw new Error(s+"contains an invalid value for '"+o.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(o)}),iD(s,a)},kE=function(t,e,n,i){if(!ME(n))throw new Error(bc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},aD=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),kE(t,e,n)},rD=function(t,e){if(B(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},lD=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!sp(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!eD(n))throw new Error(bc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Mc(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],a=s.getPath();n!==null&&!zd(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(s)}n&&t.eventLists_.push(n)}function LE(t,e,n){Mc(t,n),UE(t,i=>zd(i,e))}function At(t,e,n){Mc(t,n),UE(t,i=>Et(i,e)||Et(e,i))}function UE(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const a=s.path;e(a)?(cD(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function cD(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Wa&&Ue("event: "+n.toString()),fa(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="repo_interrupt",fD=25;class hD{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new oD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ho(),this.transactionQueueTree_=new np,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function dD(t,e,n){if(t.stats_=kd(t.repoInfo_),t.forceRestClient_||Vx())t.server_=new zo(t.repoInfo_,(i,s,a,r)=>{i_(t,i,s,a,r)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>s_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ae(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new dn(t.repoInfo_,e,(i,s,a,r)=>{i_(t,i,s,a,r)},i=>{s_(t,i)},i=>{mD(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=Kx(t.repoInfo_,()=>new FO(t.stats_,t.server_)),t.infoData_=new PO,t.infoSyncTree_=new t_({startListening:(i,s,a,r)=>{let l=[];const o=t.infoData_.getNode(i._path);return o.isEmpty()||(l=Zr(t.infoSyncTree_,i._path,o),setTimeout(()=>{r("ok")},0)),l},stopListening:()=>{}}),ap(t,"connected",!1),t.serverSyncTree_=new t_({startListening:(i,s,a,r)=>(t.server_.listen(i,a,s,(l,o)=>{const c=r(l,o);At(t.eventQueue_,i._path,c)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function pD(t){const n=t.infoData_.getNode(new te(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function kc(t){return F2({timestamp:pD(t)})}function i_(t,e,n,i,s){t.dataUpdateCount++;const a=new te(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let r=[];if(s)if(i){const o=Ao(n,c=>Ce(c));r=j2(t.serverSyncTree_,a,o,s)}else{const o=Ce(n);r=CE(t.serverSyncTree_,a,o,s)}else if(i){const o=Ao(n,c=>Ce(c));r=z2(t.serverSyncTree_,a,o)}else{const o=Ce(n);r=Zr(t.serverSyncTree_,a,o)}let l=a;r.length>0&&(l=Qs(t,a)),At(t.eventQueue_,l,r)}function s_(t,e){ap(t,"connected",e),e===!1&&vD(t)}function mD(t,e){Pe(e,(n,i)=>{ap(t,n,i)})}function ap(t,e,n){const i=new te("/.info/"+e),s=Ce(n);t.infoData_.updateSnapshot(i,s);const a=Zr(t.infoSyncTree_,i,s);At(t.eventQueue_,i,a)}function rp(t){return t.nextWriteId_++}function gD(t,e,n){const i=P2(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(s=>{const a=Ce(s).withIndex(e._queryParams.getIndex());sh(t.serverSyncTree_,e,n,!0);let r;if(e._queryParams.loadsAllData())r=Zr(t.serverSyncTree_,e._path,a);else{const l=wr(t.serverSyncTree_,e);r=CE(t.serverSyncTree_,e._path,a,l)}return At(t.eventQueue_,e._path,r),Fo(t.serverSyncTree_,e,n,null,!0),a},s=>(el(t,"get for query "+Ae(e)+" failed: "+s),Promise.reject(new Error(s))))}function _D(t,e,n,i,s){el(t,"set",{path:e.toString(),value:n,priority:i});const a=kc(t),r=Ce(n,i),l=Xd(t.serverSyncTree_,e),o=xE(r,l,a),c=rp(t),h=TE(t.serverSyncTree_,e,o,c,!0);Mc(t.eventQueue_,h),t.server_.put(e.toString(),r.val(!0),(u,p)=>{const _=u==="ok";_||Ye("set at "+e+" failed: "+u);const b=Yn(t.serverSyncTree_,c,!_);At(t.eventQueue_,e,b),rh(t,s,u,p)});const f=op(t,e);Qs(t,f),At(t.eventQueue_,f,[])}function yD(t,e,n,i){el(t,"update",{path:e.toString(),value:n});let s=!0;const a=kc(t),r={};if(Pe(n,(l,o)=>{s=!1,r[l]=NE(pe(e,l),Ce(o),t.serverSyncTree_,a)}),s)Ue("update() called with empty data.  Don't do anything."),rh(t,i,"ok",void 0);else{const l=rp(t),o=U2(t.serverSyncTree_,e,r,l);Mc(t.eventQueue_,o),t.server_.merge(e.toString(),n,(c,h)=>{const f=c==="ok";f||Ye("update at "+e+" failed: "+c);const u=Yn(t.serverSyncTree_,l,!f),p=u.length>0?Qs(t,e):e;At(t.eventQueue_,p,u),rh(t,i,c,h)}),Pe(n,c=>{const h=op(t,pe(e,c));Qs(t,h)}),At(t.eventQueue_,e,[])}}function vD(t){el(t,"onDisconnectEvents");const e=kc(t),n=Ho();Zf(t.onDisconnect_,K(),(s,a)=>{const r=NE(s,a,t.serverSyncTree_,e);oE(n,s,r)});let i=[];Zf(n,K(),(s,a)=>{i=i.concat(Zr(t.serverSyncTree_,s,a));const r=op(t,s);Qs(t,r)}),t.onDisconnect_=Ho(),At(t.eventQueue_,K(),i)}function bD(t,e,n){let i;B(e._path)===".info"?i=sh(t.infoSyncTree_,e,n):i=sh(t.serverSyncTree_,e,n),LE(t.eventQueue_,e._path,i)}function zE(t,e,n){let i;B(e._path)===".info"?i=Fo(t.infoSyncTree_,e,n):i=Fo(t.serverSyncTree_,e,n),LE(t.eventQueue_,e._path,i)}function ED(t){t.persistentConnection_&&t.persistentConnection_.interrupt(uD)}function el(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ue(n,...e)}function rh(t,e,n,i){e&&fa(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let a=s;i&&(a+=": "+i);const r=new Error(a);r.code=s,e(r)}})}function HE(t,e,n){return Xd(t.serverSyncTree_,e,n)||O.EMPTY_NODE}function lp(t,e=t.transactionQueueTree_){if(e||Lc(t,e),da(e)){const n=jE(t,e);C(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&SD(t,Jr(e),n)}else DE(e)&&Dc(e,n=>{lp(t,n)})}function SD(t,e,n){const i=n.map(c=>c.currentWriteId),s=HE(t,e,i);let a=s;const r=s.hash();for(let c=0;c<n.length;c++){const h=n[c];C(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=Ge(e,h.path);a=a.updateChild(f,h.currentOutputSnapshotRaw)}const l=a.val(!0),o=e;t.server_.put(o.toString(),l,c=>{el(t,"transaction put response",{path:o.toString(),status:c});let h=[];if(c==="ok"){const f=[];for(let u=0;u<n.length;u++)n[u].status=2,h=h.concat(Yn(t.serverSyncTree_,n[u].currentWriteId)),n[u].onComplete&&f.push(()=>n[u].onComplete(null,!0,n[u].currentOutputSnapshotResolved)),n[u].unwatcher();Lc(t,ip(t.transactionQueueTree_,e)),lp(t,t.transactionQueueTree_),At(t.eventQueue_,e,h);for(let u=0;u<f.length;u++)fa(f[u])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Ye("transaction at "+o.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}Qs(t,e)}},r)}function Qs(t,e){const n=BE(t,e),i=Jr(n),s=jE(t,n);return TD(t,s,i),i}function TD(t,e,n){if(e.length===0)return;const i=[];let s=[];const r=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const o=e[l],c=Ge(n,o.path);let h=!1,f;if(C(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),o.status===4)h=!0,f=o.abortReason,s=s.concat(Yn(t.serverSyncTree_,o.currentWriteId,!0));else if(o.status===0)if(o.retryCount>=fD)h=!0,f="maxretry",s=s.concat(Yn(t.serverSyncTree_,o.currentWriteId,!0));else{const u=HE(t,o.path,r);o.currentInputSnapshot=u;const p=e[l].update(u.val());if(p!==void 0){Ic("transaction failed: Data returned ",p,o.path);let _=Ce(p);typeof p=="object"&&p!=null&&Kt(p,".priority")||(_=_.updatePriority(u.getPriority()));const S=o.currentWriteId,m=kc(t),d=xE(_,u,m);o.currentOutputSnapshotRaw=_,o.currentOutputSnapshotResolved=d,o.currentWriteId=rp(t),r.splice(r.indexOf(S),1),s=s.concat(TE(t.serverSyncTree_,o.path,d,o.currentWriteId,o.applyLocally)),s=s.concat(Yn(t.serverSyncTree_,S,!0))}else h=!0,f="nodata",s=s.concat(Yn(t.serverSyncTree_,o.currentWriteId,!0))}At(t.eventQueue_,n,s),s=[],h&&(e[l].status=2,function(u){setTimeout(u,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(f==="nodata"?i.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):i.push(()=>e[l].onComplete(new Error(f),!1,null))))}Lc(t,t.transactionQueueTree_);for(let l=0;l<i.length;l++)fa(i[l]);lp(t,t.transactionQueueTree_)}function BE(t,e){let n,i=t.transactionQueueTree_;for(n=B(e);n!==null&&da(i)===void 0;)i=ip(i,n),e=se(e),n=B(e);return i}function jE(t,e){const n=[];return PE(t,e,n),n.sort((i,s)=>i.order-s.order),n}function PE(t,e,n){const i=da(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);Dc(e,s=>{PE(t,s,n)})}function Lc(t,e){const n=da(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,OE(e,n.length>0?n:void 0)}Dc(e,i=>{Lc(t,i)})}function op(t,e){const n=Jr(BE(t,e)),i=ip(t.transactionQueueTree_,e);return W2(i,s=>{Hu(t,s)}),Hu(t,i),IE(i,s=>{Hu(t,s)}),n}function Hu(t,e){const n=da(e);if(n){const i=[];let s=[],a=-1;for(let r=0;r<n.length;r++)n[r].status===3||(n[r].status===1?(C(a===r-1,"All SENT items should be at beginning of queue."),a=r,n[r].status=3,n[r].abortReason="set"):(C(n[r].status===0,"Unexpected transaction status in abort"),n[r].unwatcher(),s=s.concat(Yn(t.serverSyncTree_,n[r].currentWriteId,!0)),n[r].onComplete&&i.push(n[r].onComplete.bind(null,new Error("set"),!1,null))));a===-1?OE(e,void 0):n.length=a+1,At(t.eventQueue_,Jr(e),s);for(let r=0;r<i.length;r++)fa(i[r])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function wD(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ye(`Invalid query segment '${n}' in query '${t}'`)}return e}const a_=function(t,e){const n=AD(t),i=n.namespace;n.domain==="firebase.com"&&Tn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Tn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Mx();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Yb(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new te(n.pathString)}},AD=function(t){let e="",n="",i="",s="",a="",r=!0,l="https",o=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let h=t.indexOf("/");h===-1&&(h=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(s=CD(t.substring(h,f)));const u=wD(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(r=l==="https"||l==="wss",o=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const _=e.indexOf(".");i=e.substring(0,_).toLowerCase(),n=e.substring(_+1),a=i}"ns"in u&&(a=u.ns)}return{host:e,port:o,domain:n,subdomain:i,secure:r,scheme:l,pathString:s,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ae(this.snapshot.exportVal())}}class ND{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return C(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return G(this._path)?null:Ud(this._path)}get ref(){return new wn(this._repo,this._path)}get _queryIdentifier(){const e=Yg(this._queryParams),n=Id(e);return n==="{}"?"default":n}get _queryObject(){return Yg(this._queryParams)}isEqual(e){if(e=ht(e),!(e instanceof up))return!1;const n=this._repo===e._repo,i=zd(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+gO(this._path)}}class wn extends up{constructor(e,n){super(e,n,new Pd,!1)}get parent(){const e=eE(this._path);return e===null?null:new wn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ar{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new te(e),i=lh(this.ref,e);return new Ar(this._node.getChild(n),i,me)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new Ar(s,lh(this.ref,i),me)))}hasChild(e){const n=new te(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ra(t,e){return t=ht(t),t._checkNotDeleted("ref"),e!==void 0?lh(t._root,e):t._root}function lh(t,e){return t=ht(t),B(t._path)===null?aD("child","path",e):kE("child","path",e),new wn(t._repo,pe(t._path,e))}function r_(t,e){t=ht(t),rD("set",t._path),nD("set",e,t._path);const n=new Gr;return _D(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function xD(t,e){sD("update",e,t._path);const n=new Gr;return yD(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function OD(t){t=ht(t);const e=new cp(()=>{}),n=new tl(e);return gD(t._repo,t,n).then(i=>new Ar(i,new wn(t._repo,t._path),t._queryParams.getIndex()))}class tl{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new RD("value",this,new Ar(e.snapshotNode,new wn(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ND(this,e,n):null}matches(e){return e instanceof tl?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function DD(t,e,n,i,s){const a=new cp(n,void 0),r=new tl(a);return bD(t._repo,t,r),()=>zE(t._repo,t,r)}function ID(t,e,n,i){return DD(t,"value",e)}function MD(t,e,n){let i=null;const s=n?new cp(n):null;i=new tl(s),zE(t._repo,t,i)}N2(wn);M2(wn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="FIREBASE_DATABASE_EMULATOR_HOST",oh={};let LD=!1;function UD(t,e,n,i){const s=e.lastIndexOf(":"),a=e.substring(0,s),r=la(a);t.repoInfo_=new Yb(e,r,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function zD(t,e,n,i,s){let a=i||t.options.databaseURL;a===void 0&&(t.options.projectId||Tn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ue("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let r=a_(a,s),l=r.repoInfo,o;typeof process<"u"&&Rg&&(o=Rg[kD]),o?(a=`http://${o}?ns=${l.namespace}`,r=a_(a,s),l=r.repoInfo):r.repoInfo.secure;const c=new Gx(t.name,t.options,e);lD("Invalid Firebase Database URL",r),G(r.path)||Tn("Database URL must point to the root of a Firebase Database (not including a child path).");const h=BD(l,t,c,new qx(t,n));return new jD(h,t)}function HD(t,e){const n=oh[e];(!n||n[t.key]!==t)&&Tn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),ED(t),delete n[t.key]}function BD(t,e,n,i){let s=oh[e.name];s||(s={},oh[e.name]=s);let a=s[t.toURLString()];return a&&Tn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new hD(t,LD,n,i),s[t.toURLString()]=a,a}class jD{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(dD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new wn(this._repo,K())),this._rootInternal}_delete(){return this._rootInternal!==null&&(HD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Tn("Cannot call "+e+" on a deleted database.")}}function PD(t=W0(),e){const n=Td(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=$w("database");i&&VD(n,...i)}return n}function VD(t,e,n,i={}){t=ht(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,a=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&ji(i,a.repoInfo_.emulatorOptions))return;Tn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let r;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&Tn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new Fl(Fl.OWNER);else if(i.mockUserToken){const l=typeof i.mockUserToken=="string"?i.mockUserToken:Zw(i.mockUserToken,t.app.options.projectId);r=new Fl(l)}la(e)&&(q0(e),G0("Database",!0)),UD(a,s,i,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(t){Rx(ca),qs(new Pi("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return zD(i,s,a,n)},"PUBLIC").setMultipleInstances(!0)),ii(Ng,xg,t),ii(Ng,xg,"esm2020")}dn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};dn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};qD();const VE={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",databaseURL:""},GD=!!VE.apiKey;let Ko=null,zt=null;try{GD?(Ko=X0(VE),zt=PD(Ko),console.log("Firebase initialized successfully")):console.warn("Firebase configuration missing. Using Mock Mode.")}catch(t){console.error("Firebase initialization failed:",t)}let Jt=null;if(Ko)try{Jt=Tx(Ko)}catch{console.warn("Auth initialization failed, falling back to mock")}const l_={uid:"mock-user-"+Math.floor(Math.random()*1e4),isAnonymous:!0,displayName:"Guest"},ch={signIn:async()=>{if(!Jt)return console.log("Mock SignIn successful"),await new Promise(t=>setTimeout(t,500)),l_;try{return(await rN(Jt)).user}catch(t){throw console.error("Error signing in anonymously:",t),t}},onAuthStateChange:t=>Jt?hN(Jt,t):(t(null),()=>{}),getCurrentUser:()=>Jt?Jt.currentUser:l_,signOut:()=>Jt?Jt.signOut():Promise.resolve()},Na=()=>{try{return JSON.parse(localStorage.getItem("web-hitster-rooms")||"{}")}catch{return{}}},Bu=t=>{localStorage.setItem("web-hitster-rooms",JSON.stringify(t))},Qo={createRoom:async t=>{const e=YD(),n={hostId:t.uid,status:"LOBBY",createdAt:Date.now(),players:{[t.uid]:{id:t.uid,name:"Host",score:0,isHost:!0}}};if(zt){const i=Ra(zt,`rooms/${e}`);await r_(i,n)}else{const i=Na();i[e]=n,Bu(i),console.log("Mock Room Created:",e)}return e},joinRoom:async(t,e,n)=>{if(zt){const i=Ra(zt,`rooms/${t}`),s=await OD(i);if(!s.exists())throw new Error("Room not found");const a=s.val(),r=Ra(zt,`rooms/${t}/players/${e.uid}`);return await r_(r,{id:e.uid,name:n,score:0,isHost:!1}),a}else{const i=Na(),s=i[t];if(!s)throw new Error("Room not found (Mock)");return s.players[e.uid]={id:e.uid,name:n,score:0,isHost:!1},Bu(i),s}},subscribeToRoom:(t,e)=>{if(zt){const n=Ra(zt,`rooms/${t}`),i=ID(n,s=>{const a=s.val();a&&e(a)});return()=>MD(n,"value",i)}else{const n=setInterval(()=>{const a=Na()[t];a&&e(a)},500),i=Na()[t];return i&&e(i),()=>clearInterval(n)}},startGame:async t=>{if(zt){const e=Ra(zt,`rooms/${t}`);await xD(e,{status:"PLAYING"})}else{const e=Na();e[t]&&(e[t].status="PLAYING",Bu(e))}}};function YD(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ";let e="";for(let n=0;n<4;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),o_=t=>{const e=KD(t);return e.charAt(0).toUpperCase()+e.slice(1)},qE=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),QD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:a,iconNode:r,...l},o)=>E.createElement("svg",{ref:o,...XD,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:qE("lucide",s),...!a&&!QD(l)&&{"aria-hidden":"true"},...l},[...r.map(([c,h])=>E.createElement(c,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=(t,e)=>{const n=E.forwardRef(({className:i,...s},a)=>E.createElement(WD,{ref:a,iconNode:e,className:qE(`lucide-${FD(o_(t))}`,`lucide-${t}`,i),...s}));return n.displayName=o_(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ZD=An("check",$D);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],eI=An("circle-check-big",JD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],nI=An("circle-x",tI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],sI=An("copy",iI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],rI=An("house",aI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],oI=An("music",lI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],fp=An("play",cI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],fI=An("trophy",uI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],GE=An("users",hI),YE={credentialsUpdated:"CredentialsUpdatedMessage"};class ke extends Error{errorCode;constructor(e,n){super(e,n),Object.setPrototypeOf(this,ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ke),this.name="TidalError",this.errorCode=e}}class Xo extends ke{constructor(e,n){super(e,n),Object.setPrototypeOf(this,Xo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xo),this.name="IllegalArgumentError"}}class Rr extends ke{constructor(e,n){super(e,n),Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rr),this.name="NetworkError"}}class mi extends ke{constructor(e,n){super(e,n),Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mi),this.name="RetryableError"}}class dI{#e;#t=!1;#n;#i;constructor(e){this.#i=new URL(e),this.synchronize()}now(e=Date.now()){return!this.#n||!this.#e?(console.warn("TrueTime is not yet synchronized"),e):this.#n+(e-this.#e)}async synchronize(){if(!(this.#e&&Math.abs(Date.now()-this.#e)<36e5||this.#t)){this.#t=!0;try{const e=await fetch(this.#i);e.ok&&e.headers.has("date")&&(this.#n=new Date(e.headers.get("date")).getTime(),this.#e=Date.now())}catch(e){console.error(e)}this.#t=!1}}timestamp(e,n){let i;if(n){if(i=performance.getEntriesByName(e).find(s=>"detail"in s&&s.detail===n),!i)throw new ReferenceError(`There is no performance entry named "${e}" with detail "${n}"`)}else i=performance.getEntriesByName(e).pop();return i?i.startTime:void 0}}const hp=new dI("https://api.tidal.com/v1/ping");class Wo extends ke{constructor(e,n){super(e,n),Object.setPrototypeOf(this,Wo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wo),this.name="AuthenticationError"}}class $o extends ke{constructor(e,n){super(e,n),Object.setPrototypeOf(this,$o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$o),this.name="TokenResponseError"}}class Xs extends ke{constructor(e,n){super(e,n),Object.setPrototypeOf(this,Xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xs),this.name="UnexpectedError"}}const ye={authenticationError:"A0000",illegalArgumentError:"A0007",initError:"A0001",networkError:"A0002",retryableError:"A0003",storageError:"A0004",tokenResponseError:"A0005",unexpectedError:"A0006"},ju="AuthDB";function pI(t){return String.fromCharCode(...new Uint8Array(t))}function mI(t){const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0,s=t.length;i<s;i++)n[i]=t.charCodeAt(i);return n}const St={getItem:t=>{const e=globalThis.localStorage.getItem(`${ju}/${t}`);return e?mI(e):void 0},removeItem:t=>{globalThis.localStorage.removeItem(`${ju}/${t}`)},setItem:(t,e)=>{globalThis.localStorage.setItem(`${ju}/${t}`,pI(e))}},FE=t=>{const e=new TextEncoder;return globalThis.crypto.subtle.importKey("raw",e.encode(t),{name:"PBKDF2"},!1,["deriveBits","deriveKey"])},KE=(t,e)=>globalThis.crypto.subtle.deriveKey({hash:"SHA-256",iterations:1e5,name:"PBKDF2",salt:e},t,{length:256,name:"AES-KW"},!0,["wrapKey","unwrapKey"]),gI=async(t,e)=>{const n=await FE(e);return KE(n,t)},_I=t=>new TextEncoder().encode(t),yI=t=>new TextDecoder().decode(t),vI=async({keyToWrap:t,password:e,salt:n})=>{const i=await FE(e),s=await KE(i,n);return globalThis.crypto.subtle.wrapKey("raw",t,s,"AES-KW")},QE=async({password:t,salt:e,wrappedKeyBuffer:n})=>{const i=await gI(e,t);return globalThis.crypto.subtle.unwrapKey("raw",n,i,"AES-KW","AES-CTR",!0,["encrypt","decrypt"])},bI=({content:t,counter:e,key:n})=>globalThis.crypto.subtle.encrypt({counter:e,length:64,name:"AES-CTR"},n,t),EI=({counter:t,encryptedCredentials:e,key:n})=>globalThis.crypto.subtle.decrypt({counter:t,length:64,name:"AES-CTR"},n,e),SI=()=>globalThis.crypto.subtle.generateKey({length:256,name:"AES-CTR"},!0,["encrypt","decrypt"]),TI=async({password:t,storageKey:e})=>{const n=await SI(),i=globalThis.crypto.getRandomValues(new Uint8Array(16)),s=globalThis.crypto.getRandomValues(new Uint8Array(16)),a=await vI({keyToWrap:n,password:t,salt:s});try{St.setItem(`${e}Counter`,i),St.setItem(`${e}Salt`,s),St.setItem(`${e}Key`,a)}catch(r){throw new ke(ye.storageError,{cause:r})}},XE=t=>({counter:St.getItem(`${t}Counter`),encryptedCredentials:St.getItem(`${t}Data`),salt:St.getItem(`${t}Salt`),wrappedKey:St.getItem(`${t}Key`)}),WE=async t=>{const{counter:e,encryptedCredentials:n,salt:i,wrappedKey:s}=XE(t);if(n&&e&&s&&i)try{const a=await QE({password:t,salt:i,wrappedKeyBuffer:s}),r=await EI({counter:e,encryptedCredentials:n,key:a});return JSON.parse(yI(r))}catch{throw new ke(ye.storageError)}else return TI({password:t,storageKey:t})},CI=async t=>{const n={...await WE(t.credentialsStorageKey),...t},{counter:i,salt:s,wrappedKey:a}=XE(t.credentialsStorageKey);if(!a||!i||!s)throw new ke(ye.storageError);try{const r=await QE({password:n.credentialsStorageKey,salt:s,wrappedKeyBuffer:a}),l=await bI({content:_I(JSON.stringify(n)),counter:i,key:r});St.setItem(`${n.credentialsStorageKey}Data`,l)}catch(r){throw new ke(ye.storageError,{cause:r})}},wI=t=>{St.removeItem(`${t}Data`),St.removeItem(`${t}Counter`),St.removeItem(`${t}Salt`),St.removeItem(`${t}Key`)},AI=async t=>{if(t.status===0)return new Rr(ye.networkError);if(t.status>=400&&t.status<500)return new Xs(ye.unexpectedError);if(t.status>=500&&t.status<600)return new mi(ye.retryableError);const{error:e}=await t.json();return new $o(ye.tokenResponseError,{cause:e})},dp=async({body:t,credentials:e})=>{const{options:n,url:i}=$E({body:t,credentials:e,path:"oauth2/token"}),s=await ZE({request:()=>globalThis.fetch(i,n),retry:a=>a.status>=500&&a.status<600});return s.ok?s:await AI(s)},$E=({body:t,credentials:e,path:n})=>{const i=`${e.tidalAuthServiceBaseUri}${n}`;return{options:{body:new URLSearchParams(t).toString(),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST"},url:i}},ZE=async({delayInMs:t=500,request:e,retry:n})=>{let i=1;const s=()=>i>32;for(;!s();){await new Promise(l=>setTimeout(l,i*t));const a=await e();if(i*=2,!n(a)||s())return a}throw new Xs(ye.unexpectedError)},RI=async t=>{const e=new TextEncoder().encode(t),n=await globalThis.crypto.subtle.digest("SHA-256",e),i=new Uint8Array(n),s=i.byteLength;let a="";for(let r=0;r<s;r+=1)a+=String.fromCharCode(i[r]);return globalThis.btoa(a)},JE=t=>t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),NI=()=>{const t=new Uint8Array(100);return JE(btoa(globalThis.crypto.getRandomValues(t).toString())).slice(0,128)},x={pending:!1,pendingPromises:[]},xI="https://login.tidal.com/",OI="https://auth.tidal.com/v1/",DI=["11003","6001","11001","11002","11101"],II=t=>globalThis.addEventListener("authEventBus",t),eS=t=>{const e=new CustomEvent("authEventBus",{detail:t});globalThis.dispatchEvent(e)},MI=t=>{eS({payload:t,type:YE.credentialsUpdated})},tS=async({clientId:t,clientSecret:e,clientUniqueKey:n,credentialsStorageKey:i,scopes:s,tidalAuthServiceBaseUri:a,tidalLoginServiceBaseUri:r})=>{const l=await WE(i),o={...l,clientId:t,...e&&{clientSecret:e},clientUniqueKey:n,credentialsStorageKey:i,previousClientSecret:l?.clientSecret,scopes:s??[],tidalAuthServiceBaseUri:a??l?.tidalAuthServiceBaseUri??OI,tidalLoginServiceBaseUri:r??l?.tidalLoginServiceBaseUri??xI};await mp(o),await hp.synchronize()},nS=async({loginConfig:t,redirectUri:e})=>{if(!x.credentials)throw new ke(ye.initError);const n=NI(),i=await RI(n);await mp({...x.credentials,codeChallenge:n,redirectUri:e});const s={...t,client_id:x.credentials.clientId,...x.credentials.clientUniqueKey&&{client_unique_key:x.credentials.clientUniqueKey},code_challenge:JE(i),code_challenge_method:"S256",redirect_uri:e,response_type:"code",scope:x.credentials.scopes.join(" ")},a=new URLSearchParams(s).toString();return`${x.credentials.tidalLoginServiceBaseUri}authorize?${a}`},iS=async t=>{if(!x.credentials?.credentialsStorageKey||!x.credentials?.codeChallenge||!x.credentials?.redirectUri)throw new ke(ye.initError);const{clientId:e,clientSecret:n,clientUniqueKey:i,codeChallenge:s,redirectUri:a,scopes:r}=x.credentials,l=Object.fromEntries(new URLSearchParams(t));if(!l.code)throw new Wo(ye.authenticationError);const o={client_id:e,...i&&{client_unique_key:i},...n&&{client_secret:n},code:l.code,code_verifier:s,grant_type:"authorization_code",redirect_uri:a,scope:r.join(" ")},c=await dp({body:o,credentials:x.credentials});if(c instanceof Error)throw c;const h=await c.json();await Uc(h)},Zo=()=>{eS({type:YE.credentialsUpdated}),x.credentials?.credentialsStorageKey&&wI(x.credentials.credentialsStorageKey),delete x.credentials,delete x.limitedDeviceResponse},kI=async()=>{if(x.credentials?.refreshToken){const t={...x.credentials.clientSecret&&{client_secret:x.credentials.clientSecret},client_id:x.credentials.clientId,grant_type:"refresh_token",refresh_token:x.credentials.refreshToken,scope:x.credentials.scopes.join(" ")},e=await dp({body:t,credentials:x.credentials});if(e instanceof Error)return e;const n=await e.json();return Uc(n)}else return pp()},LI=async()=>{if(x.credentials?.refreshToken){const t={...x.credentials.clientSecret&&{client_secret:x.credentials.clientSecret},client_id:x.credentials.clientId,grant_type:"update_client",refresh_token:x.credentials.refreshToken,scope:x.credentials.scopes.join(" ")},{options:e,url:n}=$E({body:t,credentials:x.credentials,path:"oauth2/token"}),i=await ZE({request:()=>globalThis.fetch(n,e),retry:a=>a.status>=400&&a.status<600});if(!i.ok)throw i.status===0?new Rr(ye.networkError):new mi(ye.retryableError);const s=await i.json();return Uc(s)}else{if(x.credentials){const t=await pp();if(t&&"token"in t)return x.credentials.previousClientSecret=x.credentials.clientSecret,t;throw new mi(ye.retryableError)}throw new ke(ye.unexpectedError)}},pp=async()=>{if(x.credentials?.clientSecret){const t={client_id:x.credentials.clientId,client_secret:x.credentials.clientSecret,grant_type:"client_credentials"},e=await dp({body:t,credentials:x.credentials});if(e instanceof Error)return e;const n=await e.json();return Uc(n)}},UI=async t=>(x.pending&&await new Promise(e=>{x.pendingPromises.push(e)}),zI(t).finally(()=>{const e=x.pendingPromises.shift();e&&e(),x.pending=!1})),zI=async t=>{if(x.credentials){x.pending=!0;const{accessToken:e}=x.credentials,n=60*1e3;if(e){const i=x.credentials.scopes.every(l=>e.grantedScopes?.includes(l));if(x.credentials.clientUniqueKey!==e.clientUniqueKey||e.userId&&i===!1)throw Zo(),new Xo(ye.illegalArgumentError);if(x.credentials.clientId!==e?.clientId||!!(x.credentials.previousClientSecret&&x.credentials.previousClientSecret!==x.credentials.clientSecret)){const l=await LI();if(l&&"token"in l)return l;throw new mi(ye.retryableError)}if(!!!(t&&DI.includes(t))&&e.expires&&e.expires>hp.now()+n)return e;const r=await kI();if(r&&"token"in r)return r;if(r instanceof Xs)throw Zo(),r;if(r instanceof mi)throw r}else if(x.credentials.clientSecret){const i=await pp();if(i&&"token"in i)return i;if(i instanceof Error)throw i}else return{clientId:x.credentials.clientId,requestedScopes:x.credentials.scopes}}throw new ke(ye.initError)},mp=t=>{x.credentials=t;const e={...x.credentials.accessToken,clientId:x.credentials.clientId,requestedScopes:x.credentials.scopes};return MI(e),CI(x.credentials)},Uc=async t=>{if(!x.credentials)throw new ke(ye.initError);const{clientId:e,clientUniqueKey:n,scopes:i}=x.credentials,s=t.scope?.length?t.scope?.split(" "):[],a={clientId:e,clientUniqueKey:n,expires:hp.now()+t.expires_in*1e3,grantedScopes:s,requestedScopes:i,token:t.access_token,...t.user_id&&{userId:t.user_id.toString()}};return await mp({...x.credentials,accessToken:a,...t.refresh_token&&{refreshToken:t.refresh_token}}),a},pa={bus:II,getCredentials:UI},HI=Object.freeze(Object.defineProperty({__proto__:null,authErrorCodeMap:ye,credentialsProvider:pa,finalizeLogin:iS,init:tS,initializeLogin:nS,logout:Zo},Symbol.toStringTag,{value:"Module"})),BI="KGztvO6qzZCJMKoN",jI="https://strawbirdies.com/tidal-callback";let uh=!1;const PI={init:async()=>{console.log("DummyEventSender: init (Skipped)")},sendEvent:t=>{},setConsentCategory:()=>{console.log("DummyEventSender: setConsentCategory (Skipped)")},setCredentialsProvider:()=>{console.log("DummyEventSender: setCredentialsProvider (Skipped)")},getConfig:()=>({blockedConsentCategories:{NECESSARY:!1,PERFORMANCE:!0,TARGETING:!0},appInfo:{appName:"Web-Hitster",appVersion:"1.0.0"},platform:{browserName:"Chrome",browserVersion:"110",osName:"Windows"},tlConsumerUri:"https://tl.tidal.com/v1/log/batch",tlPublicConsumerUri:"https://tl.tidal.com/v1/log/batch",feralEventTypes:[],strictMode:!1}),bus:{postMessage:()=>{},subscribe:()=>{},publish:()=>{}}},gp=async()=>{console.log("--- Step 1: Initializing Auth ---");try{await tS({clientId:BI,credentialsStorageKey:"tidal_credentials",scopes:[]}),console.log("Tidal Auth Initialized"),await pa.getCredentials()?(console.log("Valid credentials found. Initializing Player..."),await sS()):console.log("No credentials found. User needs to login.")}catch(t){console.error("Fatal Error during Auth Initialization:",t),(t.message?.includes("A0007")||t.errorCode==="A0007")&&(console.warn("Clearing stale credentials..."),localStorage.removeItem("tidal_credentials"),window.location.reload())}},sS=async()=>{if(!uh){console.log("--- Step 2: Initializing Player ---");try{cS(pa),uS(PI),await fS({players:[{player:"browser",itemTypes:["track","video"]}]}),uh=!0,console.log("Tidal Player Bootstrapped & Ready")}catch(t){console.error("Fatal Error during Player Bootstrap:",t)}}},aS=async()=>{console.log("--- Starting Login Flow ---");try{const{initializeLogin:t}=await u_(async()=>{const{initializeLogin:n}=await Promise.resolve().then(()=>HI);return{initializeLogin:n}},[]),e=await t({redirectUri:jI});window.location.href=e}catch(t){console.error("Login Initialization Failed:",t)}},rS=async t=>{console.log(`--- Requesting Playback for ${t} ---`),uh||(console.warn("Player not ready. Attempting lazy init..."),await sS());try{await hS({productId:t,productType:"track",sourceId:"web-hitster",sourceType:"search"},0,!1),await dS(),console.log("Playback Started")}catch(e){console.error("Playback Failed:",e)}},_p=async t=>{try{const e=await lS(),n=new URL("https://openapi.tidal.com/search");n.searchParams.append("query",t),n.searchParams.append("type","TRACKS"),n.searchParams.append("limit","10"),n.searchParams.append("countryCode","US");const i=await fetch(n.toString(),{headers:e});if(!i.ok)throw new Error(`Search failed: ${i.status}`);return await i.json()}catch(e){return console.error("Search Error:",e),{albums:[],artists:[],tracks:[],videos:[]}}},lS=async()=>{const t=await pa.getCredentials();if(!t?.token)throw new Error("No Token");return{Authorization:`Bearer ${t.token}`,"Content-Type":"application/vnd.tidal.v1+json"}},VI=Object.freeze(Object.defineProperty({__proto__:null,getTidalHeaders:lS,initTidalAuth:gp,loginTidal:aS,playTrack:rS,searchTidal:_p},Symbol.toStringTag,{value:"Module"}));function qI(){const t=Vr(),[e,n]=E.useState(""),[i,s]=E.useState(""),[a,r]=E.useState(!1),[l,o]=E.useState(!1),[c,h]=E.useState(null),[f,u]=E.useState(!1);E.useEffect(()=>{(async()=>{try{const S=await pa.getCredentials();S&&(S.token||S.accessToken)&&u(!0)}catch{}})()},[]);const p=async()=>{o(!0),h(null);try{const b=await ch.signIn(),S=await Qo.createRoom(b);t(`/lobby/${S}`)}catch(b){console.error(b),h("Failed to create room. check console.")}finally{o(!1)}},_=async b=>{if(b.preventDefault(),!(!e||!i)){o(!0),h(null);try{const S=await ch.signIn();await Qo.joinRoom(e.toUpperCase(),S,i),t(`/lobby/${e.toUpperCase()}`)}catch(S){console.error(S),h(S.message||"Failed to join room.")}finally{o(!1)}}};return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 flex flex-col items-center justify-center p-4 text-white",children:y.jsxs("div",{className:"max-w-md w-full bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-white/20",children:[y.jsxs("div",{className:"flex flex-col items-center mb-8",children:[y.jsx("div",{className:"bg-gradient-to-tr from-pink-500 to-orange-400 p-4 rounded-full mb-4 shadow-lg shadow-pink-500/20",children:y.jsx(oI,{className:"w-12 h-12 text-white"})}),y.jsx("h1",{className:"text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-pink-300 to-orange-200",children:"Web-Hitster"}),y.jsx("p",{className:"text-white/60 mt-2 text-center",children:"The Timeline Music Game"})]}),c&&y.jsx("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 p-3 rounded-lg mb-6 text-sm text-center",children:c}),y.jsx("div",{className:"mb-8",children:f?y.jsxs("button",{disabled:!0,className:"w-full bg-emerald-500/20 text-emerald-300 font-bold py-3 rounded-xl border border-emerald-500/50 flex items-center justify-center gap-3 cursor-default",children:[y.jsx(ZD,{className:"w-5 h-5"}),"Tidal Connected"]}):y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:aS,className:"w-full bg-black text-white font-bold py-3 rounded-xl border border-white/20 hover:bg-zinc-900 transition-all flex items-center justify-center gap-3",children:[y.jsx("img",{src:"https://tidal.com/favicon.ico",alt:"Tidal",className:"w-5 h-5"}),"Connect Tidal Account"]}),y.jsx("p",{className:"text-xs text-white/40 text-center mt-2",children:"Required to play music snippets"})]})}),a?y.jsxs("form",{onSubmit:_,className:"space-y-4 animate-in fade-in slide-in-from-bottom-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1",children:"Room Code"}),y.jsx("input",{type:"text",placeholder:"ABCD",maxLength:4,value:e,onChange:b=>n(b.target.value.toUpperCase()),className:"w-full bg-black/20 border border-white/20 rounded-xl px-4 py-3 text-2xl font-mono text-center tracking-widest focus:outline-none focus:ring-2 focus:ring-pink-500 placeholder-white/20 text-white uppercase"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1",children:"Your Name"}),y.jsx("input",{type:"text",placeholder:"Enter your name",value:i,onChange:b=>s(b.target.value),className:"w-full bg-black/20 border border-white/20 rounded-xl px-4 py-3 text-lg focus:outline-none focus:ring-2 focus:ring-pink-500 placeholder-white/20 text-white"})]}),y.jsxs("div",{className:"flex gap-3 mt-6",children:[y.jsx("button",{type:"button",onClick:()=>r(!1),className:"flex-1 bg-white/5 border border-white/10 text-white py-3 rounded-xl hover:bg-white/10 transition-colors",children:"Back"}),y.jsx("button",{type:"submit",disabled:l||!e||!i,className:"flex-[2] bg-gradient-to-r from-pink-500 to-orange-500 text-white font-bold py-3 rounded-xl hover:opacity-90 transition-opacity shadow-lg shadow-pink-500/25 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Joining...":"Join Game"})]})]}):y.jsxs("div",{className:"space-y-4",children:[y.jsx("button",{onClick:p,disabled:l,className:"w-full bg-white text-purple-900 font-bold py-4 rounded-xl hover:bg-gray-100 transition-all transform hover:scale-[1.02] flex items-center justify-center gap-3 shadow-lg",children:l?"Creating...":y.jsxs(y.Fragment,{children:[y.jsx(fp,{className:"w-5 h-5 fill-current"}),"Start New Game"]})}),y.jsxs("button",{onClick:()=>r(!0),className:"w-full bg-white/5 border border-white/10 text-white font-medium py-4 rounded-xl hover:bg-white/10 transition-all flex items-center justify-center gap-3",children:[y.jsx(GE,{className:"w-5 h-5"}),"Join Existing Game"]})]})]})})}function GI(){const{roomId:t}=R0(),e=Vr(),[n,i]=E.useState(null),[s,a]=E.useState(null),[r,l]=E.useState(!0);E.useEffect(()=>{const u=ch.getCurrentUser();if(!u){e("/");return}a(u);const p=Qo.subscribeToRoom(t,_=>{i(_),l(!1),_.status==="PLAYING"&&e(`/game/${t}`)});return()=>p()},[t,e]);const o=async()=>{try{await Qo.startGame(t)}catch(u){console.error("Failed to start game:",u)}},c=()=>{navigator.clipboard.writeText(t)};if(r)return y.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-white",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})});if(!n)return y.jsx("div",{className:"text-white text-center pt-20",children:"Room not found"});const h=Object.values(n.players||{}),f=n.hostId===s?.uid;return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 p-4 font-sans text-white",children:y.jsxs("div",{className:"max-w-2xl mx-auto pt-10",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("p",{className:"text-white/60 uppercase tracking-widest text-sm mb-2",children:"Room Code"}),y.jsxs("div",{onClick:c,className:"inline-flex items-center gap-4 bg-white/10 border border-white/20 rounded-2xl px-8 py-4 cursor-pointer hover:bg-white/20 transition-colors",children:[y.jsx("span",{className:"text-6xl font-mono font-bold tracking-wider",children:t}),y.jsx(sI,{className:"w-6 h-6 text-white/50"})]}),y.jsx("p",{className:"text-white/40 text-xs mt-2",children:"Click to copy code"})]}),y.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-8 border border-white/10 mb-8",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[y.jsx(GE,{className:"w-6 h-6 text-pink-400"}),"Players (",h.length,")"]}),f&&y.jsx("span",{className:"px-3 py-1 bg-pink-500/20 text-pink-300 text-xs font-bold rounded-full uppercase tracking-wider",children:"You are Host"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(u=>y.jsxs("div",{className:"flex items-center gap-4 bg-white/5 rounded-xl p-4 border border-white/5",children:[y.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg
                  ${u.isHost?"bg-gradient-to-tr from-pink-500 to-orange-400":"bg-slate-700"}
                `,children:u.name.charAt(0).toUpperCase()}),y.jsxs("div",{children:[y.jsx("div",{className:"font-bold",children:u.name}),u.isHost&&y.jsx("div",{className:"text-xs text-white/50",children:"Host"})]})]},u.id))})]}),f?y.jsxs("button",{onClick:o,className:"w-full bg-gradient-to-r from-pink-500 to-orange-500 text-white font-bold py-5 rounded-2xl hover:opacity-90 transition-all transform hover:scale-[1.01] shadow-xl shadow-pink-500/20 flex items-center justify-center gap-3 text-xl",children:[y.jsx(fp,{className:"fill-current w-6 h-6"}),"Start Game"]}):y.jsx("div",{className:"text-center text-white/50 animate-pulse",children:"Waiting for host to start..."})]})})}const YI=[{id:"1",name:"Billie Jean",artist:"Michael Jackson",year:1982,image:"https://upload.wikimedia.org/wikipedia/en/5/55/Michael_Jackson_-_Thriller.png",tidalUrl:"https://listen.tidal.com/track/10237021"},{id:"2",name:"Smells Like Teen Spirit",artist:"Nirvana",year:1991,image:"https://upload.wikimedia.org/wikipedia/en/3/32/Nirvana-Smells_Like_Teen_Spirit.jpg",tidalUrl:"https://listen.tidal.com/track/68644558"},{id:"3",name:"Hey Ya!",artist:"OutKast",year:2003,image:"https://upload.wikimedia.org/wikipedia/en/1/1e/OutKast_-_Hey_Ya%21_cover.jpg",tidalUrl:"https://listen.tidal.com/track/34217316"},{id:"4",name:"Bohemian Rhapsody",artist:"Queen",year:1975,image:"https://upload.wikimedia.org/wikipedia/en/9/9f/Bohemian_Rhapsody.png",tidalUrl:"https://listen.tidal.com/track/77626961"},{id:"5",name:"Uptown Funk",artist:"Mark Ronson ft. Bruno Mars",year:2014,image:"https://upload.wikimedia.org/wikipedia/en/a/ad/Mark_Ronson_-_Uptown_Funk_%28feat._Bruno_Mars%29_%28Official_Single_Cover%29.png",tidalUrl:"https://listen.tidal.com/track/39327917"},{id:"6",name:"Blinding Lights",artist:"The Weeknd",year:2019,image:"https://upload.wikimedia.org/wikipedia/en/e/e6/The_Weeknd_-_Blinding_Lights.png",tidalUrl:"https://listen.tidal.com/track/134988755"},{id:"7",name:"Rolling in the Deep",artist:"Adele",year:2010,image:"https://upload.wikimedia.org/wikipedia/en/7/74/Adele_-_Rolling_in_the_Deep.png",tidalUrl:"https://listen.tidal.com/track/68625296"},{id:"8",name:"I Want to Hold Your Hand",artist:"The Beatles",year:1963,image:"https://upload.wikimedia.org/wikipedia/en/b/bf/I_want_to_hold_your_hand_single.png",tidalUrl:"https://listen.tidal.com/track/78642289"},{id:"9",name:"Like a Prayer",artist:"Madonna",year:1989,image:"https://upload.wikimedia.org/wikipedia/en/2/27/Like_a_prayer_single.jpg",tidalUrl:"https://listen.tidal.com/track/54434"},{id:"10",name:"Wannabe",artist:"Spice Girls",year:1996,image:"https://upload.wikimedia.org/wikipedia/en/a/a5/Spice_Girls_-_Wannabe_cover.png",tidalUrl:"https://listen.tidal.com/track/2501007"}],FI={getPlaylistTracks:async()=>(await new Promise(t=>setTimeout(t,800)),[...YI].sort(()=>Math.random()-.5)),playTrack:async t=>(console.log(`Playing mock track ${t}`),!0)},KI=()=>{const{roomId:t}=R0(),e=Vr(),[n,i]=E.useState([]),[s,a]=E.useState([]),[r,l]=E.useState(null),[o,c]=E.useState("loading"),[h,f]=E.useState(0),[u,p]=E.useState(null);E.useEffect(()=>{(async()=>{const g=[...await FI.getPlaylistTracks()].sort(()=>Math.random()-.5),v=g.pop(),w=g.pop();a([v]),l(w),i(g),c("playing")})()},[]);const _=async m=>{try{let d;if(m.tidalUrl){const g=m.tidalUrl.match(/track\/(\d+)/);g&&(d=g[1])}if(!d){const g=`${m.name} ${m.artist}`;console.log("Searching Tidal for:",g);const v=await _p(g),w=v.tracks?.items?.[0]||v.items?.[0]||v.tracks?.[0];w&&(d=w.id)}d?(console.log("Refined Playback: Playing Track ID:",d),await rS(d)):(console.warn("No Tidal track found"),alert("Could not find this track on Tidal."))}catch(d){console.error("Playback error:",d),alert("Playback failed. Please ensure you are logged into Tidal.")}},b=m=>{if(o!=="playing")return;const d=m>0?s[m-1]:null,g=m<s.length?s[m]:null,v=d?d.year:-1/0,w=g?g.year:1/0;if(r.year>=v&&r.year<=w){f(N=>N+1),p({type:"correct",index:m});const A=[...s];A.splice(m,0,r),setTimeout(()=>{a(A),p(null),S()},1e3)}else{let A=0;for(let N=0;N<=s.length;N++){const I=N>0?s[N-1].year:-1/0,L=N<s.length?s[N].year:1/0;if(r.year>=I&&r.year<=L){A=N;break}}p({type:"wrong",correctIndex:A}),c("gameEnd")}},S=()=>{if(n.length===0){c("gameEnd");return}const m=n.pop();i([...n]),l(m),c("playing")};return o==="loading"?y.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-white",children:"Loading..."}):o==="gameEnd"?y.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-white p-4",children:y.jsxs("div",{className:"bg-slate-900 p-8 rounded-2xl max-w-md w-full text-center border border-slate-800",children:[y.jsx(fI,{className:`w-16 h-16 mx-auto mb-6 ${h>5?"text-yellow-500":"text-slate-500"}`}),y.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Game Over!"}),y.jsx("p",{className:"text-slate-400 mb-8",children:u?.type==="wrong"?"Wrong placement!":"You cleared the deck!"}),u?.type==="wrong"&&r&&y.jsxs("div",{className:"mb-6 bg-red-500/10 border border-red-500/50 p-4 rounded-xl",children:[y.jsx("p",{className:"text-sm text-red-200 mb-2",children:"The song was from"}),y.jsx("p",{className:"text-2xl font-bold text-white",children:r.year}),y.jsxs("p",{className:"text-sm opacity-75",children:[r.name," - ",r.artist]})]}),y.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mb-8",children:[y.jsx("span",{className:"text-slate-400 text-sm uppercase tracking-wider",children:"Top Score"}),y.jsx("div",{className:"text-5xl font-bold text-purple-400 mt-2",children:h})]}),y.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-xl mb-4",children:"Play Again"}),y.jsxs("button",{onClick:()=>e("/"),className:"w-full bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 px-6 rounded-xl flex items-center justify-center gap-2",children:[y.jsx(rI,{className:"w-5 h-5"})," Home"]})]})}):y.jsxs("div",{className:"min-h-screen bg-slate-950 text-white p-4 flex flex-col items-center overflow-x-hidden",children:[y.jsxs("div",{className:"w-full max-w-5xl flex justify-between items-center mb-8 pt-4",children:[y.jsxs("div",{className:"text-purple-400 font-bold text-xl",children:["Score: ",h]}),y.jsxs("div",{className:"text-slate-400 text-sm",children:["Deck: ",n.length]})]}),y.jsx("div",{className:`mb-12 transition-all duration-500 ${u?"opacity-0 translate-y-10":"opacity-100"}`,children:y.jsxs("div",{className:"bg-slate-900 border-2 border-purple-500 p-8 rounded-xl w-64 shadow-2xl shadow-purple-900/20 text-center flex flex-col items-center justify-center min-h-[300px] relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-900/50 to-purple-900/50 -z-10"}),y.jsx("div",{className:"w-32 h-32 bg-black rounded-full shadow-xl flex items-center justify-center animate-spin-slow mb-6 border-4 border-slate-800",children:y.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center",children:y.jsx("div",{className:"w-3 h-3 bg-black rounded-full"})})}),y.jsx("h2",{className:"font-bold text-xl mb-4 text-purple-200",children:"Mystery Track"}),y.jsxs("button",{onClick:()=>_(r),className:"bg-green-500 hover:bg-green-400 text-black font-bold py-3 px-8 rounded-full flex items-center gap-2 transform transition-all hover:scale-105 shadow-lg shadow-green-500/20",children:[y.jsx(fp,{className:"fill-current w-5 h-5"})," Play"]}),y.jsx("p",{className:"text-xs text-slate-500 mt-6",children:"Listen to guess the year!"})]})}),y.jsx("div",{className:"w-full max-w-6xl overflow-x-auto pb-12 flex items-center justify-center min-h-[300px] px-8",children:y.jsxs("div",{className:"flex items-center gap-2",children:[s.map((m,d)=>y.jsxs(gh.Fragment,{children:[y.jsx(c_,{index:d,onClick:()=>b(d),isActive:!u,isCurrentFeedback:u?.index===d||u?.correctIndex===d,feedbackType:u?.index===d?u.type:u?.correctIndex===d?"hint":null}),y.jsxs("div",{className:"relative group",children:[y.jsxs("div",{className:"bg-slate-800 p-3 rounded-lg w-40 text-center border border-slate-700 transition-all hover:-translate-y-2",children:[y.jsx("img",{src:m.image,alt:m.name,className:"w-full h-32 object-cover rounded-md mb-2 opacity-75 group-hover:opacity-100"}),y.jsx("h3",{className:"font-bold text-xs truncate",children:m.name}),y.jsx("p",{className:"text-slate-400 text-[10px] truncate mb-1",children:m.artist}),y.jsx("div",{className:"font-bold text-xl text-yellow-400",children:m.year})]}),y.jsx("div",{className:"absolute top-1/2 -right-4 w-4 h-[2px] bg-slate-700 -z-10"})]})]},m.id)),y.jsx(c_,{index:s.length,onClick:()=>b(s.length),isActive:!u,isCurrentFeedback:u?.index===s.length||u?.correctIndex===s.length,feedbackType:u?.index===s.length?u.type:u?.correctIndex===s.length?"hint":null})]})}),y.jsx("div",{className:"text-center text-slate-500 text-sm mt-auto pb-4",children:"Scroll to view full timeline  Click + to place the card"})]})},c_=({index:t,onClick:e,isActive:n,isCurrentFeedback:i,feedbackType:s})=>{let a="w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 mx-2 ";if(i){if(s==="correct")return y.jsx("div",{className:a+"bg-green-500 scale-125 shadow-lg shadow-green-500/50",children:y.jsx(eI,{className:"text-white w-6 h-6"})});if(s==="wrong")return y.jsx("div",{className:a+"bg-red-500 scale-125 shadow-lg shadow-red-500/50",children:y.jsx(nI,{className:"text-white w-6 h-6"})});if(s==="hint")return y.jsx("div",{className:a+"bg-yellow-500/20 border-2 border-yellow-500 animate-pulse",children:y.jsx("div",{className:"text-yellow-500 font-bold text-xs text-center",children:"Here"})})}return n?y.jsx("button",{onClick:e,className:`${a} bg-slate-800/50 hover:bg-purple-600 hover:scale-110 border-2 border-dashed border-slate-600 hover:border-purple-400 group`,children:y.jsx("span",{className:"text-slate-500 group-hover:text-white font-bold text-xl",children:"+"})}):y.jsx("div",{className:"w-4 mx-1"})},QI=()=>{const t=Vr();return console.log("TidalCallback Component MOUNTED"),E.useEffect(()=>{(async()=>{try{const n=await iS(window.location.search);console.log("Tidal login successful. Credentials received:",n),t("/")}catch(n){console.error("Tidal login failed",n),t("/")}})()},[t]),y.jsx("div",{className:"flex items-center justify-center min-h-screen bg-black text-white",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h2",{className:"text-xl font-bold mb-4",children:"Finalizing login..."}),y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-400 mx-auto"})]})})},XI=()=>{const[t,e]=E.useState(""),[n,i]=E.useState(null),[s,a]=E.useState(null),[r,l]=E.useState(null);E.useEffect(()=>{gp(),(async()=>{try{const u=await pa.getCredentials();u&&u.accessToken&&l({loggedIn:!0})}catch{}})()},[]);const o=async()=>{try{const f=await nS({redirectUri:"https://strawbirdies.com/tidal-callback"});f&&(window.location.href=f)}catch(f){console.error("Login initialization failed",f),a("Failed to start login: "+f.message)}},c=async f=>{f.preventDefault(),a(null);try{const u=await _p(t);i(u)}catch(u){a(u.message)}},h=async()=>{await Zo(),l(null)};return y.jsxs("div",{className:"min-h-screen bg-neutral-900 text-white p-8",children:[y.jsx("h1",{className:"text-3xl font-bold mb-8 text-cyan-400",children:"Tidal API Integration Demo"}),r?y.jsxs("div",{children:[y.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[y.jsx("span",{className:"text-green-400 text-sm",children:" Authenticated"}),y.jsx("button",{onClick:h,className:"text-xs text-gray-500 hover:text-white",children:"Logout"})]}),y.jsxs("form",{onSubmit:c,className:"mb-8 flex gap-4",children:[y.jsx("input",{type:"text",value:t,onChange:f=>e(f.target.value),placeholder:"Search for an artist or track...",className:"flex-1 bg-neutral-800 border border-neutral-700 rounded-lg px-4 py-2 focus:outline-none focus:border-cyan-500 transition-colors"}),y.jsx("button",{type:"submit",className:"bg-cyan-500 hover:bg-cyan-600 text-black font-bold py-2 px-6 rounded-lg transition-colors",children:"Search"})]}),s&&y.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-4 rounded-lg mb-8",children:s}),n&&y.jsxs("div",{className:"space-y-8",children:[n.tracks&&y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-300",children:"Tracks"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.tracks.items.slice(0,6).map(f=>y.jsxs("div",{className:"bg-neutral-800 p-4 rounded-lg hover:bg-neutral-700 transition-colors",children:[y.jsx("div",{className:"font-bold truncate",children:f.title}),y.jsx("div",{className:"text-sm text-gray-400 truncate",children:f.artist.name}),y.jsx("button",{onClick:()=>u_(()=>Promise.resolve().then(()=>VI),void 0).then(u=>u.playTrack(String(f.id))),className:"mt-2 bg-green-500 hover:bg-green-600 text-black text-xs font-bold py-1 px-3 rounded",children:"Play"})]},f.id))})]}),y.jsxs("div",{className:"text-xs text-gray-600 mt-8",children:["Raw Output:",y.jsx("pre",{className:"mt-2 p-4 bg-black rounded overflow-auto max-h-60",children:JSON.stringify(n,null,2)})]})]})]}):y.jsxs("div",{className:"text-center py-20",children:[y.jsx("p",{className:"mb-4 text-gray-400",children:"Please authenticate to continue"}),y.jsx("button",{onClick:o,className:"bg-cyan-500 hover:bg-cyan-600 text-black font-bold py-2 px-6 rounded-full transition-colors",children:"Log in with Tidal"})]})]})};function WI(){return y.jsxs(y.Fragment,{children:[y.jsx($I,{}),y.jsxs(ow,{children:[y.jsx(Ai,{path:"/",element:y.jsx(qI,{})}),y.jsx(Ai,{path:"/lobby/:roomId",element:y.jsx(GI,{})}),y.jsx(Ai,{path:"/game/:roomId",element:y.jsx(KI,{})}),y.jsx(Ai,{path:"/tidal-callback",element:y.jsx(QI,{})}),y.jsx(Ai,{path:"/tidal-demo",element:y.jsx(XI,{})}),y.jsx(Ai,{path:"*",element:y.jsxs("div",{className:"text-white p-10",children:["404: Route Not Found: ",window.location.pathname]})})]})]})}function $I(){const t=yi();return gh.useEffect(()=>{console.log("Current Route Path:",t.pathname),console.log("Full URL:",window.location.href)},[t]),null}gp().then(()=>{fC.createRoot(document.getElementById("root")).render(y.jsx(gh.StrictMode,{children:y.jsx(Iw,{children:y.jsx(WI,{})})}))});
