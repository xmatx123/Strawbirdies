import{h as iS,I as sS,_ as aS,G as rS,f as lS}from"./index-BN722jHt-DTA5ozQl.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function r_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var l_={exports:{}},Zo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oS=Symbol.for("react.transitional.element"),cS=Symbol.for("react.fragment");function o_(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:oS,type:t,key:i,ref:e!==void 0?e:null,props:n}}Zo.Fragment=cS;Zo.jsx=o_;Zo.jsxs=o_;l_.exports=Zo;var y=l_.exports,c_={exports:{}},U={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch=Symbol.for("react.transitional.element"),uS=Symbol.for("react.portal"),fS=Symbol.for("react.fragment"),hS=Symbol.for("react.strict_mode"),dS=Symbol.for("react.profiler"),pS=Symbol.for("react.consumer"),mS=Symbol.for("react.context"),gS=Symbol.for("react.forward_ref"),_S=Symbol.for("react.suspense"),yS=Symbol.for("react.memo"),u_=Symbol.for("react.lazy"),vS=Symbol.for("react.activity"),pp=Symbol.iterator;function bS(t){return t===null||typeof t!="object"?null:(t=pp&&t[pp]||t["@@iterator"],typeof t=="function"?t:null)}var f_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h_=Object.assign,d_={};function $s(t,e,n){this.props=t,this.context=e,this.refs=d_,this.updater=n||f_}$s.prototype.isReactComponent={};$s.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$s.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function p_(){}p_.prototype=$s.prototype;function uh(t,e,n){this.props=t,this.context=e,this.refs=d_,this.updater=n||f_}var fh=uh.prototype=new p_;fh.constructor=uh;h_(fh,$s.prototype);fh.isPureReactComponent=!0;var mp=Array.isArray;function ju(){}var oe={H:null,A:null,T:null,S:null},m_=Object.prototype.hasOwnProperty;function hh(t,e,n){var i=n.ref;return{$$typeof:ch,type:t,key:e,ref:i!==void 0?i:null,props:n}}function ES(t,e){return hh(t.type,e,t.props)}function dh(t){return typeof t=="object"&&t!==null&&t.$$typeof===ch}function SS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gp=/\/+/g;function Hc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SS(""+t.key):e.toString(36)}function TS(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(ju,ju):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function ns(t,e,n,i,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var r=!1;if(t===null)r=!0;else switch(a){case"bigint":case"string":case"number":r=!0;break;case"object":switch(t.$$typeof){case ch:case uS:r=!0;break;case u_:return r=t._init,ns(r(t._payload),e,n,i,s)}}if(r)return s=s(t),r=i===""?"."+Hc(t,0):i,mp(s)?(n="",r!=null&&(n=r.replace(gp,"$&/")+"/"),ns(s,e,n,"",function(c){return c})):s!=null&&(dh(s)&&(s=ES(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(gp,"$&/")+"/")+r)),e.push(s)),1;r=0;var l=i===""?".":i+":";if(mp(t))for(var o=0;o<t.length;o++)i=t[o],a=l+Hc(i,o),r+=ns(i,e,n,a,s);else if(o=bS(t),typeof o=="function")for(t=o.call(t),o=0;!(i=t.next()).done;)i=i.value,a=l+Hc(i,o++),r+=ns(i,e,n,a,s);else if(a==="object"){if(typeof t.then=="function")return ns(TS(t),e,n,i,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return r}function sl(t,e,n){if(t==null)return t;var i=[],s=0;return ns(t,i,"","",function(a){return e.call(n,a,s++)}),i}function CS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _p=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},wS={map:sl,forEach:function(t,e,n){sl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sl(t,function(){e++}),e},toArray:function(t){return sl(t,function(e){return e})||[]},only:function(t){if(!dh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Activity=vS;U.Children=wS;U.Component=$s;U.Fragment=fS;U.Profiler=dS;U.PureComponent=uh;U.StrictMode=hS;U.Suspense=_S;U.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe;U.__COMPILER_RUNTIME={__proto__:null,c:function(t){return oe.H.useMemoCache(t)}};U.cache=function(t){return function(){return t.apply(null,arguments)}};U.cacheSignal=function(){return null};U.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=h_({},t.props),s=t.key;if(e!=null)for(a in e.key!==void 0&&(s=""+e.key),e)!m_.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(i[a]=e[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var r=Array(a),l=0;l<a;l++)r[l]=arguments[l+2];i.children=r}return hh(t.type,s,i)};U.createContext=function(t){return t={$$typeof:mS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:pS,_context:t},t};U.createElement=function(t,e,n){var i,s={},a=null;if(e!=null)for(i in e.key!==void 0&&(a=""+e.key),e)m_.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=e[i]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var l=Array(r),o=0;o<r;o++)l[o]=arguments[o+2];s.children=l}if(t&&t.defaultProps)for(i in r=t.defaultProps,r)s[i]===void 0&&(s[i]=r[i]);return hh(t,a,s)};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:gS,render:t}};U.isValidElement=dh;U.lazy=function(t){return{$$typeof:u_,_payload:{_status:-1,_result:t},_init:CS}};U.memo=function(t,e){return{$$typeof:yS,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=oe.T,n={};oe.T=n;try{var i=t(),s=oe.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(ju,_p)}catch(a){_p(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),oe.T=e}};U.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()};U.use=function(t){return oe.H.use(t)};U.useActionState=function(t,e,n){return oe.H.useActionState(t,e,n)};U.useCallback=function(t,e){return oe.H.useCallback(t,e)};U.useContext=function(t){return oe.H.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t,e){return oe.H.useDeferredValue(t,e)};U.useEffect=function(t,e){return oe.H.useEffect(t,e)};U.useEffectEvent=function(t){return oe.H.useEffectEvent(t)};U.useId=function(){return oe.H.useId()};U.useImperativeHandle=function(t,e,n){return oe.H.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return oe.H.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return oe.H.useLayoutEffect(t,e)};U.useMemo=function(t,e){return oe.H.useMemo(t,e)};U.useOptimistic=function(t,e){return oe.H.useOptimistic(t,e)};U.useReducer=function(t,e,n){return oe.H.useReducer(t,e,n)};U.useRef=function(t){return oe.H.useRef(t)};U.useState=function(t){return oe.H.useState(t)};U.useSyncExternalStore=function(t,e,n){return oe.H.useSyncExternalStore(t,e,n)};U.useTransition=function(){return oe.H.useTransition()};U.version="19.2.3";c_.exports=U;var E=c_.exports;const ph=r_(E);var g_={exports:{}},Jo={},__={exports:{}},y_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,P){var H=R.length;R.push(P);e:for(;0<H;){var ge=H-1>>>1,Ne=R[ge];if(0<s(Ne,P))R[ge]=P,R[H]=Ne,H=ge;else break e}}function n(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var P=R[0],H=R.pop();if(H!==P){R[0]=H;e:for(var ge=0,Ne=R.length,tl=Ne>>>1;ge<tl;){var nl=2*(ge+1)-1,zc=R[nl],bi=nl+1,il=R[bi];if(0>s(zc,H))bi<Ne&&0>s(il,zc)?(R[ge]=il,R[bi]=H,ge=bi):(R[ge]=zc,R[nl]=H,ge=nl);else if(bi<Ne&&0>s(il,H))R[ge]=il,R[bi]=H,ge=bi;else break e}}return P}function s(R,P){var H=R.sortIndex-P.sortIndex;return H!==0?H:R.id-P.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var r=Date,l=r.now();t.unstable_now=function(){return r.now()-l}}var o=[],c=[],h=1,f=null,u=3,p=!1,_=!1,b=!1,S=!1,m=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;function v(R){for(var P=n(c);P!==null;){if(P.callback===null)i(c);else if(P.startTime<=R)i(c),P.sortIndex=P.expirationTime,e(o,P);else break;P=n(c)}}function w(R){if(b=!1,v(R),!_)if(n(o)!==null)_=!0,D||(D=!0,Rn());else{var P=n(c);P!==null&&Uc(w,P.startTime-R)}}var D=!1,A=-1,N=5,M=-1;function L(){return S?!0:!(t.unstable_now()-M<N)}function dt(){if(S=!1,D){var R=t.unstable_now();M=R;var P=!0;try{e:{_=!1,b&&(b=!1,d(A),A=-1),p=!0;var H=u;try{t:{for(v(R),f=n(o);f!==null&&!(f.expirationTime>R&&L());){var ge=f.callback;if(typeof ge=="function"){f.callback=null,u=f.priorityLevel;var Ne=ge(f.expirationTime<=R);if(R=t.unstable_now(),typeof Ne=="function"){f.callback=Ne,v(R),P=!0;break t}f===n(o)&&i(o),v(R)}else i(o);f=n(o)}if(f!==null)P=!0;else{var tl=n(c);tl!==null&&Uc(w,tl.startTime-R),P=!1}}break e}finally{f=null,u=H,p=!1}P=void 0}}finally{P?Rn():D=!1}}}var Rn;if(typeof g=="function")Rn=function(){g(dt)};else if(typeof MessageChannel<"u"){var dp=new MessageChannel,nS=dp.port2;dp.port1.onmessage=dt,Rn=function(){nS.postMessage(null)}}else Rn=function(){m(dt,0)};function Uc(R,P){A=m(function(){R(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return u},t.unstable_next=function(R){switch(u){case 1:case 2:case 3:var P=3;break;default:P=u}var H=u;u=P;try{return R()}finally{u=H}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(R,P){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var H=u;u=R;try{return P()}finally{u=H}},t.unstable_scheduleCallback=function(R,P,H){var ge=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ge+H:ge):H=ge,R){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=H+Ne,R={id:h++,callback:P,priorityLevel:R,startTime:H,expirationTime:Ne,sortIndex:-1},H>ge?(R.sortIndex=H,e(c,R),n(o)===null&&R===n(c)&&(b?(d(A),A=-1):b=!0,Uc(w,H-ge))):(R.sortIndex=Ne,e(o,R),_||p||(_=!0,D||(D=!0,Rn()))),R},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(R){var P=u;return function(){var H=u;u=P;try{return R.apply(this,arguments)}finally{u=H}}}})(y_);__.exports=y_;var AS=__.exports,v_={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RS=E;function b_(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Nn(){}var qe={d:{f:Nn,r:function(){throw Error(b_(522))},D:Nn,C:Nn,L:Nn,m:Nn,X:Nn,S:Nn,M:Nn},p:0,findDOMNode:null},NS=Symbol.for("react.portal");function xS(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:NS,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Ia=RS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ec(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=qe;Ke.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(b_(299));return xS(t,e,null,n)};Ke.flushSync=function(t){var e=Ia.T,n=qe.p;try{if(Ia.T=null,qe.p=2,t)return t()}finally{Ia.T=e,qe.p=n,qe.d.f()}};Ke.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,qe.d.C(t,e))};Ke.prefetchDNS=function(t){typeof t=="string"&&qe.d.D(t)};Ke.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=ec(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?qe.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:a}):n==="script"&&qe.d.X(t,{crossOrigin:i,integrity:s,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ke.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=ec(e.as,e.crossOrigin);qe.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&qe.d.M(t)};Ke.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=ec(n,e.crossOrigin);qe.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ke.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=ec(e.as,e.crossOrigin);qe.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else qe.d.m(t)};Ke.requestFormReset=function(t){qe.d.r(t)};Ke.unstable_batchedUpdates=function(t,e){return t(e)};Ke.useFormState=function(t,e,n){return Ia.H.useFormState(t,e,n)};Ke.useFormStatus=function(){return Ia.H.useHostTransitionStatus()};Ke.version="19.2.3";function E_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E_)}catch(t){console.error(t)}}E_(),v_.exports=Ke;var OS=v_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Re=AS,S_=E,DS=OS;function T(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function T_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Rr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function C_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function w_(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yp(t){if(Rr(t)!==t)throw Error(T(188))}function MS(t){var e=t.alternate;if(!e){if(e=Rr(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return yp(s),t;if(a===i)return yp(s),e;a=a.sibling}throw Error(T(188))}if(n.return!==i.return)n=s,i=a;else{for(var r=!1,l=s.child;l;){if(l===n){r=!0,n=s,i=a;break}if(l===i){r=!0,i=s,n=a;break}l=l.sibling}if(!r){for(l=a.child;l;){if(l===n){r=!0,n=a,i=s;break}if(l===i){r=!0,i=a,n=s;break}l=l.sibling}if(!r)throw Error(T(189))}}if(n.alternate!==i)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function A_(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=A_(t),e!==null)return e;t=t.sibling}return null}var ce=Object.assign,IS=Symbol.for("react.element"),al=Symbol.for("react.transitional.element"),Na=Symbol.for("react.portal"),as=Symbol.for("react.fragment"),R_=Symbol.for("react.strict_mode"),Pu=Symbol.for("react.profiler"),N_=Symbol.for("react.consumer"),nn=Symbol.for("react.context"),mh=Symbol.for("react.forward_ref"),Gu=Symbol.for("react.suspense"),qu=Symbol.for("react.suspense_list"),gh=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),Vu=Symbol.for("react.activity"),kS=Symbol.for("react.memo_cache_sentinel"),vp=Symbol.iterator;function pa(t){return t===null||typeof t!="object"?null:(t=vp&&t[vp]||t["@@iterator"],typeof t=="function"?t:null)}var LS=Symbol.for("react.client.reference");function Yu(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===LS?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case as:return"Fragment";case Pu:return"Profiler";case R_:return"StrictMode";case Gu:return"Suspense";case qu:return"SuspenseList";case Vu:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Na:return"Portal";case nn:return t.displayName||"Context";case N_:return(t._context.displayName||"Context")+".Consumer";case mh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gh:return e=t.displayName||null,e!==null?e:Yu(t.type)||"Memo";case On:e=t._payload,t=t._init;try{return Yu(t(e))}catch{}}return null}var xa=Array.isArray,I=S_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=DS.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oi={pending:!1,data:null,method:null,action:null},Fu=[],rs=-1;function Vt(t){return{current:t}}function Ie(t){0>rs||(t.current=Fu[rs],Fu[rs]=null,rs--)}function ae(t,e){rs++,Fu[rs]=t.current,t.current=e}var Pt=Vt(null),er=Vt(null),Fn=Vt(null),Fl=Vt(null);function Kl(t,e){switch(ae(Fn,e),ae(er,t),ae(Pt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?wm(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=wm(e),t=Qv(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ie(Pt),ae(Pt,t)}function Ds(){Ie(Pt),Ie(er),Ie(Fn)}function Ku(t){t.memoizedState!==null&&ae(Fl,t);var e=Pt.current,n=Qv(e,t.type);e!==n&&(ae(er,t),ae(Pt,n))}function Ql(t){er.current===t&&(Ie(Pt),Ie(er)),Fl.current===t&&(Ie(Fl),fr._currentValue=Oi)}var Bc,bp;function Si(t){if(Bc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bc=e&&e[1]||"",bp=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bc+t+bp}var jc=!1;function Pc(t,e){if(!t||jc)return"";jc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var u=p}Reflect.construct(t,[],f)}else{try{f.call()}catch(p){u=p}t.call(f.prototype)}}else{try{throw Error()}catch(p){u=p}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&u&&typeof p.stack=="string")return[p.stack,u.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),r=a[0],l=a[1];if(r&&l){var o=r.split(`
`),c=l.split(`
`);for(s=i=0;i<o.length&&!o[i].includes("DetermineComponentFrameRoot");)i++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(i===o.length||s===c.length)for(i=o.length-1,s=c.length-1;1<=i&&0<=s&&o[i]!==c[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==c[s]){if(i!==1||s!==1)do if(i--,s--,0>s||o[i]!==c[s]){var h=`
`+o[i].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=i&&0<=s);break}}}finally{jc=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Si(n):""}function US(t,e){switch(t.tag){case 26:case 27:case 5:return Si(t.type);case 16:return Si("Lazy");case 13:return t.child!==e&&e!==null?Si("Suspense Fallback"):Si("Suspense");case 19:return Si("SuspenseList");case 0:case 15:return Pc(t.type,!1);case 11:return Pc(t.type.render,!1);case 1:return Pc(t.type,!0);case 31:return Si("Activity");default:return""}}function Ep(t){try{var e="",n=null;do e+=US(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Qu=Object.prototype.hasOwnProperty,_h=Re.unstable_scheduleCallback,Gc=Re.unstable_cancelCallback,zS=Re.unstable_shouldYield,HS=Re.unstable_requestPaint,rt=Re.unstable_now,BS=Re.unstable_getCurrentPriorityLevel,x_=Re.unstable_ImmediatePriority,O_=Re.unstable_UserBlockingPriority,Xl=Re.unstable_NormalPriority,jS=Re.unstable_LowPriority,D_=Re.unstable_IdlePriority,PS=Re.log,GS=Re.unstable_setDisableYieldValue,Nr=null,lt=null;function jn(t){if(typeof PS=="function"&&GS(t),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(Nr,t)}catch{}}var ot=Math.clz32?Math.clz32:YS,qS=Math.log,VS=Math.LN2;function YS(t){return t>>>=0,t===0?32:31-(qS(t)/VS|0)|0}var rl=256,ll=262144,ol=4194304;function Ti(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function tc(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var s=0,a=t.suspendedLanes,r=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~a,i!==0?s=Ti(i):(r&=l,r!==0?s=Ti(r):n||(n=l&~t,n!==0&&(s=Ti(n))))):(l=i&~a,l!==0?s=Ti(l):r!==0?s=Ti(r):n||(n=i&~t,n!==0&&(s=Ti(n)))),s===0?0:e!==0&&e!==s&&!(e&a)&&(a=s&-s,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:s}function xr(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function FS(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M_(){var t=ol;return ol<<=1,!(ol&62914560)&&(ol=4194304),t}function qc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Or(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function KS(t,e,n,i,s,a){var r=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,o=t.expirationTimes,c=t.hiddenUpdates;for(n=r&~n;0<n;){var h=31-ot(n),f=1<<h;l[h]=0,o[h]=-1;var u=c[h];if(u!==null)for(c[h]=null,h=0;h<u.length;h++){var p=u[h];p!==null&&(p.lane&=-536870913)}n&=~f}i!==0&&I_(t,i,0),a!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=a&~(r&~e))}function I_(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-ot(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function k_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ot(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}function L_(t,e){var n=e&-e;return n=n&42?1:yh(n),n&(t.suspendedLanes|e)?0:n}function yh(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function vh(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function U_(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:a0(t.type))}function Sp(t,e){var n=X.p;try{return X.p=t,e()}finally{X.p=n}}var gi=Math.random().toString(36).slice(2),ze="__reactFiber$"+gi,et="__reactProps$"+gi,Ws="__reactContainer$"+gi,Xu="__reactEvents$"+gi,QS="__reactListeners$"+gi,XS="__reactHandles$"+gi,Tp="__reactResources$"+gi,Dr="__reactMarker$"+gi;function bh(t){delete t[ze],delete t[et],delete t[Xu],delete t[QS],delete t[XS]}function ls(t){var e=t[ze];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ws]||n[ze]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Om(t);t!==null;){if(n=t[ze])return n;t=Om(t)}return e}t=n,n=t.parentNode}return null}function Zs(t){if(t=t[ze]||t[Ws]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Oa(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(T(33))}function vs(t){var e=t[Tp];return e||(e=t[Tp]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Me(t){t[Dr]=!0}var z_=new Set,H_={};function Fi(t,e){Ms(t,e),Ms(t+"Capture",e)}function Ms(t,e){for(H_[t]=e,t=0;t<e.length;t++)z_.add(e[t])}var $S=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cp={},wp={};function WS(t){return Qu.call(wp,t)?!0:Qu.call(Cp,t)?!1:$S.test(t)?wp[t]=!0:(Cp[t]=!0,!1)}function Cl(t,e,n){if(WS(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function cl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Qt(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function mt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function B_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZS(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,a=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(r){n=""+r,a.call(this,r)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $u(t){if(!t._valueTracker){var e=B_(t)?"checked":"value";t._valueTracker=ZS(t,e,""+t[e])}}function j_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=B_(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function $l(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var JS=/[\n"\\]/g;function yt(t){return t.replace(JS,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Wu(t,e,n,i,s,a,r,l){t.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.type=r:t.removeAttribute("type"),e!=null?r==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+mt(e)):t.value!==""+mt(e)&&(t.value=""+mt(e)):r!=="submit"&&r!=="reset"||t.removeAttribute("value"),e!=null?Zu(t,r,mt(e)):n!=null?Zu(t,r,mt(n)):i!=null&&t.removeAttribute("value"),s==null&&a!=null&&(t.defaultChecked=!!a),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+mt(l):t.removeAttribute("name")}function P_(t,e,n,i,s,a,r,l){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){$u(t);return}n=n!=null?""+mt(n):"",e=e!=null?""+mt(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.name=r),$u(t)}function Zu(t,e,n){e==="number"&&$l(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function bs(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+mt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function G_(t,e,n){if(e!=null&&(e=""+mt(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+mt(n):""}function q_(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(T(92));if(xa(i)){if(1<i.length)throw Error(T(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=mt(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),$u(t)}function Is(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var eT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ap(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||eT.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function V_(t,e,n){if(e!=null&&typeof e!="object")throw Error(T(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var s in e)i=e[s],e.hasOwnProperty(s)&&n[s]!==i&&Ap(t,s,i)}else for(var a in e)e.hasOwnProperty(a)&&Ap(t,a,e[a])}function Eh(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wl(t){return nT.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function sn(){}var Ju=null;function Sh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var os=null,Es=null;function Rp(t){var e=Zs(t);if(e&&(t=e.stateNode)){var n=t[et]||null;e:switch(t=e.stateNode,e.type){case"input":if(Wu(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=i[et]||null;if(!s)throw Error(T(90));Wu(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&j_(i)}break e;case"textarea":G_(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&bs(t,!!n.multiple,e,!1)}}}var Vc=!1;function Y_(t,e,n){if(Vc)return t(e,n);Vc=!0;try{var i=t(e);return i}finally{if(Vc=!1,(os!==null||Es!==null)&&(dc(),os&&(e=os,t=Es,Es=os=null,Rp(e),t)))for(e=0;e<t.length;e++)Rp(t[e])}}function tr(t,e){var n=t.stateNode;if(n===null)return null;var i=n[et]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ef=!1;if(pn)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){ef=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{ef=!1}var Pn=null,Th=null,Al=null;function F_(){if(Al)return Al;var t,e=Th,n=e.length,i,s="value"in Pn?Pn.value:Pn.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var r=n-t;for(i=1;i<=r&&e[n-i]===s[a-i];i++);return Al=s.slice(t,1<i?1-i:void 0)}function Rl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ul(){return!0}function Np(){return!1}function tt(t){function e(n,i,s,a,r){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=r,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ul:Np,this.isPropagationStopped=Np,this}return ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),e}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nc=tt(Ki),Mr=ce({},Ki,{view:0,detail:0}),iT=tt(Mr),Yc,Fc,ga,ic=ce({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ch,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ga&&(ga&&t.type==="mousemove"?(Yc=t.screenX-ga.screenX,Fc=t.screenY-ga.screenY):Fc=Yc=0,ga=t),Yc)},movementY:function(t){return"movementY"in t?t.movementY:Fc}}),xp=tt(ic),sT=ce({},ic,{dataTransfer:0}),aT=tt(sT),rT=ce({},Mr,{relatedTarget:0}),Kc=tt(rT),lT=ce({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),oT=tt(lT),cT=ce({},Ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uT=tt(cT),fT=ce({},Ki,{data:0}),Op=tt(fT),hT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pT[t])?!!e[t]:!1}function Ch(){return mT}var gT=ce({},Mr,{key:function(t){if(t.key){var e=hT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ch,charCode:function(t){return t.type==="keypress"?Rl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_T=tt(gT),yT=ce({},ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dp=tt(yT),vT=ce({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ch}),bT=tt(vT),ET=ce({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),ST=tt(ET),TT=ce({},ic,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CT=tt(TT),wT=ce({},Ki,{newState:0,oldState:0}),AT=tt(wT),RT=[9,13,27,32],wh=pn&&"CompositionEvent"in window,ka=null;pn&&"documentMode"in document&&(ka=document.documentMode);var NT=pn&&"TextEvent"in window&&!ka,K_=pn&&(!wh||ka&&8<ka&&11>=ka),Mp=" ",Ip=!1;function Q_(t,e){switch(t){case"keyup":return RT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cs=!1;function xT(t,e){switch(t){case"compositionend":return X_(e);case"keypress":return e.which!==32?null:(Ip=!0,Mp);case"textInput":return t=e.data,t===Mp&&Ip?null:t;default:return null}}function OT(t,e){if(cs)return t==="compositionend"||!wh&&Q_(t,e)?(t=F_(),Al=Th=Pn=null,cs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return K_&&e.locale!=="ko"?null:e.data;default:return null}}var DT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!DT[t.type]:e==="textarea"}function $_(t,e,n,i){os?Es?Es.push(i):Es=[i]:os=i,e=mo(e,"onChange"),0<e.length&&(n=new nc("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var La=null,nr=null;function MT(t){Yv(t,0)}function sc(t){var e=Oa(t);if(j_(e))return t}function Lp(t,e){if(t==="change")return e}var W_=!1;if(pn){var Qc;if(pn){var Xc="oninput"in document;if(!Xc){var Up=document.createElement("div");Up.setAttribute("oninput","return;"),Xc=typeof Up.oninput=="function"}Qc=Xc}else Qc=!1;W_=Qc&&(!document.documentMode||9<document.documentMode)}function zp(){La&&(La.detachEvent("onpropertychange",Z_),nr=La=null)}function Z_(t){if(t.propertyName==="value"&&sc(nr)){var e=[];$_(e,nr,t,Sh(t)),Y_(MT,e)}}function IT(t,e,n){t==="focusin"?(zp(),La=e,nr=n,La.attachEvent("onpropertychange",Z_)):t==="focusout"&&zp()}function kT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sc(nr)}function LT(t,e){if(t==="click")return sc(e)}function UT(t,e){if(t==="input"||t==="change")return sc(e)}function zT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ut=typeof Object.is=="function"?Object.is:zT;function ir(t,e){if(ut(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Qu.call(e,s)||!ut(t[s],e[s]))return!1}return!0}function Hp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bp(t,e){var n=Hp(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hp(n)}}function J_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?J_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ey(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=$l(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$l(t.document)}return e}function Ah(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var HT=pn&&"documentMode"in document&&11>=document.documentMode,us=null,tf=null,Ua=null,nf=!1;function jp(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nf||us==null||us!==$l(i)||(i=us,"selectionStart"in i&&Ah(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ua&&ir(Ua,i)||(Ua=i,i=mo(tf,"onSelect"),0<i.length&&(e=new nc("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=us)))}function Ei(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fs={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionrun:Ei("Transition","TransitionRun"),transitionstart:Ei("Transition","TransitionStart"),transitioncancel:Ei("Transition","TransitionCancel"),transitionend:Ei("Transition","TransitionEnd")},$c={},ty={};pn&&(ty=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function Qi(t){if($c[t])return $c[t];if(!fs[t])return t;var e=fs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ty)return $c[t]=e[n];return t}var ny=Qi("animationend"),iy=Qi("animationiteration"),sy=Qi("animationstart"),BT=Qi("transitionrun"),jT=Qi("transitionstart"),PT=Qi("transitioncancel"),ay=Qi("transitionend"),ry=new Map,sf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sf.push("scrollEnd");function Ut(t,e){ry.set(t,e),Fi(e,[t])}var Wl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},pt=[],hs=0,Rh=0;function ac(){for(var t=hs,e=Rh=hs=0;e<t;){var n=pt[e];pt[e++]=null;var i=pt[e];pt[e++]=null;var s=pt[e];pt[e++]=null;var a=pt[e];if(pt[e++]=null,i!==null&&s!==null){var r=i.pending;r===null?s.next=s:(s.next=r.next,r.next=s),i.pending=s}a!==0&&ly(n,s,a)}}function rc(t,e,n,i){pt[hs++]=t,pt[hs++]=e,pt[hs++]=n,pt[hs++]=i,Rh|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Nh(t,e,n,i){return rc(t,e,n,i),Zl(t)}function Xi(t,e){return rc(t,null,null,e),Zl(t)}function ly(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var s=!1,a=t.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(s=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,s&&e!==null&&(s=31-ot(n),t=a.hiddenUpdates,i=t[s],i===null?t[s]=[e]:i.push(e),e.lane=n|536870912),a):null}function Zl(t){if(50<Ya)throw Ya=0,wf=null,Error(T(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ds={};function GT(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(t,e,n,i){return new GT(t,e,n,i)}function xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cn(t,e){var n=t.alternate;return n===null?(n=st(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function oy(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Nl(t,e,n,i,s,a){var r=0;if(i=t,typeof t=="function")xh(t)&&(r=1);else if(typeof t=="string")r=K1(t,n,Pt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Vu:return t=st(31,n,e,s),t.elementType=Vu,t.lanes=a,t;case as:return Di(n.children,s,a,e);case R_:r=8,s|=24;break;case Pu:return t=st(12,n,e,s|2),t.elementType=Pu,t.lanes=a,t;case Gu:return t=st(13,n,e,s),t.elementType=Gu,t.lanes=a,t;case qu:return t=st(19,n,e,s),t.elementType=qu,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nn:r=10;break e;case N_:r=9;break e;case mh:r=11;break e;case gh:r=14;break e;case On:r=16,i=null;break e}r=29,n=Error(T(130,t===null?"null":typeof t,"")),i=null}return e=st(r,n,e,s),e.elementType=t,e.type=i,e.lanes=a,e}function Di(t,e,n,i){return t=st(7,t,i,e),t.lanes=n,t}function Wc(t,e,n){return t=st(6,t,null,e),t.lanes=n,t}function cy(t){var e=st(18,null,null,0);return e.stateNode=t,e}function Zc(t,e,n){return e=st(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Pp=new WeakMap;function vt(t,e){if(typeof t=="object"&&t!==null){var n=Pp.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Ep(e)},Pp.set(t,e),e)}return{value:t,source:e,stack:Ep(e)}}var ps=[],ms=0,Jl=null,sr=0,gt=[],_t=0,li=null,Ht=1,Bt="";function en(t,e){ps[ms++]=sr,ps[ms++]=Jl,Jl=t,sr=e}function uy(t,e,n){gt[_t++]=Ht,gt[_t++]=Bt,gt[_t++]=li,li=t;var i=Ht;t=Bt;var s=32-ot(i)-1;i&=~(1<<s),n+=1;var a=32-ot(e)+s;if(30<a){var r=s-s%5;a=(i&(1<<r)-1).toString(32),i>>=r,s-=r,Ht=1<<32-ot(e)+s|n<<s|i,Bt=a+t}else Ht=1<<a|n<<s|i,Bt=t}function Oh(t){t.return!==null&&(en(t,1),uy(t,1,0))}function Dh(t){for(;t===Jl;)Jl=ps[--ms],ps[ms]=null,sr=ps[--ms],ps[ms]=null;for(;t===li;)li=gt[--_t],gt[_t]=null,Bt=gt[--_t],gt[_t]=null,Ht=gt[--_t],gt[_t]=null}function fy(t,e){gt[_t++]=Ht,gt[_t++]=Bt,gt[_t++]=li,Ht=e.id,Bt=e.overflow,li=t}var He=null,le=null,F=!1,Kn=null,bt=!1,af=Error(T(519));function oi(t){var e=Error(T(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ar(vt(e,t)),af}function Gp(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[ze]=t,e[et]=i,n){case"dialog":G("cancel",e),G("close",e);break;case"iframe":case"object":case"embed":G("load",e);break;case"video":case"audio":for(n=0;n<cr.length;n++)G(cr[n],e);break;case"source":G("error",e);break;case"img":case"image":case"link":G("error",e),G("load",e);break;case"details":G("toggle",e);break;case"input":G("invalid",e),P_(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":G("invalid",e);break;case"textarea":G("invalid",e),q_(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||Kv(e.textContent,n)?(i.popover!=null&&(G("beforetoggle",e),G("toggle",e)),i.onScroll!=null&&G("scroll",e),i.onScrollEnd!=null&&G("scrollend",e),i.onClick!=null&&(e.onclick=sn),e=!0):e=!1,e||oi(t,!0)}function qp(t){for(He=t.return;He;)switch(He.tag){case 5:case 31:case 13:bt=!1;return;case 27:case 3:bt=!0;return;default:He=He.return}}function Ji(t){if(t!==He)return!1;if(!F)return qp(t),F=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Of(t.type,t.memoizedProps)),n=!n),n&&le&&oi(t),qp(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));le=xm(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));le=xm(t)}else e===27?(e=le,_i(t.type)?(t=kf,kf=null,le=t):le=e):le=He?Ct(t.stateNode.nextSibling):null;return!0}function Li(){le=He=null,F=!1}function Jc(){var t=Kn;return t!==null&&(We===null?We=t:We.push.apply(We,t),Kn=null),t}function ar(t){Kn===null?Kn=[t]:Kn.push(t)}var rf=Vt(null),$i=null,an=null;function Mn(t,e,n){ae(rf,e._currentValue),e._currentValue=n}function un(t){t._currentValue=rf.current,Ie(rf)}function lf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function of(t,e,n,i){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){var r=s.child;a=a.firstContext;e:for(;a!==null;){var l=a;a=s;for(var o=0;o<e.length;o++)if(l.context===e[o]){a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),lf(a.return,n,t),i||(r=null);break e}a=l.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error(T(341));r.lanes|=n,a=r.alternate,a!==null&&(a.lanes|=n),lf(r,n,t),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===t){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function Js(t,e,n,i){t=null;for(var s=e,a=!1;s!==null;){if(!a){if(s.flags&524288)a=!0;else if(s.flags&262144)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error(T(387));if(r=r.memoizedProps,r!==null){var l=s.type;ut(s.pendingProps.value,r.value)||(t!==null?t.push(l):t=[l])}}else if(s===Fl.current){if(r=s.alternate,r===null)throw Error(T(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(fr):t=[fr])}s=s.return}t!==null&&of(e,t,n,i),e.flags|=262144}function eo(t){for(t=t.firstContext;t!==null;){if(!ut(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ui(t){$i=t,an=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Be(t){return hy($i,t)}function fl(t,e){return $i===null&&Ui(t),hy(t,e)}function hy(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},an===null){if(t===null)throw Error(T(308));an=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else an=an.next=e;return n}var qT=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},VT=Re.unstable_scheduleCallback,YT=Re.unstable_NormalPriority,Se={$$typeof:nn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mh(){return{controller:new qT,data:new Map,refCount:0}}function Ir(t){t.refCount--,t.refCount===0&&VT(YT,function(){t.controller.abort()})}var za=null,cf=0,ks=0,Ss=null;function FT(t,e){if(za===null){var n=za=[];cf=0,ks=id(),Ss={status:"pending",value:void 0,then:function(i){n.push(i)}}}return cf++,e.then(Vp,Vp),e}function Vp(){if(--cf===0&&za!==null){Ss!==null&&(Ss.status="fulfilled");var t=za;za=null,ks=0,Ss=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function KT(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var Yp=I.S;I.S=function(t,e){Av=rt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&FT(t,e),Yp!==null&&Yp(t,e)};var Mi=Vt(null);function Ih(){var t=Mi.current;return t!==null?t:ne.pooledCache}function xl(t,e){e===null?ae(Mi,Mi.current):ae(Mi,e.pool)}function dy(){var t=Ih();return t===null?null:{parent:Se._currentValue,pool:t}}var ea=Error(T(460)),kh=Error(T(474)),lc=Error(T(542)),to={then:function(){}};function Fp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function py(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(sn,sn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Qp(t),t;default:if(typeof e.status=="string")e.then(sn,sn);else{if(t=ne,t!==null&&100<t.shellSuspendCounter)throw Error(T(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=i}},function(i){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Qp(t),t}throw Ii=e,ea}}function Ci(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ii=n,ea):n}}var Ii=null;function Kp(){if(Ii===null)throw Error(T(459));var t=Ii;return Ii=null,t}function Qp(t){if(t===ea||t===lc)throw Error(T(483))}var Ts=null,rr=0;function hl(t){var e=rr;return rr+=1,Ts===null&&(Ts=[]),py(Ts,t,e)}function _a(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function dl(t,e){throw e.$$typeof===IS?Error(T(525)):(t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function my(t){function e(m,d){if(t){var g=m.deletions;g===null?(m.deletions=[d],m.flags|=16):g.push(d)}}function n(m,d){if(!t)return null;for(;d!==null;)e(m,d),d=d.sibling;return null}function i(m){for(var d=new Map;m!==null;)m.key!==null?d.set(m.key,m):d.set(m.index,m),m=m.sibling;return d}function s(m,d){return m=cn(m,d),m.index=0,m.sibling=null,m}function a(m,d,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<d?(m.flags|=67108866,d):g):(m.flags|=67108866,d)):(m.flags|=1048576,d)}function r(m){return t&&m.alternate===null&&(m.flags|=67108866),m}function l(m,d,g,v){return d===null||d.tag!==6?(d=Wc(g,m.mode,v),d.return=m,d):(d=s(d,g),d.return=m,d)}function o(m,d,g,v){var w=g.type;return w===as?h(m,d,g.props.children,v,g.key):d!==null&&(d.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===On&&Ci(w)===d.type)?(d=s(d,g.props),_a(d,g),d.return=m,d):(d=Nl(g.type,g.key,g.props,null,m.mode,v),_a(d,g),d.return=m,d)}function c(m,d,g,v){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=Zc(g,m.mode,v),d.return=m,d):(d=s(d,g.children||[]),d.return=m,d)}function h(m,d,g,v,w){return d===null||d.tag!==7?(d=Di(g,m.mode,v,w),d.return=m,d):(d=s(d,g),d.return=m,d)}function f(m,d,g){if(typeof d=="string"&&d!==""||typeof d=="number"||typeof d=="bigint")return d=Wc(""+d,m.mode,g),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case al:return g=Nl(d.type,d.key,d.props,null,m.mode,g),_a(g,d),g.return=m,g;case Na:return d=Zc(d,m.mode,g),d.return=m,d;case On:return d=Ci(d),f(m,d,g)}if(xa(d)||pa(d))return d=Di(d,m.mode,g,null),d.return=m,d;if(typeof d.then=="function")return f(m,hl(d),g);if(d.$$typeof===nn)return f(m,fl(m,d),g);dl(m,d)}return null}function u(m,d,g,v){var w=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return w!==null?null:l(m,d,""+g,v);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case al:return g.key===w?o(m,d,g,v):null;case Na:return g.key===w?c(m,d,g,v):null;case On:return g=Ci(g),u(m,d,g,v)}if(xa(g)||pa(g))return w!==null?null:h(m,d,g,v,null);if(typeof g.then=="function")return u(m,d,hl(g),v);if(g.$$typeof===nn)return u(m,d,fl(m,g),v);dl(m,g)}return null}function p(m,d,g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return m=m.get(g)||null,l(d,m,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case al:return m=m.get(v.key===null?g:v.key)||null,o(d,m,v,w);case Na:return m=m.get(v.key===null?g:v.key)||null,c(d,m,v,w);case On:return v=Ci(v),p(m,d,g,v,w)}if(xa(v)||pa(v))return m=m.get(g)||null,h(d,m,v,w,null);if(typeof v.then=="function")return p(m,d,g,hl(v),w);if(v.$$typeof===nn)return p(m,d,g,fl(d,v),w);dl(d,v)}return null}function _(m,d,g,v){for(var w=null,D=null,A=d,N=d=0,M=null;A!==null&&N<g.length;N++){A.index>N?(M=A,A=null):M=A.sibling;var L=u(m,A,g[N],v);if(L===null){A===null&&(A=M);break}t&&A&&L.alternate===null&&e(m,A),d=a(L,d,N),D===null?w=L:D.sibling=L,D=L,A=M}if(N===g.length)return n(m,A),F&&en(m,N),w;if(A===null){for(;N<g.length;N++)A=f(m,g[N],v),A!==null&&(d=a(A,d,N),D===null?w=A:D.sibling=A,D=A);return F&&en(m,N),w}for(A=i(A);N<g.length;N++)M=p(A,m,N,g[N],v),M!==null&&(t&&M.alternate!==null&&A.delete(M.key===null?N:M.key),d=a(M,d,N),D===null?w=M:D.sibling=M,D=M);return t&&A.forEach(function(dt){return e(m,dt)}),F&&en(m,N),w}function b(m,d,g,v){if(g==null)throw Error(T(151));for(var w=null,D=null,A=d,N=d=0,M=null,L=g.next();A!==null&&!L.done;N++,L=g.next()){A.index>N?(M=A,A=null):M=A.sibling;var dt=u(m,A,L.value,v);if(dt===null){A===null&&(A=M);break}t&&A&&dt.alternate===null&&e(m,A),d=a(dt,d,N),D===null?w=dt:D.sibling=dt,D=dt,A=M}if(L.done)return n(m,A),F&&en(m,N),w;if(A===null){for(;!L.done;N++,L=g.next())L=f(m,L.value,v),L!==null&&(d=a(L,d,N),D===null?w=L:D.sibling=L,D=L);return F&&en(m,N),w}for(A=i(A);!L.done;N++,L=g.next())L=p(A,m,N,L.value,v),L!==null&&(t&&L.alternate!==null&&A.delete(L.key===null?N:L.key),d=a(L,d,N),D===null?w=L:D.sibling=L,D=L);return t&&A.forEach(function(Rn){return e(m,Rn)}),F&&en(m,N),w}function S(m,d,g,v){if(typeof g=="object"&&g!==null&&g.type===as&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case al:e:{for(var w=g.key;d!==null;){if(d.key===w){if(w=g.type,w===as){if(d.tag===7){n(m,d.sibling),v=s(d,g.props.children),v.return=m,m=v;break e}}else if(d.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===On&&Ci(w)===d.type){n(m,d.sibling),v=s(d,g.props),_a(v,g),v.return=m,m=v;break e}n(m,d);break}else e(m,d);d=d.sibling}g.type===as?(v=Di(g.props.children,m.mode,v,g.key),v.return=m,m=v):(v=Nl(g.type,g.key,g.props,null,m.mode,v),_a(v,g),v.return=m,m=v)}return r(m);case Na:e:{for(w=g.key;d!==null;){if(d.key===w)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){n(m,d.sibling),v=s(d,g.children||[]),v.return=m,m=v;break e}else{n(m,d);break}else e(m,d);d=d.sibling}v=Zc(g,m.mode,v),v.return=m,m=v}return r(m);case On:return g=Ci(g),S(m,d,g,v)}if(xa(g))return _(m,d,g,v);if(pa(g)){if(w=pa(g),typeof w!="function")throw Error(T(150));return g=w.call(g),b(m,d,g,v)}if(typeof g.then=="function")return S(m,d,hl(g),v);if(g.$$typeof===nn)return S(m,d,fl(m,g),v);dl(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint"?(g=""+g,d!==null&&d.tag===6?(n(m,d.sibling),v=s(d,g),v.return=m,m=v):(n(m,d),v=Wc(g,m.mode,v),v.return=m,m=v),r(m)):n(m,d)}return function(m,d,g,v){try{rr=0;var w=S(m,d,g,v);return Ts=null,w}catch(A){if(A===ea||A===lc)throw A;var D=st(29,A,null,m.mode);return D.lanes=v,D.return=m,D}finally{}}}var zi=my(!0),gy=my(!1),Dn=!1;function Lh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Q&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,e=Zl(t),ly(t,null,n),e}return rc(t,i,e,n),Zl(t)}function Ha(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,k_(t,n)}}function eu(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?s=a=r:a=a.next=r,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var ff=!1;function Ba(){if(ff){var t=Ss;if(t!==null)throw t}}function ja(t,e,n,i){ff=!1;var s=t.updateQueue;Dn=!1;var a=s.firstBaseUpdate,r=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var o=l,c=o.next;o.next=null,r===null?a=c:r.next=c,r=o;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==r&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=o))}if(a!==null){var f=s.baseState;r=0,h=c=o=null,l=a;do{var u=l.lane&-536870913,p=u!==l.lane;if(p?(Y&u)===u:(i&u)===u){u!==0&&u===ks&&(ff=!0),h!==null&&(h=h.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var _=t,b=l;u=e;var S=n;switch(b.tag){case 1:if(_=b.payload,typeof _=="function"){f=_.call(S,f,u);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=b.payload,u=typeof _=="function"?_.call(S,f,u):_,u==null)break e;f=ce({},f,u);break e;case 2:Dn=!0}}u=l.callback,u!==null&&(t.flags|=64,p&&(t.flags|=8192),p=s.callbacks,p===null?s.callbacks=[u]:p.push(u))}else p={lane:u,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=p,o=f):h=h.next=p,r|=u;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);h===null&&(o=f),s.baseState=o,s.firstBaseUpdate=c,s.lastBaseUpdate=h,a===null&&(s.shared.lanes=0),ui|=r,t.lanes=r,t.memoizedState=f}}function _y(t,e){if(typeof t!="function")throw Error(T(191,t));t.call(e)}function yy(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)_y(n[t],e)}var Ls=Vt(null),no=Vt(0);function Xp(t,e){t=yn,ae(no,t),ae(Ls,e),yn=t|e.baseLanes}function hf(){ae(no,yn),ae(Ls,Ls.current)}function Uh(){yn=no.current,Ie(Ls),Ie(no)}var ft=Vt(null),Tt=null;function In(t){var e=t.alternate;ae(_e,_e.current&1),ae(ft,t),Tt===null&&(e===null||Ls.current!==null||e.memoizedState!==null)&&(Tt=t)}function df(t){ae(_e,_e.current),ae(ft,t),Tt===null&&(Tt=t)}function vy(t){t.tag===22?(ae(_e,_e.current),ae(ft,t),Tt===null&&(Tt=t)):kn()}function kn(){ae(_e,_e.current),ae(ft,ft.current)}function it(t){Ie(ft),Tt===t&&(Tt=null),Ie(_e)}var _e=Vt(0);function io(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Mf(n)||If(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mn=0,z=null,ee=null,be=null,so=!1,Cs=!1,Hi=!1,ao=0,lr=0,ws=null,QT=0;function he(){throw Error(T(321))}function zh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ut(t[n],e[n]))return!1;return!0}function Hh(t,e,n,i,s,a){return mn=a,z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,I.H=t===null||t.memoizedState===null?$y:Xh,Hi=!1,a=n(i,s),Hi=!1,Cs&&(a=Ey(e,n,i,s)),by(t),a}function by(t){I.H=or;var e=ee!==null&&ee.next!==null;if(mn=0,be=ee=z=null,so=!1,lr=0,ws=null,e)throw Error(T(300));t===null||Te||(t=t.dependencies,t!==null&&eo(t)&&(Te=!0))}function Ey(t,e,n,i){z=t;var s=0;do{if(Cs&&(ws=null),lr=0,Cs=!1,25<=s)throw Error(T(301));if(s+=1,be=ee=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}I.H=Wy,a=e(n,i)}while(Cs);return a}function XT(){var t=I.H,e=t.useState()[0];return e=typeof e.then=="function"?kr(e):e,t=t.useState()[0],(ee!==null?ee.memoizedState:null)!==t&&(z.flags|=1024),e}function Bh(){var t=ao!==0;return ao=0,t}function jh(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Ph(t){if(so){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}so=!1}mn=0,be=ee=z=null,Cs=!1,lr=ao=0,ws=null}function Ge(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?z.memoizedState=be=t:be=be.next=t,be}function ve(){if(ee===null){var t=z.alternate;t=t!==null?t.memoizedState:null}else t=ee.next;var e=be===null?z.memoizedState:be.next;if(e!==null)be=e,ee=t;else{if(t===null)throw z.alternate===null?Error(T(467)):Error(T(310));ee=t,t={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},be===null?z.memoizedState=be=t:be=be.next=t}return be}function oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kr(t){var e=lr;return lr+=1,ws===null&&(ws=[]),t=py(ws,t,e),e=z,(be===null?e.memoizedState:be.next)===null&&(e=e.alternate,I.H=e===null||e.memoizedState===null?$y:Xh),t}function cc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return kr(t);if(t.$$typeof===nn)return Be(t)}throw Error(T(438,String(t)))}function Gh(t){var e=null,n=z.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=z.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=oc(),z.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=kS;return e.index++,n}function gn(t,e){return typeof e=="function"?e(t):e}function Ol(t){var e=ve();return qh(e,ee,t)}function qh(t,e,n){var i=t.queue;if(i===null)throw Error(T(311));i.lastRenderedReducer=n;var s=t.baseQueue,a=i.pending;if(a!==null){if(s!==null){var r=s.next;s.next=a.next,a.next=r}e.baseQueue=s=a,i.pending=null}if(a=t.baseState,s===null)t.memoizedState=a;else{e=s.next;var l=r=null,o=null,c=e,h=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(Y&f)===f:(mn&f)===f){var u=c.revertLane;if(u===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===ks&&(h=!0);else if((mn&u)===u){c=c.next,u===ks&&(h=!0);continue}else f={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(l=o=f,r=a):o=o.next=f,z.lanes|=u,ui|=u;f=c.action,Hi&&n(a,f),a=c.hasEagerState?c.eagerState:n(a,f)}else u={lane:f,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(l=o=u,r=a):o=o.next=u,z.lanes|=f,ui|=f;c=c.next}while(c!==null&&c!==e);if(o===null?r=a:o.next=l,!ut(a,t.memoizedState)&&(Te=!0,h&&(n=Ss,n!==null)))throw n;t.memoizedState=a,t.baseState=r,t.baseQueue=o,i.lastRenderedState=a}return s===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function tu(t){var e=ve(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var r=s=s.next;do a=t(a,r.action),r=r.next;while(r!==s);ut(a,e.memoizedState)||(Te=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function Sy(t,e,n){var i=z,s=ve(),a=F;if(a){if(n===void 0)throw Error(T(407));n=n()}else n=e();var r=!ut((ee||s).memoizedState,n);if(r&&(s.memoizedState=n,Te=!0),s=s.queue,Vh(wy.bind(null,i,s,t),[t]),s.getSnapshot!==e||r||be!==null&&be.memoizedState.tag&1){if(i.flags|=2048,Us(9,{destroy:void 0},Cy.bind(null,i,s,n,e),null),ne===null)throw Error(T(349));a||mn&127||Ty(i,e,n)}return n}function Ty(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=z.updateQueue,e===null?(e=oc(),z.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Cy(t,e,n,i){e.value=n,e.getSnapshot=i,Ay(e)&&Ry(t)}function wy(t,e,n){return n(function(){Ay(e)&&Ry(t)})}function Ay(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ut(t,n)}catch{return!0}}function Ry(t){var e=Xi(t,2);e!==null&&Je(e,t,2)}function pf(t){var e=Ge();if(typeof t=="function"){var n=t;if(t=n(),Hi){jn(!0);try{n()}finally{jn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:t},e}function Ny(t,e,n,i){return t.baseState=n,qh(t,ee,typeof i=="function"?i:gn)}function $T(t,e,n,i,s){if(fc(t))throw Error(T(485));if(t=e.action,t!==null){var a={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){a.listeners.push(r)}};I.T!==null?n(!0):a.isTransition=!1,i(a),n=e.pending,n===null?(a.next=e.pending=a,xy(e,a)):(a.next=n.next,e.pending=n.next=a)}}function xy(t,e){var n=e.action,i=e.payload,s=t.state;if(e.isTransition){var a=I.T,r={};I.T=r;try{var l=n(s,i),o=I.S;o!==null&&o(r,l),$p(t,e,l)}catch(c){mf(t,e,c)}finally{a!==null&&r.types!==null&&(a.types=r.types),I.T=a}}else try{a=n(s,i),$p(t,e,a)}catch(c){mf(t,e,c)}}function $p(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Wp(t,e,i)},function(i){return mf(t,e,i)}):Wp(t,e,n)}function Wp(t,e,n){e.status="fulfilled",e.value=n,Oy(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,xy(t,n)))}function mf(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,Oy(e),e=e.next;while(e!==i)}t.action=null}function Oy(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Dy(t,e){return e}function Zp(t,e){if(F){var n=ne.formState;if(n!==null){e:{var i=z;if(F){if(le){t:{for(var s=le,a=bt;s.nodeType!==8;){if(!a){s=null;break t}if(s=Ct(s.nextSibling),s===null){s=null;break t}}a=s.data,s=a==="F!"||a==="F"?s:null}if(s){le=Ct(s.nextSibling),i=s.data==="F!";break e}}oi(i)}i=!1}i&&(e=n[0])}}return n=Ge(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dy,lastRenderedState:e},n.queue=i,n=Ky.bind(null,z,i),i.dispatch=n,i=pf(!1),a=Qh.bind(null,z,!1,i.queue),i=Ge(),s={state:e,dispatch:null,action:t,pending:null},i.queue=s,n=$T.bind(null,z,s,a,n),s.dispatch=n,i.memoizedState=t,[e,n,!1]}function Jp(t){var e=ve();return My(e,ee,t)}function My(t,e,n){if(e=qh(t,e,Dy)[0],t=Ol(gn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=kr(e)}catch(r){throw r===ea?lc:r}else i=e;e=ve();var s=e.queue,a=s.dispatch;return n!==e.memoizedState&&(z.flags|=2048,Us(9,{destroy:void 0},WT.bind(null,s,n),null)),[i,a,t]}function WT(t,e){t.action=e}function em(t){var e=ve(),n=ee;if(n!==null)return My(e,n,t);ve(),e=e.memoizedState,n=ve();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function Us(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=z.updateQueue,e===null&&(e=oc(),z.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Iy(){return ve().memoizedState}function Dl(t,e,n,i){var s=Ge();z.flags|=t,s.memoizedState=Us(1|e,{destroy:void 0},n,i===void 0?null:i)}function uc(t,e,n,i){var s=ve();i=i===void 0?null:i;var a=s.memoizedState.inst;ee!==null&&i!==null&&zh(i,ee.memoizedState.deps)?s.memoizedState=Us(e,a,n,i):(z.flags|=t,s.memoizedState=Us(1|e,a,n,i))}function tm(t,e){Dl(8390656,8,t,e)}function Vh(t,e){uc(2048,8,t,e)}function ZT(t){z.flags|=4;var e=z.updateQueue;if(e===null)e=oc(),z.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function ky(t){var e=ve().memoizedState;return ZT({ref:e,nextImpl:t}),function(){if(Q&2)throw Error(T(440));return e.impl.apply(void 0,arguments)}}function Ly(t,e){return uc(4,2,t,e)}function Uy(t,e){return uc(4,4,t,e)}function zy(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Hy(t,e,n){n=n!=null?n.concat([t]):null,uc(4,4,zy.bind(null,e,t),n)}function Yh(){}function By(t,e){var n=ve();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&zh(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function jy(t,e){var n=ve();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&zh(e,i[1]))return i[0];if(i=t(),Hi){jn(!0);try{t()}finally{jn(!1)}}return n.memoizedState=[i,e],i}function Fh(t,e,n){return n===void 0||mn&1073741824&&!(Y&261930)?t.memoizedState=e:(t.memoizedState=n,t=Nv(),z.lanes|=t,ui|=t,n)}function Py(t,e,n,i){return ut(n,e)?n:Ls.current!==null?(t=Fh(t,n,i),ut(t,e)||(Te=!0),t):!(mn&42)||mn&1073741824&&!(Y&261930)?(Te=!0,t.memoizedState=n):(t=Nv(),z.lanes|=t,ui|=t,e)}function Gy(t,e,n,i,s){var a=X.p;X.p=a!==0&&8>a?a:8;var r=I.T,l={};I.T=l,Qh(t,!1,e,n);try{var o=s(),c=I.S;if(c!==null&&c(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var h=KT(o,i);Pa(t,e,h,ct(t))}else Pa(t,e,i,ct(t))}catch(f){Pa(t,e,{then:function(){},status:"rejected",reason:f},ct())}finally{X.p=a,r!==null&&l.types!==null&&(r.types=l.types),I.T=r}}function JT(){}function gf(t,e,n,i){if(t.tag!==5)throw Error(T(476));var s=qy(t).queue;Gy(t,s,e,Oi,n===null?JT:function(){return Vy(t),n(i)})}function qy(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Oi,baseState:Oi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:Oi},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Vy(t){var e=qy(t);e.next===null&&(e=t.alternate.memoizedState),Pa(t,e.next.queue,{},ct())}function Kh(){return Be(fr)}function Yy(){return ve().memoizedState}function Fy(){return ve().memoizedState}function e1(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=ct();t=Qn(n);var i=Xn(e,t,n);i!==null&&(Je(i,e,n),Ha(i,e,n)),e={cache:Mh()},t.payload=e;return}e=e.return}}function t1(t,e,n){var i=ct();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},fc(t)?Qy(e,n):(n=Nh(t,e,n,i),n!==null&&(Je(n,t,i),Xy(n,e,i)))}function Ky(t,e,n){var i=ct();Pa(t,e,n,i)}function Pa(t,e,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(fc(t))Qy(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var r=e.lastRenderedState,l=a(r,n);if(s.hasEagerState=!0,s.eagerState=l,ut(l,r))return rc(t,e,s,0),ne===null&&ac(),!1}catch{}finally{}if(n=Nh(t,e,s,i),n!==null)return Je(n,t,i),Xy(n,e,i),!0}return!1}function Qh(t,e,n,i){if(i={lane:2,revertLane:id(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},fc(t)){if(e)throw Error(T(479))}else e=Nh(t,n,i,2),e!==null&&Je(e,t,2)}function fc(t){var e=t.alternate;return t===z||e!==null&&e===z}function Qy(t,e){Cs=so=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Xy(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,k_(t,n)}}var or={readContext:Be,use:cc,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};or.useEffectEvent=he;var $y={readContext:Be,use:cc,useCallback:function(t,e){return Ge().memoizedState=[t,e===void 0?null:e],t},useContext:Be,useEffect:tm,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Dl(4194308,4,zy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Dl(4194308,4,t,e)},useInsertionEffect:function(t,e){Dl(4,2,t,e)},useMemo:function(t,e){var n=Ge();e=e===void 0?null:e;var i=t();if(Hi){jn(!0);try{t()}finally{jn(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Ge();if(n!==void 0){var s=n(e);if(Hi){jn(!0);try{n(e)}finally{jn(!1)}}}else s=e;return i.memoizedState=i.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},i.queue=t,t=t.dispatch=t1.bind(null,z,t),[i.memoizedState,t]},useRef:function(t){var e=Ge();return t={current:t},e.memoizedState=t},useState:function(t){t=pf(t);var e=t.queue,n=Ky.bind(null,z,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Yh,useDeferredValue:function(t,e){var n=Ge();return Fh(n,t,e)},useTransition:function(){var t=pf(!1);return t=Gy.bind(null,z,t.queue,!0,!1),Ge().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=z,s=Ge();if(F){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),ne===null)throw Error(T(349));Y&127||Ty(i,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,tm(wy.bind(null,i,a,t),[t]),i.flags|=2048,Us(9,{destroy:void 0},Cy.bind(null,i,a,n,e),null),n},useId:function(){var t=Ge(),e=ne.identifierPrefix;if(F){var n=Bt,i=Ht;n=(i&~(1<<32-ot(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=ao++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=QT++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Kh,useFormState:Zp,useActionState:Zp,useOptimistic:function(t){var e=Ge();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Qh.bind(null,z,!0,n),n.dispatch=e,[t,e]},useMemoCache:Gh,useCacheRefresh:function(){return Ge().memoizedState=e1.bind(null,z)},useEffectEvent:function(t){var e=Ge(),n={impl:t};return e.memoizedState=n,function(){if(Q&2)throw Error(T(440));return n.impl.apply(void 0,arguments)}}},Xh={readContext:Be,use:cc,useCallback:By,useContext:Be,useEffect:Vh,useImperativeHandle:Hy,useInsertionEffect:Ly,useLayoutEffect:Uy,useMemo:jy,useReducer:Ol,useRef:Iy,useState:function(){return Ol(gn)},useDebugValue:Yh,useDeferredValue:function(t,e){var n=ve();return Py(n,ee.memoizedState,t,e)},useTransition:function(){var t=Ol(gn)[0],e=ve().memoizedState;return[typeof t=="boolean"?t:kr(t),e]},useSyncExternalStore:Sy,useId:Yy,useHostTransitionStatus:Kh,useFormState:Jp,useActionState:Jp,useOptimistic:function(t,e){var n=ve();return Ny(n,ee,t,e)},useMemoCache:Gh,useCacheRefresh:Fy};Xh.useEffectEvent=ky;var Wy={readContext:Be,use:cc,useCallback:By,useContext:Be,useEffect:Vh,useImperativeHandle:Hy,useInsertionEffect:Ly,useLayoutEffect:Uy,useMemo:jy,useReducer:tu,useRef:Iy,useState:function(){return tu(gn)},useDebugValue:Yh,useDeferredValue:function(t,e){var n=ve();return ee===null?Fh(n,t,e):Py(n,ee.memoizedState,t,e)},useTransition:function(){var t=tu(gn)[0],e=ve().memoizedState;return[typeof t=="boolean"?t:kr(t),e]},useSyncExternalStore:Sy,useId:Yy,useHostTransitionStatus:Kh,useFormState:em,useActionState:em,useOptimistic:function(t,e){var n=ve();return ee!==null?Ny(n,ee,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Gh,useCacheRefresh:Fy};Wy.useEffectEvent=ky;function nu(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _f={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=ct(),s=Qn(i);s.payload=e,n!=null&&(s.callback=n),e=Xn(t,s,i),e!==null&&(Je(e,t,i),Ha(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=ct(),s=Qn(i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Xn(t,s,i),e!==null&&(Je(e,t,i),Ha(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ct(),i=Qn(n);i.tag=2,e!=null&&(i.callback=e),e=Xn(t,i,n),e!==null&&(Je(e,t,n),Ha(e,t,n))}};function nm(t,e,n,i,s,a,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,r):e.prototype&&e.prototype.isPureReactComponent?!ir(n,i)||!ir(s,a):!0}function im(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&_f.enqueueReplaceState(e,e.state,null)}function Bi(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=ce({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}function Zy(t){Wl(t)}function Jy(t){console.error(t)}function ev(t){Wl(t)}function ro(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function sm(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function yf(t,e,n){return n=Qn(n),n.tag=3,n.payload={element:null},n.callback=function(){ro(t,e)},n}function tv(t){return t=Qn(t),t.tag=3,t}function nv(t,e,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var a=i.value;t.payload=function(){return s(a)},t.callback=function(){sm(e,n,i)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){sm(e,n,i),typeof s!="function"&&($n===null?$n=new Set([this]):$n.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function n1(t,e,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&Js(e,n,s,!0),n=ft.current,n!==null){switch(n.tag){case 31:case 13:return Tt===null?fo():n.alternate===null&&de===0&&(de=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===to?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),du(t,i,s)),!1;case 22:return n.flags|=65536,i===to?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),du(t,i,s)),!1}throw Error(T(435,n.tag))}return du(t,i,s),fo(),!1}if(F)return e=ft.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,i!==af&&(t=Error(T(422),{cause:i}),ar(vt(t,n)))):(i!==af&&(e=Error(T(423),{cause:i}),ar(vt(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,i=vt(i,n),s=yf(t.stateNode,i,s),eu(t,s),de!==4&&(de=2)),!1;var a=Error(T(520),{cause:i});if(a=vt(a,n),Va===null?Va=[a]:Va.push(a),de!==4&&(de=2),e===null)return!0;i=vt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=yf(n.stateNode,i,t),eu(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&($n===null||!$n.has(a))))return n.flags|=65536,s&=-s,n.lanes|=s,s=tv(s),nv(s,t,n,i),eu(n,s),!1}n=n.return}while(n!==null);return!1}var $h=Error(T(461)),Te=!1;function Le(t,e,n,i){e.child=t===null?gy(e,null,n,i):zi(e,t.child,n,i)}function am(t,e,n,i,s){n=n.render;var a=e.ref;if("ref"in i){var r={};for(var l in i)l!=="ref"&&(r[l]=i[l])}else r=i;return Ui(e),i=Hh(t,e,n,r,a,s),l=Bh(),t!==null&&!Te?(jh(t,e,s),_n(t,e,s)):(F&&l&&Oh(e),e.flags|=1,Le(t,e,i,s),e.child)}function rm(t,e,n,i,s){if(t===null){var a=n.type;return typeof a=="function"&&!xh(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,iv(t,e,a,i,s)):(t=Nl(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!Wh(t,s)){var r=a.memoizedProps;if(n=n.compare,n=n!==null?n:ir,n(r,i)&&t.ref===e.ref)return _n(t,e,s)}return e.flags|=1,t=cn(a,i),t.ref=e.ref,t.return=e,e.child=t}function iv(t,e,n,i,s){if(t!==null){var a=t.memoizedProps;if(ir(a,i)&&t.ref===e.ref)if(Te=!1,e.pendingProps=i=a,Wh(t,s))t.flags&131072&&(Te=!0);else return e.lanes=t.lanes,_n(t,e,s)}return vf(t,e,n,i,s)}function sv(t,e,n,i){var s=i.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~a}else i=0,e.child=null;return lm(t,e,a,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&xl(e,a!==null?a.cachePool:null),a!==null?Xp(e,a):hf(),vy(e);else return i=e.lanes=536870912,lm(t,e,a!==null?a.baseLanes|n:n,n,i)}else a!==null?(xl(e,a.cachePool),Xp(e,a),kn(),e.memoizedState=null):(t!==null&&xl(e,null),hf(),kn());return Le(t,e,s,n),e.child}function Da(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function lm(t,e,n,i,s){var a=Ih();return a=a===null?null:{parent:Se._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&xl(e,null),hf(),vy(e),t!==null&&Js(t,e,i,!0),e.childLanes=s,null}function Ml(t,e){return e=lo({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function om(t,e,n){return zi(e,t.child,null,n),t=Ml(e,e.pendingProps),t.flags|=2,it(e),e.memoizedState=null,t}function i1(t,e,n){var i=e.pendingProps,s=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(F){if(i.mode==="hidden")return t=Ml(e,i),e.lanes=536870912,Da(null,t);if(df(e),(t=le)?(t=$v(t,bt),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:li!==null?{id:Ht,overflow:Bt}:null,retryLane:536870912,hydrationErrors:null},n=cy(t),n.return=e,e.child=n,He=e,le=null)):t=null,t===null)throw oi(e);return e.lanes=536870912,null}return Ml(e,i)}var a=t.memoizedState;if(a!==null){var r=a.dehydrated;if(df(e),s)if(e.flags&256)e.flags&=-257,e=om(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(T(558));else if(Te||Js(t,e,n,!1),s=(n&t.childLanes)!==0,Te||s){if(i=ne,i!==null&&(r=L_(i,n),r!==0&&r!==a.retryLane))throw a.retryLane=r,Xi(t,r),Je(i,t,r),$h;fo(),e=om(t,e,n)}else t=a.treeContext,le=Ct(r.nextSibling),He=e,F=!0,Kn=null,bt=!1,t!==null&&fy(e,t),e=Ml(e,i),e.flags|=4096;return e}return t=cn(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Il(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(T(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function vf(t,e,n,i,s){return Ui(e),n=Hh(t,e,n,i,void 0,s),i=Bh(),t!==null&&!Te?(jh(t,e,s),_n(t,e,s)):(F&&i&&Oh(e),e.flags|=1,Le(t,e,n,s),e.child)}function cm(t,e,n,i,s,a){return Ui(e),e.updateQueue=null,n=Ey(e,i,n,s),by(t),i=Bh(),t!==null&&!Te?(jh(t,e,a),_n(t,e,a)):(F&&i&&Oh(e),e.flags|=1,Le(t,e,n,a),e.child)}function um(t,e,n,i,s){if(Ui(e),e.stateNode===null){var a=ds,r=n.contextType;typeof r=="object"&&r!==null&&(a=Be(r)),a=new n(i,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=_f,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=i,a.state=e.memoizedState,a.refs={},Lh(e),r=n.contextType,a.context=typeof r=="object"&&r!==null?Be(r):ds,a.state=e.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(nu(e,n,r,i),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&_f.enqueueReplaceState(a,a.state,null),ja(e,i,a,s),Ba(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){a=e.stateNode;var l=e.memoizedProps,o=Bi(n,l);a.props=o;var c=a.context,h=n.contextType;r=ds,typeof h=="object"&&h!==null&&(r=Be(h));var f=n.getDerivedStateFromProps;h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l||c!==r)&&im(e,a,i,r),Dn=!1;var u=e.memoizedState;a.state=u,ja(e,i,a,s),Ba(),c=e.memoizedState,l||u!==c||Dn?(typeof f=="function"&&(nu(e,n,f,i),c=e.memoizedState),(o=Dn||nm(e,n,o,i,u,c,r))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),a.props=i,a.state=c,a.context=r,i=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,uf(t,e),r=e.memoizedProps,h=Bi(n,r),a.props=h,f=e.pendingProps,u=a.context,c=n.contextType,o=ds,typeof c=="object"&&c!==null&&(o=Be(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(r!==f||u!==o)&&im(e,a,i,o),Dn=!1,u=e.memoizedState,a.state=u,ja(e,i,a,s),Ba();var p=e.memoizedState;r!==f||u!==p||Dn||t!==null&&t.dependencies!==null&&eo(t.dependencies)?(typeof l=="function"&&(nu(e,n,l,i),p=e.memoizedState),(h=Dn||nm(e,n,h,i,u,p,o)||t!==null&&t.dependencies!==null&&eo(t.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,p,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,p,o)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||r===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),a.props=i,a.state=p,a.context=o,i=h):(typeof a.componentDidUpdate!="function"||r===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),i=!1)}return a=i,Il(t,e),i=(e.flags&128)!==0,a||i?(a=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&i?(e.child=zi(e,t.child,null,s),e.child=zi(e,null,n,s)):Le(t,e,n,s),e.memoizedState=a.state,t=e.child):t=_n(t,e,s),t}function fm(t,e,n,i){return Li(),e.flags|=256,Le(t,e,n,i),e.child}var iu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function su(t){return{baseLanes:t,cachePool:dy()}}function au(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=at),t}function av(t,e,n){var i=e.pendingProps,s=!1,a=(e.flags&128)!==0,r;if((r=a)||(r=t!==null&&t.memoizedState===null?!1:(_e.current&2)!==0),r&&(s=!0,e.flags&=-129),r=(e.flags&32)!==0,e.flags&=-33,t===null){if(F){if(s?In(e):kn(),(t=le)?(t=$v(t,bt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:li!==null?{id:Ht,overflow:Bt}:null,retryLane:536870912,hydrationErrors:null},n=cy(t),n.return=e,e.child=n,He=e,le=null)):t=null,t===null)throw oi(e);return If(t)?e.lanes=32:e.lanes=536870912,null}var l=i.children;return i=i.fallback,s?(kn(),s=e.mode,l=lo({mode:"hidden",children:l},s),i=Di(i,s,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,i=e.child,i.memoizedState=su(n),i.childLanes=au(t,r,n),e.memoizedState=iu,Da(null,i)):(In(e),bf(e,l))}var o=t.memoizedState;if(o!==null&&(l=o.dehydrated,l!==null)){if(a)e.flags&256?(In(e),e.flags&=-257,e=ru(t,e,n)):e.memoizedState!==null?(kn(),e.child=t.child,e.flags|=128,e=null):(kn(),l=i.fallback,s=e.mode,i=lo({mode:"visible",children:i.children},s),l=Di(l,s,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,zi(e,t.child,null,n),i=e.child,i.memoizedState=su(n),i.childLanes=au(t,r,n),e.memoizedState=iu,e=Da(null,i));else if(In(e),If(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var c=r.dgst;r=c,i=Error(T(419)),i.stack="",i.digest=r,ar({value:i,source:null,stack:null}),e=ru(t,e,n)}else if(Te||Js(t,e,n,!1),r=(n&t.childLanes)!==0,Te||r){if(r=ne,r!==null&&(i=L_(r,n),i!==0&&i!==o.retryLane))throw o.retryLane=i,Xi(t,i),Je(r,t,i),$h;Mf(l)||fo(),e=ru(t,e,n)}else Mf(l)?(e.flags|=192,e.child=t.child,e=null):(t=o.treeContext,le=Ct(l.nextSibling),He=e,F=!0,Kn=null,bt=!1,t!==null&&fy(e,t),e=bf(e,i.children),e.flags|=4096);return e}return s?(kn(),l=i.fallback,s=e.mode,o=t.child,c=o.sibling,i=cn(o,{mode:"hidden",children:i.children}),i.subtreeFlags=o.subtreeFlags&65011712,c!==null?l=cn(c,l):(l=Di(l,s,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,Da(null,i),i=e.child,l=t.child.memoizedState,l===null?l=su(n):(s=l.cachePool,s!==null?(o=Se._currentValue,s=s.parent!==o?{parent:o,pool:o}:s):s=dy(),l={baseLanes:l.baseLanes|n,cachePool:s}),i.memoizedState=l,i.childLanes=au(t,r,n),e.memoizedState=iu,Da(t.child,i)):(In(e),n=t.child,t=n.sibling,n=cn(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n)}function bf(t,e){return e=lo({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function lo(t,e){return t=st(22,t,null,e),t.lanes=0,t}function ru(t,e,n){return zi(e,t.child,null,n),t=bf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hm(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),lf(t.return,e,n)}function lu(t,e,n,i,s,a){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:a}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s,r.treeForkCount=a)}function rv(t,e,n){var i=e.pendingProps,s=i.revealOrder,a=i.tail;i=i.children;var r=_e.current,l=(r&2)!==0;if(l?(r=r&1|2,e.flags|=128):r&=1,ae(_e,r),Le(t,e,i,n),i=F?sr:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hm(t,n,e);else if(t.tag===19)hm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&io(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),lu(e,!1,s,n,a,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&io(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}lu(e,!0,n,null,a,i);break;case"together":lu(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function _n(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ui|=e.lanes,!(n&e.childLanes))if(t!==null){if(Js(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=cn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=cn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Wh(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&eo(t)))}function s1(t,e,n){switch(e.tag){case 3:Kl(e,e.stateNode.containerInfo),Mn(e,Se,t.memoizedState.cache),Li();break;case 27:case 5:Ku(e);break;case 4:Kl(e,e.stateNode.containerInfo);break;case 10:Mn(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,df(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(In(e),e.flags|=128,null):n&e.child.childLanes?av(t,e,n):(In(e),t=_n(t,e,n),t!==null?t.sibling:null);In(e);break;case 19:var s=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(Js(t,e,n,!1),i=(n&e.childLanes)!==0),s){if(i)return rv(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ae(_e,_e.current),i)break;return null;case 22:return e.lanes=0,sv(t,e,n,e.pendingProps);case 24:Mn(e,Se,t.memoizedState.cache)}return _n(t,e,n)}function lv(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Te=!0;else{if(!Wh(t,n)&&!(e.flags&128))return Te=!1,s1(t,e,n);Te=!!(t.flags&131072)}else Te=!1,F&&e.flags&1048576&&uy(e,sr,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=Ci(e.elementType),e.type=t,typeof t=="function")xh(t)?(i=Bi(t,i),e.tag=1,e=um(null,e,t,i,n)):(e.tag=0,e=vf(null,e,t,i,n));else{if(t!=null){var s=t.$$typeof;if(s===mh){e.tag=11,e=am(null,e,t,i,n);break e}else if(s===gh){e.tag=14,e=rm(null,e,t,i,n);break e}}throw e=Yu(t)||t,Error(T(306,e,""))}}return e;case 0:return vf(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,s=Bi(i,e.pendingProps),um(t,e,i,s,n);case 3:e:{if(Kl(e,e.stateNode.containerInfo),t===null)throw Error(T(387));i=e.pendingProps;var a=e.memoizedState;s=a.element,uf(t,e),ja(e,i,null,n);var r=e.memoizedState;if(i=r.cache,Mn(e,Se,i),i!==a.cache&&of(e,[Se],n,!0),Ba(),i=r.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:r.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=fm(t,e,i,n);break e}else if(i!==s){s=vt(Error(T(424)),e),ar(s),e=fm(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=Ct(t.firstChild),He=e,F=!0,Kn=null,bt=!0,n=gy(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Li(),i===s){e=_n(t,e,n);break e}Le(t,e,i,n)}e=e.child}return e;case 26:return Il(t,e),t===null?(n=Mm(e.type,null,e.pendingProps,null))?e.memoizedState=n:F||(n=e.type,t=e.pendingProps,i=go(Fn.current).createElement(n),i[ze]=e,i[et]=t,je(i,n,t),Me(i),e.stateNode=i):e.memoizedState=Mm(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Ku(e),t===null&&F&&(i=e.stateNode=Wv(e.type,e.pendingProps,Fn.current),He=e,bt=!0,s=le,_i(e.type)?(kf=s,le=Ct(i.firstChild)):le=s),Le(t,e,e.pendingProps.children,n),Il(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&F&&((s=i=le)&&(i=k1(i,e.type,e.pendingProps,bt),i!==null?(e.stateNode=i,He=e,le=Ct(i.firstChild),bt=!1,s=!0):s=!1),s||oi(e)),Ku(e),s=e.type,a=e.pendingProps,r=t!==null?t.memoizedProps:null,i=a.children,Of(s,a)?i=null:r!==null&&Of(s,r)&&(e.flags|=32),e.memoizedState!==null&&(s=Hh(t,e,XT,null,null,n),fr._currentValue=s),Il(t,e),Le(t,e,i,n),e.child;case 6:return t===null&&F&&((t=n=le)&&(n=L1(n,e.pendingProps,bt),n!==null?(e.stateNode=n,He=e,le=null,t=!0):t=!1),t||oi(e)),null;case 13:return av(t,e,n);case 4:return Kl(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=zi(e,null,i,n):Le(t,e,i,n),e.child;case 11:return am(t,e,e.type,e.pendingProps,n);case 7:return Le(t,e,e.pendingProps,n),e.child;case 8:return Le(t,e,e.pendingProps.children,n),e.child;case 12:return Le(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Mn(e,e.type,i.value),Le(t,e,i.children,n),e.child;case 9:return s=e.type._context,i=e.pendingProps.children,Ui(e),s=Be(s),i=i(s),e.flags|=1,Le(t,e,i,n),e.child;case 14:return rm(t,e,e.type,e.pendingProps,n);case 15:return iv(t,e,e.type,e.pendingProps,n);case 19:return rv(t,e,n);case 31:return i1(t,e,n);case 22:return sv(t,e,n,e.pendingProps);case 24:return Ui(e),i=Be(Se),t===null?(s=Ih(),s===null&&(s=ne,a=Mh(),s.pooledCache=a,a.refCount++,a!==null&&(s.pooledCacheLanes|=n),s=a),e.memoizedState={parent:i,cache:s},Lh(e),Mn(e,Se,s)):(t.lanes&n&&(uf(t,e),ja(e,null,null,n),Ba()),s=t.memoizedState,a=e.memoizedState,s.parent!==i?(s={parent:i,cache:i},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),Mn(e,Se,i)):(i=a.cache,Mn(e,Se,i),i!==s.cache&&of(e,[Se],n,!0))),Le(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(T(156,e.tag))}function Xt(t){t.flags|=4}function ou(t,e,n,i,s){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(s&335544128)===s)if(t.stateNode.complete)t.flags|=8192;else if(Dv())t.flags|=8192;else throw Ii=to,kh}else t.flags&=-16777217}function dm(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!e0(e))if(Dv())t.flags|=8192;else throw Ii=to,kh}function pl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?M_():536870912,t.lanes|=e,zs|=e)}function ya(t,e){if(!F)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function re(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function a1(t,e,n){var i=e.pendingProps;switch(Dh(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(e),null;case 1:return re(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),un(Se),Ds(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ji(e)?Xt(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jc())),re(e),null;case 26:var s=e.type,a=e.memoizedState;return t===null?(Xt(e),a!==null?(re(e),dm(e,a)):(re(e),ou(e,s,null,i,n))):a?a!==t.memoizedState?(Xt(e),re(e),dm(e,a)):(re(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&Xt(e),re(e),ou(e,s,t,i,n)),null;case 27:if(Ql(e),n=Fn.current,s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Xt(e);else{if(!i){if(e.stateNode===null)throw Error(T(166));return re(e),null}t=Pt.current,Ji(e)?Gp(e):(t=Wv(s,i,n),e.stateNode=t,Xt(e))}return re(e),null;case 5:if(Ql(e),s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Xt(e);else{if(!i){if(e.stateNode===null)throw Error(T(166));return re(e),null}if(a=Pt.current,Ji(e))Gp(e);else{var r=go(Fn.current);switch(a){case 1:a=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:a=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":a=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":a=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":a=r.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?a.multiple=!0:i.size&&(a.size=i.size);break;default:a=typeof i.is=="string"?r.createElement(s,{is:i.is}):r.createElement(s)}}a[ze]=e,a[et]=i;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)a.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=a;e:switch(je(a,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Xt(e)}}return re(e),ou(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Xt(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(T(166));if(t=Fn.current,Ji(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,s=He,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}t[ze]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Kv(t.nodeValue,n)),t||oi(e,!0)}else t=go(t).createTextNode(i),t[ze]=e,e.stateNode=t}return re(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=Ji(e),n!==null){if(t===null){if(!i)throw Error(T(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(557));t[ze]=e}else Li(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;re(e),t=!1}else n=Jc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(it(e),e):(it(e),null);if(e.flags&128)throw Error(T(558))}return re(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=Ji(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(T(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(T(317));s[ze]=e}else Li(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;re(e),s=!1}else s=Jc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(it(e),e):(it(e),null)}return it(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==s&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),pl(e,e.updateQueue),re(e),null);case 4:return Ds(),t===null&&sd(e.stateNode.containerInfo),re(e),null;case 10:return un(e.type),re(e),null;case 19:if(Ie(_e),i=e.memoizedState,i===null)return re(e),null;if(s=(e.flags&128)!==0,a=i.rendering,a===null)if(s)ya(i,!1);else{if(de!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=io(t),a!==null){for(e.flags|=128,ya(i,!1),t=a.updateQueue,e.updateQueue=t,pl(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)oy(n,t),n=n.sibling;return ae(_e,_e.current&1|2),F&&en(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&rt()>co&&(e.flags|=128,s=!0,ya(i,!1),e.lanes=4194304)}else{if(!s)if(t=io(a),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,pl(e,t),ya(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!F)return re(e),null}else 2*rt()-i.renderingStartTime>co&&n!==536870912&&(e.flags|=128,s=!0,ya(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=rt(),t.sibling=null,n=_e.current,ae(_e,s?n&1|2:n&1),F&&en(e,i.treeForkCount),t):(re(e),null);case 22:case 23:return it(e),Uh(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(re(e),e.subtreeFlags&6&&(e.flags|=8192)):re(e),n=e.updateQueue,n!==null&&pl(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&Ie(Mi),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),un(Se),re(e),null;case 25:return null;case 30:return null}throw Error(T(156,e.tag))}function r1(t,e){switch(Dh(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return un(Se),Ds(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Ql(e),null;case 31:if(e.memoizedState!==null){if(it(e),e.alternate===null)throw Error(T(340));Li()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(it(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));Li()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(_e),null;case 4:return Ds(),null;case 10:return un(e.type),null;case 22:case 23:return it(e),Uh(),t!==null&&Ie(Mi),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return un(Se),null;case 25:return null;default:return null}}function ov(t,e){switch(Dh(e),e.tag){case 3:un(Se),Ds();break;case 26:case 27:case 5:Ql(e);break;case 4:Ds();break;case 31:e.memoizedState!==null&&it(e);break;case 13:it(e);break;case 19:Ie(_e);break;case 10:un(e.type);break;case 22:case 23:it(e),Uh(),t!==null&&Ie(Mi);break;case 24:un(Se)}}function Lr(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&t)===t){i=void 0;var a=n.create,r=n.inst;i=a(),r.destroy=i}n=n.next}while(n!==s)}}catch(l){W(e,e.return,l)}}function ci(t,e,n){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var a=s.next;i=a;do{if((i.tag&t)===t){var r=i.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,s=e;var o=n,c=l;try{c()}catch(h){W(s,o,h)}}}i=i.next}while(i!==a)}}catch(h){W(e,e.return,h)}}function cv(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{yy(e,n)}catch(i){W(t,t.return,i)}}}function uv(t,e,n){n.props=Bi(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){W(t,e,i)}}function Ga(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(s){W(t,e,s)}}function jt(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){W(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){W(t,e,s)}else n.current=null}function fv(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){W(t,t.return,s)}}function cu(t,e,n){try{var i=t.stateNode;N1(i,t.type,n,e),i[et]=e}catch(s){W(t,t.return,s)}}function hv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&_i(t.type)||t.tag===4}function uu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&_i(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ef(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sn));else if(i!==4&&(i===27&&_i(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Ef(t,e,n),t=t.sibling;t!==null;)Ef(t,e,n),t=t.sibling}function oo(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&_i(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(oo(t,e,n),t=t.sibling;t!==null;)oo(t,e,n),t=t.sibling}function dv(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);je(e,i,n),e[ze]=t,e[et]=n}catch(a){W(t,t.return,a)}}var tn=!1,Ee=!1,fu=!1,pm=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function l1(t,e){if(t=t.containerInfo,Nf=bo,t=ey(t),Ah(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var r=0,l=-1,o=-1,c=0,h=0,f=t,u=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(l=r+s),f!==a||i!==0&&f.nodeType!==3||(o=r+i),f.nodeType===3&&(r+=f.nodeValue.length),(p=f.firstChild)!==null;)u=f,f=p;for(;;){if(f===t)break t;if(u===n&&++c===s&&(l=r),u===a&&++h===i&&(o=r),(p=f.nextSibling)!==null)break;f=u,u=f.parentNode}f=p}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(xf={focusedElem:t,selectionRange:n},bo=!1,Oe=e;Oe!==null;)if(e=Oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Oe=t;else for(;Oe!==null;){switch(e=Oe,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)s=t[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,s=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var _=Bi(n.type,s);t=i.getSnapshotBeforeUpdate(_,a),i.__reactInternalSnapshotBeforeUpdate=t}catch(b){W(n,n.return,b)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Df(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Df(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(T(163))}if(t=e.sibling,t!==null){t.return=e.return,Oe=t;break}Oe=e.return}}function pv(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Wt(t,n),i&4&&Lr(5,n);break;case 1:if(Wt(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(r){W(n,n.return,r)}else{var s=Bi(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(r){W(n,n.return,r)}}i&64&&cv(n),i&512&&Ga(n,n.return);break;case 3:if(Wt(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{yy(t,e)}catch(r){W(n,n.return,r)}}break;case 27:e===null&&i&4&&dv(n);case 26:case 5:Wt(t,n),e===null&&i&4&&fv(n),i&512&&Ga(n,n.return);break;case 12:Wt(t,n);break;case 31:Wt(t,n),i&4&&_v(t,n);break;case 13:Wt(t,n),i&4&&yv(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=g1.bind(null,n),U1(t,n))));break;case 22:if(i=n.memoizedState!==null||tn,!i){e=e!==null&&e.memoizedState!==null||Ee,s=tn;var a=Ee;tn=i,(Ee=e)&&!a?Zt(t,n,(n.subtreeFlags&8772)!==0):Wt(t,n),tn=s,Ee=a}break;case 30:break;default:Wt(t,n)}}function mv(t){var e=t.alternate;e!==null&&(t.alternate=null,mv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&bh(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ue=null,$e=!1;function $t(t,e,n){for(n=n.child;n!==null;)gv(t,e,n),n=n.sibling}function gv(t,e,n){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Nr,n)}catch{}switch(n.tag){case 26:Ee||jt(n,e),$t(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ee||jt(n,e);var i=ue,s=$e;_i(n.type)&&(ue=n.stateNode,$e=!1),$t(t,e,n),Fa(n.stateNode),ue=i,$e=s;break;case 5:Ee||jt(n,e);case 6:if(i=ue,s=$e,ue=null,$t(t,e,n),ue=i,$e=s,ue!==null)if($e)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(n.stateNode)}catch(a){W(n,e,a)}else try{ue.removeChild(n.stateNode)}catch(a){W(n,e,a)}break;case 18:ue!==null&&($e?(t=ue,Rm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Ps(t)):Rm(ue,n.stateNode));break;case 4:i=ue,s=$e,ue=n.stateNode.containerInfo,$e=!0,$t(t,e,n),ue=i,$e=s;break;case 0:case 11:case 14:case 15:ci(2,n,e),Ee||ci(4,n,e),$t(t,e,n);break;case 1:Ee||(jt(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&uv(n,e,i)),$t(t,e,n);break;case 21:$t(t,e,n);break;case 22:Ee=(i=Ee)||n.memoizedState!==null,$t(t,e,n),Ee=i;break;default:$t(t,e,n)}}function _v(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ps(t)}catch(n){W(e,e.return,n)}}}function yv(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ps(t)}catch(n){W(e,e.return,n)}}function o1(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new pm),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new pm),e;default:throw Error(T(435,t.tag))}}function ml(t,e){var n=o1(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var s=_1.bind(null,t,i);i.then(s,s)}})}function Qe(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],a=t,r=e,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(_i(l.type)){ue=l.stateNode,$e=!1;break e}break;case 5:ue=l.stateNode,$e=!1;break e;case 3:case 4:ue=l.stateNode.containerInfo,$e=!0;break e}l=l.return}if(ue===null)throw Error(T(160));gv(a,r,s),ue=null,$e=!1,a=s.alternate,a!==null&&(a.return=null),s.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)vv(e,t),e=e.sibling}var xt=null;function vv(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Qe(e,t),Xe(t),i&4&&(ci(3,t,t.return),Lr(3,t),ci(5,t,t.return));break;case 1:Qe(e,t),Xe(t),i&512&&(Ee||n===null||jt(n,n.return)),i&64&&tn&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=xt;if(Qe(e,t),Xe(t),i&512&&(Ee||n===null||jt(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":a=s.getElementsByTagName("title")[0],(!a||a[Dr]||a[ze]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=s.createElement(i),s.head.insertBefore(a,s.querySelector("head > title"))),je(a,i,n),a[ze]=t,Me(a),i=a;break e;case"link":var r=km("link","href",s).get(i+(n.href||""));if(r){for(var l=0;l<r.length;l++)if(a=r[l],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(l,1);break t}}a=s.createElement(i),je(a,i,n),s.head.appendChild(a);break;case"meta":if(r=km("meta","content",s).get(i+(n.content||""))){for(l=0;l<r.length;l++)if(a=r[l],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(l,1);break t}}a=s.createElement(i),je(a,i,n),s.head.appendChild(a);break;default:throw Error(T(468,i))}a[ze]=t,Me(a),i=a}t.stateNode=i}else Lm(s,t.type,t.stateNode);else t.stateNode=Im(s,i,t.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?Lm(s,t.type,t.stateNode):Im(s,i,t.memoizedProps)):i===null&&t.stateNode!==null&&cu(t,t.memoizedProps,n.memoizedProps)}break;case 27:Qe(e,t),Xe(t),i&512&&(Ee||n===null||jt(n,n.return)),n!==null&&i&4&&cu(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Qe(e,t),Xe(t),i&512&&(Ee||n===null||jt(n,n.return)),t.flags&32){s=t.stateNode;try{Is(s,"")}catch(_){W(t,t.return,_)}}i&4&&t.stateNode!=null&&(s=t.memoizedProps,cu(t,s,n!==null?n.memoizedProps:s)),i&1024&&(fu=!0);break;case 6:if(Qe(e,t),Xe(t),i&4){if(t.stateNode===null)throw Error(T(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(_){W(t,t.return,_)}}break;case 3:if(Ul=null,s=xt,xt=_o(e.containerInfo),Qe(e,t),xt=s,Xe(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ps(e.containerInfo)}catch(_){W(t,t.return,_)}fu&&(fu=!1,bv(t));break;case 4:i=xt,xt=_o(t.stateNode.containerInfo),Qe(e,t),Xe(t),xt=i;break;case 12:Qe(e,t),Xe(t);break;case 31:Qe(e,t),Xe(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,ml(t,i)));break;case 13:Qe(e,t),Xe(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(hc=rt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,ml(t,i)));break;case 22:s=t.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,c=tn,h=Ee;if(tn=c||s,Ee=h||o,Qe(e,t),Ee=h,tn=c,Xe(t),i&8192)e:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||o||tn||Ee||wi(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){o=n=e;try{if(a=o.stateNode,s)r=a.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=o.stateNode;var f=o.memoizedProps.style,u=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=u==null||typeof u=="boolean"?"":(""+u).trim()}}catch(_){W(o,o.return,_)}}}else if(e.tag===6){if(n===null){o=e;try{o.stateNode.nodeValue=s?"":o.memoizedProps}catch(_){W(o,o.return,_)}}}else if(e.tag===18){if(n===null){o=e;try{var p=o.stateNode;s?Nm(p,!0):Nm(o.stateNode,!1)}catch(_){W(o,o.return,_)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,ml(t,n))));break;case 19:Qe(e,t),Xe(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,ml(t,i)));break;case 30:break;case 21:break;default:Qe(e,t),Xe(t)}}function Xe(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(hv(i)){n=i;break}i=i.return}if(n==null)throw Error(T(160));switch(n.tag){case 27:var s=n.stateNode,a=uu(t);oo(t,a,s);break;case 5:var r=n.stateNode;n.flags&32&&(Is(r,""),n.flags&=-33);var l=uu(t);oo(t,l,r);break;case 3:case 4:var o=n.stateNode.containerInfo,c=uu(t);Ef(t,c,o);break;default:throw Error(T(161))}}catch(h){W(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;bv(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Wt(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)pv(t,e.alternate,e),e=e.sibling}function wi(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ci(4,e,e.return),wi(e);break;case 1:jt(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&uv(e,e.return,n),wi(e);break;case 27:Fa(e.stateNode);case 26:case 5:jt(e,e.return),wi(e);break;case 22:e.memoizedState===null&&wi(e);break;case 30:wi(e);break;default:wi(e)}t=t.sibling}}function Zt(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,s=t,a=e,r=a.flags;switch(a.tag){case 0:case 11:case 15:Zt(s,a,n),Lr(4,a);break;case 1:if(Zt(s,a,n),i=a,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(c){W(i,i.return,c)}if(i=a,s=i.updateQueue,s!==null){var l=i.stateNode;try{var o=s.shared.hiddenCallbacks;if(o!==null)for(s.shared.hiddenCallbacks=null,s=0;s<o.length;s++)_y(o[s],l)}catch(c){W(i,i.return,c)}}n&&r&64&&cv(a),Ga(a,a.return);break;case 27:dv(a);case 26:case 5:Zt(s,a,n),n&&i===null&&r&4&&fv(a),Ga(a,a.return);break;case 12:Zt(s,a,n);break;case 31:Zt(s,a,n),n&&r&4&&_v(s,a);break;case 13:Zt(s,a,n),n&&r&4&&yv(s,a);break;case 22:a.memoizedState===null&&Zt(s,a,n),Ga(a,a.return);break;case 30:break;default:Zt(s,a,n)}e=e.sibling}}function Zh(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Ir(n))}function Jh(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ir(t))}function Nt(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ev(t,e,n,i),e=e.sibling}function Ev(t,e,n,i){var s=e.flags;switch(e.tag){case 0:case 11:case 15:Nt(t,e,n,i),s&2048&&Lr(9,e);break;case 1:Nt(t,e,n,i);break;case 3:Nt(t,e,n,i),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ir(t)));break;case 12:if(s&2048){Nt(t,e,n,i),t=e.stateNode;try{var a=e.memoizedProps,r=a.id,l=a.onPostCommit;typeof l=="function"&&l(r,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(o){W(e,e.return,o)}}else Nt(t,e,n,i);break;case 31:Nt(t,e,n,i);break;case 13:Nt(t,e,n,i);break;case 23:break;case 22:a=e.stateNode,r=e.alternate,e.memoizedState!==null?a._visibility&2?Nt(t,e,n,i):qa(t,e):a._visibility&2?Nt(t,e,n,i):(a._visibility|=2,is(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),s&2048&&Zh(r,e);break;case 24:Nt(t,e,n,i),s&2048&&Jh(e.alternate,e);break;default:Nt(t,e,n,i)}}function is(t,e,n,i,s){for(s=s&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,r=e,l=n,o=i,c=r.flags;switch(r.tag){case 0:case 11:case 15:is(a,r,l,o,s),Lr(8,r);break;case 23:break;case 22:var h=r.stateNode;r.memoizedState!==null?h._visibility&2?is(a,r,l,o,s):qa(a,r):(h._visibility|=2,is(a,r,l,o,s)),s&&c&2048&&Zh(r.alternate,r);break;case 24:is(a,r,l,o,s),s&&c&2048&&Jh(r.alternate,r);break;default:is(a,r,l,o,s)}e=e.sibling}}function qa(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,s=i.flags;switch(i.tag){case 22:qa(n,i),s&2048&&Zh(i.alternate,i);break;case 24:qa(n,i),s&2048&&Jh(i.alternate,i);break;default:qa(n,i)}e=e.sibling}}var Ma=8192;function es(t,e,n){if(t.subtreeFlags&Ma)for(t=t.child;t!==null;)Sv(t,e,n),t=t.sibling}function Sv(t,e,n){switch(t.tag){case 26:es(t,e,n),t.flags&Ma&&t.memoizedState!==null&&Q1(n,xt,t.memoizedState,t.memoizedProps);break;case 5:es(t,e,n);break;case 3:case 4:var i=xt;xt=_o(t.stateNode.containerInfo),es(t,e,n),xt=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Ma,Ma=16777216,es(t,e,n),Ma=i):es(t,e,n));break;default:es(t,e,n)}}function Tv(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function va(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Oe=i,wv(i,t)}Tv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cv(t),t=t.sibling}function Cv(t){switch(t.tag){case 0:case 11:case 15:va(t),t.flags&2048&&ci(9,t,t.return);break;case 3:va(t);break;case 12:va(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,kl(t)):va(t);break;default:va(t)}}function kl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Oe=i,wv(i,t)}Tv(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ci(8,e,e.return),kl(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,kl(e));break;default:kl(e)}t=t.sibling}}function wv(t,e){for(;Oe!==null;){var n=Oe;switch(n.tag){case 0:case 11:case 15:ci(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ir(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Oe=i;else e:for(n=t;Oe!==null;){i=Oe;var s=i.sibling,a=i.return;if(mv(i),i===n){Oe=null;break e}if(s!==null){s.return=a,Oe=s;break e}Oe=a}}}var c1={getCacheForType:function(t){var e=Be(Se),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Be(Se).controller.signal}},u1=typeof WeakMap=="function"?WeakMap:Map,Q=0,ne=null,q=null,Y=0,$=0,nt=null,Gn=!1,ta=!1,ed=!1,yn=0,de=0,ui=0,ki=0,td=0,at=0,zs=0,Va=null,We=null,Sf=!1,hc=0,Av=0,co=1/0,uo=null,$n=null,we=0,Wn=null,Hs=null,fn=0,Tf=0,Cf=null,Rv=null,Ya=0,wf=null;function ct(){return Q&2&&Y!==0?Y&-Y:I.T!==null?id():U_()}function Nv(){if(at===0)if(!(Y&536870912)||F){var t=ll;ll<<=1,!(ll&3932160)&&(ll=262144),at=t}else at=536870912;return t=ft.current,t!==null&&(t.flags|=32),at}function Je(t,e,n){(t===ne&&($===2||$===9)||t.cancelPendingCommit!==null)&&(Bs(t,0),qn(t,Y,at,!1)),Or(t,n),(!(Q&2)||t!==ne)&&(t===ne&&(!(Q&2)&&(ki|=n),de===4&&qn(t,Y,at,!1)),Yt(t))}function xv(t,e,n){if(Q&6)throw Error(T(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||xr(t,e),s=i?d1(t,e):hu(t,e,!0),a=i;do{if(s===0){ta&&!i&&qn(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!f1(n)){s=hu(t,e,!1),a=!1;continue}if(s===2){if(a=e,t.errorRecoveryDisabledLanes&a)var r=0;else r=t.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){e=r;e:{var l=t;s=Va;var o=l.current.memoizedState.isDehydrated;if(o&&(Bs(l,r).flags|=256),r=hu(l,r,!1),r!==2){if(ed&&!o){l.errorRecoveryDisabledLanes|=a,ki|=a,s=4;break e}a=We,We=s,a!==null&&(We===null?We=a:We.push.apply(We,a))}s=r}if(a=!1,s!==2)continue}}if(s===1){Bs(t,0),qn(t,e,0,!0);break}e:{switch(i=t,a=s,a){case 0:case 1:throw Error(T(345));case 4:if((e&4194048)!==e)break;case 6:qn(i,e,at,!Gn);break e;case 2:We=null;break;case 3:case 5:break;default:throw Error(T(329))}if((e&62914560)===e&&(s=hc+300-rt(),10<s)){if(qn(i,e,at,!Gn),tc(i,0,!0)!==0)break e;fn=e,i.timeoutHandle=Xv(mm.bind(null,i,n,We,uo,Sf,e,at,ki,zs,Gn,a,"Throttled",-0,0),s);break e}mm(i,n,We,uo,Sf,e,at,ki,zs,Gn,a,null,-0,0)}}break}while(!0);Yt(t)}function mm(t,e,n,i,s,a,r,l,o,c,h,f,u,p){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sn},Sv(e,a,f);var _=(a&62914560)===a?hc-rt():(a&4194048)===a?Av-rt():0;if(_=X1(f,_),_!==null){fn=a,t.cancelPendingCommit=_(_m.bind(null,t,e,a,n,i,s,r,l,o,h,f,null,u,p)),qn(t,a,r,!c);return}}_m(t,e,a,n,i,s,r,l,o)}function f1(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!ut(a(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qn(t,e,n,i){e&=~td,e&=~ki,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var s=e;0<s;){var a=31-ot(s),r=1<<a;i[a]=-1,s&=~r}n!==0&&I_(t,n,e)}function dc(){return Q&6?!0:(Ur(0),!1)}function nd(){if(q!==null){if($===0)var t=q.return;else t=q,an=$i=null,Ph(t),Ts=null,rr=0,t=q;for(;t!==null;)ov(t.alternate,t),t=t.return;q=null}}function Bs(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,D1(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),fn=0,nd(),ne=t,q=n=cn(t.current,null),Y=e,$=0,nt=null,Gn=!1,ta=xr(t,e),ed=!1,zs=at=td=ki=ui=de=0,We=Va=null,Sf=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var s=31-ot(i),a=1<<s;e|=t[s],i&=~a}return yn=e,ac(),n}function Ov(t,e){z=null,I.H=or,e===ea||e===lc?(e=Kp(),$=3):e===kh?(e=Kp(),$=4):$=e===$h?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,nt=e,q===null&&(de=1,ro(t,vt(e,t.current)))}function Dv(){var t=ft.current;return t===null?!0:(Y&4194048)===Y?Tt===null:(Y&62914560)===Y||Y&536870912?t===Tt:!1}function Mv(){var t=I.H;return I.H=or,t===null?or:t}function Iv(){var t=I.A;return I.A=c1,t}function fo(){de=4,Gn||(Y&4194048)!==Y&&ft.current!==null||(ta=!0),!(ui&134217727)&&!(ki&134217727)||ne===null||qn(ne,Y,at,!1)}function hu(t,e,n){var i=Q;Q|=2;var s=Mv(),a=Iv();(ne!==t||Y!==e)&&(uo=null,Bs(t,e)),e=!1;var r=de;e:do try{if($!==0&&q!==null){var l=q,o=nt;switch($){case 8:nd(),r=6;break e;case 3:case 2:case 9:case 6:ft.current===null&&(e=!0);var c=$;if($=0,nt=null,gs(t,l,o,c),n&&ta){r=0;break e}break;default:c=$,$=0,nt=null,gs(t,l,o,c)}}h1(),r=de;break}catch(h){Ov(t,h)}while(!0);return e&&t.shellSuspendCounter++,an=$i=null,Q=i,I.H=s,I.A=a,q===null&&(ne=null,Y=0,ac()),r}function h1(){for(;q!==null;)kv(q)}function d1(t,e){var n=Q;Q|=2;var i=Mv(),s=Iv();ne!==t||Y!==e?(uo=null,co=rt()+500,Bs(t,e)):ta=xr(t,e);e:do try{if($!==0&&q!==null){e=q;var a=nt;t:switch($){case 1:$=0,nt=null,gs(t,e,a,1);break;case 2:case 9:if(Fp(a)){$=0,nt=null,gm(e);break}e=function(){$!==2&&$!==9||ne!==t||($=7),Yt(t)},a.then(e,e);break e;case 3:$=7;break e;case 4:$=5;break e;case 7:Fp(a)?($=0,nt=null,gm(e)):($=0,nt=null,gs(t,e,a,7));break;case 5:var r=null;switch(q.tag){case 26:r=q.memoizedState;case 5:case 27:var l=q;if(r?e0(r):l.stateNode.complete){$=0,nt=null;var o=l.sibling;if(o!==null)q=o;else{var c=l.return;c!==null?(q=c,pc(c)):q=null}break t}}$=0,nt=null,gs(t,e,a,5);break;case 6:$=0,nt=null,gs(t,e,a,6);break;case 8:nd(),de=6;break e;default:throw Error(T(462))}}p1();break}catch(h){Ov(t,h)}while(!0);return an=$i=null,I.H=i,I.A=s,Q=n,q!==null?0:(ne=null,Y=0,ac(),de)}function p1(){for(;q!==null&&!zS();)kv(q)}function kv(t){var e=lv(t.alternate,t,yn);t.memoizedProps=t.pendingProps,e===null?pc(t):q=e}function gm(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=cm(n,e,e.pendingProps,e.type,void 0,Y);break;case 11:e=cm(n,e,e.pendingProps,e.type.render,e.ref,Y);break;case 5:Ph(e);default:ov(n,e),e=q=oy(e,yn),e=lv(n,e,yn)}t.memoizedProps=t.pendingProps,e===null?pc(t):q=e}function gs(t,e,n,i){an=$i=null,Ph(e),Ts=null,rr=0;var s=e.return;try{if(n1(t,s,e,n,Y)){de=1,ro(t,vt(n,t.current)),q=null;return}}catch(a){if(s!==null)throw q=s,a;de=1,ro(t,vt(n,t.current)),q=null;return}e.flags&32768?(F||i===1?t=!0:ta||Y&536870912?t=!1:(Gn=t=!0,(i===2||i===9||i===3||i===6)&&(i=ft.current,i!==null&&i.tag===13&&(i.flags|=16384))),Lv(e,t)):pc(e)}function pc(t){var e=t;do{if(e.flags&32768){Lv(e,Gn);return}t=e.return;var n=a1(e.alternate,e,yn);if(n!==null){q=n;return}if(e=e.sibling,e!==null){q=e;return}q=e=t}while(e!==null);de===0&&(de=5)}function Lv(t,e){do{var n=r1(t.alternate,t);if(n!==null){n.flags&=32767,q=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){q=t;return}q=t=n}while(t!==null);de=6,q=null}function _m(t,e,n,i,s,a,r,l,o){t.cancelPendingCommit=null;do mc();while(we!==0);if(Q&6)throw Error(T(327));if(e!==null){if(e===t.current)throw Error(T(177));if(a=e.lanes|e.childLanes,a|=Rh,KS(t,n,a,r,l,o),t===ne&&(q=ne=null,Y=0),Hs=e,Wn=t,fn=n,Tf=a,Cf=s,Rv=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,y1(Xl,function(){return jv(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=I.T,I.T=null,s=X.p,X.p=2,r=Q,Q|=4;try{l1(t,e,n)}finally{Q=r,X.p=s,I.T=i}}we=1,Uv(),zv(),Hv()}}function Uv(){if(we===1){we=0;var t=Wn,e=Hs,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=I.T,I.T=null;var i=X.p;X.p=2;var s=Q;Q|=4;try{vv(e,t);var a=xf,r=ey(t.containerInfo),l=a.focusedElem,o=a.selectionRange;if(r!==l&&l&&l.ownerDocument&&J_(l.ownerDocument.documentElement,l)){if(o!==null&&Ah(l)){var c=o.start,h=o.end;if(h===void 0&&(h=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(h,l.value.length);else{var f=l.ownerDocument||document,u=f&&f.defaultView||window;if(u.getSelection){var p=u.getSelection(),_=l.textContent.length,b=Math.min(o.start,_),S=o.end===void 0?b:Math.min(o.end,_);!p.extend&&b>S&&(r=S,S=b,b=r);var m=Bp(l,b),d=Bp(l,S);if(m&&d&&(p.rangeCount!==1||p.anchorNode!==m.node||p.anchorOffset!==m.offset||p.focusNode!==d.node||p.focusOffset!==d.offset)){var g=f.createRange();g.setStart(m.node,m.offset),p.removeAllRanges(),b>S?(p.addRange(g),p.extend(d.node,d.offset)):(g.setEnd(d.node,d.offset),p.addRange(g))}}}}for(f=[],p=l;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var v=f[l];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}bo=!!Nf,xf=Nf=null}finally{Q=s,X.p=i,I.T=n}}t.current=e,we=2}}function zv(){if(we===2){we=0;var t=Wn,e=Hs,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=I.T,I.T=null;var i=X.p;X.p=2;var s=Q;Q|=4;try{pv(t,e.alternate,e)}finally{Q=s,X.p=i,I.T=n}}we=3}}function Hv(){if(we===4||we===3){we=0,HS();var t=Wn,e=Hs,n=fn,i=Rv;e.subtreeFlags&10256||e.flags&10256?we=5:(we=0,Hs=Wn=null,Bv(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&($n=null),vh(n),e=e.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Nr,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=I.T,s=X.p,X.p=2,I.T=null;try{for(var a=t.onRecoverableError,r=0;r<i.length;r++){var l=i[r];a(l.value,{componentStack:l.stack})}}finally{I.T=e,X.p=s}}fn&3&&mc(),Yt(t),s=t.pendingLanes,n&261930&&s&42?t===wf?Ya++:(Ya=0,wf=t):Ya=0,Ur(0)}}function Bv(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Ir(e)))}function mc(){return Uv(),zv(),Hv(),jv()}function jv(){if(we!==5)return!1;var t=Wn,e=Tf;Tf=0;var n=vh(fn),i=I.T,s=X.p;try{X.p=32>n?32:n,I.T=null,n=Cf,Cf=null;var a=Wn,r=fn;if(we=0,Hs=Wn=null,fn=0,Q&6)throw Error(T(331));var l=Q;if(Q|=4,Cv(a.current),Ev(a,a.current,r,n),Q=l,Ur(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Nr,a)}catch{}return!0}finally{X.p=s,I.T=i,Bv(t,e)}}function ym(t,e,n){e=vt(n,e),e=yf(t.stateNode,e,2),t=Xn(t,e,2),t!==null&&(Or(t,2),Yt(t))}function W(t,e,n){if(t.tag===3)ym(t,t,n);else for(;e!==null;){if(e.tag===3){ym(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&($n===null||!$n.has(i))){t=vt(n,t),n=tv(2),i=Xn(e,n,2),i!==null&&(nv(n,i,e,t),Or(i,2),Yt(i));break}}e=e.return}}function du(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new u1;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(ed=!0,s.add(n),t=m1.bind(null,t,e,n),e.then(t,t))}function m1(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ne===t&&(Y&n)===n&&(de===4||de===3&&(Y&62914560)===Y&&300>rt()-hc?!(Q&2)&&Bs(t,0):td|=n,zs===Y&&(zs=0)),Yt(t)}function Pv(t,e){e===0&&(e=M_()),t=Xi(t,e),t!==null&&(Or(t,e),Yt(t))}function g1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Pv(t,n)}function _1(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(T(314))}i!==null&&i.delete(e),Pv(t,n)}function y1(t,e){return _h(t,e)}var ho=null,ss=null,Af=!1,po=!1,pu=!1,Vn=0;function Yt(t){t!==ss&&t.next===null&&(ss===null?ho=ss=t:ss=ss.next=t),po=!0,Af||(Af=!0,b1())}function Ur(t,e){if(!pu&&po){pu=!0;do for(var n=!1,i=ho;i!==null;){if(t!==0){var s=i.pendingLanes;if(s===0)var a=0;else{var r=i.suspendedLanes,l=i.pingedLanes;a=(1<<31-ot(42|t)+1)-1,a&=s&~(r&~l),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,vm(i,a))}else a=Y,a=tc(i,i===ne?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||xr(i,a)||(n=!0,vm(i,a));i=i.next}while(n);pu=!1}}function v1(){Gv()}function Gv(){po=Af=!1;var t=0;Vn!==0&&O1()&&(t=Vn);for(var e=rt(),n=null,i=ho;i!==null;){var s=i.next,a=qv(i,e);a===0?(i.next=null,n===null?ho=s:n.next=s,s===null&&(ss=n)):(n=i,(t!==0||a&3)&&(po=!0)),i=s}we!==0&&we!==5||Ur(t),Vn!==0&&(Vn=0)}function qv(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var r=31-ot(a),l=1<<r,o=s[r];o===-1?(!(l&n)||l&i)&&(s[r]=FS(l,e)):o<=e&&(t.expiredLanes|=l),a&=~l}if(e=ne,n=Y,n=tc(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&($===2||$===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Gc(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||xr(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Gc(i),vh(n)){case 2:case 8:n=O_;break;case 32:n=Xl;break;case 268435456:n=D_;break;default:n=Xl}return i=Vv.bind(null,t),n=_h(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Gc(i),t.callbackPriority=2,t.callbackNode=null,2}function Vv(t,e){if(we!==0&&we!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(mc()&&t.callbackNode!==n)return null;var i=Y;return i=tc(t,t===ne?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(xv(t,i,e),qv(t,rt()),t.callbackNode!=null&&t.callbackNode===n?Vv.bind(null,t):null)}function vm(t,e){if(mc())return null;xv(t,e,!0)}function b1(){M1(function(){Q&6?_h(x_,v1):Gv()})}function id(){if(Vn===0){var t=ks;t===0&&(t=rl,rl<<=1,!(rl&261888)&&(rl=256)),Vn=t}return Vn}function bm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wl(""+t)}function Em(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function E1(t,e,n,i,s){if(e==="submit"&&n&&n.stateNode===s){var a=bm((s[et]||null).action),r=i.submitter;r&&(e=(e=r[et]||null)?bm(e.formAction):r.getAttribute("formAction"),e!==null&&(a=e,r=null));var l=new nc("action","action",null,i,s);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Vn!==0){var o=r?Em(s,r):new FormData(s);gf(n,{pending:!0,data:o,method:s.method,action:a},null,o)}}else typeof a=="function"&&(l.preventDefault(),o=r?Em(s,r):new FormData(s),gf(n,{pending:!0,data:o,method:s.method,action:a},a,o))},currentTarget:s}]})}}for(var mu=0;mu<sf.length;mu++){var gu=sf[mu],S1=gu.toLowerCase(),T1=gu[0].toUpperCase()+gu.slice(1);Ut(S1,"on"+T1)}Ut(ny,"onAnimationEnd");Ut(iy,"onAnimationIteration");Ut(sy,"onAnimationStart");Ut("dblclick","onDoubleClick");Ut("focusin","onFocus");Ut("focusout","onBlur");Ut(BT,"onTransitionRun");Ut(jT,"onTransitionStart");Ut(PT,"onTransitionCancel");Ut(ay,"onTransitionEnd");Ms("onMouseEnter",["mouseout","mouseover"]);Ms("onMouseLeave",["mouseout","mouseover"]);Ms("onPointerEnter",["pointerout","pointerover"]);Ms("onPointerLeave",["pointerout","pointerover"]);Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cr));function Yv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var r=i.length-1;0<=r;r--){var l=i[r],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==a&&s.isPropagationStopped())break e;a=l,s.currentTarget=c;try{a(s)}catch(h){Wl(h)}s.currentTarget=null,a=o}else for(r=0;r<i.length;r++){if(l=i[r],o=l.instance,c=l.currentTarget,l=l.listener,o!==a&&s.isPropagationStopped())break e;a=l,s.currentTarget=c;try{a(s)}catch(h){Wl(h)}s.currentTarget=null,a=o}}}}function G(t,e){var n=e[Xu];n===void 0&&(n=e[Xu]=new Set);var i=t+"__bubble";n.has(i)||(Fv(e,t,2,!1),n.add(i))}function _u(t,e,n){var i=0;e&&(i|=4),Fv(n,t,i,e)}var gl="_reactListening"+Math.random().toString(36).slice(2);function sd(t){if(!t[gl]){t[gl]=!0,z_.forEach(function(n){n!=="selectionchange"&&(C1.has(n)||_u(n,!1,t),_u(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gl]||(e[gl]=!0,_u("selectionchange",!1,e))}}function Fv(t,e,n,i){switch(a0(e)){case 2:var s=Z1;break;case 8:s=J1;break;default:s=od}n=s.bind(null,e,n,t),s=void 0,!ef||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function yu(t,e,n,i,s){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var l=i.stateNode.containerInfo;if(l===s)break;if(r===4)for(r=i.return;r!==null;){var o=r.tag;if((o===3||o===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;l!==null;){if(r=ls(l),r===null)return;if(o=r.tag,o===5||o===6||o===26||o===27){i=a=r;continue e}l=l.parentNode}}i=i.return}Y_(function(){var c=a,h=Sh(n),f=[];e:{var u=ry.get(t);if(u!==void 0){var p=nc,_=t;switch(t){case"keypress":if(Rl(n)===0)break e;case"keydown":case"keyup":p=_T;break;case"focusin":_="focus",p=Kc;break;case"focusout":_="blur",p=Kc;break;case"beforeblur":case"afterblur":p=Kc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=xp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=aT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=bT;break;case ny:case iy:case sy:p=oT;break;case ay:p=ST;break;case"scroll":case"scrollend":p=iT;break;case"wheel":p=CT;break;case"copy":case"cut":case"paste":p=uT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Dp;break;case"toggle":case"beforetoggle":p=AT}var b=(e&4)!==0,S=!b&&(t==="scroll"||t==="scrollend"),m=b?u!==null?u+"Capture":null:u;b=[];for(var d=c,g;d!==null;){var v=d;if(g=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||g===null||m===null||(v=tr(d,m),v!=null&&b.push(ur(d,v,g))),S)break;d=d.return}0<b.length&&(u=new p(u,_,null,n,h),f.push({event:u,listeners:b}))}}if(!(e&7)){e:{if(u=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",u&&n!==Ju&&(_=n.relatedTarget||n.fromElement)&&(ls(_)||_[Ws]))break e;if((p||u)&&(u=h.window===h?h:(u=h.ownerDocument)?u.defaultView||u.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=c,_=_?ls(_):null,_!==null&&(S=Rr(_),b=_.tag,_!==S||b!==5&&b!==27&&b!==6)&&(_=null)):(p=null,_=c),p!==_)){if(b=xp,v="onMouseLeave",m="onMouseEnter",d="mouse",(t==="pointerout"||t==="pointerover")&&(b=Dp,v="onPointerLeave",m="onPointerEnter",d="pointer"),S=p==null?u:Oa(p),g=_==null?u:Oa(_),u=new b(v,d+"leave",p,n,h),u.target=S,u.relatedTarget=g,v=null,ls(h)===c&&(b=new b(m,d+"enter",_,n,h),b.target=g,b.relatedTarget=S,v=b),S=v,p&&_)t:{for(b=w1,m=p,d=_,g=0,v=m;v;v=b(v))g++;v=0;for(var w=d;w;w=b(w))v++;for(;0<g-v;)m=b(m),g--;for(;0<v-g;)d=b(d),v--;for(;g--;){if(m===d||d!==null&&m===d.alternate){b=m;break t}m=b(m),d=b(d)}b=null}else b=null;p!==null&&Sm(f,u,p,b,!1),_!==null&&S!==null&&Sm(f,S,_,b,!0)}}e:{if(u=c?Oa(c):window,p=u.nodeName&&u.nodeName.toLowerCase(),p==="select"||p==="input"&&u.type==="file")var D=Lp;else if(kp(u))if(W_)D=UT;else{D=kT;var A=IT}else p=u.nodeName,!p||p.toLowerCase()!=="input"||u.type!=="checkbox"&&u.type!=="radio"?c&&Eh(c.elementType)&&(D=Lp):D=LT;if(D&&(D=D(t,c))){$_(f,D,n,h);break e}A&&A(t,u,c),t==="focusout"&&c&&u.type==="number"&&c.memoizedProps.value!=null&&Zu(u,"number",u.value)}switch(A=c?Oa(c):window,t){case"focusin":(kp(A)||A.contentEditable==="true")&&(us=A,tf=c,Ua=null);break;case"focusout":Ua=tf=us=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,jp(f,n,h);break;case"selectionchange":if(HT)break;case"keydown":case"keyup":jp(f,n,h)}var N;if(wh)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else cs?Q_(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(K_&&n.locale!=="ko"&&(cs||M!=="onCompositionStart"?M==="onCompositionEnd"&&cs&&(N=F_()):(Pn=h,Th="value"in Pn?Pn.value:Pn.textContent,cs=!0)),A=mo(c,M),0<A.length&&(M=new Op(M,t,null,n,h),f.push({event:M,listeners:A}),N?M.data=N:(N=X_(n),N!==null&&(M.data=N)))),(N=NT?xT(t,n):OT(t,n))&&(M=mo(c,"onBeforeInput"),0<M.length&&(A=new Op("onBeforeInput","beforeinput",null,n,h),f.push({event:A,listeners:M}),A.data=N)),E1(f,t,c,n,h)}Yv(f,e)})}function ur(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mo(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,a=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||a===null||(s=tr(t,n),s!=null&&i.unshift(ur(t,s,a)),s=tr(t,e),s!=null&&i.push(ur(t,s,a))),t.tag===3)return i;t=t.return}return[]}function w1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Sm(t,e,n,i,s){for(var a=e._reactName,r=[];n!==null&&n!==i;){var l=n,o=l.alternate,c=l.stateNode;if(l=l.tag,o!==null&&o===i)break;l!==5&&l!==26&&l!==27||c===null||(o=c,s?(c=tr(n,a),c!=null&&r.unshift(ur(n,c,o))):s||(c=tr(n,a),c!=null&&r.push(ur(n,c,o)))),n=n.return}r.length!==0&&t.push({event:e,listeners:r})}var A1=/\r\n?/g,R1=/\u0000|\uFFFD/g;function Tm(t){return(typeof t=="string"?t:""+t).replace(A1,`
`).replace(R1,"")}function Kv(t,e){return e=Tm(e),Tm(t)===e}function Z(t,e,n,i,s,a){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Is(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Is(t,""+i);break;case"className":cl(t,"class",i);break;case"tabIndex":cl(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":cl(t,n,i);break;case"style":V_(t,i,a);break;case"data":if(e!=="object"){cl(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=wl(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&Z(t,e,"name",s.name,s,null),Z(t,e,"formEncType",s.formEncType,s,null),Z(t,e,"formMethod",s.formMethod,s,null),Z(t,e,"formTarget",s.formTarget,s,null)):(Z(t,e,"encType",s.encType,s,null),Z(t,e,"method",s.method,s,null),Z(t,e,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=wl(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=sn);break;case"onScroll":i!=null&&G("scroll",t);break;case"onScrollEnd":i!=null&&G("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(T(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(T(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=wl(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":G("beforetoggle",t),G("toggle",t),Cl(t,"popover",i);break;case"xlinkActuate":Qt(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Qt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Qt(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Qt(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Qt(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Qt(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Cl(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=tT.get(n)||n,Cl(t,n,i))}}function Rf(t,e,n,i,s,a){switch(n){case"style":V_(t,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(T(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(T(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Is(t,i):(typeof i=="number"||typeof i=="bigint")&&Is(t,""+i);break;case"onScroll":i!=null&&G("scroll",t);break;case"onScrollEnd":i!=null&&G("scrollend",t);break;case"onClick":i!=null&&(t.onclick=sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!H_.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),a=t[et]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,s),typeof i=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,s);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):Cl(t,n,i)}}}function je(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":G("error",t),G("load",t);var i=!1,s=!1,a;for(a in n)if(n.hasOwnProperty(a)){var r=n[a];if(r!=null)switch(a){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(T(137,e));default:Z(t,e,a,r,n,null)}}s&&Z(t,e,"srcSet",n.srcSet,n,null),i&&Z(t,e,"src",n.src,n,null);return;case"input":G("invalid",t);var l=a=r=s=null,o=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":s=h;break;case"type":r=h;break;case"checked":o=h;break;case"defaultChecked":c=h;break;case"value":a=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(T(137,e));break;default:Z(t,e,i,h,n,null)}}P_(t,a,l,o,c,r,s,!1);return;case"select":G("invalid",t),i=r=a=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":a=l;break;case"defaultValue":r=l;break;case"multiple":i=l;default:Z(t,e,s,l,n,null)}e=a,n=r,t.multiple=!!i,e!=null?bs(t,!!i,e,!1):n!=null&&bs(t,!!i,n,!0);return;case"textarea":G("invalid",t),a=s=i=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":i=l;break;case"defaultValue":s=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(T(91));break;default:Z(t,e,r,l,n,null)}q_(t,i,s,a);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(i=n[o],i!=null))switch(o){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Z(t,e,o,i,n,null)}return;case"dialog":G("beforetoggle",t),G("toggle",t),G("cancel",t),G("close",t);break;case"iframe":case"object":G("load",t);break;case"video":case"audio":for(i=0;i<cr.length;i++)G(cr[i],t);break;case"image":G("error",t),G("load",t);break;case"details":G("toggle",t);break;case"embed":case"source":case"link":G("error",t),G("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(T(137,e));default:Z(t,e,c,i,n,null)}return;default:if(Eh(e)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&Rf(t,e,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&Z(t,e,l,i,n,null))}function N1(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,r=null,l=null,o=null,c=null,h=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":o=f;default:i.hasOwnProperty(p)||Z(t,e,p,null,i,f)}}for(var u in i){var p=i[u];if(f=n[u],i.hasOwnProperty(u)&&(p!=null||f!=null))switch(u){case"type":a=p;break;case"name":s=p;break;case"checked":c=p;break;case"defaultChecked":h=p;break;case"value":r=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(T(137,e));break;default:p!==f&&Z(t,e,u,p,i,f)}}Wu(t,r,l,o,c,h,a,s);return;case"select":p=r=l=u=null;for(a in n)if(o=n[a],n.hasOwnProperty(a)&&o!=null)switch(a){case"value":break;case"multiple":p=o;default:i.hasOwnProperty(a)||Z(t,e,a,null,i,o)}for(s in i)if(a=i[s],o=n[s],i.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case"value":u=a;break;case"defaultValue":l=a;break;case"multiple":r=a;default:a!==o&&Z(t,e,s,a,i,o)}e=l,n=r,i=p,u!=null?bs(t,!!n,u,!1):!!i!=!!n&&(e!=null?bs(t,!!n,e,!0):bs(t,!!n,n?[]:"",!1));return;case"textarea":p=u=null;for(l in n)if(s=n[l],n.hasOwnProperty(l)&&s!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Z(t,e,l,null,i,s)}for(r in i)if(s=i[r],a=n[r],i.hasOwnProperty(r)&&(s!=null||a!=null))switch(r){case"value":u=s;break;case"defaultValue":p=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(T(91));break;default:s!==a&&Z(t,e,r,s,i,a)}G_(t,u,p);return;case"option":for(var _ in n)if(u=n[_],n.hasOwnProperty(_)&&u!=null&&!i.hasOwnProperty(_))switch(_){case"selected":t.selected=!1;break;default:Z(t,e,_,null,i,u)}for(o in i)if(u=i[o],p=n[o],i.hasOwnProperty(o)&&u!==p&&(u!=null||p!=null))switch(o){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Z(t,e,o,u,i,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)u=n[b],n.hasOwnProperty(b)&&u!=null&&!i.hasOwnProperty(b)&&Z(t,e,b,null,i,u);for(c in i)if(u=i[c],p=n[c],i.hasOwnProperty(c)&&u!==p&&(u!=null||p!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(T(137,e));break;default:Z(t,e,c,u,i,p)}return;default:if(Eh(e)){for(var S in n)u=n[S],n.hasOwnProperty(S)&&u!==void 0&&!i.hasOwnProperty(S)&&Rf(t,e,S,void 0,i,u);for(h in i)u=i[h],p=n[h],!i.hasOwnProperty(h)||u===p||u===void 0&&p===void 0||Rf(t,e,h,u,i,p);return}}for(var m in n)u=n[m],n.hasOwnProperty(m)&&u!=null&&!i.hasOwnProperty(m)&&Z(t,e,m,null,i,u);for(f in i)u=i[f],p=n[f],!i.hasOwnProperty(f)||u===p||u==null&&p==null||Z(t,e,f,u,i,p)}function Cm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function x1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],a=s.transferSize,r=s.initiatorType,l=s.duration;if(a&&l&&Cm(r)){for(r=0,l=s.responseEnd,i+=1;i<n.length;i++){var o=n[i],c=o.startTime;if(c>l)break;var h=o.transferSize,f=o.initiatorType;h&&Cm(f)&&(o=o.responseEnd,r+=h*(o<l?1:(l-c)/(o-c)))}if(--i,e+=8*(a+r)/(s.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Nf=null,xf=null;function go(t){return t.nodeType===9?t:t.ownerDocument}function wm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qv(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Of(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vu=null;function O1(){var t=window.event;return t&&t.type==="popstate"?t===vu?!1:(vu=t,!0):(vu=null,!1)}var Xv=typeof setTimeout=="function"?setTimeout:void 0,D1=typeof clearTimeout=="function"?clearTimeout:void 0,Am=typeof Promise=="function"?Promise:void 0,M1=typeof queueMicrotask=="function"?queueMicrotask:typeof Am<"u"?function(t){return Am.resolve(null).then(t).catch(I1)}:Xv;function I1(t){setTimeout(function(){throw t})}function _i(t){return t==="head"}function Rm(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(s),Ps(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Fa(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Fa(n);for(var a=n.firstChild;a;){var r=a.nextSibling,l=a.nodeName;a[Dr]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=r}}else n==="body"&&Fa(t.ownerDocument.body);n=s}while(n);Ps(e)}function Nm(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function Df(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Df(n),bh(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function k1(t,e,n,i){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Dr])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=Ct(t.nextSibling),t===null)break}return null}function L1(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ct(t.nextSibling),t===null))return null;return t}function $v(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Ct(t.nextSibling),t===null))return null;return t}function Mf(t){return t.data==="$?"||t.data==="$~"}function If(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function U1(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Ct(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var kf=null;function xm(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Ct(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Om(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function Wv(t,e,n){switch(e=go(n),t){case"html":if(t=e.documentElement,!t)throw Error(T(452));return t;case"head":if(t=e.head,!t)throw Error(T(453));return t;case"body":if(t=e.body,!t)throw Error(T(454));return t;default:throw Error(T(451))}}function Fa(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);bh(t)}var wt=new Map,Dm=new Set;function _o(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Cn=X.d;X.d={f:z1,r:H1,D:B1,C:j1,L:P1,m:G1,X:V1,S:q1,M:Y1};function z1(){var t=Cn.f(),e=dc();return t||e}function H1(t){var e=Zs(t);e!==null&&e.tag===5&&e.type==="form"?Vy(e):Cn.r(t)}var na=typeof document>"u"?null:document;function Zv(t,e,n){var i=na;if(i&&typeof e=="string"&&e){var s=yt(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Dm.has(s)||(Dm.add(s),t={rel:t,crossOrigin:n,href:e},i.querySelector(s)===null&&(e=i.createElement("link"),je(e,"link",t),Me(e),i.head.appendChild(e)))}}function B1(t){Cn.D(t),Zv("dns-prefetch",t,null)}function j1(t,e){Cn.C(t,e),Zv("preconnect",t,e)}function P1(t,e,n){Cn.L(t,e,n);var i=na;if(i&&t&&e){var s='link[rel="preload"][as="'+yt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+yt(n.imageSizes)+'"]')):s+='[href="'+yt(t)+'"]';var a=s;switch(e){case"style":a=js(t);break;case"script":a=ia(t)}wt.has(a)||(t=ce({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),wt.set(a,t),i.querySelector(s)!==null||e==="style"&&i.querySelector(zr(a))||e==="script"&&i.querySelector(Hr(a))||(e=i.createElement("link"),je(e,"link",t),Me(e),i.head.appendChild(e)))}}function G1(t,e){Cn.m(t,e);var n=na;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+yt(i)+'"][href="'+yt(t)+'"]',a=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=ia(t)}if(!wt.has(a)&&(t=ce({rel:"modulepreload",href:t},e),wt.set(a,t),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Hr(a)))return}i=n.createElement("link"),je(i,"link",t),Me(i),n.head.appendChild(i)}}}function q1(t,e,n){Cn.S(t,e,n);var i=na;if(i&&t){var s=vs(i).hoistableStyles,a=js(t);e=e||"default";var r=s.get(a);if(!r){var l={loading:0,preload:null};if(r=i.querySelector(zr(a)))l.loading=5;else{t=ce({rel:"stylesheet",href:t,"data-precedence":e},n),(n=wt.get(a))&&ad(t,n);var o=r=i.createElement("link");Me(o),je(o,"link",t),o._p=new Promise(function(c,h){o.onload=c,o.onerror=h}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Ll(r,e,i)}r={type:"stylesheet",instance:r,count:1,state:l},s.set(a,r)}}}function V1(t,e){Cn.X(t,e);var n=na;if(n&&t){var i=vs(n).hoistableScripts,s=ia(t),a=i.get(s);a||(a=n.querySelector(Hr(s)),a||(t=ce({src:t,async:!0},e),(e=wt.get(s))&&rd(t,e),a=n.createElement("script"),Me(a),je(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function Y1(t,e){Cn.M(t,e);var n=na;if(n&&t){var i=vs(n).hoistableScripts,s=ia(t),a=i.get(s);a||(a=n.querySelector(Hr(s)),a||(t=ce({src:t,async:!0,type:"module"},e),(e=wt.get(s))&&rd(t,e),a=n.createElement("script"),Me(a),je(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function Mm(t,e,n,i){var s=(s=Fn.current)?_o(s):null;if(!s)throw Error(T(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=js(n.href),n=vs(s).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=js(n.href);var a=vs(s).hoistableStyles,r=a.get(t);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,r),(a=s.querySelector(zr(t)))&&!a._p&&(r.instance=a,r.state.loading=5),wt.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},wt.set(t,n),a||F1(s,t,n,r.state))),e&&i===null)throw Error(T(528,""));return r}if(e&&i!==null)throw Error(T(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ia(n),n=vs(s).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(T(444,t))}}function js(t){return'href="'+yt(t)+'"'}function zr(t){return'link[rel="stylesheet"]['+t+"]"}function Jv(t){return ce({},t,{"data-precedence":t.precedence,precedence:null})}function F1(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),je(e,"link",n),Me(e),t.head.appendChild(e))}function ia(t){return'[src="'+yt(t)+'"]'}function Hr(t){return"script[async]"+t}function Im(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+yt(n.href)+'"]');if(i)return e.instance=i,Me(i),i;var s=ce({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Me(i),je(i,"style",s),Ll(i,n.precedence,t),e.instance=i;case"stylesheet":s=js(n.href);var a=t.querySelector(zr(s));if(a)return e.state.loading|=4,e.instance=a,Me(a),a;i=Jv(n),(s=wt.get(s))&&ad(i,s),a=(t.ownerDocument||t).createElement("link"),Me(a);var r=a;return r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),je(a,"link",i),e.state.loading|=4,Ll(a,n.precedence,t),e.instance=a;case"script":return a=ia(n.src),(s=t.querySelector(Hr(a)))?(e.instance=s,Me(s),s):(i=n,(s=wt.get(a))&&(i=ce({},n),rd(i,s)),t=t.ownerDocument||t,s=t.createElement("script"),Me(s),je(s,"link",i),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(T(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Ll(i,n.precedence,t));return e.instance}function Ll(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,a=s,r=0;r<i.length;r++){var l=i[r];if(l.dataset.precedence===e)a=l;else if(a!==s)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function ad(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function rd(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Ul=null;function km(t,e,n){if(Ul===null){var i=new Map,s=Ul=new Map;s.set(n,i)}else s=Ul,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var a=n[s];if(!(a[Dr]||a[ze]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var r=a.getAttribute(e)||"";r=t+r;var l=i.get(r);l?l.push(a):i.set(r,[a])}}return i}function Lm(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function K1(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function e0(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function Q1(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=js(i.href),a=e.querySelector(zr(s));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=yo.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,Me(a);return}a=e.ownerDocument||e,i=Jv(i),(s=wt.get(s))&&ad(i,s),a=a.createElement("link"),Me(a);var r=a;r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),je(a,"link",i),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=yo.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var bu=0;function X1(t,e){return t.stylesheets&&t.count===0&&zl(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&zl(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&bu===0&&(bu=62500*x1());var s=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zl(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>bu?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function yo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vo=null;function zl(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vo=new Map,e.forEach($1,t),vo=null,yo.call(t))}function $1(t,e){if(!(e.state.loading&4)){var n=vo.get(t);if(n)var i=n.get(null);else{n=new Map,vo.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<s.length;a++){var r=s[a];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),i=r)}i&&n.set(null,i)}s=e.instance,r=s.getAttribute("data-precedence"),a=n.get(r)||i,a===i&&n.set(null,s),n.set(r,s),this.count++,i=yo.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),a?a.parentNode.insertBefore(s,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var fr={$$typeof:nn,Provider:null,Consumer:null,_currentValue:Oi,_currentValue2:Oi,_threadCount:0};function W1(t,e,n,i,s,a,r,l,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qc(0),this.hiddenUpdates=qc(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=a,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function t0(t,e,n,i,s,a,r,l,o,c,h,f){return t=new W1(t,e,n,r,o,c,h,f,l),e=1,a===!0&&(e|=24),a=st(3,null,null,e),t.current=a,a.stateNode=t,e=Mh(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:e},Lh(a),t}function n0(t){return t?(t=ds,t):ds}function i0(t,e,n,i,s,a){s=n0(s),i.context===null?i.context=s:i.pendingContext=s,i=Qn(e),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=Xn(t,i,e),n!==null&&(Je(n,t,e),Ha(n,t,e))}function Um(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ld(t,e){Um(t,e),(t=t.alternate)&&Um(t,e)}function s0(t){if(t.tag===13||t.tag===31){var e=Xi(t,67108864);e!==null&&Je(e,t,67108864),ld(t,67108864)}}function zm(t){if(t.tag===13||t.tag===31){var e=ct();e=yh(e);var n=Xi(t,e);n!==null&&Je(n,t,e),ld(t,e)}}var bo=!0;function Z1(t,e,n,i){var s=I.T;I.T=null;var a=X.p;try{X.p=2,od(t,e,n,i)}finally{X.p=a,I.T=s}}function J1(t,e,n,i){var s=I.T;I.T=null;var a=X.p;try{X.p=8,od(t,e,n,i)}finally{X.p=a,I.T=s}}function od(t,e,n,i){if(bo){var s=Lf(i);if(s===null)yu(t,e,i,Eo,n),Hm(t,i);else if(tC(s,t,e,n,i))i.stopPropagation();else if(Hm(t,i),e&4&&-1<eC.indexOf(t)){for(;s!==null;){var a=Zs(s);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var r=Ti(a.pendingLanes);if(r!==0){var l=a;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var o=1<<31-ot(r);l.entanglements[1]|=o,r&=~o}Yt(a),!(Q&6)&&(co=rt()+500,Ur(0))}}break;case 31:case 13:l=Xi(a,2),l!==null&&Je(l,a,2),dc(),ld(a,2)}if(a=Lf(i),a===null&&yu(t,e,i,Eo,n),a===s)break;s=a}s!==null&&i.stopPropagation()}else yu(t,e,i,null,n)}}function Lf(t){return t=Sh(t),cd(t)}var Eo=null;function cd(t){if(Eo=null,t=ls(t),t!==null){var e=Rr(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=C_(e),t!==null)return t;t=null}else if(n===31){if(t=w_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Eo=t,null}function a0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(BS()){case x_:return 2;case O_:return 8;case Xl:case jS:return 32;case D_:return 268435456;default:return 32}default:return 32}}var Uf=!1,Zn=null,Jn=null,ei=null,hr=new Map,dr=new Map,Ln=[],eC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hm(t,e){switch(t){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":hr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":dr.delete(e.pointerId)}}function ba(t,e,n,i,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},e!==null&&(e=Zs(e),e!==null&&s0(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function tC(t,e,n,i,s){switch(e){case"focusin":return Zn=ba(Zn,t,e,n,i,s),!0;case"dragenter":return Jn=ba(Jn,t,e,n,i,s),!0;case"mouseover":return ei=ba(ei,t,e,n,i,s),!0;case"pointerover":var a=s.pointerId;return hr.set(a,ba(hr.get(a)||null,t,e,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,dr.set(a,ba(dr.get(a)||null,t,e,n,i,s)),!0}return!1}function r0(t){var e=ls(t.target);if(e!==null){var n=Rr(e);if(n!==null){if(e=n.tag,e===13){if(e=C_(n),e!==null){t.blockedOn=e,Sp(t.priority,function(){zm(n)});return}}else if(e===31){if(e=w_(n),e!==null){t.blockedOn=e,Sp(t.priority,function(){zm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Lf(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Ju=i,n.target.dispatchEvent(i),Ju=null}else return e=Zs(n),e!==null&&s0(e),t.blockedOn=n,!1;e.shift()}return!0}function Bm(t,e,n){Hl(t)&&n.delete(e)}function nC(){Uf=!1,Zn!==null&&Hl(Zn)&&(Zn=null),Jn!==null&&Hl(Jn)&&(Jn=null),ei!==null&&Hl(ei)&&(ei=null),hr.forEach(Bm),dr.forEach(Bm)}function _l(t,e){t.blockedOn===e&&(t.blockedOn=null,Uf||(Uf=!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,nC)))}var yl=null;function jm(t){yl!==t&&(yl=t,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,function(){yl===t&&(yl=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],s=t[e+2];if(typeof i!="function"){if(cd(i||n)===null)continue;break}var a=Zs(n);a!==null&&(t.splice(e,3),e-=3,gf(a,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function Ps(t){function e(o){return _l(o,t)}Zn!==null&&_l(Zn,t),Jn!==null&&_l(Jn,t),ei!==null&&_l(ei,t),hr.forEach(e),dr.forEach(e);for(var n=0;n<Ln.length;n++){var i=Ln[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Ln.length&&(n=Ln[0],n.blockedOn===null);)r0(n),n.blockedOn===null&&Ln.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],a=n[i+1],r=s[et]||null;if(typeof a=="function")r||jm(n);else if(r){var l=null;if(a&&a.hasAttribute("formAction")){if(s=a,r=a[et]||null)l=r.formAction;else if(cd(s)!==null)continue}else l=r.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),jm(n)}}}function l0(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(r){return s=r})},focusReset:"manual",scroll:"manual"})}function e(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),s!==null&&(s(),s=null)}}}function ud(t){this._internalRoot=t}gc.prototype.render=ud.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));var n=e.current,i=ct();i0(n,i,t,e,null,null)};gc.prototype.unmount=ud.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;i0(t.current,2,null,t,null,null),dc(),e[Ws]=null}};function gc(t){this._internalRoot=t}gc.prototype.unstable_scheduleHydration=function(t){if(t){var e=U_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ln.length&&e!==0&&e<Ln[n].priority;n++);Ln.splice(n,0,t),n===0&&r0(t)}};var Pm=S_.version;if(Pm!=="19.2.3")throw Error(T(527,Pm,"19.2.3"));X.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=MS(e),t=t!==null?A_(t):null,t=t===null?null:t.stateNode,t};var iC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{Nr=vl.inject(iC),lt=vl}catch{}}Jo.createRoot=function(t,e){if(!T_(t))throw Error(T(299));var n=!1,i="",s=Zy,a=Jy,r=ev;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=t0(t,1,!1,null,null,n,i,null,s,a,r,l0),t[Ws]=e.current,sd(t),new ud(e)};Jo.hydrateRoot=function(t,e,n){if(!T_(t))throw Error(T(299));var i=!1,s="",a=Zy,r=Jy,l=ev,o=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),e=t0(t,1,!0,e,n??null,i,s,o,a,r,l,l0),e.context=n0(null),n=e.current,i=ct(),i=yh(i),s=Qn(i),s.callback=null,Xn(n,s,i),n=i,e.current.lanes=n,Or(e,n),Yt(e),t[Ws]=e.current,sd(t),new gc(e)};Jo.version="19.2.3";function o0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o0)}catch(t){console.error(t)}}o0(),g_.exports=Jo;var sC=g_.exports;const aC=r_(sC);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Gm="popstate";function rC(t={}){function e(i,s){let{pathname:a,search:r,hash:l}=i.location;return zf("",{pathname:a,search:r,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:pr(s)}return oC(e,n,null,t)}function fe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lC(){return Math.random().toString(36).substring(2,10)}function qm(t,e){return{usr:t.state,key:t.key,idx:e}}function zf(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?sa(e):e,state:n,key:e&&e.key||i||lC()}}function pr({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function sa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function oC(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,r=s.history,l="POP",o=null,c=h();c==null&&(c=0,r.replaceState({...r.state,idx:c},""));function h(){return(r.state||{idx:null}).idx}function f(){l="POP";let S=h(),m=S==null?null:S-c;c=S,o&&o({action:l,location:b.location,delta:m})}function u(S,m){l="PUSH";let d=zf(b.location,S,m);c=h()+1;let g=qm(d,c),v=b.createHref(d);try{r.pushState(g,"",v)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;s.location.assign(v)}a&&o&&o({action:l,location:b.location,delta:1})}function p(S,m){l="REPLACE";let d=zf(b.location,S,m);c=h();let g=qm(d,c),v=b.createHref(d);r.replaceState(g,"",v),a&&o&&o({action:l,location:b.location,delta:0})}function _(S){return cC(S)}let b={get action(){return l},get location(){return t(s,r)},listen(S){if(o)throw new Error("A history only accepts one active listener");return s.addEventListener(Gm,f),o=S,()=>{s.removeEventListener(Gm,f),o=null}},createHref(S){return e(s,S)},createURL:_,encodeLocation(S){let m=_(S);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:u,replace:p,go(S){return r.go(S)}};return b}function cC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),fe(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:pr(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function c0(t,e,n="/"){return uC(t,e,n,!1)}function uC(t,e,n,i){let s=typeof e=="string"?sa(e):e,a=vn(s.pathname||"/",n);if(a==null)return null;let r=u0(t);fC(r);let l=null;for(let o=0;l==null&&o<r.length;++o){let c=SC(a);l=bC(r[o],c,i)}return l}function u0(t,e=[],n=[],i="",s=!1){let a=(r,l,o=s,c)=>{let h={relativePath:c===void 0?r.path||"":c,caseSensitive:r.caseSensitive===!0,childrenIndex:l,route:r};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(i)&&o)return;fe(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length)}let f=hn([i,h.relativePath]),u=n.concat(h);r.children&&r.children.length>0&&(fe(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),u0(r.children,e,u,f,o)),!(r.path==null&&!r.index)&&e.push({path:f,score:yC(f,r.index),routesMeta:u})};return t.forEach((r,l)=>{if(r.path===""||!r.path?.includes("?"))a(r,l);else for(let o of f0(r.path))a(r,l,!0,o)}),e}function f0(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let r=f0(i.join("/")),l=[];return l.push(...r.map(o=>o===""?a:[a,o].join("/"))),s&&l.push(...r),l.map(o=>t.startsWith("/")&&o===""?"/":o)}function fC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var hC=/^:[\w-]+$/,dC=3,pC=2,mC=1,gC=10,_C=-2,Vm=t=>t==="*";function yC(t,e){let n=t.split("/"),i=n.length;return n.some(Vm)&&(i+=_C),e&&(i+=pC),n.filter(s=>!Vm(s)).reduce((s,a)=>s+(hC.test(a)?dC:a===""?mC:gC),i)}function vC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function bC(t,e,n=!1){let{routesMeta:i}=t,s={},a="/",r=[];for(let l=0;l<i.length;++l){let o=i[l],c=l===i.length-1,h=a==="/"?e:e.slice(a.length)||"/",f=So({path:o.relativePath,caseSensitive:o.caseSensitive,end:c},h),u=o.route;if(!f&&c&&n&&!i[i.length-1].route.index&&(f=So({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),r.push({params:s,pathname:hn([a,f.pathname]),pathnameBase:AC(hn([a,f.pathnameBase])),route:u}),f.pathnameBase!=="/"&&(a=hn([a,f.pathnameBase]))}return r}function So(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=EC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],r=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce((c,{paramName:h,isOptional:f},u)=>{if(h==="*"){let _=l[u]||"";r=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const p=l[u];return f&&!p?c[h]=void 0:c[h]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:r,pattern:t}}function EC(t,e=!1,n=!0){Lt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,l,o)=>(i.push({paramName:l,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function SC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function vn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var h0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TC=t=>h0.test(t);function CC(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?sa(t):t,a;if(n)if(TC(n))a=n;else{if(n.includes("//")){let r=n;n=n.replace(/\/\/+/g,"/"),Lt(!1,`Pathnames cannot have embedded double slashes - normalizing ${r} -> ${n}`)}n.startsWith("/")?a=Ym(n.substring(1),"/"):a=Ym(n,e)}else a=e;return{pathname:a,search:RC(i),hash:NC(s)}}function Ym(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Eu(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function d0(t){let e=wC(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function p0(t,e,n,i=!1){let s;typeof t=="string"?s=sa(t):(s={...t},fe(!s.pathname||!s.pathname.includes("?"),Eu("?","pathname","search",s)),fe(!s.pathname||!s.pathname.includes("#"),Eu("#","pathname","hash",s)),fe(!s.search||!s.search.includes("#"),Eu("#","search","hash",s)));let a=t===""||s.pathname==="",r=a?"/":s.pathname,l;if(r==null)l=n;else{let f=e.length-1;if(!i&&r.startsWith("..")){let u=r.split("/");for(;u[0]==="..";)u.shift(),f-=1;s.pathname=u.join("/")}l=f>=0?e[f]:"/"}let o=CC(s,l),c=r&&r!=="/"&&r.endsWith("/"),h=(a||r===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(c||h)&&(o.pathname+="/"),o}var hn=t=>t.join("/").replace(/\/\/+/g,"/"),AC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,NC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,xC=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function OC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function DC(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var m0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function g0(t,e){let n=t;if(typeof n!="string"||!h0.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,s=!1;if(m0)try{let a=new URL(window.location.href),r=n.startsWith("//")?new URL(a.protocol+n):new URL(n),l=vn(r.pathname,e);r.origin===a.origin&&l!=null?n=l+r.search+r.hash:s=!0}catch{Lt(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _0=["POST","PUT","PATCH","DELETE"];new Set(_0);var MC=["GET",..._0];new Set(MC);var aa=E.createContext(null);aa.displayName="DataRouter";var _c=E.createContext(null);_c.displayName="DataRouterState";var IC=E.createContext(!1),y0=E.createContext({isTransitioning:!1});y0.displayName="ViewTransition";var kC=E.createContext(new Map);kC.displayName="Fetchers";var LC=E.createContext(null);LC.displayName="Await";var Rt=E.createContext(null);Rt.displayName="Navigation";var Br=E.createContext(null);Br.displayName="Location";var Ft=E.createContext({outlet:null,matches:[],isDataRoute:!1});Ft.displayName="Route";var fd=E.createContext(null);fd.displayName="RouteError";var v0="REACT_ROUTER_ERROR",UC="REDIRECT",zC="ROUTE_ERROR_RESPONSE";function HC(t){if(t.startsWith(`${v0}:${UC}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function BC(t){if(t.startsWith(`${v0}:${zC}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new xC(e.status,e.statusText,e.data)}catch{}}function jC(t,{relative:e}={}){fe(jr(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=E.useContext(Rt),{hash:s,pathname:a,search:r}=Gr(t,{relative:e}),l=a;return n!=="/"&&(l=a==="/"?n:hn([n,a])),i.createHref({pathname:l,search:r,hash:s})}function jr(){return E.useContext(Br)!=null}function yi(){return fe(jr(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Br).location}var b0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E0(t){E.useContext(Rt).static||E.useLayoutEffect(t)}function Pr(){let{isDataRoute:t}=E.useContext(Ft);return t?JC():PC()}function PC(){fe(jr(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(aa),{basename:e,navigator:n}=E.useContext(Rt),{matches:i}=E.useContext(Ft),{pathname:s}=yi(),a=JSON.stringify(d0(i)),r=E.useRef(!1);return E0(()=>{r.current=!0}),E.useCallback((o,c={})=>{if(Lt(r.current,b0),!r.current)return;if(typeof o=="number"){n.go(o);return}let h=p0(o,JSON.parse(a),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:hn([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,a,s,t])}E.createContext(null);function S0(){let{matches:t}=E.useContext(Ft),e=t[t.length-1];return e?e.params:{}}function Gr(t,{relative:e}={}){let{matches:n}=E.useContext(Ft),{pathname:i}=yi(),s=JSON.stringify(d0(n));return E.useMemo(()=>p0(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function GC(t,e){return T0(t,e)}function T0(t,e,n,i,s){fe(jr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=E.useContext(Rt),{matches:r}=E.useContext(Ft),l=r[r.length-1],o=l?l.params:{},c=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let d=f&&f.path||"";w0(c,!f||d.endsWith("*")||d.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${d}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${d}"> to <Route path="${d==="/"?"*":`${d}/*`}">.`)}let u=yi(),p;if(e){let d=typeof e=="string"?sa(e):e;fe(h==="/"||d.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${d.pathname}" was given in the \`location\` prop.`),p=d}else p=u;let _=p.pathname||"/",b=_;if(h!=="/"){let d=h.replace(/^\//,"").split("/");b="/"+_.replace(/^\//,"").split("/").slice(d.length).join("/")}let S=c0(t,{pathname:b});Lt(f||S!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Lt(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=KC(S&&S.map(d=>Object.assign({},d,{params:Object.assign({},o,d.params),pathname:hn([h,a.encodeLocation?a.encodeLocation(d.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:d.pathname]),pathnameBase:d.pathnameBase==="/"?h:hn([h,a.encodeLocation?a.encodeLocation(d.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:d.pathnameBase])})),r,n,i,s);return e&&m?E.createElement(Br.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},m):m}function qC(){let t=ZC(),e=OC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},r=null;return console.error("Error handled by React Router default ErrorBoundary:",t),r=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:a},"ErrorBoundary")," or"," ",E.createElement("code",{style:a},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:s},n):null,r)}var VC=E.createElement(qC,null),C0=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=BC(t.digest);n&&(t=n)}let e=t!==void 0?E.createElement(Ft.Provider,{value:this.props.routeContext},E.createElement(fd.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?E.createElement(YC,{error:t},e):e}};C0.contextType=IC;var Su=new WeakMap;function YC({children:t,error:e}){let{basename:n}=E.useContext(Rt);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=HC(e.digest);if(i){let s=Su.get(e);if(s)throw s;let a=g0(i.location,n);if(m0&&!Su.get(e))if(a.isExternal||i.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const r=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:i.replace}));throw Su.set(e,r),r}return E.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function FC({routeContext:t,match:e,children:n}){let i=E.useContext(aa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Ft.Provider,{value:t},n)}function KC(t,e=[],n=null,i=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,r=n?.errors;if(r!=null){let h=a.findIndex(f=>f.route.id&&r?.[f.route.id]!==void 0);fe(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,o=-1;if(n)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(o=h),f.route.id){let{loaderData:u,errors:p}=n,_=f.route.loader&&!u.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||_){l=!0,o>=0?a=a.slice(0,o+1):a=[a[0]];break}}}let c=n&&i?(h,f)=>{i(h,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:DC(n.matches),errorInfo:f})}:void 0;return a.reduceRight((h,f,u)=>{let p,_=!1,b=null,S=null;n&&(p=r&&f.route.id?r[f.route.id]:void 0,b=f.route.errorElement||VC,l&&(o<0&&u===0?(w0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):o===u&&(_=!0,S=f.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,u+1)),d=()=>{let g;return p?g=b:_?g=S:f.route.Component?g=E.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=h,E.createElement(FC,{match:f,routeContext:{outlet:h,matches:m,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||u===0)?E.createElement(C0,{location:n.location,revalidation:n.revalidation,component:b,error:p,children:d(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:c}):d()},null)}function hd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QC(t){let e=E.useContext(aa);return fe(e,hd(t)),e}function XC(t){let e=E.useContext(_c);return fe(e,hd(t)),e}function $C(t){let e=E.useContext(Ft);return fe(e,hd(t)),e}function dd(t){let e=$C(t),n=e.matches[e.matches.length-1];return fe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function WC(){return dd("useRouteId")}function ZC(){let t=E.useContext(fd),e=XC("useRouteError"),n=dd("useRouteError");return t!==void 0?t:e.errors?.[n]}function JC(){let{router:t}=QC("useNavigate"),e=dd("useNavigate"),n=E.useRef(!1);return E0(()=>{n.current=!0}),E.useCallback(async(s,a={})=>{Lt(n.current,b0),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var Fm={};function w0(t,e,n){!e&&!Fm[t]&&(Fm[t]=!0,Lt(!1,n))}E.memo(ew);function ew({routes:t,future:e,state:n,onError:i}){return T0(t,void 0,n,i,e)}function Ai(t){fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tw({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:a=!1,unstable_useTransitions:r}){fe(!jr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),o=E.useMemo(()=>({basename:l,navigator:s,static:a,unstable_useTransitions:r,future:{}}),[l,s,a,r]);typeof n=="string"&&(n=sa(n));let{pathname:c="/",search:h="",hash:f="",state:u=null,key:p="default"}=n,_=E.useMemo(()=>{let b=vn(c,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:u,key:p},navigationType:i}},[l,c,h,f,u,p,i]);return Lt(_!=null,`<Router basename="${l}"> is not able to match the URL "${c}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:E.createElement(Rt.Provider,{value:o},E.createElement(Br.Provider,{children:e,value:_}))}function nw({children:t,location:e}){return GC(Hf(t),e)}function Hf(t,e=[]){let n=[];return E.Children.forEach(t,(i,s)=>{if(!E.isValidElement(i))return;let a=[...e,s];if(i.type===E.Fragment){n.push.apply(n,Hf(i.props.children,a));return}fe(i.type===Ai,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let r={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(r.children=Hf(i.props.children,a)),n.push(r)}),n}var Bl="get",jl="application/x-www-form-urlencoded";function yc(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function iw(t){return yc(t)&&t.tagName.toLowerCase()==="button"}function sw(t){return yc(t)&&t.tagName.toLowerCase()==="form"}function aw(t){return yc(t)&&t.tagName.toLowerCase()==="input"}function rw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lw(t,e){return t.button===0&&(!e||e==="_self")&&!rw(t)}var bl=null;function ow(){if(bl===null)try{new FormData(document.createElement("form"),0),bl=!1}catch{bl=!0}return bl}var cw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tu(t){return t!=null&&!cw.has(t)?(Lt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jl}"`),null):t}function uw(t,e){let n,i,s,a,r;if(sw(t)){let l=t.getAttribute("action");i=l?vn(l,e):null,n=t.getAttribute("method")||Bl,s=Tu(t.getAttribute("enctype"))||jl,a=new FormData(t)}else if(iw(t)||aw(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=t.getAttribute("formaction")||l.getAttribute("action");if(i=o?vn(o,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Bl,s=Tu(t.getAttribute("formenctype"))||Tu(l.getAttribute("enctype"))||jl,a=new FormData(l,t),!ow()){let{name:c,type:h,value:f}=t;if(h==="image"){let u=c?`${c}.`:"";a.append(`${u}x`,"0"),a.append(`${u}y`,"0")}else c&&a.append(c,f)}}else{if(yc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bl,i=null,s=jl,r=t}return a&&s==="text/plain"&&(r=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pd(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fw(t,e,n,i){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${i}`:s.pathname=`${s.pathname}.${i}`:s.pathname==="/"?s.pathname=`_root.${i}`:e&&vn(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function hw(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dw(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function pw(t,e,n){let i=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let r=await hw(a,n);return r.links?r.links():[]}return[]}));return yw(i.flat(1).filter(dw).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Km(t,e,n,i,s,a){let r=(o,c)=>n[c]?o.route.id!==n[c].route.id:!0,l=(o,c)=>n[c].pathname!==o.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==o.params["*"];return a==="assets"?e.filter((o,c)=>r(o,c)||l(o,c)):a==="data"?e.filter((o,c)=>{let h=i.routes[o.route.id];if(!h||!h.hasLoader)return!1;if(r(o,c)||l(o,c))return!0;if(o.route.shouldRevalidate){let f=o.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:o.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function mw(t,e,{includeHydrateFallback:n}={}){return gw(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function gw(t){return[...new Set(t)]}function _w(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function yw(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let a=JSON.stringify(_w(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function A0(){let t=E.useContext(aa);return pd(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function vw(){let t=E.useContext(_c);return pd(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var md=E.createContext(void 0);md.displayName="FrameworkContext";function R0(){let t=E.useContext(md);return pd(t,"You must render this element inside a <HydratedRouter> element"),t}function bw(t,e){let n=E.useContext(md),[i,s]=E.useState(!1),[a,r]=E.useState(!1),{onFocus:l,onBlur:o,onMouseEnter:c,onMouseLeave:h,onTouchStart:f}=e,u=E.useRef(null);E.useEffect(()=>{if(t==="render"&&r(!0),t==="viewport"){let b=m=>{m.forEach(d=>{r(d.isIntersecting)})},S=new IntersectionObserver(b,{threshold:.5});return u.current&&S.observe(u.current),()=>{S.disconnect()}}},[t]),E.useEffect(()=>{if(i){let b=setTimeout(()=>{r(!0)},100);return()=>{clearTimeout(b)}}},[i]);let p=()=>{s(!0)},_=()=>{s(!1),r(!1)};return n?t!=="intent"?[a,u,{}]:[a,u,{onFocus:Ea(l,p),onBlur:Ea(o,_),onMouseEnter:Ea(c,p),onMouseLeave:Ea(h,_),onTouchStart:Ea(f,p)}]:[!1,u,{}]}function Ea(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Ew({page:t,...e}){let{router:n}=A0(),i=E.useMemo(()=>c0(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?E.createElement(Tw,{page:t,matches:i,...e}):null}function Sw(t){let{manifest:e,routeModules:n}=R0(),[i,s]=E.useState([]);return E.useEffect(()=>{let a=!1;return pw(t,e,n).then(r=>{a||s(r)}),()=>{a=!0}},[t,e,n]),i}function Tw({page:t,matches:e,...n}){let i=yi(),{future:s,manifest:a,routeModules:r}=R0(),{basename:l}=A0(),{loaderData:o,matches:c}=vw(),h=E.useMemo(()=>Km(t,e,c,a,i,"data"),[t,e,c,a,i]),f=E.useMemo(()=>Km(t,e,c,a,i,"assets"),[t,e,c,a,i]),u=E.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let b=new Set,S=!1;if(e.forEach(d=>{let g=a.routes[d.route.id];!g||!g.hasLoader||(!h.some(v=>v.route.id===d.route.id)&&d.route.id in o&&r[d.route.id]?.shouldRevalidate||g.hasClientLoader?S=!0:b.add(d.route.id))}),b.size===0)return[];let m=fw(t,l,s.unstable_trailingSlashAwareDataRequests,"data");return S&&b.size>0&&m.searchParams.set("_routes",e.filter(d=>b.has(d.route.id)).map(d=>d.route.id).join(",")),[m.pathname+m.search]},[l,s.unstable_trailingSlashAwareDataRequests,o,i,a,h,e,t,r]),p=E.useMemo(()=>mw(f,a),[f,a]),_=Sw(f);return E.createElement(E.Fragment,null,u.map(b=>E.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),p.map(b=>E.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),_.map(({key:b,link:S})=>E.createElement("link",{key:b,nonce:n.nonce,...S})))}function Cw(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ww=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ww&&(window.__reactRouterVersion="7.12.0")}catch{}function Aw({basename:t,children:e,unstable_useTransitions:n,window:i}){let s=E.useRef();s.current==null&&(s.current=rC({window:i,v5Compat:!0}));let a=s.current,[r,l]=E.useState({action:a.action,location:a.location}),o=E.useCallback(c=>{n===!1?l(c):E.startTransition(()=>l(c))},[n]);return E.useLayoutEffect(()=>a.listen(o),[a,o]),E.createElement(tw,{basename:t,children:e,location:r.location,navigationType:r.action,navigator:a,unstable_useTransitions:n})}var N0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x0=E.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:r,state:l,target:o,to:c,preventScrollReset:h,viewTransition:f,unstable_defaultShouldRevalidate:u,...p},_){let{basename:b,unstable_useTransitions:S}=E.useContext(Rt),m=typeof c=="string"&&N0.test(c),d=g0(c,b);c=d.to;let g=jC(c,{relative:s}),[v,w,D]=bw(i,p),A=Ow(c,{replace:r,state:l,target:o,preventScrollReset:h,relative:s,viewTransition:f,unstable_defaultShouldRevalidate:u,unstable_useTransitions:S});function N(L){e&&e(L),L.defaultPrevented||A(L)}let M=E.createElement("a",{...p,...D,href:d.absoluteURL||g,onClick:d.isExternal||a?e:N,ref:Cw(_,w),target:o,"data-discover":!m&&n==="render"?"true":void 0});return v&&!m?E.createElement(E.Fragment,null,M,E.createElement(Ew,{page:g})):M});x0.displayName="Link";var Rw=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:r,viewTransition:l,children:o,...c},h){let f=Gr(r,{relative:c.relative}),u=yi(),p=E.useContext(_c),{navigator:_,basename:b}=E.useContext(Rt),S=p!=null&&Lw(f)&&l===!0,m=_.encodeLocation?_.encodeLocation(f).pathname:f.pathname,d=u.pathname,g=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(d=d.toLowerCase(),g=g?g.toLowerCase():null,m=m.toLowerCase()),g&&b&&(g=vn(g,b)||g);const v=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let w=d===m||!s&&d.startsWith(m)&&d.charAt(v)==="/",D=g!=null&&(g===m||!s&&g.startsWith(m)&&g.charAt(m.length)==="/"),A={isActive:w,isPending:D,isTransitioning:S},N=w?e:void 0,M;typeof i=="function"?M=i(A):M=[i,w?"active":null,D?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(A):a;return E.createElement(x0,{...c,"aria-current":N,className:M,ref:h,style:L,to:r,viewTransition:l},typeof o=="function"?o(A):o)});Rw.displayName="NavLink";var Nw=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:a,method:r=Bl,action:l,onSubmit:o,relative:c,preventScrollReset:h,viewTransition:f,unstable_defaultShouldRevalidate:u,...p},_)=>{let{unstable_useTransitions:b}=E.useContext(Rt),S=Iw(),m=kw(l,{relative:c}),d=r.toLowerCase()==="get"?"get":"post",g=typeof l=="string"&&N0.test(l),v=w=>{if(o&&o(w),w.defaultPrevented)return;w.preventDefault();let D=w.nativeEvent.submitter,A=D?.getAttribute("formmethod")||r,N=()=>S(D||w.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:s,state:a,relative:c,preventScrollReset:h,viewTransition:f,unstable_defaultShouldRevalidate:u});b&&n!==!1?E.startTransition(()=>N()):N()};return E.createElement("form",{ref:_,method:d,action:m,onSubmit:i?o:v,...p,"data-discover":!g&&t==="render"?"true":void 0})});Nw.displayName="Form";function xw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O0(t){let e=E.useContext(aa);return fe(e,xw(t)),e}function Ow(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:r,unstable_defaultShouldRevalidate:l,unstable_useTransitions:o}={}){let c=Pr(),h=yi(),f=Gr(t,{relative:a});return E.useCallback(u=>{if(lw(u,e)){u.preventDefault();let p=n!==void 0?n:pr(h)===pr(f),_=()=>c(t,{replace:p,state:i,preventScrollReset:s,relative:a,viewTransition:r,unstable_defaultShouldRevalidate:l});o?E.startTransition(()=>_()):_()}},[h,c,f,n,i,e,t,s,a,r,l,o])}var Dw=0,Mw=()=>`__${String(++Dw)}__`;function Iw(){let{router:t}=O0("useSubmit"),{basename:e}=E.useContext(Rt),n=WC(),i=t.fetch,s=t.navigate;return E.useCallback(async(a,r={})=>{let{action:l,method:o,encType:c,formData:h,body:f}=uw(a,e);if(r.navigate===!1){let u=r.fetcherKey||Mw();await i(u,n,r.action||l,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||o,formEncType:r.encType||c,flushSync:r.flushSync})}else await s(r.action||l,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||o,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[i,s,e,n])}function kw(t,{relative:e}={}){let{basename:n}=E.useContext(Rt),i=E.useContext(Ft);fe(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...Gr(t||".",{relative:e})},r=yi();if(t==null){a.search=r.search;let l=new URLSearchParams(a.search),o=l.getAll("index");if(o.some(h=>h==="")){l.delete("index"),o.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:hn([n,a.pathname])),pr(a)}function Lw(t,{relative:e}={}){let n=E.useContext(y0);fe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=O0("useViewTransitionState"),s=Gr(t,{relative:e});if(!n.isTransitioning)return!1;let a=vn(n.currentLocation.pathname,i)||n.currentLocation.pathname,r=vn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return So(s.pathname,r)!=null||So(s.pathname,a)!=null}const Uw=()=>{};var Qm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C=function(t,e){if(!t)throw ra(e)},ra=function(t){return new Error("Firebase Database ("+D0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},zw=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],r=t[n++],l=t[n++],o=((s&7)<<18|(a&63)<<12|(r&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(o>>10)),e[i++]=String.fromCharCode(56320+(o&1023))}else{const a=t[n++],r=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|r&63)}}return e.join("")},gd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const a=t[s],r=s+1<t.length,l=r?t[s+1]:0,o=s+2<t.length,c=o?t[s+2]:0,h=a>>2,f=(a&3)<<4|l>>4;let u=(l&15)<<2|c>>6,p=c&63;o||(p=64,r||(u=64)),i.push(n[h],n[f],n[u],n[p])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(M0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zw(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||l==null||c==null||f==null)throw new Hw;const u=a<<2|l>>4;if(i.push(u),c!==64){const p=l<<4&240|c>>2;if(i.push(p),f!==64){const _=c<<6&192|f;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Hw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I0=function(t){const e=M0(t);return gd.encodeByteArray(e,!0)},To=function(t){return I0(t).replace(/\./g,"")},Co=function(t){try{return gd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t){return k0(void 0,t)}function k0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!jw(n)||(t[n]=k0(t[n],e[n]));return t}function jw(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=()=>Pw().__FIREBASE_DEFAULTS__,qw=()=>{if(typeof process>"u"||typeof Qm>"u")return;const t=Qm.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Vw=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Co(t[1]);return e&&JSON.parse(e)},_d=()=>{try{return Uw()||Gw()||qw()||Vw()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},L0=t=>_d()?.emulatorHosts?.[t],Yw=t=>{const e=L0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},U0=()=>_d()?.config,z0=t=>_d()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function H0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const r={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[To(JSON.stringify(n)),To(JSON.stringify(r)),""].join(".")}const Ka={};function Kw(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ka))Ka[e]?t.emulator.push(e):t.prod.push(e);return t}function Qw(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Xm=!1;function B0(t,e){if(typeof window>"u"||typeof document>"u"||!la(window.location.host)||Ka[t]===e||Ka[t]||Xm)return;Ka[t]=e;function n(u){return`__firebase__banner__${u}`}const i="__firebase__banner",a=Kw().prod.length>0;function r(){const u=document.getElementById(i);u&&u.remove()}function l(u){u.style.display="flex",u.style.background="#7faaf0",u.style.position="fixed",u.style.bottom="5px",u.style.left="5px",u.style.padding=".5em",u.style.borderRadius="5px",u.style.alignItems="center"}function o(u,p){u.setAttribute("width","24"),u.setAttribute("id",p),u.setAttribute("height","24"),u.setAttribute("viewBox","0 0 24 24"),u.setAttribute("fill","none"),u.style.marginLeft="-6px"}function c(){const u=document.createElement("span");return u.style.cursor="pointer",u.style.marginLeft="16px",u.style.fontSize="24px",u.innerHTML=" &times;",u.onclick=()=>{Xm=!0,r()},u}function h(u,p){u.setAttribute("id",p),u.innerText="Learn more",u.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",u.setAttribute("target","__blank"),u.style.paddingLeft="5px",u.style.textDecoration="underline"}function f(){const u=Qw(i),p=n("text"),_=document.getElementById(p)||document.createElement("span"),b=n("learnmore"),S=document.getElementById(b)||document.createElement("a"),m=n("preprendIcon"),d=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(u.created){const g=u.element;l(g),h(S,b);const v=c();o(d,m),g.append(d,_,S,v),document.body.appendChild(g)}a?(_.innerText="Preview backend disconnected.",d.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(d.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function Xw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $w(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function j0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ww(){const t=Fe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Zw(){return D0.NODE_ADMIN===!0}function Jw(){try{return typeof indexedDB=="object"}catch{return!1}}function eA(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="FirebaseError";class vi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=tA,Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vr.prototype.create)}}class Vr{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],r=a?nA(a,i):"Error",l=`${this.serviceName}: ${r} (${s}).`;return new vi(s,l,i)}}function nA(t,e){return t.replace(iA,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const iA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t){return JSON.parse(t)}function Ae(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=function(t){let e={},n={},i={},s="";try{const a=t.split(".");e=mr(Co(a[0])||""),n=mr(Co(a[1])||""),s=a[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},sA=function(t){const e=P0(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},aA=function(t){const e=P0(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Gs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Bf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wo(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function ji(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const a=t[s],r=e[s];if($m(a)&&$m(r)){if(!ji(a,r))return!1}else if(a!==r)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function $m(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)i[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)i[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const u=i[f-3]^i[f-8]^i[f-14]^i[f-16];i[f]=(u<<1|u>>>31)&4294967295}let s=this.chain_[0],a=this.chain_[1],r=this.chain_[2],l=this.chain_[3],o=this.chain_[4],c,h;for(let f=0;f<80;f++){f<40?f<20?(c=l^a&(r^l),h=1518500249):(c=a^r^l,h=1859775393):f<60?(c=a&r|l&(a|r),h=2400959708):(c=a^r^l,h=3395469782);const u=(s<<5|s>>>27)+c+o+h+i[f]&4294967295;o=l,l=r,r=(a<<30|a>>>2)&4294967295,a=s,s=u}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+r&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+o&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const a=this.buf_;let r=this.inbuf_;for(;s<n;){if(r===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(a[r]=e.charCodeAt(s),++r,++s,r===this.blockSize){this.compress_(a),r=0;break}}else for(;s<n;)if(a[r]=e[s],++r,++s,r===this.blockSize){this.compress_(a),r=0;break}}this.inbuf_=r,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let a=24;a>=0;a-=8)e[i]=this.chain_[s]>>a&255,++i;return e}}function lA(t,e){const n=new oA(t,e);return n.subscribe.bind(n)}class oA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");cA(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Cu),s.error===void 0&&(s.error=Cu),s.complete===void 0&&(s.complete=Cu);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Cu(){}function vc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const a=s-55296;i++,C(i<t.length,"Surrogate pair missing trail surrogate.");const r=t.charCodeAt(i)-56320;s=65536+(a<<10)+r}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},bc=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t){return t&&t._delegate?t._delegate:t}class Pi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new qr;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dA(e))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=Ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ri){return this.instances.has(e)}getOptions(e=Ri){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);i===l&&r.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:hA(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ri){return this.component?this.component.multipleInstances?e:Ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hA(t){return t===Ri?void 0:t}function dA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(J||(J={}));const mA={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},gA=J.INFO,_A={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},yA=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=_A[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vd{constructor(e){this.name=e,this._logLevel=gA,this._logHandler=yA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in J))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...e),this._logHandler(this,J.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...e),this._logHandler(this,J.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,J.INFO,...e),this._logHandler(this,J.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,J.WARN,...e),this._logHandler(this,J.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...e),this._logHandler(this,J.ERROR,...e)}}const vA=(t,e)=>e.some(n=>t instanceof n);let Wm,Zm;function bA(){return Wm||(Wm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EA(){return Zm||(Zm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G0=new WeakMap,jf=new WeakMap,q0=new WeakMap,wu=new WeakMap,bd=new WeakMap;function SA(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",r)},a=()=>{n(ti(t.result)),s()},r=()=>{i(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",r)});return e.then(n=>{n instanceof IDBCursor&&G0.set(n,t)}).catch(()=>{}),bd.set(e,t),e}function TA(t){if(jf.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",r),t.removeEventListener("abort",r)},a=()=>{n(),s()},r=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",r),t.addEventListener("abort",r)});jf.set(t,e)}let Pf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||q0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ti(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CA(t){Pf=t(Pf)}function wA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Au(this),e,...n);return q0.set(i,e.sort?e.sort():[e]),ti(i)}:EA().includes(t)?function(...e){return t.apply(Au(this),e),ti(G0.get(this))}:function(...e){return ti(t.apply(Au(this),e))}}function AA(t){return typeof t=="function"?wA(t):(t instanceof IDBTransaction&&TA(t),vA(t,bA())?new Proxy(t,Pf):t)}function ti(t){if(t instanceof IDBRequest)return SA(t);if(wu.has(t))return wu.get(t);const e=AA(t);return e!==t&&(wu.set(t,e),bd.set(e,t)),e}const Au=t=>bd.get(t);function RA(t,e,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const r=indexedDB.open(t,e),l=ti(r);return i&&r.addEventListener("upgradeneeded",o=>{i(ti(r.result),o.oldVersion,o.newVersion,ti(r.transaction),o)}),n&&r.addEventListener("blocked",o=>n(o.oldVersion,o.newVersion,o)),l.then(o=>{a&&o.addEventListener("close",()=>a()),s&&o.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const NA=["get","getKey","getAll","getAllKeys","count"],xA=["put","add","delete","clear"],Ru=new Map;function Jm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ru.get(e))return Ru.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=xA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||NA.includes(n)))return;const a=async function(r,...l){const o=this.transaction(r,s?"readwrite":"readonly");let c=o.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&o.done]))[0]};return Ru.set(e,a),a}CA(t=>({...t,get:(e,n,i)=>Jm(e,n)||t.get(e,n,i),has:(e,n)=>!!Jm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function DA(t){return t.getComponent()?.type==="VERSION"}const Gf="@firebase/app",eg="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn=new vd("@firebase/app"),MA="@firebase/app-compat",IA="@firebase/analytics-compat",kA="@firebase/analytics",LA="@firebase/app-check-compat",UA="@firebase/app-check",zA="@firebase/auth",HA="@firebase/auth-compat",BA="@firebase/database",jA="@firebase/data-connect",PA="@firebase/database-compat",GA="@firebase/functions",qA="@firebase/functions-compat",VA="@firebase/installations",YA="@firebase/installations-compat",FA="@firebase/messaging",KA="@firebase/messaging-compat",QA="@firebase/performance",XA="@firebase/performance-compat",$A="@firebase/remote-config",WA="@firebase/remote-config-compat",ZA="@firebase/storage",JA="@firebase/storage-compat",eR="@firebase/firestore",tR="@firebase/ai",nR="@firebase/firestore-compat",iR="firebase",sR="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="[DEFAULT]",aR={[Gf]:"fire-core",[MA]:"fire-core-compat",[kA]:"fire-analytics",[IA]:"fire-analytics-compat",[UA]:"fire-app-check",[LA]:"fire-app-check-compat",[zA]:"fire-auth",[HA]:"fire-auth-compat",[BA]:"fire-rtdb",[jA]:"fire-data-connect",[PA]:"fire-rtdb-compat",[GA]:"fire-fn",[qA]:"fire-fn-compat",[VA]:"fire-iid",[YA]:"fire-iid-compat",[FA]:"fire-fcm",[KA]:"fire-fcm-compat",[QA]:"fire-perf",[XA]:"fire-perf-compat",[$A]:"fire-rc",[WA]:"fire-rc-compat",[ZA]:"fire-gcs",[JA]:"fire-gcs-compat",[eR]:"fire-fst",[nR]:"fire-fst-compat",[tR]:"fire-vertex","fire-js":"fire-js",[iR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new Map,rR=new Map,Vf=new Map;function tg(t,e){try{t.container.addComponent(e)}catch(n){bn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qs(t){const e=t.name;if(Vf.has(e))return bn.debug(`There were multiple attempts to register component ${e}.`),!1;Vf.set(e,t);for(const n of Ao.values())tg(n,t);for(const n of rR.values())tg(n,t);return!0}function Ed(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ot(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ni=new Vr("app","Firebase",lR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ni.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=sR;function V0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:qf,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw ni.create("bad-app-name",{appName:String(s)});if(n||(n=U0()),!n)throw ni.create("no-options");const a=Ao.get(s);if(a){if(ji(n,a.options)&&ji(i,a.config))return a;throw ni.create("duplicate-app",{appName:s})}const r=new pA(s);for(const o of Vf.values())r.addComponent(o);const l=new oR(n,i,r);return Ao.set(s,l),l}function Y0(t=qf){const e=Ao.get(t);if(!e&&t===qf&&U0())return V0();if(!e)throw ni.create("no-app",{appName:t});return e}function ii(t,e,n){let i=aR[t]??t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const r=[`Unable to register library "${i}" with version "${e}":`];s&&r.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&r.push("and"),a&&r.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bn.warn(r.join(" "));return}qs(new Pi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="firebase-heartbeat-database",uR=1,gr="firebase-heartbeat-store";let Nu=null;function F0(){return Nu||(Nu=RA(cR,uR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gr)}catch(n){console.warn(n)}}}}).catch(t=>{throw ni.create("idb-open",{originalErrorMessage:t.message})})),Nu}async function fR(t){try{const n=(await F0()).transaction(gr),i=await n.objectStore(gr).get(K0(t));return await n.done,i}catch(e){if(e instanceof vi)bn.warn(e.message);else{const n=ni.create("idb-get",{originalErrorMessage:e?.message});bn.warn(n.message)}}}async function ng(t,e){try{const i=(await F0()).transaction(gr,"readwrite");await i.objectStore(gr).put(e,K0(t)),await i.done}catch(n){if(n instanceof vi)bn.warn(n.message);else{const i=ni.create("idb-set",{originalErrorMessage:n?.message});bn.warn(i.message)}}}function K0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=1024,dR=30;class pR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ig();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>dR){const s=_R(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ig(),{heartbeatsToSend:n,unsentEntries:i}=mR(this._heartbeatsCache.heartbeats),s=To(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return bn.warn(e),""}}}function ig(){return new Date().toISOString().substring(0,10)}function mR(t,e=hR){const n=[];let i=t.slice();for(const s of t){const a=n.find(r=>r.agent===s.agent);if(a){if(a.dates.push(s.date),sg(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),sg(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class gR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jw()?eA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return ng(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return ng(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function sg(t){return To(JSON.stringify({version:2,heartbeats:t})).length}function _R(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t){qs(new Pi("platform-logger",e=>new OA(e),"PRIVATE")),qs(new Pi("heartbeat",e=>new pR(e),"PRIVATE")),ii(Gf,eg,t),ii(Gf,eg,"esm2020"),ii("fire-js","")}yR("");function Q0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vR=Q0,X0=new Vr("auth","Firebase",Q0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=new vd("@firebase/auth");function bR(t,...e){Ro.logLevel<=J.WARN&&Ro.warn(`Auth (${ca}): ${t}`,...e)}function Pl(t,...e){Ro.logLevel<=J.ERROR&&Ro.error(`Auth (${ca}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t,...e){throw Sd(t,...e)}function Gt(t,...e){return Sd(t,...e)}function $0(t,e,n){const i={...vR(),[e]:n};return new Vr("auth","Firebase",i).create(e,{appName:t.name})}function si(t){return $0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sd(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return X0.create(t,...e)}function k(t,e,...n){if(!t)throw Sd(e,...n)}function rn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pl(e),new Error(e)}function Sn(t,e){t||rn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(){return typeof self<"u"&&self.location?.href||""}function ER(){return ag()==="http:"||ag()==="https:"}function ag(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ER()||$w()||"connection"in navigator)?navigator.onLine:!0}function TR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sn(n>e,"Short delay should be less than long delay!"),this.isMobile=yd()||j0()}get(){return SR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t,e){Sn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AR=new Yr(3e4,6e4);function Ec(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ua(t,e,n,i,s={}){return Z0(t,s,async()=>{let a={},r={};i&&(e==="GET"?r=i:a={body:JSON.stringify(i)});const l=oa({key:t.config.apiKey,...r}).slice(1),o=await t._getAdditionalHeaders();o["Content-Type"]="application/json",t.languageCode&&(o["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:o,...a};return Xw()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&la(t.emulatorConfig.host)&&(c.credentials="include"),W0.fetch()(await eb(t,t.config.apiHost,n,l),c)})}async function Z0(t,e,n){t._canInitEmulator=!1;const i={...CR,...e};try{const s=new RR(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const r=await a.json();if("needConfirmation"in r)throw El(t,"account-exists-with-different-credential",r);if(a.ok&&!("errorMessage"in r))return r;{const l=a.ok?r.errorMessage:r.error.message,[o,c]=l.split(" : ");if(o==="FEDERATED_USER_ID_ALREADY_LINKED")throw El(t,"credential-already-in-use",r);if(o==="EMAIL_EXISTS")throw El(t,"email-already-in-use",r);if(o==="USER_DISABLED")throw El(t,"user-disabled",r);const h=i[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw $0(t,h,c);En(t,h)}}catch(s){if(s instanceof vi)throw s;En(t,"network-request-failed",{message:String(s)})}}async function J0(t,e,n,i,s={}){const a=await ua(t,e,n,i,s);return"mfaPendingCredential"in a&&En(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function eb(t,e,n,i){const s=`${e}${n}?${i}`,a=t,r=a.config.emulator?Td(t.config,s):`${t.config.apiScheme}://${s}`;return wR.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(r).toString():r}class RR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Gt(this.auth,"network-request-failed")),AR.get())})}}function El(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Gt(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NR(t,e){return ua(t,"POST","/v1/accounts:delete",e)}async function No(t,e){return ua(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xR(t,e=!1){const n=ht(t),i=await n.getIdToken(e),s=Cd(i);k(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,r=a?.sign_in_provider;return{claims:s,token:i,authTime:Qa(xu(s.auth_time)),issuedAtTime:Qa(xu(s.iat)),expirationTime:Qa(xu(s.exp)),signInProvider:r||null,signInSecondFactor:a?.sign_in_second_factor||null}}function xu(t){return Number(t)*1e3}function Cd(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Pl("JWT malformed, contained fewer than 3 sections"),null;try{const s=Co(n);return s?JSON.parse(s):(Pl("Failed to decode base64 JWT payload"),null)}catch(s){return Pl("Caught error parsing JWT payload as JSON",s?.toString()),null}}function rg(t){const e=Cd(t);return k(e,"internal-error"),k(typeof e.exp<"u","internal-error"),k(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _r(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof vi&&OR(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function OR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qa(this.lastLoginAt),this.creationTime=Qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(t){const e=t.auth,n=await t.getIdToken(),i=await _r(t,No(e,{idToken:n}));k(i?.users.length,e,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=s.providerUserInfo?.length?tb(s.providerUserInfo):[],r=IR(t.providerData,a),l=t.isAnonymous,o=!(t.email&&s.passwordHash)&&!r?.length,c=l?o:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new Ff(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function MR(t){const e=ht(t);await xo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IR(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function tb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(t,e){const n=await Z0(t,{},async()=>{const i=oa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,r=await eb(t,s,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:l,body:i};return t.emulatorConfig&&la(t.emulatorConfig.host)&&(o.credentials="include"),W0.fetch()(r,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LR(t,e){return ua(t,"POST","/v2/accounts:revokeToken",Ec(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(typeof e.idToken<"u","internal-error"),k(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){k(e.length!==0,"internal-error");const n=rg(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(k(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await kR(e,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,r=new As;return i&&(k(typeof i=="string","internal-error",{appName:e}),r.refreshToken=i),s&&(k(typeof s=="string","internal-error",{appName:e}),r.accessToken=s),a&&(k(typeof a=="number","internal-error",{appName:e}),r.expirationTime=a),r}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new As,this.toJSON())}_performRefresh(){return rn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t,e){k(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mt{constructor({uid:e,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new DR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ff(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await _r(this,this.stsTokenManager.getToken(this.auth,e));return k(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xR(this,e)}reload(){return MR(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await xo(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ot(this.auth.app))return Promise.reject(si(this.auth));const e=await this.getIdToken();return await _r(this,NR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,r=n.photoURL??void 0,l=n.tenantId??void 0,o=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:u,isAnonymous:p,providerData:_,stsTokenManager:b}=n;k(f&&b,e,"internal-error");const S=As.fromJSON(this.name,b);k(typeof f=="string",e,"internal-error"),xn(i,e.name),xn(s,e.name),k(typeof u=="boolean",e,"internal-error"),k(typeof p=="boolean",e,"internal-error"),xn(a,e.name),xn(r,e.name),xn(l,e.name),xn(o,e.name),xn(c,e.name),xn(h,e.name);const m=new Mt({uid:f,auth:e,email:s,emailVerified:u,displayName:i,isAnonymous:p,photoURL:r,phoneNumber:a,tenantId:l,stsTokenManager:S,createdAt:c,lastLoginAt:h});return _&&Array.isArray(_)&&(m.providerData=_.map(d=>({...d}))),o&&(m._redirectEventId=o),m}static async _fromIdTokenResponse(e,n,i=!1){const s=new As;s.updateFromServerResponse(n);const a=new Mt({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await xo(a),a}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];k(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?tb(s.providerUserInfo):[],r=!(s.email&&s.passwordHash)&&!a?.length,l=new As;l.updateFromIdToken(i);const o=new Mt({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:r}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ff(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(o,c),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=new Map;function ln(t){Sn(t instanceof Function,"Expected a class definition");let e=lg.get(t);return e?(Sn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lg.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nb.type="NONE";const og=nb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t,e,n){return`firebase:${t}:${e}:${n}`}class Rs{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=Gl(this.userKey,s.apiKey,a),this.fullPersistenceKey=Gl("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await No(this.auth,{idToken:e}).catch(()=>{});return n?Mt._fromGetAccountInfoResponse(this.auth,n,e):null}return Mt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Rs(ln(og),e,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=s[0]||ln(og);const r=Gl(i,e.config.apiKey,e.name);let l=null;for(const c of n)try{const h=await c._get(r);if(h){let f;if(typeof h=="string"){const u=await No(e,{idToken:h}).catch(()=>{});if(!u)break;f=await Mt._fromGetAccountInfoResponse(e,u,h)}else f=Mt._fromJSON(e,h);c!==a&&(l=f),a=c;break}}catch{}const o=s.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!o.length?new Rs(a,e,i):(a=o[0],l&&await a._set(r,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(r)}catch{}})),new Rs(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ib(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ob(e))return"Blackberry";if(cb(e))return"Webos";if(sb(e))return"Safari";if((e.includes("chrome/")||ab(e))&&!e.includes("edge/"))return"Chrome";if(lb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function ib(t=Fe()){return/firefox\//i.test(t)}function sb(t=Fe()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ab(t=Fe()){return/crios\//i.test(t)}function rb(t=Fe()){return/iemobile/i.test(t)}function lb(t=Fe()){return/android/i.test(t)}function ob(t=Fe()){return/blackberry/i.test(t)}function cb(t=Fe()){return/webos/i.test(t)}function wd(t=Fe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UR(t=Fe()){return wd(t)&&!!window.navigator?.standalone}function zR(){return Ww()&&document.documentMode===10}function ub(t=Fe()){return wd(t)||lb(t)||cb(t)||ob(t)||/windows phone/i.test(t)||rb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(t,e=[]){let n;switch(t){case"Browser":n=cg(Fe());break;case"Worker":n=`${cg(Fe())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ca}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((r,l)=>{try{const o=e(a);r(o)}catch(o){l(o)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(t,e={}){return ua(t,"GET","/v2/passwordPolicy",Ec(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=6;class PR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??jR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ug(this),this.idTokenSubscription=new ug(this),this.beforeStateQueue=new HR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ln(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Rs.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await No(this,{idToken:e}),i=await Mt._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ot(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(r=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(r,r))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,r=i?._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===r)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return k(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xo(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ot(this.app))return Promise.reject(si(this));const n=e?ht(e):null;return n&&k(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&k(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ot(this.app)?Promise.reject(si(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ot(this.app)?Promise.reject(si(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ln(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BR(this),n=new PR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vr("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await LR(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ln(e)||this._popupRedirectResolver;k(n,this,"argument-error"),this.redirectPersistenceManager=await Rs.create(this,[ln(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let r=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(k(l,this,"internal-error"),l.then(()=>{r||a(this.currentUser)}),typeof n=="function"){const o=e.addObserver(n,i,s);return()=>{r=!0,o()}}else{const o=e.addObserver(n);return()=>{r=!0,o()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Ot(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&bR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Sc(t){return ht(t)}class ug{constructor(e){this.auth=e,this.observer=null,this.addObserver=lA(n=>this.observer=n)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qR(t){Ad=t}function VR(t){return Ad.loadJS(t)}function YR(){return Ad.gapiScript}function FR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t,e){const n=Ed(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(ji(a,e??{}))return s;En(s,"already-initialized")}return n.initialize({options:e})}function QR(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(ln);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function XR(t,e,n){const i=Sc(t);k(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,a=hb(e),{host:r,port:l}=$R(e),o=l===null?"":`:${l}`,c={url:`${a}//${r}${o}/`},h=Object.freeze({host:r,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){k(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),k(ji(c,i.config.emulator)&&ji(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,la(r)?(H0(`${a}//${r}${o}`),B0("Auth",!0)):WR()}function hb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $R(t){const e=hb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:fg(i.substr(a.length+1))}}else{const[a,r]=i.split(":");return{host:a,port:fg(r)}}}function fg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function WR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rn("not implemented")}_getIdTokenResponse(e){return rn("not implemented")}_linkToIdToken(e,n){return rn("not implemented")}_getReauthenticationResolver(e){return rn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ns(t,e){return J0(t,"POST","/v1/accounts:signInWithIdp",Ec(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="http://localhost";class Gi extends db{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Gi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):En("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...a}=n;if(!i||!s)return null;const r=new Gi(i,s);return r.idToken=a.idToken||void 0,r.accessToken=a.accessToken||void 0,r.secret=a.secret,r.nonce=a.nonce,r.pendingToken=a.pendingToken||null,r}_getIdTokenResponse(e){const n=this.buildRequest();return Ns(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ns(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ns(e,n)}buildRequest(){const e={requestUri:ZR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=oa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends pb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un extends Fr{constructor(){super("facebook.com")}static credential(e){return Gi._fromParams({providerId:Un.PROVIDER_ID,signInMethod:Un.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Un.credentialFromTaggedObject(e)}static credentialFromError(e){return Un.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Un.credential(e.oauthAccessToken)}catch{return null}}}Un.FACEBOOK_SIGN_IN_METHOD="facebook.com";Un.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn extends Fr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Gi._fromParams({providerId:zn.PROVIDER_ID,signInMethod:zn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zn.credentialFromTaggedObject(e)}static credentialFromError(e){return zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return zn.credential(n,i)}catch{return null}}}zn.GOOGLE_SIGN_IN_METHOD="google.com";zn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn extends Fr{constructor(){super("github.com")}static credential(e){return Gi._fromParams({providerId:Hn.PROVIDER_ID,signInMethod:Hn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hn.credentialFromTaggedObject(e)}static credentialFromError(e){return Hn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hn.credential(e.oauthAccessToken)}catch{return null}}}Hn.GITHUB_SIGN_IN_METHOD="github.com";Hn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn extends Fr{constructor(){super("twitter.com")}static credential(e,n){return Gi._fromParams({providerId:Bn.PROVIDER_ID,signInMethod:Bn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bn.credentialFromTaggedObject(e)}static credentialFromError(e){return Bn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Bn.credential(n,i)}catch{return null}}}Bn.TWITTER_SIGN_IN_METHOD="twitter.com";Bn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(t,e){return J0(t,"POST","/v1/accounts:signUp",Ec(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const a=await Mt._fromIdTokenResponse(e,i,s),r=hg(i);return new fi({user:a,providerId:r,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=hg(i);return new fi({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function hg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(t){if(Ot(t.app))return Promise.reject(si(t));const e=Sc(t);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new fi({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await JR(e,{returnSecureToken:!0}),i=await fi._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends vi{constructor(e,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Oo.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Oo(e,n,i,s)}}function mb(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Oo._fromErrorAndOperation(t,a,e,i):a})}async function tN(t,e,n=!1){const i=await _r(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fi._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(t,e,n=!1){const{auth:i}=t;if(Ot(i.app))return Promise.reject(si(i));const s="reauthenticate";try{const a=await _r(t,mb(i,s,e,t),n);k(a.idToken,i,"internal-error");const r=Cd(a.idToken);k(r,i,"internal-error");const{sub:l}=r;return k(t.uid===l,i,"user-mismatch"),fi._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&En(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(t,e,n=!1){if(Ot(t.app))return Promise.reject(si(t));const i="signIn",s=await mb(t,i,e),a=await fi._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(a.user),a}function sN(t,e,n,i){return ht(t).onIdTokenChanged(e,n,i)}function aN(t,e,n){return ht(t).beforeAuthStateChanged(e,n)}function rN(t,e,n,i){return ht(t).onAuthStateChanged(e,n,i)}const Do="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Do,"1"),this.storage.removeItem(Do),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=1e3,oN=10;class _b extends gb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ub(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((r,l,o)=>{this.notifyListeners(r,o)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const r=this.storage.getItem(i);!n&&this.localCache[i]===r||this.notifyListeners(i,r)},a=this.storage.getItem(i);zR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,oN):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},lN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_b.type="LOCAL";const cN=_b;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb extends gb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yb.type="SESSION";const vb=yb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Tc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:a}=n.data,r=this.handlersMap[s];if(!r?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(r).map(async c=>c(n.origin,a)),o=await uN(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:o})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,r;return new Promise((l,o)=>{const c=Rd("",20);s.port1.start();const h=setTimeout(()=>{o(new Error("unsupported_event"))},i);r={messageChannel:s,onMessage(f){const u=f;if(u.data.eventId===c)switch(u.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(u.data.response);break;default:clearTimeout(h),clearTimeout(a),o(new Error("invalid_response"));break}}},this.handlers.add(r),s.port1.addEventListener("message",r.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{r&&this.removeMessageHandler(r)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return window}function hN(t){qt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(){return typeof qt().WorkerGlobalScope<"u"&&typeof qt().importScripts=="function"}async function dN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pN(){return navigator?.serviceWorker?.controller||null}function mN(){return bb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="firebaseLocalStorageDb",gN=1,Mo="firebaseLocalStorage",Sb="fbase_key";class Kr{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cc(t,e){return t.transaction([Mo],e?"readwrite":"readonly").objectStore(Mo)}function _N(){const t=indexedDB.deleteDatabase(Eb);return new Kr(t).toPromise()}function Kf(){const t=indexedDB.open(Eb,gN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Mo,{keyPath:Sb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Mo)?e(i):(i.close(),await _N(),e(await Kf()))})})}async function dg(t,e,n){const i=Cc(t,!0).put({[Sb]:e,value:n});return new Kr(i).toPromise()}async function yN(t,e){const n=Cc(t,!1).get(e),i=await new Kr(n).toPromise();return i===void 0?null:i.value}function pg(t,e){const n=Cc(t,!0).delete(e);return new Kr(n).toPromise()}const vN=800,bN=3;class Tb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>bN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tc._getInstance(mN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dN(),!this.activeServiceWorker)return;this.sender=new fN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kf();return await dg(e,Do,"1"),await pg(e,Do),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>dg(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>yN(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Cc(s,!1).getAll();return new Kr(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Tb.type="LOCAL";const EN=Tb;new Yr(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t,e){return e?ln(e):(k(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd extends db{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ns(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ns(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ns(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TN(t){return iN(t.auth,new Nd(t),t.bypassAuthState)}function CN(t){const{auth:e,user:n}=t;return k(n,e,"internal-error"),nN(n,new Nd(t),t.bypassAuthState)}async function wN(t){const{auth:e,user:n}=t;return k(n,e,"internal-error"),tN(n,new Nd(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:r,type:l}=e;if(r){this.reject(r);return}const o={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(o))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TN;case"linkViaPopup":case"linkViaRedirect":return wN;case"reauthViaPopup":case"reauthViaRedirect":return CN;default:En(this.auth,"internal-error")}}resolve(e){Sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=new Yr(2e3,1e4);class _s extends Cb{constructor(e,n,i,s,a){super(e,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,_s.currentPopupAction&&_s.currentPopupAction.cancel(),_s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return k(e,this.auth,"internal-error"),e}async onExecution(){Sn(this.filter.length===1,"Popup operations only handle one event");const e=Rd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_s.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AN.get())};e()}}_s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="pendingRedirect",ql=new Map;class NN extends Cb{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=ql.get(this.auth._key());if(!e){try{const i=await xN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}ql.set(this.auth._key(),e)}return this.bypassAuthState||ql.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xN(t,e){const n=MN(e),i=DN(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function ON(t,e){ql.set(t._key(),e)}function DN(t){return ln(t._redirectPersistence)}function MN(t){return Gl(RN,t.config.apiKey,t.name)}async function IN(t,e,n=!1){if(Ot(t.app))return Promise.reject(si(t));const i=Sc(t),s=SN(i,e),r=await new NN(i,s,n).execute();return r&&!n&&(delete r.user._redirectEventId,await i._persistUserIfCurrent(r.user),await i._setRedirectUser(null,e)),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=10*60*1e3;class LN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!wb(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Gt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kN&&this.cachedEventUids.clear(),this.cachedEventUids.has(mg(e))}saveEventToCache(e){this.cachedEventUids.add(mg(e)),this.lastProcessedEventTime=Date.now()}}function mg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wb({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function UN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(t,e={}){return ua(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BN=/^https?/;async function jN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zN(t);for(const n of e)try{if(PN(n))return}catch{}En(t,"unauthorized-domain")}function PN(t){const e=Yf(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return r.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&r.hostname===i}if(!BN.test(n))return!1;if(HN.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new Yr(3e4,6e4);function gg(){const t=qt().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qN(t){return new Promise((e,n)=>{function i(){gg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gg(),n(Gt(t,"network-request-failed"))},timeout:GN.get()})}if(qt().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qt().gapi?.load)i();else{const s=FR("iframefcb");return qt()[s]=()=>{gapi.load?i():n(Gt(t,"network-request-failed"))},VR(`${YR()}?onload=${s}`).catch(a=>n(a))}}).catch(e=>{throw Vl=null,e})}let Vl=null;function VN(t){return Vl=Vl||qN(t),Vl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=new Yr(5e3,15e3),FN="__/auth/iframe",KN="emulator/auth/iframe",QN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $N(t){const e=t.config;k(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Td(e,KN):`https://${t.config.authDomain}/${FN}`,i={apiKey:e.apiKey,appName:t.name,v:ca},s=XN.get(t.config.apiHost);s&&(i.eid=s);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${oa(i).slice(1)}`}async function WN(t){const e=await VN(t),n=qt().gapi;return k(n,t,"internal-error"),e.open({where:document.body,url:$N(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QN,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const r=Gt(t,"network-request-failed"),l=qt().setTimeout(()=>{a(r)},YN.get());function o(){qt().clearTimeout(l),s(i)}i.ping(o).then(o,()=>{a(r)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JN=500,ex=600,tx="_blank",nx="http://localhost";class _g{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ix(t,e,n,i=JN,s=ex){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),r=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const o={...ZN,width:i.toString(),height:s.toString(),top:a,left:r},c=Fe().toLowerCase();n&&(l=ab(c)?tx:n),ib(c)&&(e=e||nx,o.scrollbars="yes");const h=Object.entries(o).reduce((u,[p,_])=>`${u}${p}=${_},`,"");if(UR(c)&&l!=="_self")return sx(e||"",l),new _g(null);const f=window.open(e||"",l,h);k(f,t,"popup-blocked");try{f.focus()}catch{}return new _g(f)}function sx(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="__/auth/handler",rx="emulator/auth/handler",lx=encodeURIComponent("fac");async function yg(t,e,n,i,s,a){k(t.config.authDomain,t,"auth-domain-config-required"),k(t.config.apiKey,t,"invalid-api-key");const r={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ca,eventId:s};if(e instanceof pb){e.setDefaultLanguage(t.languageCode),r.providerId=e.providerId||"",Bf(e.getCustomParameters())||(r.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))r[h]=f}if(e instanceof Fr){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(r.scopes=h.join(","))}t.tenantId&&(r.tid=t.tenantId);const l=r;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const o=await t._getAppCheckToken(),c=o?`#${lx}=${encodeURIComponent(o)}`:"";return`${ox(t)}?${oa(l).slice(1)}${c}`}function ox({config:t}){return t.emulator?Td(t,rx):`https://${t.authDomain}/${ax}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou="webStorageSupport";class cx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vb,this._completeRedirectFn=IN,this._overrideRedirectResult=ON}async _openPopup(e,n,i,s){Sn(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await yg(e,n,i,Yf(),s);return ix(e,a,Rd())}async _openRedirect(e,n,i,s){await this._originValidation(e);const a=await yg(e,n,i,Yf(),s);return hN(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Sn(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await WN(e),i=new LN(e);return n.register("authEvent",s=>(k(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ou,{type:Ou},s=>{const a=s?.[0]?.[Ou];a!==void 0&&n(!!a),En(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ub()||sb()||wd()}}const ux=cx;var vg="@firebase/auth",bg="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dx(t){qs(new Pi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:r,authDomain:l}=i.options;k(r&&!r.includes(":"),"invalid-api-key",{appName:i.name});const o={apiKey:r,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fb(t)},c=new GR(i,s,a,o);return QR(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),qs(new Pi("auth-internal",e=>{const n=Sc(e.getProvider("auth").getImmediate());return(i=>new fx(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ii(vg,bg,hx(t)),ii(vg,bg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=5*60,mx=z0("authIdTokenMaxAge")||px;let Eg=null;const gx=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>mx)return;const s=n?.token;Eg!==s&&(Eg=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function _x(t=Y0()){const e=Ed(t,"auth");if(e.isInitialized())return e.getImmediate();const n=KR(t,{popupRedirectResolver:ux,persistence:[EN,cN,vb]}),i=z0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const r=gx(a.toString());aN(n,r,()=>r(n.currentUser)),sN(n,l=>r(l))}}const s=L0("auth");return s&&XR(n,`http://${s}`),n}function yx(){return document.getElementsByTagName("head")?.[0]??document}qR({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const a=Gt("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",yx().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dx("Browser");var vx="firebase",bx="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(vx,bx,"app");var Sg={};const Tg="@firebase/database",Cg="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ab="";function Ex(t){Ab=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ae(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:mr(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Kt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Sx(e)}}catch{}return new Tx},xi=Rb("localStorage"),Cx=Rb("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new vd("@firebase/database"),wx=function(){let t=1;return function(){return t++}}(),Nb=function(t){const e=uA(t),n=new rA;n.update(e);const i=n.digest();return gd.encodeByteArray(i)},Qr=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Qr.apply(null,i):typeof i=="object"?e+=Ae(i):e+=i,e+=" "}return e};let Xa=null,wg=!0;const Ax=function(t,e){C(!0,"Can't turn on custom loggers persistently."),xs.logLevel=J.VERBOSE,Xa=xs.log.bind(xs)},Ue=function(...t){if(wg===!0&&(wg=!1,Xa===null&&Cx.get("logging_enabled")===!0&&Ax()),Xa){const e=Qr.apply(null,t);Xa(e)}},Xr=function(t){return function(...e){Ue(t,...e)}},Qf=function(...t){const e="FIREBASE INTERNAL ERROR: "+Qr(...t);xs.error(e)},Tn=function(...t){const e=`FIREBASE FATAL ERROR: ${Qr(...t)}`;throw xs.error(e),new Error(e)},Ye=function(...t){const e="FIREBASE WARNING: "+Qr(...t);xs.warn(e)},Rx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ye("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},xd=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Nx=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Vs="[MIN_NAME]",qi="[MAX_NAME]",Wi=function(t,e){if(t===e)return 0;if(t===Vs||e===qi)return-1;if(e===Vs||t===qi)return 1;{const n=Ag(t),i=Ag(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},xx=function(t,e){return t===e?0:t<e?-1:1},Sa=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ae(e))},Od=function(t){if(typeof t!="object"||t===null)return Ae(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Ae(e[i]),n+=":",n+=Od(t[e[i]]);return n+="}",n},xb=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function Pe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Ob=function(t){C(!xd(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,a,r,l,o;t===0?(a=0,r=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),i),a=l+i,r=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(a=0,r=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(o=n;o;o-=1)c.push(r%2?1:0),r=Math.floor(r/2);for(o=e;o;o-=1)c.push(a%2?1:0),a=Math.floor(a/2);c.push(s?1:0),c.reverse();const h=c.join("");let f="";for(o=0;o<64;o+=8){let u=parseInt(h.substr(o,8),2).toString(16);u.length===1&&(u="0"+u),f=f+u}return f.toLowerCase()},Ox=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Dx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Mx(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const Ix=new RegExp("^-?(0*)\\d{1,10}$"),kx=-2147483648,Lx=2147483647,Ag=function(t){if(Ix.test(t)){const e=Number(t);if(e>=kx&&e<=Lx)return e}return null},fa=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ye("Exception was thrown by user callback.",n),e},Math.floor(0))}},Ux=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},$a=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Ot(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){Ye(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ue("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ye(e)}}class Yl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Yl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="5",Db="v",Mb="s",Ib="r",kb="f",Lb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ub="ls",zb="p",Xf="ac",Hb="websocket",Bb="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n,i,s,a=!1,r="",l=!1,o=!1,c=null){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=a,this.persistenceKey=r,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=o,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&xi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Bx(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Pb(t,e,n){C(typeof e=="string","typeof type must == string"),C(typeof n=="object","typeof params must == object");let i;if(e===Hb)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Bb)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Bx(t)&&(n.ns=t.namespace);const s=[];return Pe(n,(a,r)=>{s.push(a+"="+r)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.counters_={}}incrementCounter(e,n=1){Kt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Bw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du={},Mu={};function Md(t){const e=t.toString();return Du[e]||(Du[e]=new jx),Du[e]}function Px(t,e){const n=t.toString();return Mu[n]||(Mu[n]=e()),Mu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&fa(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="start",qx="close",Vx="pLPCommand",Yx="pRTLPCB",Gb="id",qb="pw",Vb="ser",Fx="cb",Kx="seg",Qx="ts",Xx="d",$x="dframe",Yb=1870,Fb=30,Wx=Yb-Fb,Zx=25e3,Jx=3e4;class ys{constructor(e,n,i,s,a,r,l){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=a,this.transportSessionId=r,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xr(e),this.stats_=Md(n),this.urlFn=o=>(this.appCheckToken&&(o[Xf]=this.appCheckToken),Pb(n,Bb,o))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Gx(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Jx)),Nx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Id((...a)=>{const[r,l,o,c,h]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,r===Rg)this.id=l,this.password=o;else if(r===qx)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+r)},(...a)=>{const[r,l]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(r,l)},()=>{this.onClosed_()},this.urlFn);const i={};i[Rg]="t",i[Vb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Fx]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Db]=Dd,this.transportSessionId&&(i[Mb]=this.transportSessionId),this.lastSessionId&&(i[Ub]=this.lastSessionId),this.applicationId&&(i[zb]=this.applicationId),this.appCheckToken&&(i[Xf]=this.appCheckToken),typeof location<"u"&&location.hostname&&Lb.test(location.hostname)&&(i[Ib]=kb);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ys.forceAllow_=!0}static forceDisallow(){ys.forceDisallow_=!0}static isAvailable(){return ys.forceAllow_?!0:!ys.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Ox()&&!Dx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ae(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=I0(n),s=xb(i,Wx);for(let a=0;a<s.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[$x]="t",i[Gb]=e,i[qb]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ae(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Id{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=wx(),window[Vx+this.uniqueCallbackIdentifier]=e,window[Yx+this.uniqueCallbackIdentifier]=n,this.myIFrame=Id.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(l){Ue("frame writing exception"),l.stack&&Ue(l.stack),Ue(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ue("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Gb]=this.myID,e[qb]=this.myPW,e[Vb]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Fb+i.length<=Yb;){const r=this.pendingSegs.shift();i=i+"&"+Kx+s+"="+r.seg+"&"+Qx+s+"="+r.ts+"&"+Xx+s+"="+r.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(Zx)),a=()=>{clearTimeout(s),i()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Ue("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=16384,tO=45e3;let Io=null;typeof MozWebSocket<"u"?Io=MozWebSocket:typeof WebSocket<"u"&&(Io=WebSocket);class Dt{constructor(e,n,i,s,a,r,l){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xr(this.connId),this.stats_=Md(n),this.connURL=Dt.connectionURL_(n,r,l,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,a){const r={};return r[Db]=Dd,typeof location<"u"&&location.hostname&&Lb.test(location.hostname)&&(r[Ib]=kb),n&&(r[Mb]=n),i&&(r[Ub]=i),s&&(r[Xf]=s),a&&(r[zb]=a),Pb(e,Hb,r)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xi.set("previous_websocket_failure",!0);try{let i;Zw(),this.mySock=new Io(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Dt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Io!==null&&!Dt.forceDisallow_}static previouslyFailed(){return xi.isInMemoryStorage||xi.get("previous_websocket_failure")===!0}markConnectionHealthy(){xi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=mr(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(C(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Ae(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=xb(n,eO);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(tO))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Dt.responsesRequiredToBeHealthy=2;Dt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{static get ALL_TRANSPORTS(){return[ys,Dt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Dt&&Dt.isAvailable();let i=n&&!Dt.previouslyFailed();if(e.webSocketOnly&&(n||Ye("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Dt];else{const s=this.transports_=[];for(const a of yr.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);yr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}yr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=6e4,iO=5e3,sO=10*1024,aO=100*1024,Iu="t",Ng="d",rO="s",xg="r",lO="e",Og="o",Dg="a",Mg="n",Ig="p",oO="h";class cO{constructor(e,n,i,s,a,r,l,o,c,h){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=a,this.onMessage_=r,this.onReady_=l,this.onDisconnect_=o,this.onKill_=c,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xr("c:"+this.id+":"),this.transportManager_=new yr(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=$a(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>aO?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>sO?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Iu in e){const n=e[Iu];n===Dg?this.upgradeIfSecondaryHealthy_():n===xg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Og&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Sa("t",e),i=Sa("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ig,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Dg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Mg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Sa("t",e),i=Sa("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Sa(Iu,e);if(Ng in e){const i=e[Ng];if(n===oO){const s={...i};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Mg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===rO?this.onConnectionShutdown_(i):n===xg?this.onReset_(i):n===lO?Qf("Server Error: "+i):n===Og?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Qf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Dd!==i&&Ye("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),$a(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(nO))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$a(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(iO))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ig,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.allowedEvents_=e,this.listeners_={},C(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let a=0;a<s.length;a++)if(s[a].callback===n&&(!i||i===s[a].context)){s.splice(a,1);return}}validateEventType_(e){C(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends Qb{static getInstance(){return new ko}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!yd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return C(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg=32,Lg=768;class te{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function K(){return new te("")}function B(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function hi(t){return t.pieces_.length-t.pieceNum_}function se(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new te(t.pieces_,e)}function kd(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function uO(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function vr(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Xb(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new te(e,0)}function pe(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof te)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new te(n,0)}function V(t){return t.pieceNum_>=t.pieces_.length}function Ve(t,e){const n=B(t),i=B(e);if(n===null)return e;if(n===i)return Ve(se(t),se(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function fO(t,e){const n=vr(t,0),i=vr(e,0);for(let s=0;s<n.length&&s<i.length;s++){const a=Wi(n[s],i[s]);if(a!==0)return a}return n.length===i.length?0:n.length<i.length?-1:1}function Ld(t,e){if(hi(t)!==hi(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Et(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(hi(t)>hi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class hO{constructor(e,n){this.errorPrefix_=n,this.parts_=vr(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=bc(this.parts_[i]);$b(this)}}function dO(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=bc(e),$b(t)}function pO(t){const e=t.parts_.pop();t.byteLength_-=bc(e),t.parts_.length>0&&(t.byteLength_-=1)}function $b(t){if(t.byteLength_>Lg)throw new Error(t.errorPrefix_+"has a key path longer than "+Lg+" bytes ("+t.byteLength_+").");if(t.parts_.length>kg)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+kg+") or object contains a cycle "+Ni(t))}function Ni(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends Qb{static getInstance(){return new Ud}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return C(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=1e3,mO=60*5*1e3,Ug=30*1e3,gO=1.3,_O=3e4,yO="server_kill",zg=3;class dn extends Kb{constructor(e,n,i,s,a,r,l,o){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=r,this.appCheckTokenProvider_=l,this.authOverride_=o,this.id=dn.nextPersistentConnectionId_++,this.log_=Xr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ta,this.maxReconnectDelay_=mO,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ud.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ko.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,a={r:s,a:e,b:n};this.log_(Ae(a)),C(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new qr,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:r=>{const l=r.d;r.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,i,s){this.initConnection_();const a=e._queryIdentifier,r=e._path.toString();this.log_("Listen called for "+r+" "+a),this.listens.has(r)||this.listens.set(r,new Map),C(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),C(!this.listens.get(r).has(a),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(r).set(a,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const a={p:i},r="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(r,a,l=>{const o=l.d,c=l.s;dn.warnOnListenWarnings_(o,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(c,o))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Kt(e,"w")){const i=Gs(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();Ye(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||aA(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ug)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=sA(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const a=s.s,r=s.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),C(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const a={p:e},r="n";s&&(a.q=i,a.t=s),this.sendRequest(r,a)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const a={p:n,d:i};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,r=>{s&&setTimeout(()=>{s(r.s,r.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,a){this.initConnection_();const r={p:n,d:i};a!==void 0&&(r.h=a),this.outstandingPuts_.push({action:e,request:r,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const a=i.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ae(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Qf("Unrecognized action received from server: "+Ae(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){C(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ta,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ta,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>_O&&(this.reconnectDelay_=Ta),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*gO)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+dn.nextConnectionId_++,a=this.lastSessionId;let r=!1,l=null;const o=function(){l?l.close():(r=!0,i())},c=function(f){C(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:o,sendRequest:c};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,u]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);r?Ue("getToken() completed but was canceled"):(Ue("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=u&&u.token,l=new cO(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,p=>{Ye(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(yO)},a))}catch(f){this.log_("Failed to get token: "+f),r||(this.repoInfo_.nodeAdmin&&Ye(f),o())}}}interrupt(e){Ue("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ue("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Bf(this.interruptReasons_)&&(this.reconnectDelay_=Ta,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(a=>Od(a)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new te(e).toString();let s;if(this.listens.has(i)){const a=this.listens.get(i);s=a.get(n),a.delete(n),a.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){Ue("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=zg&&(this.reconnectDelay_=Ug,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ue("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=zg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Ab.replace(/\./g,"-")]=1,yd()?e["framework.cordova"]=1:j0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ko.getInstance().currentlyOnline();return Bf(this.interruptReasons_)&&e}}dn.nextPersistentConnectionId_=0;dn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new j(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new j(Vs,e),s=new j(Vs,n);return this.compare(i,s)!==0}minPost(){return j.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl;class Wb extends wc{static get __EMPTY_NODE(){return Sl}static set __EMPTY_NODE(e){Sl=e}compare(e,n){return Wi(e.name,n.name)}isDefinedOn(e){throw ra("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return j.MIN}maxPost(){return new j(qi,Sl)}makePost(e,n){return C(typeof e=="string","KeyIndex indexValue must always be a string."),new j(e,Sl)}toString(){return".key"}}const Os=new Wb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n,i,s,a=null){this.isReverse_=s,this.resultGenerator_=a,this.nodeStack_=[];let r=1;for(;!e.isEmpty();)if(e=e,r=n?i(e.key,n):1,s&&(r*=-1),r<0)this.isReverse_?e=e.left:e=e.right;else if(r===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class De{constructor(e,n,i,s,a){this.key=e,this.value=n,this.color=i??De.RED,this.left=s??Ze.EMPTY_NODE,this.right=a??Ze.EMPTY_NODE}copy(e,n,i,s,a){return new De(e??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const a=i(e,s.key);return a<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):a===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ze.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Ze.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,De.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,De.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}De.RED=!0;De.BLACK=!1;class vO{copy(e,n,i,s,a){return this}insert(e,n,i){return new De(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ze{constructor(e,n=Ze.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ze(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,De.BLACK,null,null))}remove(e){return new Ze(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,De.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Tl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Tl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Tl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Tl(this.root_,null,this.comparator_,!0,e)}}Ze.EMPTY_NODE=new vO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t,e){return Wi(t.name,e.name)}function zd(t,e){return Wi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $f;function EO(t){$f=t}const Zb=function(t){return typeof t=="number"?"number:"+Ob(t):"string:"+t},Jb=function(t){if(t.isLeafNode()){const e=t.val();C(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Kt(e,".sv"),"Priority must be a string or number.")}else C(t===$f||t.isEmpty(),"priority of unexpected type.");C(t===$f||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hg;class xe{static set __childrenNodeConstructor(e){Hg=e}static get __childrenNodeConstructor(){return Hg}constructor(e,n=xe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,C(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Jb(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new xe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:xe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return V(e)?this:B(e)===".priority"?this.priorityNode_:xe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:xe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=B(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(C(i!==".priority"||hi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,xe.__childrenNodeConstructor.EMPTY_NODE.updateChild(se(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Zb(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Ob(this.value_):e+=this.value_,this.lazyHash_=Nb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===xe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof xe.__childrenNodeConstructor?-1:(C(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=xe.VALUE_TYPE_ORDER.indexOf(n),a=xe.VALUE_TYPE_ORDER.indexOf(i);return C(s>=0,"Unknown leaf type: "+n),C(a>=0,"Unknown leaf type: "+i),s===a?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}xe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eE,tE;function SO(t){eE=t}function TO(t){tE=t}class CO extends wc{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),a=i.compareTo(s);return a===0?Wi(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return j.MIN}maxPost(){return new j(qi,new xe("[PRIORITY-POST]",tE))}makePost(e,n){const i=eE(e);return new j(n,new xe("[PRIORITY-POST]",i))}toString(){return".priority"}}const me=new CO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=Math.log(2);class AO{constructor(e){const n=a=>parseInt(Math.log(a)/wO,10),i=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Lo=function(t,e,n,i){t.sort(e);const s=function(o,c){const h=c-o;let f,u;if(h===0)return null;if(h===1)return f=t[o],u=n?n(f):f,new De(u,f.node,De.BLACK,null,null);{const p=parseInt(h/2,10)+o,_=s(o,p),b=s(p+1,c);return f=t[p],u=n?n(f):f,new De(u,f.node,De.BLACK,_,b)}},a=function(o){let c=null,h=null,f=t.length;const u=function(_,b){const S=f-_,m=f;f-=_;const d=s(S+1,m),g=t[S],v=n?n(g):g;p(new De(v,g.node,b,null,d))},p=function(_){c?(c.left=_,c=_):(h=_,c=_)};for(let _=0;_<o.count;++_){const b=o.nextBitIsOne(),S=Math.pow(2,o.count-(_+1));b?u(S,De.BLACK):(u(S,De.BLACK),u(S,De.RED))}return h},r=new AO(t.length),l=a(r);return new Ze(i||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku;const ts={};class on{static get Default(){return C(ts&&me,"ChildrenNode.ts has not been loaded"),ku=ku||new on({".priority":ts},{".priority":me}),ku}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Gs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ze?n:null}hasIndex(e){return Kt(this.indexSet_,e.toString())}addIndex(e,n){C(e!==Os,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const a=n.getIterator(j.Wrap);let r=a.getNext();for(;r;)s=s||e.isDefinedOn(r.node),i.push(r),r=a.getNext();let l;s?l=Lo(i,e.getCompare()):l=ts;const o=e.toString(),c={...this.indexSet_};c[o]=e;const h={...this.indexes_};return h[o]=l,new on(h,c)}addToIndexes(e,n){const i=wo(this.indexes_,(s,a)=>{const r=Gs(this.indexSet_,a);if(C(r,"Missing index implementation for "+a),s===ts)if(r.isDefinedOn(e.node)){const l=[],o=n.getIterator(j.Wrap);let c=o.getNext();for(;c;)c.name!==e.name&&l.push(c),c=o.getNext();return l.push(e),Lo(l,r.getCompare())}else return ts;else{const l=n.get(e.name);let o=s;return l&&(o=o.remove(new j(e.name,l))),o.insert(e,e.node)}});return new on(i,this.indexSet_)}removeFromIndexes(e,n){const i=wo(this.indexes_,s=>{if(s===ts)return s;{const a=n.get(e.name);return a?s.remove(new j(e.name,a)):s}});return new on(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ca;class O{static get EMPTY_NODE(){return Ca||(Ca=new O(new Ze(zd),null,on.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Jb(this.priorityNode_),this.children_.isEmpty()&&C(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ca}updatePriority(e){return this.children_.isEmpty()?this:new O(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ca:n}}getChild(e){const n=B(e);return n===null?this:this.getImmediateChild(n).getChild(se(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(C(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new j(e,n);let s,a;n.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(i,this.children_));const r=s.isEmpty()?Ca:this.priorityNode_;return new O(s,r,a)}}updateChild(e,n){const i=B(e);if(i===null)return n;{C(B(e)!==".priority"||hi(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(se(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,a=!0;if(this.forEachChild(me,(r,l)=>{n[r]=l.val(e),i++,a&&O.INTEGER_REGEXP_.test(r)?s=Math.max(s,Number(r)):a=!1}),!e&&a&&s<2*i){const r=[];for(const l in n)r[l]=n[l];return r}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Zb(this.getPriority().val())+":"),this.forEachChild(me,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Nb(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const a=s.getPredecessorKey(new j(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new j(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new j(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,j.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,j.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)>0;)s.getNext(),a=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===$r?-1:0}withIndex(e){if(e===Os||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new O(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Os||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(me),s=n.getIterator(me);let a=i.getNext(),r=s.getNext();for(;a&&r;){if(a.name!==r.name||!a.node.equals(r.node))return!1;a=i.getNext(),r=s.getNext()}return a===null&&r===null}else return!1;else return!1}}resolveIndex_(e){return e===Os?null:this.indexMap_.get(e.toString())}}O.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class RO extends O{constructor(){super(new Ze(zd),O.EMPTY_NODE,on.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return O.EMPTY_NODE}isEmpty(){return!1}}const $r=new RO;Object.defineProperties(j,{MIN:{value:new j(Vs,O.EMPTY_NODE)},MAX:{value:new j(qi,$r)}});Wb.__EMPTY_NODE=O.EMPTY_NODE;xe.__childrenNodeConstructor=O;EO($r);TO($r);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=!0;function Ce(t,e=null){if(t===null)return O.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),C(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new xe(n,Ce(e))}if(!(t instanceof Array)&&NO){const n=[];let i=!1;if(Pe(t,(r,l)=>{if(r.substring(0,1)!=="."){const o=Ce(l);o.isEmpty()||(i=i||!o.getPriority().isEmpty(),n.push(new j(r,o)))}}),n.length===0)return O.EMPTY_NODE;const a=Lo(n,bO,r=>r.name,zd);if(i){const r=Lo(n,me.getCompare());return new O(a,Ce(e),new on({".priority":r},{".priority":me}))}else return new O(a,Ce(e),on.Default)}else{let n=O.EMPTY_NODE;return Pe(t,(i,s)=>{if(Kt(t,i)&&i.substring(0,1)!=="."){const a=Ce(s);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(i,a))}}),n.updatePriority(Ce(e))}}SO(Ce);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO extends wc{constructor(e){super(),this.indexPath_=e,C(!V(e)&&B(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),a=i.compareTo(s);return a===0?Wi(e.name,n.name):a}makePost(e,n){const i=Ce(e),s=O.EMPTY_NODE.updateChild(this.indexPath_,i);return new j(n,s)}maxPost(){const e=O.EMPTY_NODE.updateChild(this.indexPath_,$r);return new j(qi,e)}toString(){return vr(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO extends wc{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Wi(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return j.MIN}maxPost(){return j.MAX}makePost(e,n){const i=Ce(e);return new j(n,i)}toString(){return".value"}}const DO=new OO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t){return{type:"value",snapshotNode:t}}function Ys(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function br(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Er(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function MO(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e){this.index_=e}updateChild(e,n,i,s,a,r){C(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(i.getChild(s))&&l.isEmpty()===i.isEmpty()||(r!=null&&(i.isEmpty()?e.hasChild(n)?r.trackChildChange(br(n,l)):C(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?r.trackChildChange(Ys(n,i)):r.trackChildChange(Er(n,i,l))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(me,(s,a)=>{n.hasChild(s)||i.trackChildChange(br(s,a))}),n.isLeafNode()||n.forEachChild(me,(s,a)=>{if(e.hasChild(s)){const r=e.getImmediateChild(s);r.equals(a)||i.trackChildChange(Er(s,a,r))}else i.trackChildChange(Ys(s,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?O.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.indexedFilter_=new Hd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Sr.getStartPost_(e),this.endPost_=Sr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,a,r){return this.matches(new j(n,i))||(i=O.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,a,r)}updateFullNode(e,n,i){n.isLeafNode()&&(n=O.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(O.EMPTY_NODE);const a=this;return n.forEachChild(me,(r,l)=>{a.matches(new j(r,l))||(s=s.updateImmediateChild(r,O.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Sr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,a,r){return this.rangedFilter_.matches(new j(n,i))||(i=O.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,a,r):this.fullLimitUpdateChild_(e,n,i,a,r)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=O.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=O.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let r=0;for(;a.hasNext()&&r<this.limit_;){const l=a.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),r++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(O.EMPTY_NODE);let a;this.reverse_?a=s.getReverseIterator(this.index_):a=s.getIterator(this.index_);let r=0;for(;a.hasNext();){const l=a.getNext();r<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?r++:s=s.updateImmediateChild(l.name,O.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,a){let r;if(this.reverse_){const f=this.index_.getCompare();r=(u,p)=>f(p,u)}else r=this.index_.getCompare();const l=e;C(l.numChildren()===this.limit_,"");const o=new j(n,i),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(o);if(l.hasChild(n)){const f=l.getImmediateChild(n);let u=s.getChildAfterChild(this.index_,c,this.reverse_);for(;u!=null&&(u.name===n||l.hasChild(u.name));)u=s.getChildAfterChild(this.index_,u,this.reverse_);const p=u==null?1:r(u,o);if(h&&!i.isEmpty()&&p>=0)return a?.trackChildChange(Er(n,i,f)),l.updateImmediateChild(n,i);{a?.trackChildChange(br(n,f));const b=l.updateImmediateChild(n,O.EMPTY_NODE);return u!=null&&this.rangedFilter_.matches(u)?(a?.trackChildChange(Ys(u.name,u.node)),b.updateImmediateChild(u.name,u.node)):b}}else return i.isEmpty()?e:h&&r(c,o)>=0?(a!=null&&(a.trackChildChange(br(c.name,c.node)),a.trackChildChange(Ys(n,i))),l.updateImmediateChild(n,i).updateImmediateChild(c.name,O.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=me}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return C(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return C(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Vs}hasEnd(){return this.endSet_}getIndexEndValue(){return C(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return C(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return C(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===me}copy(){const e=new Bd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function kO(t){return t.loadsAllData()?new Hd(t.getIndex()):t.hasLimit()?new IO(t):new Sr(t)}function Bg(t){const e={};if(t.isDefault())return e;let n;if(t.index_===me?n="$priority":t.index_===DO?n="$value":t.index_===Os?n="$key":(C(t.index_ instanceof xO,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ae(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Ae(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Ae(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Ae(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Ae(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function jg(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==me&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends Kb{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(C(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Xr("p:rest:"),this.listens_={}}listen(e,n,i,s){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const r=Uo.getListenId_(e,i),l={};this.listens_[r]=l;const o=Bg(e._queryParams);this.restRequest_(a+".json",o,(c,h)=>{let f=h;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(a,f,!1,i),Gs(this.listens_,r)===l){let u;c?c===401?u="permission_denied":u="rest_error:"+c:u="ok",s(u,null)}})}unlisten(e,n){const i=Uo.getListenId_(e,n);delete this.listens_[i]}get(e){const n=Bg(e._queryParams),i=e._path.toString(),s=new qr;return this.restRequest_(i+".json",n,(a,r)=>{let l=r;a===404&&(l=null,a=null),a===null?(this.onDataUpdate_(i,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,a])=>{s&&s.accessToken&&(n.auth=s.accessToken),a&&a.token&&(n.ac=a.token);const r=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+oa(n);this.log_("Sending REST request for "+r);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&l.readyState===4){this.log_("REST Response for "+r+" received. status:",l.status,"response:",l.responseText);let o=null;if(l.status>=200&&l.status<300){try{o=mr(l.responseText)}catch{Ye("Failed to parse JSON response for "+r+": "+l.responseText)}i(null,o)}else l.status!==401&&l.status!==404&&Ye("Got unsuccessful REST response for "+r+" Status: "+l.status),i(l.status);i=null}},l.open("GET",r,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this.rootNode_=O.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(){return{value:null,children:new Map}}function iE(t,e,n){if(V(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=B(e);t.children.has(i)||t.children.set(i,zo());const s=t.children.get(i);e=se(e),iE(s,e,n)}}function Wf(t,e,n){t.value!==null?n(e,t.value):UO(t,(i,s)=>{const a=new te(e.toString()+"/"+i);Wf(s,a,n)})}function UO(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Pe(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg=10*1e3,HO=30*1e3,BO=5*60*1e3;class jO{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new zO(e);const i=Pg+(HO-Pg)*Math.random();$a(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Pe(e,(s,a)=>{a>0&&Kt(this.statsToReport_,s)&&(n[s]=a,i=!0)}),i&&this.server_.reportStats(n),$a(this.reportStats_.bind(this),Math.floor(Math.random()*2*BO))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(It||(It={}));function jd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Pd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Gd(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=It.ACK_USER_WRITE,this.source=jd()}operationForChild(e){if(V(this.path)){if(this.affectedTree.value!=null)return C(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new te(e));return new Ho(K(),n,this.revert)}}else return C(B(this.path)===e,"operationForChild called for unrelated child."),new Ho(se(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n){this.source=e,this.path=n,this.type=It.LISTEN_COMPLETE}operationForChild(e){return V(this.path)?new Tr(this.source,K()):new Tr(this.source,se(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=It.OVERWRITE}operationForChild(e){return V(this.path)?new Vi(this.source,K(),this.snap.getImmediateChild(e)):new Vi(this.source,se(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=It.MERGE}operationForChild(e){if(V(this.path)){const n=this.children.subtree(new te(e));return n.isEmpty()?null:n.value?new Vi(this.source,K(),n.value):new Fs(this.source,K(),n)}else return C(B(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Fs(this.source,se(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(V(e))return this.isFullyInitialized()&&!this.filtered_;const n=B(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function GO(t,e,n,i){const s=[],a=[];return e.forEach(r=>{r.type==="child_changed"&&t.index_.indexedValueChanged(r.oldSnap,r.snapshotNode)&&a.push(MO(r.childName,r.snapshotNode))}),wa(t,s,"child_removed",e,i,n),wa(t,s,"child_added",e,i,n),wa(t,s,"child_moved",a,i,n),wa(t,s,"child_changed",e,i,n),wa(t,s,"value",e,i,n),s}function wa(t,e,n,i,s,a){const r=i.filter(l=>l.type===n);r.sort((l,o)=>VO(t,l,o)),r.forEach(l=>{const o=qO(t,l,a);s.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(o,t.query_))})})}function qO(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function VO(t,e,n){if(e.childName==null||n.childName==null)throw ra("Should only compare child_ events.");const i=new j(e.childName,e.snapshotNode),s=new j(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t,e){return{eventCache:t,serverCache:e}}function Wa(t,e,n,i){return Ac(new di(e,n,i),t.serverCache)}function sE(t,e,n,i){return Ac(t.eventCache,new di(e,n,i))}function Bo(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Yi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu;const YO=()=>(Lu||(Lu=new Ze(xx)),Lu);class ie{static fromObject(e){let n=new ie(null);return Pe(e,(i,s)=>{n=n.set(new te(i),s)}),n}constructor(e,n=YO()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:K(),value:this.value};if(V(e))return null;{const i=B(e),s=this.children.get(i);if(s!==null){const a=s.findRootMostMatchingPathAndValue(se(e),n);return a!=null?{path:pe(new te(i),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(V(e))return this;{const n=B(e),i=this.children.get(n);return i!==null?i.subtree(se(e)):new ie(null)}}set(e,n){if(V(e))return new ie(n,this.children);{const i=B(e),a=(this.children.get(i)||new ie(null)).set(se(e),n),r=this.children.insert(i,a);return new ie(this.value,r)}}remove(e){if(V(e))return this.children.isEmpty()?new ie(null):new ie(null,this.children);{const n=B(e),i=this.children.get(n);if(i){const s=i.remove(se(e));let a;return s.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,s),this.value===null&&a.isEmpty()?new ie(null):new ie(this.value,a)}else return this}}get(e){if(V(e))return this.value;{const n=B(e),i=this.children.get(n);return i?i.get(se(e)):null}}setTree(e,n){if(V(e))return n;{const i=B(e),a=(this.children.get(i)||new ie(null)).setTree(se(e),n);let r;return a.isEmpty()?r=this.children.remove(i):r=this.children.insert(i,a),new ie(this.value,r)}}fold(e){return this.fold_(K(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,a)=>{i[s]=a.fold_(pe(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,K(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(V(e))return null;{const a=B(e),r=this.children.get(a);return r?r.findOnPath_(se(e),pe(n,a),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,K(),n)}foreachOnPath_(e,n,i){if(V(e))return this;{this.value&&i(n,this.value);const s=B(e),a=this.children.get(s);return a?a.foreachOnPath_(se(e),pe(n,s),i):new ie(null)}}foreach(e){this.foreach_(K(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(pe(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.writeTree_=e}static empty(){return new kt(new ie(null))}}function Za(t,e,n){if(V(e))return new kt(new ie(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let a=i.value;const r=Ve(s,e);return a=a.updateChild(r,n),new kt(t.writeTree_.set(s,a))}else{const s=new ie(n),a=t.writeTree_.setTree(e,s);return new kt(a)}}}function Zf(t,e,n){let i=t;return Pe(n,(s,a)=>{i=Za(i,pe(e,s),a)}),i}function Gg(t,e){if(V(e))return kt.empty();{const n=t.writeTree_.setTree(e,new ie(null));return new kt(n)}}function Jf(t,e){return Zi(t,e)!=null}function Zi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ve(n.path,e)):null}function qg(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(me,(i,s)=>{e.push(new j(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new j(i,s.value))}),e}function ai(t,e){if(V(e))return t;{const n=Zi(t,e);return n!=null?new kt(new ie(n)):new kt(t.writeTree_.subtree(e))}}function eh(t){return t.writeTree_.isEmpty()}function Ks(t,e){return aE(K(),t.writeTree_,e)}function aE(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,a)=>{s===".priority"?(C(a.value!==null,"Priority writes must always be leaf nodes"),i=a.value):n=aE(pe(t,s),a,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(pe(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t,e){return cE(e,t)}function FO(t,e,n,i,s){C(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=Za(t.visibleWrites,e,n)),t.lastWriteId=i}function KO(t,e,n,i){C(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=Zf(t.visibleWrites,e,n),t.lastWriteId=i}function QO(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function XO(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);C(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,a=!1,r=t.allWrites.length-1;for(;s&&r>=0;){const l=t.allWrites[r];l.visible&&(r>=n&&$O(l,i.path)?s=!1:Et(i.path,l.path)&&(a=!0)),r--}if(s){if(a)return WO(t),!0;if(i.snap)t.visibleWrites=Gg(t.visibleWrites,i.path);else{const l=i.children;Pe(l,o=>{t.visibleWrites=Gg(t.visibleWrites,pe(i.path,o))})}return!0}else return!1}function $O(t,e){if(t.snap)return Et(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Et(pe(t.path,n),e))return!0;return!1}function WO(t){t.visibleWrites=rE(t.allWrites,ZO,K()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function ZO(t){return t.visible}function rE(t,e,n){let i=kt.empty();for(let s=0;s<t.length;++s){const a=t[s];if(e(a)){const r=a.path;let l;if(a.snap)Et(n,r)?(l=Ve(n,r),i=Za(i,l,a.snap)):Et(r,n)&&(l=Ve(r,n),i=Za(i,K(),a.snap.getChild(l)));else if(a.children){if(Et(n,r))l=Ve(n,r),i=Zf(i,l,a.children);else if(Et(r,n))if(l=Ve(r,n),V(l))i=Zf(i,K(),a.children);else{const o=Gs(a.children,B(l));if(o){const c=o.getChild(se(l));i=Za(i,K(),c)}}}else throw ra("WriteRecord should have .snap or .children")}}return i}function lE(t,e,n,i,s){if(!i&&!s){const a=Zi(t.visibleWrites,e);if(a!=null)return a;{const r=ai(t.visibleWrites,e);if(eh(r))return n;if(n==null&&!Jf(r,K()))return null;{const l=n||O.EMPTY_NODE;return Ks(r,l)}}}else{const a=ai(t.visibleWrites,e);if(!s&&eh(a))return n;if(!s&&n==null&&!Jf(a,K()))return null;{const r=function(c){return(c.visible||s)&&(!i||!~i.indexOf(c.writeId))&&(Et(c.path,e)||Et(e,c.path))},l=rE(t.allWrites,r,e),o=n||O.EMPTY_NODE;return Ks(l,o)}}}function JO(t,e,n){let i=O.EMPTY_NODE;const s=Zi(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(me,(a,r)=>{i=i.updateImmediateChild(a,r)}),i;if(n){const a=ai(t.visibleWrites,e);return n.forEachChild(me,(r,l)=>{const o=Ks(ai(a,new te(r)),l);i=i.updateImmediateChild(r,o)}),qg(a).forEach(r=>{i=i.updateImmediateChild(r.name,r.node)}),i}else{const a=ai(t.visibleWrites,e);return qg(a).forEach(r=>{i=i.updateImmediateChild(r.name,r.node)}),i}}function e2(t,e,n,i,s){C(i||s,"Either existingEventSnap or existingServerSnap must exist");const a=pe(e,n);if(Jf(t.visibleWrites,a))return null;{const r=ai(t.visibleWrites,a);return eh(r)?s.getChild(n):Ks(r,s.getChild(n))}}function t2(t,e,n,i){const s=pe(e,n),a=Zi(t.visibleWrites,s);if(a!=null)return a;if(i.isCompleteForChild(n)){const r=ai(t.visibleWrites,s);return Ks(r,i.getNode().getImmediateChild(n))}else return null}function n2(t,e){return Zi(t.visibleWrites,e)}function i2(t,e,n,i,s,a,r){let l;const o=ai(t.visibleWrites,e),c=Zi(o,K());if(c!=null)l=c;else if(n!=null)l=Ks(o,n);else return[];if(l=l.withIndex(r),!l.isEmpty()&&!l.isLeafNode()){const h=[],f=r.getCompare(),u=a?l.getReverseIteratorFrom(i,r):l.getIteratorFrom(i,r);let p=u.getNext();for(;p&&h.length<s;)f(p,i)!==0&&h.push(p),p=u.getNext();return h}else return[]}function s2(){return{visibleWrites:kt.empty(),allWrites:[],lastWriteId:-1}}function jo(t,e,n,i){return lE(t.writeTree,t.treePath,e,n,i)}function qd(t,e){return JO(t.writeTree,t.treePath,e)}function Vg(t,e,n,i){return e2(t.writeTree,t.treePath,e,n,i)}function Po(t,e){return n2(t.writeTree,pe(t.treePath,e))}function a2(t,e,n,i,s,a){return i2(t.writeTree,t.treePath,e,n,i,s,a)}function Vd(t,e,n){return t2(t.writeTree,t.treePath,e,n)}function oE(t,e){return cE(pe(t.treePath,e),t.writeTree)}function cE(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;C(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),C(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const a=s.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(i,Er(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(i,br(i,s.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(i,Ys(i,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(i,Er(i,e.snapshotNode,s.oldSnap));else throw ra("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const uE=new l2;class Yd{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new di(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Vd(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Yi(this.viewCache_),a=a2(this.writes_,s,n,1,i,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(t){return{filter:t}}function c2(t,e){C(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),C(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function u2(t,e,n,i,s){const a=new r2;let r,l;if(n.type===It.OVERWRITE){const c=n;c.source.fromUser?r=th(t,e,c.path,c.snap,i,s,a):(C(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!V(c.path),r=Go(t,e,c.path,c.snap,i,s,l,a))}else if(n.type===It.MERGE){const c=n;c.source.fromUser?r=h2(t,e,c.path,c.children,i,s,a):(C(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),r=nh(t,e,c.path,c.children,i,s,l,a))}else if(n.type===It.ACK_USER_WRITE){const c=n;c.revert?r=m2(t,e,c.path,i,s,a):r=d2(t,e,c.path,c.affectedTree,i,s,a)}else if(n.type===It.LISTEN_COMPLETE)r=p2(t,e,n.path,i,a);else throw ra("Unknown operation type: "+n.type);const o=a.getChanges();return f2(e,r,o),{viewCache:r,changes:o}}function f2(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=Bo(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&n.push(nE(Bo(e)))}}function fE(t,e,n,i,s,a){const r=e.eventCache;if(Po(i,n)!=null)return e;{let l,o;if(V(n))if(C(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Yi(e),h=c instanceof O?c:O.EMPTY_NODE,f=qd(i,h);l=t.filter.updateFullNode(e.eventCache.getNode(),f,a)}else{const c=jo(i,Yi(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,a)}else{const c=B(n);if(c===".priority"){C(hi(n)===1,"Can't have a priority with additional path components");const h=r.getNode();o=e.serverCache.getNode();const f=Vg(i,n,h,o);f!=null?l=t.filter.updatePriority(h,f):l=r.getNode()}else{const h=se(n);let f;if(r.isCompleteForChild(c)){o=e.serverCache.getNode();const u=Vg(i,n,r.getNode(),o);u!=null?f=r.getNode().getImmediateChild(c).updateChild(h,u):f=r.getNode().getImmediateChild(c)}else f=Vd(i,c,e.serverCache);f!=null?l=t.filter.updateChild(r.getNode(),c,f,h,s,a):l=r.getNode()}}return Wa(e,l,r.isFullyInitialized()||V(n),t.filter.filtersNodes())}}function Go(t,e,n,i,s,a,r,l){const o=e.serverCache;let c;const h=r?t.filter:t.filter.getIndexedFilter();if(V(n))c=h.updateFullNode(o.getNode(),i,null);else if(h.filtersNodes()&&!o.isFiltered()){const p=o.getNode().updateChild(n,i);c=h.updateFullNode(o.getNode(),p,null)}else{const p=B(n);if(!o.isCompleteForPath(n)&&hi(n)>1)return e;const _=se(n),S=o.getNode().getImmediateChild(p).updateChild(_,i);p===".priority"?c=h.updatePriority(o.getNode(),S):c=h.updateChild(o.getNode(),p,S,_,uE,null)}const f=sE(e,c,o.isFullyInitialized()||V(n),h.filtersNodes()),u=new Yd(s,f,a);return fE(t,f,n,s,u,l)}function th(t,e,n,i,s,a,r){const l=e.eventCache;let o,c;const h=new Yd(s,e,a);if(V(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,r),o=Wa(e,c,!0,t.filter.filtersNodes());else{const f=B(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),o=Wa(e,c,l.isFullyInitialized(),l.isFiltered());else{const u=se(n),p=l.getNode().getImmediateChild(f);let _;if(V(u))_=i;else{const b=h.getCompleteChild(f);b!=null?kd(u)===".priority"&&b.getChild(Xb(u)).isEmpty()?_=b:_=b.updateChild(u,i):_=O.EMPTY_NODE}if(p.equals(_))o=e;else{const b=t.filter.updateChild(l.getNode(),f,_,u,h,r);o=Wa(e,b,l.isFullyInitialized(),t.filter.filtersNodes())}}}return o}function Yg(t,e){return t.eventCache.isCompleteForChild(e)}function h2(t,e,n,i,s,a,r){let l=e;return i.foreach((o,c)=>{const h=pe(n,o);Yg(e,B(h))&&(l=th(t,l,h,c,s,a,r))}),i.foreach((o,c)=>{const h=pe(n,o);Yg(e,B(h))||(l=th(t,l,h,c,s,a,r))}),l}function Fg(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function nh(t,e,n,i,s,a,r,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let o=e,c;V(n)?c=i:c=new ie(null).setTree(n,i);const h=e.serverCache.getNode();return c.children.inorderTraversal((f,u)=>{if(h.hasChild(f)){const p=e.serverCache.getNode().getImmediateChild(f),_=Fg(t,p,u);o=Go(t,o,new te(f),_,s,a,r,l)}}),c.children.inorderTraversal((f,u)=>{const p=!e.serverCache.isCompleteForChild(f)&&u.value===null;if(!h.hasChild(f)&&!p){const _=e.serverCache.getNode().getImmediateChild(f),b=Fg(t,_,u);o=Go(t,o,new te(f),b,s,a,r,l)}}),o}function d2(t,e,n,i,s,a,r){if(Po(s,n)!=null)return e;const l=e.serverCache.isFiltered(),o=e.serverCache;if(i.value!=null){if(V(n)&&o.isFullyInitialized()||o.isCompleteForPath(n))return Go(t,e,n,o.getNode().getChild(n),s,a,l,r);if(V(n)){let c=new ie(null);return o.getNode().forEachChild(Os,(h,f)=>{c=c.set(new te(h),f)}),nh(t,e,n,c,s,a,l,r)}else return e}else{let c=new ie(null);return i.foreach((h,f)=>{const u=pe(n,h);o.isCompleteForPath(u)&&(c=c.set(h,o.getNode().getChild(u)))}),nh(t,e,n,c,s,a,l,r)}}function p2(t,e,n,i,s){const a=e.serverCache,r=sE(e,a.getNode(),a.isFullyInitialized()||V(n),a.isFiltered());return fE(t,r,n,i,uE,s)}function m2(t,e,n,i,s,a){let r;if(Po(i,n)!=null)return e;{const l=new Yd(i,e,s),o=e.eventCache.getNode();let c;if(V(n)||B(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=jo(i,Yi(e));else{const f=e.serverCache.getNode();C(f instanceof O,"serverChildren would be complete if leaf node"),h=qd(i,f)}h=h,c=t.filter.updateFullNode(o,h,a)}else{const h=B(n);let f=Vd(i,h,e.serverCache);f==null&&e.serverCache.isCompleteForChild(h)&&(f=o.getImmediateChild(h)),f!=null?c=t.filter.updateChild(o,h,f,se(n),l,a):e.eventCache.getNode().hasChild(h)?c=t.filter.updateChild(o,h,O.EMPTY_NODE,se(n),l,a):c=o,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(r=jo(i,Yi(e)),r.isLeafNode()&&(c=t.filter.updateFullNode(c,r,a)))}return r=e.serverCache.isFullyInitialized()||Po(i,K())!=null,Wa(e,c,r,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new Hd(i.getIndex()),a=kO(i);this.processor_=o2(a);const r=n.serverCache,l=n.eventCache,o=s.updateFullNode(O.EMPTY_NODE,r.getNode(),null),c=a.updateFullNode(O.EMPTY_NODE,l.getNode(),null),h=new di(o,r.isFullyInitialized(),s.filtersNodes()),f=new di(c,l.isFullyInitialized(),a.filtersNodes());this.viewCache_=Ac(f,h),this.eventGenerator_=new PO(this.query_)}get query(){return this.query_}}function _2(t){return t.viewCache_.serverCache.getNode()}function y2(t){return Bo(t.viewCache_)}function v2(t,e){const n=Yi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!V(e)&&!n.getImmediateChild(B(e)).isEmpty())?n.getChild(e):null}function Kg(t){return t.eventRegistrations_.length===0}function b2(t,e){t.eventRegistrations_.push(e)}function Qg(t,e,n){const i=[];if(n){C(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(a=>{const r=a.createCancelEvent(n,s);r&&i.push(r)})}if(e){let s=[];for(let a=0;a<t.eventRegistrations_.length;++a){const r=t.eventRegistrations_[a];if(!r.matches(e))s.push(r);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function Xg(t,e,n,i){e.type===It.MERGE&&e.source.queryId!==null&&(C(Yi(t.viewCache_),"We should always have a full cache before handling merges"),C(Bo(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,a=u2(t.processor_,s,e,n,i);return c2(t.processor_,a.viewCache),C(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,hE(t,a.changes,a.viewCache.eventCache.getNode(),null)}function E2(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(me,(a,r)=>{i.push(Ys(a,r))}),n.isFullyInitialized()&&i.push(nE(n.getNode())),hE(t,i,n.getNode(),e)}function hE(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return GO(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo;class dE{constructor(){this.views=new Map}}function S2(t){C(!qo,"__referenceConstructor has already been defined"),qo=t}function T2(){return C(qo,"Reference.ts has not been loaded"),qo}function C2(t){return t.views.size===0}function Fd(t,e,n,i){const s=e.source.queryId;if(s!==null){const a=t.views.get(s);return C(a!=null,"SyncTree gave us an op for an invalid query."),Xg(a,e,n,i)}else{let a=[];for(const r of t.views.values())a=a.concat(Xg(r,e,n,i));return a}}function pE(t,e,n,i,s){const a=e._queryIdentifier,r=t.views.get(a);if(!r){let l=jo(n,s?i:null),o=!1;l?o=!0:i instanceof O?(l=qd(n,i),o=!1):(l=O.EMPTY_NODE,o=!1);const c=Ac(new di(l,o,!1),new di(i,s,!1));return new g2(e,c)}return r}function w2(t,e,n,i,s,a){const r=pE(t,e,i,s,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,r),b2(r,n),E2(r,n)}function A2(t,e,n,i){const s=e._queryIdentifier,a=[];let r=[];const l=pi(t);if(s==="default")for(const[o,c]of t.views.entries())r=r.concat(Qg(c,n,i)),Kg(c)&&(t.views.delete(o),c.query._queryParams.loadsAllData()||a.push(c.query));else{const o=t.views.get(s);o&&(r=r.concat(Qg(o,n,i)),Kg(o)&&(t.views.delete(s),o.query._queryParams.loadsAllData()||a.push(o.query)))}return l&&!pi(t)&&a.push(new(T2())(e._repo,e._path)),{removed:a,events:r}}function mE(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ri(t,e){let n=null;for(const i of t.views.values())n=n||v2(i,e);return n}function gE(t,e){if(e._queryParams.loadsAllData())return Nc(t);{const i=e._queryIdentifier;return t.views.get(i)}}function _E(t,e){return gE(t,e)!=null}function pi(t){return Nc(t)!=null}function Nc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo;function R2(t){C(!Vo,"__referenceConstructor has already been defined"),Vo=t}function N2(){return C(Vo,"Reference.ts has not been loaded"),Vo}let x2=1;class $g{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ie(null),this.pendingWriteTree_=s2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function yE(t,e,n,i,s){return FO(t.pendingWriteTree_,e,n,i,s),s?ha(t,new Vi(jd(),e,n)):[]}function O2(t,e,n,i){KO(t.pendingWriteTree_,e,n,i);const s=ie.fromObject(n);return ha(t,new Fs(jd(),e,s))}function Yn(t,e,n=!1){const i=QO(t.pendingWriteTree_,e);if(XO(t.pendingWriteTree_,e)){let a=new ie(null);return i.snap!=null?a=a.set(K(),!0):Pe(i.children,r=>{a=a.set(new te(r),!0)}),ha(t,new Ho(i.path,a,n))}else return[]}function Wr(t,e,n){return ha(t,new Vi(Pd(),e,n))}function D2(t,e,n){const i=ie.fromObject(n);return ha(t,new Fs(Pd(),e,i))}function M2(t,e){return ha(t,new Tr(Pd(),e))}function I2(t,e,n){const i=Qd(t,n);if(i){const s=Xd(i),a=s.path,r=s.queryId,l=Ve(a,e),o=new Tr(Gd(r),l);return $d(t,a,o)}else return[]}function Yo(t,e,n,i,s=!1){const a=e._path,r=t.syncPointTree_.get(a);let l=[];if(r&&(e._queryIdentifier==="default"||_E(r,e))){const o=A2(r,e,n,i);C2(r)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const c=o.removed;if(l=o.events,!s){const h=c.findIndex(u=>u._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(a,(u,p)=>pi(p));if(h&&!f){const u=t.syncPointTree_.subtree(a);if(!u.isEmpty()){const p=U2(u);for(let _=0;_<p.length;++_){const b=p[_],S=b.query,m=SE(t,b);t.listenProvider_.startListening(Ja(S),Cr(t,S),m.hashFn,m.onComplete)}}}!f&&c.length>0&&!i&&(h?t.listenProvider_.stopListening(Ja(e),null):c.forEach(u=>{const p=t.queryToTagMap.get(xc(u));t.listenProvider_.stopListening(Ja(u),p)}))}z2(t,c)}return l}function vE(t,e,n,i){const s=Qd(t,i);if(s!=null){const a=Xd(s),r=a.path,l=a.queryId,o=Ve(r,e),c=new Vi(Gd(l),o,n);return $d(t,r,c)}else return[]}function k2(t,e,n,i){const s=Qd(t,i);if(s){const a=Xd(s),r=a.path,l=a.queryId,o=Ve(r,e),c=ie.fromObject(n),h=new Fs(Gd(l),o,c);return $d(t,r,h)}else return[]}function ih(t,e,n,i=!1){const s=e._path;let a=null,r=!1;t.syncPointTree_.foreachOnPath(s,(u,p)=>{const _=Ve(u,s);a=a||ri(p,_),r=r||pi(p)});let l=t.syncPointTree_.get(s);l?(r=r||pi(l),a=a||ri(l,K())):(l=new dE,t.syncPointTree_=t.syncPointTree_.set(s,l));let o;a!=null?o=!0:(o=!1,a=O.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((p,_)=>{const b=ri(_,K());b&&(a=a.updateImmediateChild(p,b))}));const c=_E(l,e);if(!c&&!e._queryParams.loadsAllData()){const u=xc(e);C(!t.queryToTagMap.has(u),"View does not exist, but we have a tag");const p=H2();t.queryToTagMap.set(u,p),t.tagToQueryMap.set(p,u)}const h=Rc(t.pendingWriteTree_,s);let f=w2(l,e,n,h,a,o);if(!c&&!r&&!i){const u=gE(l,e);f=f.concat(B2(t,e,u))}return f}function Kd(t,e,n){const s=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(r,l)=>{const o=Ve(r,e),c=ri(l,o);if(c)return c});return lE(s,e,a,n,!0)}function L2(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(c,h)=>{const f=Ve(c,n);i=i||ri(h,f)});let s=t.syncPointTree_.get(n);s?i=i||ri(s,K()):(s=new dE,t.syncPointTree_=t.syncPointTree_.set(n,s));const a=i!=null,r=a?new di(i,!0,!1):null,l=Rc(t.pendingWriteTree_,e._path),o=pE(s,e,l,a?r.getNode():O.EMPTY_NODE,a);return y2(o)}function ha(t,e){return bE(e,t.syncPointTree_,null,Rc(t.pendingWriteTree_,K()))}function bE(t,e,n,i){if(V(t.path))return EE(t,e,n,i);{const s=e.get(K());n==null&&s!=null&&(n=ri(s,K()));let a=[];const r=B(t.path),l=t.operationForChild(r),o=e.children.get(r);if(o&&l){const c=n?n.getImmediateChild(r):null,h=oE(i,r);a=a.concat(bE(l,o,c,h))}return s&&(a=a.concat(Fd(s,t,i,n))),a}}function EE(t,e,n,i){const s=e.get(K());n==null&&s!=null&&(n=ri(s,K()));let a=[];return e.children.inorderTraversal((r,l)=>{const o=n?n.getImmediateChild(r):null,c=oE(i,r),h=t.operationForChild(r);h&&(a=a.concat(EE(h,l,o,c)))}),s&&(a=a.concat(Fd(s,t,i,n))),a}function SE(t,e){const n=e.query,i=Cr(t,n);return{hashFn:()=>(_2(e)||O.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?I2(t,n._path,i):M2(t,n._path);{const a=Mx(s,n);return Yo(t,n,null,a)}}}}function Cr(t,e){const n=xc(e);return t.queryToTagMap.get(n)}function xc(t){return t._path.toString()+"$"+t._queryIdentifier}function Qd(t,e){return t.tagToQueryMap.get(e)}function Xd(t){const e=t.indexOf("$");return C(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new te(t.substr(0,e))}}function $d(t,e,n){const i=t.syncPointTree_.get(e);C(i,"Missing sync point for query tag that we're tracking");const s=Rc(t.pendingWriteTree_,e);return Fd(i,n,s,null)}function U2(t){return t.fold((e,n,i)=>{if(n&&pi(n))return[Nc(n)];{let s=[];return n&&(s=mE(n)),Pe(i,(a,r)=>{s=s.concat(r)}),s}})}function Ja(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(N2())(t._repo,t._path):t}function z2(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=xc(i),a=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(a)}}}function H2(){return x2++}function B2(t,e,n){const i=e._path,s=Cr(t,e),a=SE(t,n),r=t.listenProvider_.startListening(Ja(e),s,a.hashFn,a.onComplete),l=t.syncPointTree_.subtree(i);if(s)C(!pi(l.value),"If we're adding a query, it shouldn't be shadowed");else{const o=l.fold((c,h,f)=>{if(!V(c)&&h&&pi(h))return[Nc(h).query];{let u=[];return h&&(u=u.concat(mE(h).map(p=>p.query))),Pe(f,(p,_)=>{u=u.concat(_)}),u}});for(let c=0;c<o.length;++c){const h=o[c];t.listenProvider_.stopListening(Ja(h),Cr(t,h))}}return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Wd(n)}node(){return this.node_}}class Zd{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=pe(this.path_,e);return new Zd(this.syncTree_,n)}node(){return Kd(this.syncTree_,this.path_)}}const j2=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Wg=function(t,e,n){if(!t||typeof t!="object")return t;if(C(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return P2(t[".sv"],e,n);if(typeof t[".sv"]=="object")return G2(t[".sv"],e);C(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},P2=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:C(!1,"Unexpected server value: "+t)}},G2=function(t,e,n){t.hasOwnProperty("increment")||C(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&C(!1,"Unexpected increment value: "+i);const s=e.node();if(C(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const r=s.getValue();return typeof r!="number"?i:r+i},TE=function(t,e,n,i){return Jd(e,new Zd(n,t),i)},CE=function(t,e,n){return Jd(t,new Wd(e),n)};function Jd(t,e,n){const i=t.getPriority().val(),s=Wg(i,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const r=t,l=Wg(r.getValue(),e,n);return l!==r.getValue()||s!==r.getPriority().val()?new xe(l,Ce(s)):t}else{const r=t;return a=r,s!==r.getPriority().val()&&(a=a.updatePriority(new xe(s))),r.forEachChild(me,(l,o)=>{const c=Jd(o,e.getImmediateChild(l),n);c!==o&&(a=a.updateImmediateChild(l,c))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function tp(t,e){let n=e instanceof te?e:new te(e),i=t,s=B(n);for(;s!==null;){const a=Gs(i.node.children,s)||{children:{},childCount:0};i=new ep(s,i,a),n=se(n),s=B(n)}return i}function da(t){return t.node.value}function wE(t,e){t.node.value=e,sh(t)}function AE(t){return t.node.childCount>0}function q2(t){return da(t)===void 0&&!AE(t)}function Oc(t,e){Pe(t.node.children,(n,i)=>{e(new ep(n,t,i))})}function RE(t,e,n,i){n&&e(t),Oc(t,s=>{RE(s,e,!0)})}function V2(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Zr(t){return new te(t.parent===null?t.name:Zr(t.parent)+"/"+t.name)}function sh(t){t.parent!==null&&Y2(t.parent,t.name,t)}function Y2(t,e,n){const i=q2(n),s=Kt(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,sh(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,sh(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=/[\[\].#$\/\u0000-\u001F\u007F]/,K2=/[\[\].#$\u0000-\u001F\u007F]/,Uu=10*1024*1024,np=function(t){return typeof t=="string"&&t.length!==0&&!F2.test(t)},NE=function(t){return typeof t=="string"&&t.length!==0&&!K2.test(t)},Q2=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),NE(t)},X2=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!xd(t)||t&&typeof t=="object"&&Kt(t,".sv")},$2=function(t,e,n,i){Dc(vc(t,"value"),e,n)},Dc=function(t,e,n){const i=n instanceof te?new hO(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ni(i));if(typeof e=="function")throw new Error(t+"contains a function "+Ni(i)+" with contents = "+e.toString());if(xd(e))throw new Error(t+"contains "+e.toString()+" "+Ni(i));if(typeof e=="string"&&e.length>Uu/3&&bc(e)>Uu)throw new Error(t+"contains a string greater than "+Uu+" utf8 bytes "+Ni(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,a=!1;if(Pe(e,(r,l)=>{if(r===".value")s=!0;else if(r!==".priority"&&r!==".sv"&&(a=!0,!np(r)))throw new Error(t+" contains an invalid key ("+r+") "+Ni(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);dO(i,r),Dc(t,l,i),pO(i)}),s&&a)throw new Error(t+' contains ".value" child '+Ni(i)+" in addition to actual children.")}},W2=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const a=vr(i);for(let r=0;r<a.length;r++)if(!(a[r]===".priority"&&r===a.length-1)){if(!np(a[r]))throw new Error(t+"contains an invalid key ("+a[r]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(fO);let s=null;for(n=0;n<e.length;n++){if(i=e[n],s!==null&&Et(s,i))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}},Z2=function(t,e,n,i){const s=vc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const a=[];Pe(e,(r,l)=>{const o=new te(r);if(Dc(s,l,pe(n,o)),kd(o)===".priority"&&!X2(l))throw new Error(s+"contains an invalid value for '"+o.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(o)}),W2(s,a)},xE=function(t,e,n,i){if(!NE(n))throw new Error(vc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},J2=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),xE(t,e,n)},eD=function(t,e){if(B(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},tD=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!np(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Q2(n))throw new Error(vc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Mc(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],a=s.getPath();n!==null&&!Ld(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(s)}n&&t.eventLists_.push(n)}function OE(t,e,n){Mc(t,n),DE(t,i=>Ld(i,e))}function At(t,e,n){Mc(t,n),DE(t,i=>Et(i,e)||Et(e,i))}function DE(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const a=s.path;e(a)?(iD(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function iD(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Xa&&Ue("event: "+n.toString()),fa(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="repo_interrupt",aD=25;class rD{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zo(),this.transactionQueueTree_=new ep,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function lD(t,e,n){if(t.stats_=Md(t.repoInfo_),t.forceRestClient_||Ux())t.server_=new Uo(t.repoInfo_,(i,s,a,r)=>{Zg(t,i,s,a,r)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Jg(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ae(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new dn(t.repoInfo_,e,(i,s,a,r)=>{Zg(t,i,s,a,r)},i=>{Jg(t,i)},i=>{cD(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=Px(t.repoInfo_,()=>new jO(t.stats_,t.server_)),t.infoData_=new LO,t.infoSyncTree_=new $g({startListening:(i,s,a,r)=>{let l=[];const o=t.infoData_.getNode(i._path);return o.isEmpty()||(l=Wr(t.infoSyncTree_,i._path,o),setTimeout(()=>{r("ok")},0)),l},stopListening:()=>{}}),ip(t,"connected",!1),t.serverSyncTree_=new $g({startListening:(i,s,a,r)=>(t.server_.listen(i,a,s,(l,o)=>{const c=r(l,o);At(t.eventQueue_,i._path,c)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function oD(t){const n=t.infoData_.getNode(new te(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ic(t){return j2({timestamp:oD(t)})}function Zg(t,e,n,i,s){t.dataUpdateCount++;const a=new te(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let r=[];if(s)if(i){const o=wo(n,c=>Ce(c));r=k2(t.serverSyncTree_,a,o,s)}else{const o=Ce(n);r=vE(t.serverSyncTree_,a,o,s)}else if(i){const o=wo(n,c=>Ce(c));r=D2(t.serverSyncTree_,a,o)}else{const o=Ce(n);r=Wr(t.serverSyncTree_,a,o)}let l=a;r.length>0&&(l=Qs(t,a)),At(t.eventQueue_,l,r)}function Jg(t,e){ip(t,"connected",e),e===!1&&dD(t)}function cD(t,e){Pe(e,(n,i)=>{ip(t,n,i)})}function ip(t,e,n){const i=new te("/.info/"+e),s=Ce(n);t.infoData_.updateSnapshot(i,s);const a=Wr(t.infoSyncTree_,i,s);At(t.eventQueue_,i,a)}function sp(t){return t.nextWriteId_++}function uD(t,e,n){const i=L2(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(s=>{const a=Ce(s).withIndex(e._queryParams.getIndex());ih(t.serverSyncTree_,e,n,!0);let r;if(e._queryParams.loadsAllData())r=Wr(t.serverSyncTree_,e._path,a);else{const l=Cr(t.serverSyncTree_,e);r=vE(t.serverSyncTree_,e._path,a,l)}return At(t.eventQueue_,e._path,r),Yo(t.serverSyncTree_,e,n,null,!0),a},s=>(Jr(t,"get for query "+Ae(e)+" failed: "+s),Promise.reject(new Error(s))))}function fD(t,e,n,i,s){Jr(t,"set",{path:e.toString(),value:n,priority:i});const a=Ic(t),r=Ce(n,i),l=Kd(t.serverSyncTree_,e),o=CE(r,l,a),c=sp(t),h=yE(t.serverSyncTree_,e,o,c,!0);Mc(t.eventQueue_,h),t.server_.put(e.toString(),r.val(!0),(u,p)=>{const _=u==="ok";_||Ye("set at "+e+" failed: "+u);const b=Yn(t.serverSyncTree_,c,!_);At(t.eventQueue_,e,b),ah(t,s,u,p)});const f=rp(t,e);Qs(t,f),At(t.eventQueue_,f,[])}function hD(t,e,n,i){Jr(t,"update",{path:e.toString(),value:n});let s=!0;const a=Ic(t),r={};if(Pe(n,(l,o)=>{s=!1,r[l]=TE(pe(e,l),Ce(o),t.serverSyncTree_,a)}),s)Ue("update() called with empty data.  Don't do anything."),ah(t,i,"ok",void 0);else{const l=sp(t),o=O2(t.serverSyncTree_,e,r,l);Mc(t.eventQueue_,o),t.server_.merge(e.toString(),n,(c,h)=>{const f=c==="ok";f||Ye("update at "+e+" failed: "+c);const u=Yn(t.serverSyncTree_,l,!f),p=u.length>0?Qs(t,e):e;At(t.eventQueue_,p,u),ah(t,i,c,h)}),Pe(n,c=>{const h=rp(t,pe(e,c));Qs(t,h)}),At(t.eventQueue_,e,[])}}function dD(t){Jr(t,"onDisconnectEvents");const e=Ic(t),n=zo();Wf(t.onDisconnect_,K(),(s,a)=>{const r=TE(s,a,t.serverSyncTree_,e);iE(n,s,r)});let i=[];Wf(n,K(),(s,a)=>{i=i.concat(Wr(t.serverSyncTree_,s,a));const r=rp(t,s);Qs(t,r)}),t.onDisconnect_=zo(),At(t.eventQueue_,K(),i)}function pD(t,e,n){let i;B(e._path)===".info"?i=ih(t.infoSyncTree_,e,n):i=ih(t.serverSyncTree_,e,n),OE(t.eventQueue_,e._path,i)}function ME(t,e,n){let i;B(e._path)===".info"?i=Yo(t.infoSyncTree_,e,n):i=Yo(t.serverSyncTree_,e,n),OE(t.eventQueue_,e._path,i)}function mD(t){t.persistentConnection_&&t.persistentConnection_.interrupt(sD)}function Jr(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ue(n,...e)}function ah(t,e,n,i){e&&fa(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let a=s;i&&(a+=": "+i);const r=new Error(a);r.code=s,e(r)}})}function IE(t,e,n){return Kd(t.serverSyncTree_,e,n)||O.EMPTY_NODE}function ap(t,e=t.transactionQueueTree_){if(e||kc(t,e),da(e)){const n=LE(t,e);C(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&gD(t,Zr(e),n)}else AE(e)&&Oc(e,n=>{ap(t,n)})}function gD(t,e,n){const i=n.map(c=>c.currentWriteId),s=IE(t,e,i);let a=s;const r=s.hash();for(let c=0;c<n.length;c++){const h=n[c];C(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=Ve(e,h.path);a=a.updateChild(f,h.currentOutputSnapshotRaw)}const l=a.val(!0),o=e;t.server_.put(o.toString(),l,c=>{Jr(t,"transaction put response",{path:o.toString(),status:c});let h=[];if(c==="ok"){const f=[];for(let u=0;u<n.length;u++)n[u].status=2,h=h.concat(Yn(t.serverSyncTree_,n[u].currentWriteId)),n[u].onComplete&&f.push(()=>n[u].onComplete(null,!0,n[u].currentOutputSnapshotResolved)),n[u].unwatcher();kc(t,tp(t.transactionQueueTree_,e)),ap(t,t.transactionQueueTree_),At(t.eventQueue_,e,h);for(let u=0;u<f.length;u++)fa(f[u])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Ye("transaction at "+o.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}Qs(t,e)}},r)}function Qs(t,e){const n=kE(t,e),i=Zr(n),s=LE(t,n);return _D(t,s,i),i}function _D(t,e,n){if(e.length===0)return;const i=[];let s=[];const r=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const o=e[l],c=Ve(n,o.path);let h=!1,f;if(C(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),o.status===4)h=!0,f=o.abortReason,s=s.concat(Yn(t.serverSyncTree_,o.currentWriteId,!0));else if(o.status===0)if(o.retryCount>=aD)h=!0,f="maxretry",s=s.concat(Yn(t.serverSyncTree_,o.currentWriteId,!0));else{const u=IE(t,o.path,r);o.currentInputSnapshot=u;const p=e[l].update(u.val());if(p!==void 0){Dc("transaction failed: Data returned ",p,o.path);let _=Ce(p);typeof p=="object"&&p!=null&&Kt(p,".priority")||(_=_.updatePriority(u.getPriority()));const S=o.currentWriteId,m=Ic(t),d=CE(_,u,m);o.currentOutputSnapshotRaw=_,o.currentOutputSnapshotResolved=d,o.currentWriteId=sp(t),r.splice(r.indexOf(S),1),s=s.concat(yE(t.serverSyncTree_,o.path,d,o.currentWriteId,o.applyLocally)),s=s.concat(Yn(t.serverSyncTree_,S,!0))}else h=!0,f="nodata",s=s.concat(Yn(t.serverSyncTree_,o.currentWriteId,!0))}At(t.eventQueue_,n,s),s=[],h&&(e[l].status=2,function(u){setTimeout(u,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(f==="nodata"?i.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):i.push(()=>e[l].onComplete(new Error(f),!1,null))))}kc(t,t.transactionQueueTree_);for(let l=0;l<i.length;l++)fa(i[l]);ap(t,t.transactionQueueTree_)}function kE(t,e){let n,i=t.transactionQueueTree_;for(n=B(e);n!==null&&da(i)===void 0;)i=tp(i,n),e=se(e),n=B(e);return i}function LE(t,e){const n=[];return UE(t,e,n),n.sort((i,s)=>i.order-s.order),n}function UE(t,e,n){const i=da(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);Oc(e,s=>{UE(t,s,n)})}function kc(t,e){const n=da(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,wE(e,n.length>0?n:void 0)}Oc(e,i=>{kc(t,i)})}function rp(t,e){const n=Zr(kE(t,e)),i=tp(t.transactionQueueTree_,e);return V2(i,s=>{zu(t,s)}),zu(t,i),RE(i,s=>{zu(t,s)}),n}function zu(t,e){const n=da(e);if(n){const i=[];let s=[],a=-1;for(let r=0;r<n.length;r++)n[r].status===3||(n[r].status===1?(C(a===r-1,"All SENT items should be at beginning of queue."),a=r,n[r].status=3,n[r].abortReason="set"):(C(n[r].status===0,"Unexpected transaction status in abort"),n[r].unwatcher(),s=s.concat(Yn(t.serverSyncTree_,n[r].currentWriteId,!0)),n[r].onComplete&&i.push(n[r].onComplete.bind(null,new Error("set"),!1,null))));a===-1?wE(e,void 0):n.length=a+1,At(t.eventQueue_,Zr(e),s);for(let r=0;r<i.length;r++)fa(i[r])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function vD(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ye(`Invalid query segment '${n}' in query '${t}'`)}return e}const e_=function(t,e){const n=bD(t),i=n.namespace;n.domain==="firebase.com"&&Tn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Tn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Rx();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new jb(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new te(n.pathString)}},bD=function(t){let e="",n="",i="",s="",a="",r=!0,l="https",o=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let h=t.indexOf("/");h===-1&&(h=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(s=yD(t.substring(h,f)));const u=vD(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(r=l==="https"||l==="wss",o=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const _=e.indexOf(".");i=e.substring(0,_).toLowerCase(),n=e.substring(_+1),a=i}"ns"in u&&(a=u.ns)}return{host:e,port:o,domain:n,subdomain:i,secure:r,scheme:l,pathString:s,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ae(this.snapshot.exportVal())}}class SD{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return C(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return V(this._path)?null:kd(this._path)}get ref(){return new wn(this._repo,this._path)}get _queryIdentifier(){const e=jg(this._queryParams),n=Od(e);return n==="{}"?"default":n}get _queryObject(){return jg(this._queryParams)}isEqual(e){if(e=ht(e),!(e instanceof op))return!1;const n=this._repo===e._repo,i=Ld(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+uO(this._path)}}class wn extends op{constructor(e,n){super(e,n,new Bd,!1)}get parent(){const e=Xb(this._path);return e===null?null:new wn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class wr{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new te(e),i=rh(this.ref,e);return new wr(this._node.getChild(n),i,me)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new wr(s,rh(this.ref,i),me)))}hasChild(e){const n=new te(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Aa(t,e){return t=ht(t),t._checkNotDeleted("ref"),e!==void 0?rh(t._root,e):t._root}function rh(t,e){return t=ht(t),B(t._path)===null?J2("child","path",e):xE("child","path",e),new wn(t._repo,pe(t._path,e))}function t_(t,e){t=ht(t),eD("set",t._path),$2("set",e,t._path);const n=new qr;return fD(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function TD(t,e){Z2("update",e,t._path);const n=new qr;return hD(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function CD(t){t=ht(t);const e=new lp(()=>{}),n=new el(e);return uD(t._repo,t,n).then(i=>new wr(i,new wn(t._repo,t._path),t._queryParams.getIndex()))}class el{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new ED("value",this,new wr(e.snapshotNode,new wn(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new SD(this,e,n):null}matches(e){return e instanceof el?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function wD(t,e,n,i,s){const a=new lp(n,void 0),r=new el(a);return pD(t._repo,t,r),()=>ME(t._repo,t,r)}function AD(t,e,n,i){return wD(t,"value",e)}function RD(t,e,n){let i=null;const s=n?new lp(n):null;i=new el(s),ME(t._repo,t,i)}S2(wn);R2(wn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="FIREBASE_DATABASE_EMULATOR_HOST",lh={};let xD=!1;function OD(t,e,n,i){const s=e.lastIndexOf(":"),a=e.substring(0,s),r=la(a);t.repoInfo_=new jb(e,r,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function DD(t,e,n,i,s){let a=i||t.options.databaseURL;a===void 0&&(t.options.projectId||Tn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ue("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let r=e_(a,s),l=r.repoInfo,o;typeof process<"u"&&Sg&&(o=Sg[ND]),o?(a=`http://${o}?ns=${l.namespace}`,r=e_(a,s),l=r.repoInfo):r.repoInfo.secure;const c=new Hx(t.name,t.options,e);tD("Invalid Firebase Database URL",r),V(r.path)||Tn("Database URL must point to the root of a Firebase Database (not including a child path).");const h=ID(l,t,c,new zx(t,n));return new kD(h,t)}function MD(t,e){const n=lh[e];(!n||n[t.key]!==t)&&Tn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),mD(t),delete n[t.key]}function ID(t,e,n,i){let s=lh[e.name];s||(s={},lh[e.name]=s);let a=s[t.toURLString()];return a&&Tn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new rD(t,xD,n,i),s[t.toURLString()]=a,a}class kD{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(lD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new wn(this._repo,K())),this._rootInternal}_delete(){return this._rootInternal!==null&&(MD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Tn("Cannot call "+e+" on a deleted database.")}}function LD(t=Y0(),e){const n=Ed(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=Yw("database");i&&UD(n,...i)}return n}function UD(t,e,n,i={}){t=ht(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,a=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&ji(i,a.repoInfo_.emulatorOptions))return;Tn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let r;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&Tn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new Yl(Yl.OWNER);else if(i.mockUserToken){const l=typeof i.mockUserToken=="string"?i.mockUserToken:Fw(i.mockUserToken,t.app.options.projectId);r=new Yl(l)}la(e)&&(H0(e),B0("Database",!0)),OD(a,s,i,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t){Ex(ca),qs(new Pi("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return DD(i,s,a,n)},"PUBLIC").setMultipleInstances(!0)),ii(Tg,Cg,t),ii(Tg,Cg,"esm2020")}dn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};dn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};zD();const zE={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",databaseURL:""},HD=!!zE.apiKey;let Fo=null,zt=null;try{HD?(Fo=V0(zE),zt=LD(Fo),console.log("Firebase initialized successfully")):console.warn("Firebase configuration missing. Using Mock Mode.")}catch(t){console.error("Firebase initialization failed:",t)}let Jt=null;if(Fo)try{Jt=_x(Fo)}catch{console.warn("Auth initialization failed, falling back to mock")}const n_={uid:"mock-user-"+Math.floor(Math.random()*1e4),isAnonymous:!0,displayName:"Guest"},oh={signIn:async()=>{if(!Jt)return console.log("Mock SignIn successful"),await new Promise(t=>setTimeout(t,500)),n_;try{return(await eN(Jt)).user}catch(t){throw console.error("Error signing in anonymously:",t),t}},onAuthStateChange:t=>Jt?rN(Jt,t):(t(null),()=>{}),getCurrentUser:()=>Jt?Jt.currentUser:n_,signOut:()=>Jt?Jt.signOut():Promise.resolve()},Ra=()=>{try{return JSON.parse(localStorage.getItem("web-hitster-rooms")||"{}")}catch{return{}}},Hu=t=>{localStorage.setItem("web-hitster-rooms",JSON.stringify(t))},Ko={createRoom:async t=>{const e=BD(),n={hostId:t.uid,status:"LOBBY",createdAt:Date.now(),players:{[t.uid]:{id:t.uid,name:"Host",score:0,isHost:!0}}};if(zt){const i=Aa(zt,`rooms/${e}`);await t_(i,n)}else{const i=Ra();i[e]=n,Hu(i),console.log("Mock Room Created:",e)}return e},joinRoom:async(t,e,n)=>{if(zt){const i=Aa(zt,`rooms/${t}`),s=await CD(i);if(!s.exists())throw new Error("Room not found");const a=s.val(),r=Aa(zt,`rooms/${t}/players/${e.uid}`);return await t_(r,{id:e.uid,name:n,score:0,isHost:!1}),a}else{const i=Ra(),s=i[t];if(!s)throw new Error("Room not found (Mock)");return s.players[e.uid]={id:e.uid,name:n,score:0,isHost:!1},Hu(i),s}},subscribeToRoom:(t,e)=>{if(zt){const n=Aa(zt,`rooms/${t}`),i=AD(n,s=>{const a=s.val();a&&e(a)});return()=>RD(n,"value",i)}else{const n=setInterval(()=>{const a=Ra()[t];a&&e(a)},500),i=Ra()[t];return i&&e(i),()=>clearInterval(n)}},startGame:async t=>{if(zt){const e=Aa(zt,`rooms/${t}`);await TD(e,{status:"PLAYING"})}else{const e=Ra();e[t]&&(e[t].status="PLAYING",Hu(e))}}};function BD(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ";let e="";for(let n=0;n<4;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),i_=t=>{const e=PD(t);return e.charAt(0).toUpperCase()+e.slice(1)},HE=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),GD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:a,iconNode:r,...l},o)=>E.createElement("svg",{ref:o,...qD,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:HE("lucide",s),...!a&&!GD(l)&&{"aria-hidden":"true"},...l},[...r.map(([c,h])=>E.createElement(c,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=(t,e)=>{const n=E.forwardRef(({className:i,...s},a)=>E.createElement(VD,{ref:a,iconNode:e,className:HE(`lucide-${jD(i_(t))}`,`lucide-${t}`,i),...s}));return n.displayName=i_(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],FD=An("check",YD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],QD=An("circle-check-big",KD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$D=An("circle-x",XD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ZD=An("copy",WD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],eM=An("house",JD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],nM=An("music",tM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],cp=An("play",iM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],aM=An("trophy",sM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],BE=An("users",rM);let s_=!1;const jE=async()=>{s_||(iS(credentialsProvider),await sS({players:[{player:"browser"}]}),s_=!0,console.log("Tidal Player initialized"))},PE=async()=>{try{const t={clientId:"KGztvO6qzZCJMKoN",credentialsStorageKey:"tidal_credentials",scopes:[]};await init(t),console.log("Tidal Auth initialized"),await jE()}catch(t){console.error("Failed to initialize Tidal Auth",t)}},lM=async()=>{const t="https://strawbirdies.com/tidal-callback",{initializeLogin:e}=await aS(async()=>{const{initializeLogin:i}=await Promise.resolve().then(()=>kM);return{initializeLogin:i}},[]),n=await e({redirectUri:t});window.location.href=n},oM=async()=>{try{const t=await credentialsProvider.getCredentials(),e=t?.token||t?.accessToken;if(!t||!e)throw new Error("No access token available");return{Authorization:`Bearer ${e}`,"Content-Type":"application/vnd.tidal.v1+json"}}catch(t){throw console.error("Error getting Tidal access token",t),t}},GE=async(t,e=["TRACKS"])=>{const n=await oM(),i=e.map(r=>r.toLowerCase()),s=[{url:"https://openapi.tidal.com/v2/searchResults",params:{query:t,type:i.join(","),limit:10,countryCode:"US"}},{url:"https://openapi.tidal.com/search",params:{query:t,type:i.join(","),limit:10,countryCode:"US"}},{url:"https://api.tidal.com/v1/search",params:{query:t,type:i.join(","),limit:10,countryCode:"US"}}];let a;for(const r of s)try{const l=new URL(r.url);Object.entries(r.params).forEach(([c,h])=>l.searchParams.append(c,h)),console.log(`Trying Tidal Search: ${r.url}`);const o=await fetch(l.toString(),{method:"GET",headers:n});if(o.ok)return console.log(`Success with endpoint: ${r.url}`),await o.json();console.warn(`Failed ${r.url}: ${o.status}`)}catch(l){console.error(`Error on ${r.url}`,l),a=l}throw new Error(`All Tidal Search endpoints failed. Last error: ${a?.message||"Unknown"}`)},cM=async t=>{try{await jE(),await rS({productId:t,productType:"track",sourceId:"web-hitster",sourceType:"search"},0,!1),await lS(),console.log(`Playing track ${t}`)}catch(e){throw console.error("Tidal Player Error:",e),e}},qE={credentialsUpdated:"CredentialsUpdatedMessage"};class ke extends Error{errorCode;constructor(e,n){super(e,n),Object.setPrototypeOf(this,ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ke),this.name="TidalError",this.errorCode=e}}class Qo extends ke{constructor(e,n){super(e,n),Object.setPrototypeOf(this,Qo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qo),this.name="IllegalArgumentError"}}class Ar extends ke{constructor(e,n){super(e,n),Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ar),this.name="NetworkError"}}class mi extends ke{constructor(e,n){super(e,n),Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mi),this.name="RetryableError"}}class uM{#e;#t=!1;#n;#i;constructor(e){this.#i=new URL(e),this.synchronize()}now(e=Date.now()){return!this.#n||!this.#e?(console.warn("TrueTime is not yet synchronized"),e):this.#n+(e-this.#e)}async synchronize(){if(!(this.#e&&Math.abs(Date.now()-this.#e)<36e5||this.#t)){this.#t=!0;try{const e=await fetch(this.#i);e.ok&&e.headers.has("date")&&(this.#n=new Date(e.headers.get("date")).getTime(),this.#e=Date.now())}catch(e){console.error(e)}this.#t=!1}}timestamp(e,n){let i;if(n){if(i=performance.getEntriesByName(e).find(s=>"detail"in s&&s.detail===n),!i)throw new ReferenceError(`There is no performance entry named "${e}" with detail "${n}"`)}else i=performance.getEntriesByName(e).pop();return i?i.startTime:void 0}}const VE=new uM("https://api.tidal.com/v1/ping");class Xo extends ke{constructor(e,n){super(e,n),Object.setPrototypeOf(this,Xo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xo),this.name="AuthenticationError"}}class $o extends ke{constructor(e,n){super(e,n),Object.setPrototypeOf(this,$o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$o),this.name="TokenResponseError"}}class Xs extends ke{constructor(e,n){super(e,n),Object.setPrototypeOf(this,Xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xs),this.name="UnexpectedError"}}const ye={authenticationError:"A0000",illegalArgumentError:"A0007",initError:"A0001",networkError:"A0002",retryableError:"A0003",storageError:"A0004",tokenResponseError:"A0005",unexpectedError:"A0006"},Bu="AuthDB";function fM(t){return String.fromCharCode(...new Uint8Array(t))}function hM(t){const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0,s=t.length;i<s;i++)n[i]=t.charCodeAt(i);return n}const St={getItem:t=>{const e=globalThis.localStorage.getItem(`${Bu}/${t}`);return e?hM(e):void 0},removeItem:t=>{globalThis.localStorage.removeItem(`${Bu}/${t}`)},setItem:(t,e)=>{globalThis.localStorage.setItem(`${Bu}/${t}`,fM(e))}},YE=t=>{const e=new TextEncoder;return globalThis.crypto.subtle.importKey("raw",e.encode(t),{name:"PBKDF2"},!1,["deriveBits","deriveKey"])},FE=(t,e)=>globalThis.crypto.subtle.deriveKey({hash:"SHA-256",iterations:1e5,name:"PBKDF2",salt:e},t,{length:256,name:"AES-KW"},!0,["wrapKey","unwrapKey"]),dM=async(t,e)=>{const n=await YE(e);return FE(n,t)},pM=t=>new TextEncoder().encode(t),mM=t=>new TextDecoder().decode(t),gM=async({keyToWrap:t,password:e,salt:n})=>{const i=await YE(e),s=await FE(i,n);return globalThis.crypto.subtle.wrapKey("raw",t,s,"AES-KW")},KE=async({password:t,salt:e,wrappedKeyBuffer:n})=>{const i=await dM(e,t);return globalThis.crypto.subtle.unwrapKey("raw",n,i,"AES-KW","AES-CTR",!0,["encrypt","decrypt"])},_M=({content:t,counter:e,key:n})=>globalThis.crypto.subtle.encrypt({counter:e,length:64,name:"AES-CTR"},n,t),yM=({counter:t,encryptedCredentials:e,key:n})=>globalThis.crypto.subtle.decrypt({counter:t,length:64,name:"AES-CTR"},n,e),vM=()=>globalThis.crypto.subtle.generateKey({length:256,name:"AES-CTR"},!0,["encrypt","decrypt"]),bM=async({password:t,storageKey:e})=>{const n=await vM(),i=globalThis.crypto.getRandomValues(new Uint8Array(16)),s=globalThis.crypto.getRandomValues(new Uint8Array(16)),a=await gM({keyToWrap:n,password:t,salt:s});try{St.setItem(`${e}Counter`,i),St.setItem(`${e}Salt`,s),St.setItem(`${e}Key`,a)}catch(r){throw new ke(ye.storageError,{cause:r})}},QE=t=>({counter:St.getItem(`${t}Counter`),encryptedCredentials:St.getItem(`${t}Data`),salt:St.getItem(`${t}Salt`),wrappedKey:St.getItem(`${t}Key`)}),EM=async t=>{const{counter:e,encryptedCredentials:n,salt:i,wrappedKey:s}=QE(t);if(n&&e&&s&&i)try{const a=await KE({password:t,salt:i,wrappedKeyBuffer:s}),r=await yM({counter:e,encryptedCredentials:n,key:a});return JSON.parse(mM(r))}catch{throw new ke(ye.storageError)}else return bM({password:t,storageKey:t})},SM=async t=>{const n={...await EM(t.credentialsStorageKey),...t},{counter:i,salt:s,wrappedKey:a}=QE(t.credentialsStorageKey);if(!a||!i||!s)throw new ke(ye.storageError);try{const r=await KE({password:n.credentialsStorageKey,salt:s,wrappedKeyBuffer:a}),l=await _M({content:pM(JSON.stringify(n)),counter:i,key:r});St.setItem(`${n.credentialsStorageKey}Data`,l)}catch(r){throw new ke(ye.storageError,{cause:r})}},TM=t=>{St.removeItem(`${t}Data`),St.removeItem(`${t}Counter`),St.removeItem(`${t}Salt`),St.removeItem(`${t}Key`)},CM=async t=>{if(t.status===0)return new Ar(ye.networkError);if(t.status>=400&&t.status<500)return new Xs(ye.unexpectedError);if(t.status>=500&&t.status<600)return new mi(ye.retryableError);const{error:e}=await t.json();return new $o(ye.tokenResponseError,{cause:e})},up=async({body:t,credentials:e})=>{const{options:n,url:i}=XE({body:t,credentials:e,path:"oauth2/token"}),s=await $E({request:()=>globalThis.fetch(i,n),retry:a=>a.status>=500&&a.status<600});return s.ok?s:await CM(s)},XE=({body:t,credentials:e,path:n})=>{const i=`${e.tidalAuthServiceBaseUri}${n}`;return{options:{body:new URLSearchParams(t).toString(),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST"},url:i}},$E=async({delayInMs:t=500,request:e,retry:n})=>{let i=1;const s=()=>i>32;for(;!s();){await new Promise(l=>setTimeout(l,i*t));const a=await e();if(i*=2,!n(a)||s())return a}throw new Xs(ye.unexpectedError)},wM=async t=>{const e=new TextEncoder().encode(t),n=await globalThis.crypto.subtle.digest("SHA-256",e),i=new Uint8Array(n),s=i.byteLength;let a="";for(let r=0;r<s;r+=1)a+=String.fromCharCode(i[r]);return globalThis.btoa(a)},WE=t=>t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),AM=()=>{const t=new Uint8Array(100);return WE(btoa(globalThis.crypto.getRandomValues(t).toString())).slice(0,128)},x={pending:!1,pendingPromises:[]},RM=["11003","6001","11001","11002","11101"],NM=t=>globalThis.addEventListener("authEventBus",t),ZE=t=>{const e=new CustomEvent("authEventBus",{detail:t});globalThis.dispatchEvent(e)},xM=t=>{ZE({payload:t,type:qE.credentialsUpdated})},JE=async({loginConfig:t,redirectUri:e})=>{if(!x.credentials)throw new ke(ye.initError);const n=AM(),i=await wM(n);await tS({...x.credentials,codeChallenge:n,redirectUri:e});const s={...t,client_id:x.credentials.clientId,...x.credentials.clientUniqueKey&&{client_unique_key:x.credentials.clientUniqueKey},code_challenge:WE(i),code_challenge_method:"S256",redirect_uri:e,response_type:"code",scope:x.credentials.scopes.join(" ")},a=new URLSearchParams(s).toString();return`${x.credentials.tidalLoginServiceBaseUri}authorize?${a}`},eS=async t=>{if(!x.credentials?.credentialsStorageKey||!x.credentials?.codeChallenge||!x.credentials?.redirectUri)throw new ke(ye.initError);const{clientId:e,clientSecret:n,clientUniqueKey:i,codeChallenge:s,redirectUri:a,scopes:r}=x.credentials,l=Object.fromEntries(new URLSearchParams(t));if(!l.code)throw new Xo(ye.authenticationError);const o={client_id:e,...i&&{client_unique_key:i},...n&&{client_secret:n},code:l.code,code_verifier:s,grant_type:"authorization_code",redirect_uri:a,scope:r.join(" ")},c=await up({body:o,credentials:x.credentials});if(c instanceof Error)throw c;const h=await c.json();await Lc(h)},Wo=()=>{ZE({type:qE.credentialsUpdated}),x.credentials?.credentialsStorageKey&&TM(x.credentials.credentialsStorageKey),delete x.credentials,delete x.limitedDeviceResponse},OM=async()=>{if(x.credentials?.refreshToken){const t={...x.credentials.clientSecret&&{client_secret:x.credentials.clientSecret},client_id:x.credentials.clientId,grant_type:"refresh_token",refresh_token:x.credentials.refreshToken,scope:x.credentials.scopes.join(" ")},e=await up({body:t,credentials:x.credentials});if(e instanceof Error)return e;const n=await e.json();return Lc(n)}else return fp()},DM=async()=>{if(x.credentials?.refreshToken){const t={...x.credentials.clientSecret&&{client_secret:x.credentials.clientSecret},client_id:x.credentials.clientId,grant_type:"update_client",refresh_token:x.credentials.refreshToken,scope:x.credentials.scopes.join(" ")},{options:e,url:n}=XE({body:t,credentials:x.credentials,path:"oauth2/token"}),i=await $E({request:()=>globalThis.fetch(n,e),retry:a=>a.status>=400&&a.status<600});if(!i.ok)throw i.status===0?new Ar(ye.networkError):new mi(ye.retryableError);const s=await i.json();return Lc(s)}else{if(x.credentials){const t=await fp();if(t&&"token"in t)return x.credentials.previousClientSecret=x.credentials.clientSecret,t;throw new mi(ye.retryableError)}throw new ke(ye.unexpectedError)}},fp=async()=>{if(x.credentials?.clientSecret){const t={client_id:x.credentials.clientId,client_secret:x.credentials.clientSecret,grant_type:"client_credentials"},e=await up({body:t,credentials:x.credentials});if(e instanceof Error)return e;const n=await e.json();return Lc(n)}},MM=async t=>(x.pending&&await new Promise(e=>{x.pendingPromises.push(e)}),IM(t).finally(()=>{const e=x.pendingPromises.shift();e&&e(),x.pending=!1})),IM=async t=>{if(x.credentials){x.pending=!0;const{accessToken:e}=x.credentials,n=60*1e3;if(e){const i=x.credentials.scopes.every(l=>e.grantedScopes?.includes(l));if(x.credentials.clientUniqueKey!==e.clientUniqueKey||e.userId&&i===!1)throw Wo(),new Qo(ye.illegalArgumentError);if(x.credentials.clientId!==e?.clientId||!!(x.credentials.previousClientSecret&&x.credentials.previousClientSecret!==x.credentials.clientSecret)){const l=await DM();if(l&&"token"in l)return l;throw new mi(ye.retryableError)}if(!!!(t&&RM.includes(t))&&e.expires&&e.expires>VE.now()+n)return e;const r=await OM();if(r&&"token"in r)return r;if(r instanceof Xs)throw Wo(),r;if(r instanceof mi)throw r}else if(x.credentials.clientSecret){const i=await fp();if(i&&"token"in i)return i;if(i instanceof Error)throw i}else return{clientId:x.credentials.clientId,requestedScopes:x.credentials.scopes}}throw new ke(ye.initError)},tS=t=>{x.credentials=t;const e={...x.credentials.accessToken,clientId:x.credentials.clientId,requestedScopes:x.credentials.scopes};return xM(e),SM(x.credentials)},Lc=async t=>{if(!x.credentials)throw new ke(ye.initError);const{clientId:e,clientUniqueKey:n,scopes:i}=x.credentials,s=t.scope?.length?t.scope?.split(" "):[],a={clientId:e,clientUniqueKey:n,expires:VE.now()+t.expires_in*1e3,grantedScopes:s,requestedScopes:i,token:t.access_token,...t.user_id&&{userId:t.user_id.toString()}};return await tS({...x.credentials,accessToken:a,...t.refresh_token&&{refreshToken:t.refresh_token}}),a},hp={bus:NM,getCredentials:MM},kM=Object.freeze(Object.defineProperty({__proto__:null,authErrorCodeMap:ye,credentialsProvider:hp,finalizeLogin:eS,initializeLogin:JE,logout:Wo},Symbol.toStringTag,{value:"Module"}));function LM(){const t=Pr(),[e,n]=E.useState(""),[i,s]=E.useState(""),[a,r]=E.useState(!1),[l,o]=E.useState(!1),[c,h]=E.useState(null),[f,u]=E.useState(!1);E.useEffect(()=>{(async()=>{try{const S=await hp.getCredentials();S&&(S.token||S.accessToken)&&u(!0)}catch{}})()},[]);const p=async()=>{o(!0),h(null);try{const b=await oh.signIn(),S=await Ko.createRoom(b);t(`/lobby/${S}`)}catch(b){console.error(b),h("Failed to create room. check console.")}finally{o(!1)}},_=async b=>{if(b.preventDefault(),!(!e||!i)){o(!0),h(null);try{const S=await oh.signIn();await Ko.joinRoom(e.toUpperCase(),S,i),t(`/lobby/${e.toUpperCase()}`)}catch(S){console.error(S),h(S.message||"Failed to join room.")}finally{o(!1)}}};return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 flex flex-col items-center justify-center p-4 text-white",children:y.jsxs("div",{className:"max-w-md w-full bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-white/20",children:[y.jsxs("div",{className:"flex flex-col items-center mb-8",children:[y.jsx("div",{className:"bg-gradient-to-tr from-pink-500 to-orange-400 p-4 rounded-full mb-4 shadow-lg shadow-pink-500/20",children:y.jsx(nM,{className:"w-12 h-12 text-white"})}),y.jsx("h1",{className:"text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-pink-300 to-orange-200",children:"Web-Hitster"}),y.jsx("p",{className:"text-white/60 mt-2 text-center",children:"The Timeline Music Game"})]}),c&&y.jsx("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 p-3 rounded-lg mb-6 text-sm text-center",children:c}),y.jsx("div",{className:"mb-8",children:f?y.jsxs("button",{disabled:!0,className:"w-full bg-emerald-500/20 text-emerald-300 font-bold py-3 rounded-xl border border-emerald-500/50 flex items-center justify-center gap-3 cursor-default",children:[y.jsx(FD,{className:"w-5 h-5"}),"Tidal Connected"]}):y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:lM,className:"w-full bg-black text-white font-bold py-3 rounded-xl border border-white/20 hover:bg-zinc-900 transition-all flex items-center justify-center gap-3",children:[y.jsx("img",{src:"https://tidal.com/favicon.ico",alt:"Tidal",className:"w-5 h-5"}),"Connect Tidal Account"]}),y.jsx("p",{className:"text-xs text-white/40 text-center mt-2",children:"Required to play music snippets"})]})}),a?y.jsxs("form",{onSubmit:_,className:"space-y-4 animate-in fade-in slide-in-from-bottom-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1",children:"Room Code"}),y.jsx("input",{type:"text",placeholder:"ABCD",maxLength:4,value:e,onChange:b=>n(b.target.value.toUpperCase()),className:"w-full bg-black/20 border border-white/20 rounded-xl px-4 py-3 text-2xl font-mono text-center tracking-widest focus:outline-none focus:ring-2 focus:ring-pink-500 placeholder-white/20 text-white uppercase"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1",children:"Your Name"}),y.jsx("input",{type:"text",placeholder:"Enter your name",value:i,onChange:b=>s(b.target.value),className:"w-full bg-black/20 border border-white/20 rounded-xl px-4 py-3 text-lg focus:outline-none focus:ring-2 focus:ring-pink-500 placeholder-white/20 text-white"})]}),y.jsxs("div",{className:"flex gap-3 mt-6",children:[y.jsx("button",{type:"button",onClick:()=>r(!1),className:"flex-1 bg-white/5 border border-white/10 text-white py-3 rounded-xl hover:bg-white/10 transition-colors",children:"Back"}),y.jsx("button",{type:"submit",disabled:l||!e||!i,className:"flex-[2] bg-gradient-to-r from-pink-500 to-orange-500 text-white font-bold py-3 rounded-xl hover:opacity-90 transition-opacity shadow-lg shadow-pink-500/25 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Joining...":"Join Game"})]})]}):y.jsxs("div",{className:"space-y-4",children:[y.jsx("button",{onClick:p,disabled:l,className:"w-full bg-white text-purple-900 font-bold py-4 rounded-xl hover:bg-gray-100 transition-all transform hover:scale-[1.02] flex items-center justify-center gap-3 shadow-lg",children:l?"Creating...":y.jsxs(y.Fragment,{children:[y.jsx(cp,{className:"w-5 h-5 fill-current"}),"Start New Game"]})}),y.jsxs("button",{onClick:()=>r(!0),className:"w-full bg-white/5 border border-white/10 text-white font-medium py-4 rounded-xl hover:bg-white/10 transition-all flex items-center justify-center gap-3",children:[y.jsx(BE,{className:"w-5 h-5"}),"Join Existing Game"]})]})]})})}function UM(){const{roomId:t}=S0(),e=Pr(),[n,i]=E.useState(null),[s,a]=E.useState(null),[r,l]=E.useState(!0);E.useEffect(()=>{const u=oh.getCurrentUser();if(!u){e("/");return}a(u);const p=Ko.subscribeToRoom(t,_=>{i(_),l(!1),_.status==="PLAYING"&&e(`/game/${t}`)});return()=>p()},[t,e]);const o=async()=>{try{await Ko.startGame(t)}catch(u){console.error("Failed to start game:",u)}},c=()=>{navigator.clipboard.writeText(t)};if(r)return y.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-white",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})});if(!n)return y.jsx("div",{className:"text-white text-center pt-20",children:"Room not found"});const h=Object.values(n.players||{}),f=n.hostId===s?.uid;return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 p-4 font-sans text-white",children:y.jsxs("div",{className:"max-w-2xl mx-auto pt-10",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("p",{className:"text-white/60 uppercase tracking-widest text-sm mb-2",children:"Room Code"}),y.jsxs("div",{onClick:c,className:"inline-flex items-center gap-4 bg-white/10 border border-white/20 rounded-2xl px-8 py-4 cursor-pointer hover:bg-white/20 transition-colors",children:[y.jsx("span",{className:"text-6xl font-mono font-bold tracking-wider",children:t}),y.jsx(ZD,{className:"w-6 h-6 text-white/50"})]}),y.jsx("p",{className:"text-white/40 text-xs mt-2",children:"Click to copy code"})]}),y.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-8 border border-white/10 mb-8",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[y.jsx(BE,{className:"w-6 h-6 text-pink-400"}),"Players (",h.length,")"]}),f&&y.jsx("span",{className:"px-3 py-1 bg-pink-500/20 text-pink-300 text-xs font-bold rounded-full uppercase tracking-wider",children:"You are Host"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(u=>y.jsxs("div",{className:"flex items-center gap-4 bg-white/5 rounded-xl p-4 border border-white/5",children:[y.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg
                  ${u.isHost?"bg-gradient-to-tr from-pink-500 to-orange-400":"bg-slate-700"}
                `,children:u.name.charAt(0).toUpperCase()}),y.jsxs("div",{children:[y.jsx("div",{className:"font-bold",children:u.name}),u.isHost&&y.jsx("div",{className:"text-xs text-white/50",children:"Host"})]})]},u.id))})]}),f?y.jsxs("button",{onClick:o,className:"w-full bg-gradient-to-r from-pink-500 to-orange-500 text-white font-bold py-5 rounded-2xl hover:opacity-90 transition-all transform hover:scale-[1.01] shadow-xl shadow-pink-500/20 flex items-center justify-center gap-3 text-xl",children:[y.jsx(cp,{className:"fill-current w-6 h-6"}),"Start Game"]}):y.jsx("div",{className:"text-center text-white/50 animate-pulse",children:"Waiting for host to start..."})]})})}const zM=[{id:"1",name:"Billie Jean",artist:"Michael Jackson",year:1982,image:"https://upload.wikimedia.org/wikipedia/en/5/55/Michael_Jackson_-_Thriller.png",tidalUrl:"https://listen.tidal.com/track/10237021"},{id:"2",name:"Smells Like Teen Spirit",artist:"Nirvana",year:1991,image:"https://upload.wikimedia.org/wikipedia/en/3/32/Nirvana-Smells_Like_Teen_Spirit.jpg",tidalUrl:"https://listen.tidal.com/track/68644558"},{id:"3",name:"Hey Ya!",artist:"OutKast",year:2003,image:"https://upload.wikimedia.org/wikipedia/en/1/1e/OutKast_-_Hey_Ya%21_cover.jpg",tidalUrl:"https://listen.tidal.com/track/34217316"},{id:"4",name:"Bohemian Rhapsody",artist:"Queen",year:1975,image:"https://upload.wikimedia.org/wikipedia/en/9/9f/Bohemian_Rhapsody.png",tidalUrl:"https://listen.tidal.com/track/77626961"},{id:"5",name:"Uptown Funk",artist:"Mark Ronson ft. Bruno Mars",year:2014,image:"https://upload.wikimedia.org/wikipedia/en/a/ad/Mark_Ronson_-_Uptown_Funk_%28feat._Bruno_Mars%29_%28Official_Single_Cover%29.png",tidalUrl:"https://listen.tidal.com/track/39327917"},{id:"6",name:"Blinding Lights",artist:"The Weeknd",year:2019,image:"https://upload.wikimedia.org/wikipedia/en/e/e6/The_Weeknd_-_Blinding_Lights.png",tidalUrl:"https://listen.tidal.com/track/134988755"},{id:"7",name:"Rolling in the Deep",artist:"Adele",year:2010,image:"https://upload.wikimedia.org/wikipedia/en/7/74/Adele_-_Rolling_in_the_Deep.png",tidalUrl:"https://listen.tidal.com/track/68625296"},{id:"8",name:"I Want to Hold Your Hand",artist:"The Beatles",year:1963,image:"https://upload.wikimedia.org/wikipedia/en/b/bf/I_want_to_hold_your_hand_single.png",tidalUrl:"https://listen.tidal.com/track/78642289"},{id:"9",name:"Like a Prayer",artist:"Madonna",year:1989,image:"https://upload.wikimedia.org/wikipedia/en/2/27/Like_a_prayer_single.jpg",tidalUrl:"https://listen.tidal.com/track/54434"},{id:"10",name:"Wannabe",artist:"Spice Girls",year:1996,image:"https://upload.wikimedia.org/wikipedia/en/a/a5/Spice_Girls_-_Wannabe_cover.png",tidalUrl:"https://listen.tidal.com/track/2501007"}],HM={getPlaylistTracks:async()=>(await new Promise(t=>setTimeout(t,800)),[...zM].sort(()=>Math.random()-.5)),playTrack:async t=>(console.log(`Playing mock track ${t}`),!0)},BM=()=>{const{roomId:t}=S0(),e=Pr(),[n,i]=E.useState([]),[s,a]=E.useState([]),[r,l]=E.useState(null),[o,c]=E.useState("loading"),[h,f]=E.useState(0),[u,p]=E.useState(null);E.useEffect(()=>{(async()=>{const g=[...await HM.getPlaylistTracks()].sort(()=>Math.random()-.5),v=g.pop(),w=g.pop();a([v]),l(w),i(g),c("playing")})()},[]);const _=async m=>{try{let d;if(m.tidalUrl){const g=m.tidalUrl.match(/track\/(\d+)/);g&&(d=g[1])}if(!d){const g=`${m.name} ${m.artist}`;console.log("Searching Tidal for:",g);const v=await GE(g),w=v.tracks?.items?.[0]||v.items?.[0]||v.tracks?.[0];w&&(d=w.id)}d?(console.log("Refined Playback: Playing Track ID:",d),await cM(d)):(console.warn("No Tidal track found"),alert("Could not find this track on Tidal."))}catch(d){console.error("Playback error:",d),alert("Playback failed. Please ensure you are logged into Tidal.")}},b=m=>{if(o!=="playing")return;const d=m>0?s[m-1]:null,g=m<s.length?s[m]:null,v=d?d.year:-1/0,w=g?g.year:1/0;if(r.year>=v&&r.year<=w){f(N=>N+1),p({type:"correct",index:m});const A=[...s];A.splice(m,0,r),setTimeout(()=>{a(A),p(null),S()},1e3)}else{let A=0;for(let N=0;N<=s.length;N++){const M=N>0?s[N-1].year:-1/0,L=N<s.length?s[N].year:1/0;if(r.year>=M&&r.year<=L){A=N;break}}p({type:"wrong",correctIndex:A}),c("gameEnd")}},S=()=>{if(n.length===0){c("gameEnd");return}const m=n.pop();i([...n]),l(m),c("playing")};return o==="loading"?y.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-white",children:"Loading..."}):o==="gameEnd"?y.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-white p-4",children:y.jsxs("div",{className:"bg-slate-900 p-8 rounded-2xl max-w-md w-full text-center border border-slate-800",children:[y.jsx(aM,{className:`w-16 h-16 mx-auto mb-6 ${h>5?"text-yellow-500":"text-slate-500"}`}),y.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Game Over!"}),y.jsx("p",{className:"text-slate-400 mb-8",children:u?.type==="wrong"?"Wrong placement!":"You cleared the deck!"}),u?.type==="wrong"&&r&&y.jsxs("div",{className:"mb-6 bg-red-500/10 border border-red-500/50 p-4 rounded-xl",children:[y.jsx("p",{className:"text-sm text-red-200 mb-2",children:"The song was from"}),y.jsx("p",{className:"text-2xl font-bold text-white",children:r.year}),y.jsxs("p",{className:"text-sm opacity-75",children:[r.name," - ",r.artist]})]}),y.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mb-8",children:[y.jsx("span",{className:"text-slate-400 text-sm uppercase tracking-wider",children:"Top Score"}),y.jsx("div",{className:"text-5xl font-bold text-purple-400 mt-2",children:h})]}),y.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-xl mb-4",children:"Play Again"}),y.jsxs("button",{onClick:()=>e("/"),className:"w-full bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 px-6 rounded-xl flex items-center justify-center gap-2",children:[y.jsx(eM,{className:"w-5 h-5"})," Home"]})]})}):y.jsxs("div",{className:"min-h-screen bg-slate-950 text-white p-4 flex flex-col items-center overflow-x-hidden",children:[y.jsxs("div",{className:"w-full max-w-5xl flex justify-between items-center mb-8 pt-4",children:[y.jsxs("div",{className:"text-purple-400 font-bold text-xl",children:["Score: ",h]}),y.jsxs("div",{className:"text-slate-400 text-sm",children:["Deck: ",n.length]})]}),y.jsx("div",{className:`mb-12 transition-all duration-500 ${u?"opacity-0 translate-y-10":"opacity-100"}`,children:y.jsxs("div",{className:"bg-slate-900 border-2 border-purple-500 p-8 rounded-xl w-64 shadow-2xl shadow-purple-900/20 text-center flex flex-col items-center justify-center min-h-[300px] relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-900/50 to-purple-900/50 -z-10"}),y.jsx("div",{className:"w-32 h-32 bg-black rounded-full shadow-xl flex items-center justify-center animate-spin-slow mb-6 border-4 border-slate-800",children:y.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center",children:y.jsx("div",{className:"w-3 h-3 bg-black rounded-full"})})}),y.jsx("h2",{className:"font-bold text-xl mb-4 text-purple-200",children:"Mystery Track"}),y.jsxs("button",{onClick:()=>_(r),className:"bg-green-500 hover:bg-green-400 text-black font-bold py-3 px-8 rounded-full flex items-center gap-2 transform transition-all hover:scale-105 shadow-lg shadow-green-500/20",children:[y.jsx(cp,{className:"fill-current w-5 h-5"})," Play"]}),y.jsx("p",{className:"text-xs text-slate-500 mt-6",children:"Listen to guess the year!"})]})}),y.jsx("div",{className:"w-full max-w-6xl overflow-x-auto pb-12 flex items-center justify-center min-h-[300px] px-8",children:y.jsxs("div",{className:"flex items-center gap-2",children:[s.map((m,d)=>y.jsxs(ph.Fragment,{children:[y.jsx(a_,{index:d,onClick:()=>b(d),isActive:!u,isCurrentFeedback:u?.index===d||u?.correctIndex===d,feedbackType:u?.index===d?u.type:u?.correctIndex===d?"hint":null}),y.jsxs("div",{className:"relative group",children:[y.jsxs("div",{className:"bg-slate-800 p-3 rounded-lg w-40 text-center border border-slate-700 transition-all hover:-translate-y-2",children:[y.jsx("img",{src:m.image,alt:m.name,className:"w-full h-32 object-cover rounded-md mb-2 opacity-75 group-hover:opacity-100"}),y.jsx("h3",{className:"font-bold text-xs truncate",children:m.name}),y.jsx("p",{className:"text-slate-400 text-[10px] truncate mb-1",children:m.artist}),y.jsx("div",{className:"font-bold text-xl text-yellow-400",children:m.year})]}),y.jsx("div",{className:"absolute top-1/2 -right-4 w-4 h-[2px] bg-slate-700 -z-10"})]})]},m.id)),y.jsx(a_,{index:s.length,onClick:()=>b(s.length),isActive:!u,isCurrentFeedback:u?.index===s.length||u?.correctIndex===s.length,feedbackType:u?.index===s.length?u.type:u?.correctIndex===s.length?"hint":null})]})}),y.jsx("div",{className:"text-center text-slate-500 text-sm mt-auto pb-4",children:"Scroll to view full timeline  Click + to place the card"})]})},a_=({index:t,onClick:e,isActive:n,isCurrentFeedback:i,feedbackType:s})=>{let a="w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 mx-2 ";if(i){if(s==="correct")return y.jsx("div",{className:a+"bg-green-500 scale-125 shadow-lg shadow-green-500/50",children:y.jsx(QD,{className:"text-white w-6 h-6"})});if(s==="wrong")return y.jsx("div",{className:a+"bg-red-500 scale-125 shadow-lg shadow-red-500/50",children:y.jsx($D,{className:"text-white w-6 h-6"})});if(s==="hint")return y.jsx("div",{className:a+"bg-yellow-500/20 border-2 border-yellow-500 animate-pulse",children:y.jsx("div",{className:"text-yellow-500 font-bold text-xs text-center",children:"Here"})})}return n?y.jsx("button",{onClick:e,className:`${a} bg-slate-800/50 hover:bg-purple-600 hover:scale-110 border-2 border-dashed border-slate-600 hover:border-purple-400 group`,children:y.jsx("span",{className:"text-slate-500 group-hover:text-white font-bold text-xl",children:"+"})}):y.jsx("div",{className:"w-4 mx-1"})},jM=()=>{const t=Pr();return console.log("TidalCallback Component MOUNTED"),E.useEffect(()=>{(async()=>{try{const n=await eS(window.location.search);console.log("Tidal login successful. Credentials received:",n),t("/")}catch(n){console.error("Tidal login failed",n),t("/")}})()},[t]),y.jsx("div",{className:"flex items-center justify-center min-h-screen bg-black text-white",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h2",{className:"text-xl font-bold mb-4",children:"Finalizing login..."}),y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-400 mx-auto"})]})})},PM=()=>{const[t,e]=E.useState(""),[n,i]=E.useState(null),[s,a]=E.useState(null),[r,l]=E.useState(null);E.useEffect(()=>{PE(),(async()=>{try{const u=await hp.getCredentials();u&&u.accessToken&&l({loggedIn:!0})}catch{}})()},[]);const o=async()=>{try{const f=await JE({redirectUri:"https://strawbirdies.com/tidal-callback"});f&&(window.location.href=f)}catch(f){console.error("Login initialization failed",f),a("Failed to start login: "+f.message)}},c=async f=>{f.preventDefault(),a(null);try{const u=await GE(t);i(u)}catch(u){a(u.message)}},h=async()=>{await Wo(),l(null)};return y.jsxs("div",{className:"min-h-screen bg-neutral-900 text-white p-8",children:[y.jsx("h1",{className:"text-3xl font-bold mb-8 text-cyan-400",children:"Tidal API Integration Demo"}),r?y.jsxs("div",{children:[y.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[y.jsx("span",{className:"text-green-400 text-sm",children:" Authenticated"}),y.jsx("button",{onClick:h,className:"text-xs text-gray-500 hover:text-white",children:"Logout"})]}),y.jsxs("form",{onSubmit:c,className:"mb-8 flex gap-4",children:[y.jsx("input",{type:"text",value:t,onChange:f=>e(f.target.value),placeholder:"Search for an artist or track...",className:"flex-1 bg-neutral-800 border border-neutral-700 rounded-lg px-4 py-2 focus:outline-none focus:border-cyan-500 transition-colors"}),y.jsx("button",{type:"submit",className:"bg-cyan-500 hover:bg-cyan-600 text-black font-bold py-2 px-6 rounded-lg transition-colors",children:"Search"})]}),s&&y.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-4 rounded-lg mb-8",children:s}),n&&y.jsxs("div",{className:"space-y-8",children:[n.tracks&&y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-300",children:"Tracks"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.tracks.items.slice(0,6).map(f=>y.jsxs("div",{className:"bg-neutral-800 p-4 rounded-lg hover:bg-neutral-700 transition-colors",children:[y.jsx("div",{className:"font-bold truncate",children:f.title}),y.jsx("div",{className:"text-sm text-gray-400 truncate",children:f.artist.name})]},f.id))})]}),y.jsxs("div",{className:"text-xs text-gray-600 mt-8",children:["Raw Output:",y.jsx("pre",{className:"mt-2 p-4 bg-black rounded overflow-auto max-h-60",children:JSON.stringify(n,null,2)})]})]})]}):y.jsxs("div",{className:"text-center py-20",children:[y.jsx("p",{className:"mb-4 text-gray-400",children:"Please authenticate to continue"}),y.jsx("button",{onClick:o,className:"bg-cyan-500 hover:bg-cyan-600 text-black font-bold py-2 px-6 rounded-full transition-colors",children:"Log in with Tidal"})]})]})};function GM(){return y.jsxs(y.Fragment,{children:[y.jsx(qM,{}),y.jsxs(nw,{children:[y.jsx(Ai,{path:"/",element:y.jsx(LM,{})}),y.jsx(Ai,{path:"/lobby/:roomId",element:y.jsx(UM,{})}),y.jsx(Ai,{path:"/game/:roomId",element:y.jsx(BM,{})}),y.jsx(Ai,{path:"/tidal-callback",element:y.jsx(jM,{})}),y.jsx(Ai,{path:"/tidal-demo",element:y.jsx(PM,{})}),y.jsx(Ai,{path:"*",element:y.jsxs("div",{className:"text-white p-10",children:["404: Route Not Found: ",window.location.pathname]})})]})]})}function qM(){const t=yi();return ph.useEffect(()=>{console.log("Current Route Path:",t.pathname),console.log("Full URL:",window.location.href)},[t]),null}PE().then(()=>{aC.createRoot(document.getElementById("root")).render(y.jsx(ph.StrictMode,{children:y.jsx(Aw,{children:y.jsx(GM,{})})}))});
